//>>built
(function(l,m){var k,j,f=function(){},e=function(a){for(var b in a)return 0;return 1},d={}.toString,c=function(a){return"[object Function]"==d.call(a)},b=function(a){return"[object String]"==d.call(a)},a=function(a){return"[object Array]"==d.call(a)},h=function(a,b){if(a)for(var h=0;h<a.length;)b(a[h++])},q=function(a,b){for(var h in b)a[h]=b[h];return a},o=function(a,b){return q(Error(a),{src:"dojoLoader",info:b})},n=1,s=function(){return"_"+n++},r=function(a,b,h){return ia(a,b,h,0,r)},t=this,w=
t.document,u=w&&w.createElement("DiV"),x=r.has=function(a){return c(v[a])?v[a]=v[a](t,w,u):v[a]},v=x.cache=m.hasCache;x.add=function(a,b,h,c){(void 0===v[a]||c)&&(v[a]=b);return h&&x(a)};for(var y in l.has)x.add(y,l.has[y],0,1);var A=0,z=[],B=0,D=f,G=f,C;r.isXdUrl=f;r.initSyncLoader=function(a,b,h){B||(B=a,D=b,G=h);return{sync:"sync",requested:1,arrived:2,nonmodule:3,executing:4,executed:5,syncExecStack:z,modules:O,execQ:ba,getModule:ga,injectModule:xa,setArrived:oa,signal:Q,finishExec:qa,execModule:ra,
dojoRequirePlugin:B,getLegacyMode:function(){return A},guardCheckComplete:sa}};var S=location.protocol,K=location.host;r.isXdUrl=function(a){if(/^\./.test(a))return!1;return/^\/\//.test(a)?!0:(a=a.match(/^([^\/\:]+\:)\/+([^\/]+)/))&&(a[1]!=S||K&&a[2]!=K)};x.add("dojo-force-activex-xhr",!w.addEventListener&&"file:"==window.location.protocol);x.add("native-xhr","undefined"!=typeof XMLHttpRequest);if(x("native-xhr")&&!x("dojo-force-activex-xhr"))C=function(){return new XMLHttpRequest};else{var L=["Msxml2.XMLHTTP",
"Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],M;for(k=0;3>k;)try{if(M=L[k++],new ActiveXObject(M))break}catch(I){}C=function(){return new ActiveXObject(M)}}r.getXhr=C;x.add("dojo-gettext-api",1);r.getText=function(a,b,h){var c=C();c.open("GET",ya(a),!1);c.send(null);if(200==c.status||!location.host&&!c.status)h&&h(c.responseText,b);else throw o("xhrFailed",c.status);return c.responseText};var J=new Function("return eval(arguments[0]);");r.eval=function(a,b){return J(a+"\r\n////@ sourceURL="+b)};var U=
{},Q=r.signal=function(b,c){var r=U[b];h(r&&r.slice(0),function(b){b.apply(null,a(c)?c:[c])})},R=r.on=function(a,b){var h=U[a]||(U[a]=[]);h.push(b);return{remove:function(){for(var a=0;a<h.length;a++)if(h[a]===b){h.splice(a,1);break}}}},V=[],X={},N=[],T={},F=r.map={},E=[],O={},Y="",H={},P={},W={},$=function(a){var b,h,c,r;for(b in P)h=P[b],(c=b.match(/^url\:(.+)/))?H["url:"+Pa(c[1],a)]=h:"*now"==b?r=h:"*noref"!=b&&(c=ta(b,a),H[c.mid]=H["url:"+c.url]=h);r&&r(Ga(a));P={}},ea=function(a){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,
function(a){return"\\"+a})},fa=function(a,b){b.splice(0,b.length);for(var h in a)b.push([h,a[h],RegExp("^"+ea(h)+"(/|$)"),h.length]);b.sort(function(a,b){return b[3]-a[3]});return b},ca=function(a){var b=a.name;b||(b=a,a={name:b});a=q({main:"main"},a);a.location=a.location?a.location:b;if(a.packageMap)F[b]=a.packageMap;if(!a.main.indexOf("./"))a.main=a.main.substring(2);T[b]=a},ua=[],ha=function(a,c,n){for(var o in a){if("waitSeconds"==o)r.waitms=1E3*(a[o]||0);"cacheBust"==o&&(Y=a[o]?b(a[o])?a[o]:
(new Date).getTime()+"":"");if("baseUrl"==o||"combo"==o)r[o]=a[o];if("async"==o){var d=a[o];r.legacyMode=A=b(d)&&/sync|legacyAsync/.test(d)?d:!d?"sync":!1;r.async=!A}a[o]!==v&&(r.rawConfig[o]=a[o],"has"!=o&&x.add("config-"+o,a[o],0,c))}if(!r.baseUrl)r.baseUrl="./";/\/$/.test(r.baseUrl)||(r.baseUrl+="/");for(o in a.has)x.add(o,a.has[o],0,c);h(a.packages,ca);for(j in a.packagePaths)h(a.packagePaths[j],function(a){var h=j+"/"+a;b(a)&&(a={name:a});a.location=h;ca(a)});fa(q(F,a.map),E);h(E,function(a){a[1]=
fa(a[1],[]);if("*"==a[0])E.star=a});fa(q(X,a.paths),N);h(a.aliases,function(a){b(a[0])&&(a[0]=RegExp("^"+ea(a[0])+"$"));V.push(a)});if(c)ua.push({config:a.config});else for(o in a.config)c=ga(o,n),c.config=q(c.config||{},a.config[o]);if(a.cache)$(),P=a.cache,a.cache["*noref"]&&$();Q("config",[a,r.rawConfig])};x("dojo-cdn");var ja=w.getElementsByTagName("script");k=0;for(var ka,aa,na,la;k<ja.length;)if(ka=ja[k++],(na=ka.getAttribute("src"))&&(la=na.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))){aa=la[3]||
"";m.baseUrl=m.baseUrl||aa;(na=ka.getAttribute("data-dojo-config")||ka.getAttribute("djConfig"))&&(W=r.eval("({ "+na+" })","data-dojo-config"));break}r.rawConfig={};ha(m,1);if(x("dojo-cdn"))(T.dojo.location=aa)&&(aa+="/"),T.dijit.location=aa+"../dijit/",T.dojox.location=aa+"../dojox/";ha(l,1);ha(W,1);var Z=function(a){sa(function(){h(a.deps,xa)})},ia=function(h,c,n,d,e){var t;if(b(h)){if((t=ga(h,d,!0))&&t.executed)return t.result;throw o("undefinedModule",h);}a(h)||(ha(h,0,d),h=c,c=n);if(a(h))if(h.length){for(var n=
"require*"+s(),v,x=[],j=0;j<h.length;)v=h[j++],x.push(ga(v,d));t=q(za("",n,0,""),{injected:2,deps:x,def:c||f,require:d?d.require:r,gc:1});O[t.mid]=t;Z(t);var w=va&&"sync"!=A;sa(function(){ra(t,w)});t.executed||ba.push(t);pa()}else c&&c();return e},Ga=function(a){if(!a)return r;var b=a.require;if(!b)b=function(h,c,r){return ia(h,c,r,a,b)},a.require=q(b,r),b.module=a,b.toUrl=function(b){return Pa(b,a)},b.toAbsMid=function(b){return Ha(b,a)},b.syncLoadNls=function(b){var b=ta(b,a),h=O[b.mid];if(!h||
!h.executed)if(ma=H[b.mid]||H["url:"+b.url])Aa(ma),h=O[b.mid];return h&&h.executed&&h.result};return b},ba=[],Ba=[],da={},ab=function(a){a.injected=1;da[a.mid]=1;a.url&&(da[a.url]=a.pack||1);Qa()},oa=function(a){a.injected=2;delete da[a.mid];a.url&&delete da[a.url];e(da)&&(Ca(),"xd"==A&&(A="sync"))},bb=r.idle=function(){return!Ba.length&&e(da)&&!ba.length&&!va},Ia=function(a,b){if(b)for(var h=0;h<b.length;h++)if(b[h][2].test(a))return b[h];return 0},Ra=function(a){for(var b=[],h,c,a=a.replace(/\\/g,
"/").split("/");a.length;)h=a.shift(),".."==h&&b.length&&".."!=c?(b.pop(),c=b[b.length-1]):"."!=h&&b.push(c=h);return b.join("/")},za=function(a,b,h,c){var n=r.isXdUrl(c);return{pid:a,mid:b,pack:h,url:c,executed:0,def:0,isXd:n,isAmd:!!(n||T[a]&&T[a].isAmd)}},Sa=function(a,b,r,n,d,s,q,e){var t,f,v,j;j=/^\./.test(a);if(/(^\/)|(\:)|(\.js$)/.test(a)||j&&!b)return za(0,a,0,a);a=Ra(j?b.mid+"/../"+a:a);if(/^\./.test(a))throw o("irrationalPath",a);b&&(v=Ia(b.mid,s));(v=(v=v||s.star)&&Ia(a,v[1]))&&(a=v[1]+
a.substring(v[3]));b=(la=a.match(/^([^\/]+)(\/(.+))?$/))?la[1]:"";(t=r[b])?a=b+"/"+(f=la[3]||t.main):b="";var w=0;h(V,function(b){var h=a.match(b[0]);h&&0<h.length&&(w=c(b[1])?a.replace(b[0],b[1]):b[1])});if(w)return Sa(w,0,r,n,d,s,q,e);if(r=n[a])return e?za(r.pid,r.mid,r.pack,r.url):n[a];n=(v=Ia(a,q))?v[1]+a.substring(v[3]):b?t.location+"/"+f:x("config-tlmSiblingOfDojo")?"../"+a:a;/(^\/)|(\:)/.test(n)||(n=d+n);return za(b,a,t,Ra(n+".js"))},ta=function(a,b){return Sa(a,b,T,O,r.baseUrl,E,N)},Ta=function(a,
b,h){return a.normalize?a.normalize(b,function(a){return Ha(a,h)}):Ha(b,h)},Ua=0,ga=function(a,b,h){var c,r;(c=a.match(/^(.+?)\!(.*)$/))?(r=ga(c[1],b,h),"sync"==A&&!r.executed&&(xa(r),2===r.injected&&!r.executed&&sa(function(){ra(r)}),r.executed?Da(r):ba.unshift(r)),5===r.executed&&!r.load&&Da(r),r.load?(c=Ta(r,c[2],b),a=r.mid+"!"+(r.dynamic?++Ua+"!":"")+c):(c=c[2],a=r.mid+"!"+ ++Ua+"!waitingForPlugin"),a={plugin:r,mid:a,req:Ga(b),prid:c}):a=ta(a,b);return O[a.mid]||!h&&(O[a.mid]=a)},Ha=r.toAbsMid=
function(a,b){return ta(a,b).mid},Pa=r.toUrl=function(a,b){var h=ta(a+"/x",b),c=h.url;return ya(0===h.pid?a:c.substring(0,c.length-5))},Va={injected:2,executed:5,def:3,result:3},Ja=function(a){return O[a]=q({mid:a},Va)},cb=Ja("require"),db=Ja("exports"),eb=Ja("module"),Ea={},Ka=0,Da=function(a){var b=a.result;a.dynamic=b.dynamic;a.normalize=b.normalize;a.load=b.load;return a},fb=function(a){var b={};h(a.loadQ,function(h){var c=Ta(a,h.prid,h.req.module),r=a.dynamic?h.mid.replace(/waitingForPlugin$/,
c):a.mid+"!"+c,c=q(q({},h),{mid:r,prid:c,injected:0});O[r]||Wa(O[r]=c);b[h.mid]=O[r];oa(h);delete O[h.mid]});a.loadQ=0;var c=function(a){for(var h=a.deps||[],c=0;c<h.length;c++)(a=b[h[c].mid])&&(h[c]=a)},r;for(r in O)c(O[r]);h(ba,c)},qa=function(a){r.trace("loader-finish-exec",[a.mid]);a.executed=5;a.defOrder=Ka++;h(a.provides,function(a){a()});a.loadQ&&(Da(a),fb(a));for(k=0;k<ba.length;)ba[k]===a?ba.splice(k,1):k++;/^require\*/.test(a.mid)&&delete O[a.mid]},gb=[],ra=function(a,b){if(4===a.executed)return r.trace("loader-circular-dependency",
[gb.concat(a.mid).join("->")]),!a.def||b?Ea:a.cjs&&a.cjs.exports;if(!a.executed){if(!a.def)return Ea;var h=a.mid,n=a.deps||[],d,s=[],q=0;for(a.executed=4;q<n.length;){d=n[q++];d=d===cb?Ga(a):d===db?a.cjs.exports:d===eb?a.cjs:ra(d,b);if(d===Ea)return a.executed=0,r.trace("loader-exec-module",["abort",h]),Ea;s.push(d)}r.trace("loader-run-factory",[a.mid]);var h=a.def,e;z.unshift(a);if(x("config-dojo-loader-catches"))try{e=c(h)?h.apply(null,s):h}catch(t){Q("error",a.result=o("factoryThrew",[a,t]))}else e=
c(h)?h.apply(null,s):h;a.result=void 0===e&&a.cjs?a.cjs.exports:e;z.shift(a);qa(a)}return a.result},va=0,sa=function(a){try{va++,a()}finally{va--}bb()&&Q("idle",[])},pa=function(){va||sa(function(){D();for(var a,b,h=0;h<ba.length;)a=Ka,b=ba[h],ra(b),a!=Ka?(D(),h=0):h++})};void 0===x("dojo-loader-eval-hint-url")&&x.add("dojo-loader-eval-hint-url",1);var ya=function(a){a+="";return a+(Y?(/\?/.test(a)?"&":"?")+Y:"")},Wa=function(a){var b=a.plugin;5===b.executed&&!b.load&&Da(b);var h=function(b){a.result=
b;oa(a);qa(a);pa()};b.load?b.load(a.prid,a.req,h):b.loadQ?b.loadQ.push(a):(b.loadQ=[a],ba.unshift(b),xa(b))},ma=0,wa=0,La=0,Aa=function(a,b){x("config-stripStrict")&&(a=a.replace(/"use strict"/g,""));La=1;if(x("config-dojo-loader-catches"))try{a===ma?ma.call(null):r.eval(a,x("dojo-loader-eval-hint-url")?b.url:b.mid)}catch(h){Q("error",o("evalModuleThrew",b))}else a===ma?ma.call(null):r.eval(a,x("dojo-loader-eval-hint-url")?b.url:b.mid);La=0},xa=function(a){var b=a.mid,c=a.url;if(!a.executed&&!a.injected&&
!(da[b]||a.url&&(a.pack&&da[a.url]===a.pack||1==da[a.url])))if(ab(a),a.plugin)Wa(a);else{var n=function(){Xa(a);2!==a.injected&&(oa(a),q(a,Va),r.trace("loader-define-nonmodule",[a.url]));A?!z.length&&pa():pa()};if(ma=H[b]||H["url:"+a.url])r.trace("loader-inject",["cache",a.mid,c]),Aa(ma,a),n();else{if(A)if(a.isXd)"sync"==A&&(A="xd");else if(!(a.isAmd&&"sync"!=A)){var d=function(o){if("sync"==A){z.unshift(a);Aa(o,a);z.shift();Xa(a);a.cjs||(oa(a),qa(a));if(a.finish){var o=b+"*finish",d=a.finish;delete a.finish;
Ma(o,["dojo",("dojo/require!"+d.join(",")).replace(/\./g,"/")],function(a){h(d,function(b){a.require(b)})});ba.unshift(ga(o))}n()}else(o=G(a,o))?(Aa(o,a),n()):(wa=a,r.injectUrl(ya(c),n,a),wa=0)};r.trace("loader-inject",["xhr",a.mid,c,"sync"!=A]);if(x("config-dojo-loader-catches"))try{r.getText(c,"sync"!=A,d)}catch(s){Q("error",o("xhrInjectFailed",[a,s]))}else r.getText(c,"sync"!=A,d);return}r.trace("loader-inject",["script",a.mid,c]);wa=a;r.injectUrl(ya(c),n,a);wa=0}}},Na=function(a,b,h){r.trace("loader-define-module",
[a.mid,b]);var n=a.mid;if(2===a.injected)return Q("error",o("multipleDefine",a)),a;q(a,{deps:b,def:h,cjs:{id:a.mid,uri:a.url,exports:a.result={},setExports:function(b){a.cjs.exports=b},config:function(){return a.config}}});for(var d=0;d<b.length;d++)b[d]=ga(b[d],a);A&&!da[n]&&(Z(a),ba.push(a),pa());oa(a);if(!c(h)&&!b.length)a.result=h,qa(a);return a},Xa=function(a,b){for(var c=[],r,n;Ba.length;)n=Ba.shift(),b&&(n[0]=b.shift()),r=n[0]&&ga(n[0])||a,c.push([r,n[1],n[2]]);$(a);h(c,function(a){Z(Na.apply(null,
a))})},Fa=0,Ca=f,Qa=f;Ca=function(){Fa&&clearTimeout(Fa);Fa=0};Qa=function(){Ca();r.waitms&&(Fa=window.setTimeout(function(){Ca();Q("error",o("timeout",da))},r.waitms))};x.add("ie-event-behavior",!!w.attachEvent&&("undefined"===typeof opera||"[object Opera]"!=opera.toString()));var Oa=function(a,b,h,c){if(x("ie-event-behavior"))return a.attachEvent(h,c),function(){a.detachEvent(h,c)};a.addEventListener(b,c,!1);return function(){a.removeEventListener(b,c,!1)}},hb=Oa(window,"load","onload",function(){r.pageLoaded=
1;"complete"!=w.readyState&&(w.readyState="complete");hb()}),Ya=w.getElementsByTagName("script")[0],ib=Ya.parentNode;r.injectUrl=function(a,b,h){var h=h.node=w.createElement("script"),c=Oa(h,"load","onreadystatechange",function(a){var a=a||window.event,h=a.target||a.srcElement;if("load"===a.type||/complete|loaded/.test(h.readyState))c(),r(),b&&b()}),r=Oa(h,"error","onerror",function(b){c();r();Q("error",o("scriptError",[a,b]))});h.type="text/javascript";h.charset="utf-8";h.src=a;ib.insertBefore(h,
Ya);return h};r.log=function(){try{for(var a=0;a<arguments.length;a++);}catch(b){}};r.trace=f;var Ma=function(a,h,n){var d=arguments.length,s=["require","exports","module"],q=[0,a,h];1==d?q=[0,c(a)?s:[],a]:2==d&&b(a)?q=[a,c(h)?s:[],h]:3==d&&(q=[a,h,n]);r.trace("loader-define",q.slice(0,2));if((d=q[0]&&ga(q[0]))&&!da[d.mid])Z(Na(d,q[1],q[2]));else if(!x("ie-event-behavior")||La)Ba.push(q);else{d=d||wa;if(!d)for(a in da)if((s=O[a])&&s.node&&"interactive"===s.node.readyState){d=s;break}d?($(d),Z(Na(d,
q[1],q[2]))):Q("error",o("ieDefineFailed",q[0]));pa()}};Ma.amd={vendor:"dojotoolkit.org"};q(q(r,m.loaderPatch),l.loaderPatch);R("error",function(a){try{if(console.error(a),a instanceof Error)for(var b in a);}catch(h){}});q(r,{uid:s,cache:H,packs:T});if(t.define)Q("error",o("defineAlreadyDefined",0));else{t.define=Ma;t.require=r;h(ua,function(a){ha(a)});var Za=W.deps||l.deps||m.deps,$a=W.callback||l.callback||m.callback;r.boot=Za||$a?[Za||[],$a]:0}})(this.dojoConfig||this.djConfig||this.require||{},
{async:0,hasCache:{"config-selectorEngine":"acme","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:"../dojox",name:"dojox"},{location:"../dijit",name:"dijit"},{location:"../js",name:"js"},{location:".",name:"dojo"},{location:"../deploy",name:"deploy"},{location:"../idx",name:"idx"}]});
require({cache:{"deploy/widgets/resource/ResourceVarianceTree":function(){define("dijit/form/TextBox,dijit/_Widget,dijit/_TemplatedMixin,dojo/_base/array,dojo/_base/declare,dojo/_base/event,dojo/dom-construct,dojo/dom-style,js/webext/widgets/table/TreeTable,deploy/widgets/component/ComponentConfigTemplates,deploy/widgets/environment/EnvironmentResourceTree,deploy/widgets/property/PropDefs,deploy/widgets/property/PropValues,deploy/widgets/Formatters,deploy/widgets/tag/Tagger,deploy/widgets/property/PropSheetDefValues,dojo/on,dijit/form/FilteringSelect,dojox/data/JsonRestStore,js/webext/widgets/ColumnForm,js/webext/widgets/Dialog,deploy/widgets/resource/ResourceVarianceBrowser,js/webext/widgets/RestSelect,deploy/widgets/resource/ResourceSelector,deploy/widgets/resource/ResourceTree".split(","),function(l,
m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u,x,v,y,A,z,B){return f([m,k],{templateString:'<div class="resourceConfigurationTree"><div class="resourceConfigurationTreeContainer"><div class="resourceConfigurationTreeDiv" data-dojo-attach-point="treeAttach"></div><div class="resourceConfigurationDetail"><div data-dojo-attach-point="detailAttach"></div></div></div></div>',postCreate:function(){this.inherited(arguments);if(!this.url)this.url=bootstrap.restUrl+"resource/resource/tree";this.showTree()},destroy:function(){this.inherited(arguments);
this.tree.destroy()},showTree:function(){var a=this;void 0!==this.tree&&this.tree.destroy();this.tree=new B({showTags:function(){},getOtherColumns:function(){return[]},getActionsOptions:function(){return[]},getSelectOptions:function(){return[]},actionsFormatter:function(){return d.create("div")},getNameColumn:function(){return a.getNameColumn()},hideTopButtons:"true",xhrMethod:"POST",serverSideProcessing:!0,onRowSelect:function(b){a.loadConfigurationDetails(b)}});this.tree.placeAt(this.treeAttach)},
getNameColumn:function(){var a=this;return{name:i18n("Name"),formatter:function(b,h,c){c.style.position="relative";h=b.isRoot?n.resourceLinkFormatterWithPath(b):n.resourceLinkFormatter(b);a.showTags(b,h);a.showDiff(b,h);return h},orderField:"name",filterField:"name",filterType:"text",getFilterFields:function(){return[new l({name:"name","class":"filter",style:{width:"45%"},placeHolder:i18n("Resource Name"),type:"like"})]},getRawValue:function(a){return a.path}}},showDiffResourceSelect:function(a){var b=
this,h=new v({title:i18n("Diff Resource %s",util.escape(a.path)),closable:!0,draggable:!0}),c,r,n,o=new x({saveLabel:i18n("Diff"),cancelLabel:i18n("Cancel"),onSubmit:function(h){var c=bootstrap.restUrl+"resource/resource/"+a.id,r=h.resource.path,n=a.path;h.localVersion?(c=c+"/"+h.localVersion+"/variance/"+h.resource.id,n=n+" - "+h.localVersion):c=c+"/variance/"+h.resource.id;h.version&&(c=c+"/"+h.version,r=r+" - "+h.version);b.loadConfigurationDetailsByUrl(c,r,n)},postSubmit:function(){c&&c.destroy();
r&&r.destroy();o.destroy();h.destroy()},onCancel:function(){c&&c.destroy();r&&r.destroy();o.destroy();h.destroy()},onError:function(){c&&c.destroy();r&&r.destroy();o.destroy();h.destroy()}});c=new z({resourceSelectTitle:i18n("Select resource to diff with %s",util.escape(a.path)),returnEntireObject:!0,onChange:function(a){r&&(r.destroy(),o.removeField("version"));r=new A({restUrl:bootstrap.restUrl+"resource/resource/"+a.id+"/configuration/versions",getValue:function(a){return a},getLabel:function(a){return a},
allowNone:!0,noneLabel:i18n("Latest")});o.addField({name:"version",label:i18n("Version for %s",util.escape(a.path)),widget:r},"_versionInsert")}});n=new A({restUrl:bootstrap.restUrl+"resource/resource/"+a.id+"/configuration/versions",getValue:function(a){return a},getLabel:function(a){return a},allowNone:!0,noneLabel:i18n("Latest")});o.addField({name:"localVersion",label:i18n("Version for %s",util.escape(a.path)),widget:n});o.addField({name:"resource",label:i18n("Resource"),required:!0,widget:c});
o.addField({name:"_versionInsert",type:"Invisible"});o.placeAt(h);h.show()},showDiff:function(a,b){var h=this,c=dojo.create("div",{"class":"resourceVarianceDiff link"});c.innerHTML="diff";t(c,"click",function(c){e.stop(c);h.showDiffResourceSelect(a,b)});b.appendChild(c)},showTags:function(a,b){var h=this;h.tagger=new s({allowTagAdd:!1,objectType:"Resource",item:a,callback:function(){h.tree.expand(parent);h.tree.refresh()}});h.tagger.placeAt(b)},loadConfigurationDetailsByUrl:function(a,b,h){this.configurationBrowser&&
this.configurationBrowser.destroy();d.empty(this.detailAttach);this.configurationBrowser=new y({url:a,newValueColumnHeading:b,oldValueColumnHeading:h});this.configurationBrowser.placeAt(this.detailAttach)},loadConfigurationDetails:function(a){this.configurationBrowser&&this.configurationBrowser.destroy();d.empty(this.detailAttach);this.configurationBrowser=new y({resource:a});this.configurationBrowser.placeAt(this.detailAttach)}})})},"deploy/widgets/workflow/activity/ReleaseLockActivity":function(){define(["dojo/_base/declare",
"dojo/on","deploy/widgets/workflow/activity/BaseActivity"],function(l,m,k){return l("deploy.widgets.workflow.activity.ReleaseLockActivity",[k],{postCreate:function(){this.inherited(arguments);if(!this.initialized){this.data.name=util.randomString(30);if(!this.data.lockName)this.data.lockName=appState.applicationProcess?"${p:application.name}-${p:applicationProcess.name}-${p:environment.name}":"${p:component.name}-${p:componentProcess.name}-${p:resource.name}";this.editProperties()}},getLabel:function(){var j=
"",j=i18n("Release Lock");if(this.data.lockName){var f=this.data.lockName;22<f.length&&(f=f.substring(0,20)+"...");j+="\n"+f}return j},editProperties:function(j){var f=this,e=f.createPropertyDialog(),d=f.createPropertyForm({dialog:e,onSubmit:function(b){j&&j();f.initialized=!0;f.data.lockName=b.lockName;f.updateLabel();e.hide();d.destroy();e.destroy()},readOnly:f.readOnly}),c="";if(this.data.lockName)c=this.data.lockName;d.addField({name:"lockName",label:i18n("Lock Name"),type:"PropertyBox",required:!0,
value:c,cache:f.graphEditor.cache});d.placeAt(e.containerNode);e.show()}})})},"deploy/widgets/approval/TaskResponseDialog":function(){define(["dijit/_Widget","dojo/_base/array","dojo/_base/declare","js/webext/widgets/ColumnForm","js/webext/widgets/Dialog"],function(l,m,k,j,f){return k("deploy.widgets.approval.TaskResponseDialog",[l],{postCreate:function(){this.inherited(arguments);var e=this,d=new f({closable:!0,draggable:!0}),c=new j({submitUrl:bootstrap.restUrl+"approval/task/"+this.task.id+"/close",
saveLabel:i18n("Submit"),onCancel:function(){d.hide();d.destroy()},postSubmit:function(){d.hide();d.destroy();void 0!==e.callback&&e.callback()}});c.addField({name:"passFail",type:"Radio",label:i18n("Response"),required:!0,allowedValues:[{label:i18n("Approve"),value:"passed"},{label:i18n("Reject"),value:"failed"}]});this.task.commentPrompt&&c.addField({name:"commentPrompt",value:this.task.commentPrompt,type:"Label"});c.addField({name:"comment",label:i18n("Comment"),required:this.task.commentRequired,
type:"Text Area"});m.forEach(this.task.propDefs,function(b){if(!b.label)b.label=b.name;b.name="p:"+b.name;c.addField(b)});c.placeAt(d.containerNode);d.show()}})})},"deploy/widgets/security/role/RoleDefaultActions":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/json,js/util/blocker/_BlockerMixin,js/webext/widgets/Alert,js/webext/widgets/FieldList,js/webext/widgets/Switch".split(","),function(l,m,k,j,f,e,d,c,b,a){return j([m,l,d],{templateString:'<div class="roleDefaultActions"><div data-dojo-attach-point="actionsAttach"></div></div>',
postCreate:function(){this.inherited(arguments);var a=this;this.canEdit=config.data.permissions["Manage Security"];this.fieldList=new b;this.fieldList.placeAt(this.actionsAttach);f.get({url:bootstrap.baseUrl+"security/role/"+this.role.id+"/actionMappings",handleAs:"json",load:function(b){a.role.actions=b;f.get({url:bootstrap.baseUrl+"security/resourceType/"+a.resourceType.name+"/actions",handleAs:"json",load:function(b){a.showCheckboxes(b)}})}})},showCheckboxes:function(b){var d=this;k.forEach(b,
function(b){var h=!1;k.forEach(d.role.actions,function(a){a.action.name===b.name&&(h=!0)});var s=new a({labelText:i18n(b.name),labelPlacement:"before",hideLabel:!0,value:h,focusOnHover:!0,disabled:!d.canEdit,onChange:function(a){var h={resourceType:d.resourceType.name,action:b.name};d.block();a?f.post({url:bootstrap.baseUrl+"security/role/"+d.role.id+"/actionMappings",handleAs:"json",putData:e.stringify(h),load:function(){d.unblock()},error:function(a){d.unblock();new c({message:util.escape(a.responseText)})}}):
f.del({url:bootstrap.baseUrl+"security/role/"+d.role.id+"/actionMappings",handleAs:"json",putData:e.stringify(h),load:function(){d.unblock()},error:function(a){d.unblock();new c({message:util.escape(a.responseText)})}})}});d.fieldList.insertField(s,null,i18n(b.description),null)})},destroy:function(){this.inherited(arguments);this.fieldList.destroy()}})})},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(l,m){m.add("bug-for-in-skips-shadowed",function(){for(var a in{toString:1})return 0;
return 1});var k=m("bug-for-in-skips-shadowed")?"hasOwnProperty.valueOf.isPrototypeOf.propertyIsEnumerable.toLocaleString.toString.constructor".split("."):[],j=k.length,f=function(a,b,c){var d,n=0,s=l.global;if(!c)if(a.length){d=a[n++];try{c=l.scopeMap[d]&&l.scopeMap[d][1]}catch(r){}c=c||(d in s?s[d]:b?s[d]={}:void 0)}else return s;for(;c&&(d=a[n++]);)c=d in c?c[d]:b?c[d]={}:void 0;return c},e=Object.prototype.toString,d=function(a,b,c){return(c||[]).concat(Array.prototype.slice.call(a,b||0))},c=
/\{([^\}]+)\}/g,b={_extraNames:k,_mixin:function(a,b,c){var d,n,s,r={};for(d in b)if(n=b[d],!(d in a)||a[d]!==n&&(!(d in r)||r[d]!==n))a[d]=c?c(n):n;if(m("bug-for-in-skips-shadowed")&&b)for(s=0;s<j;++s)if(d=k[s],n=b[d],!(d in a)||a[d]!==n&&(!(d in r)||r[d]!==n))a[d]=c?c(n):n;return a},mixin:function(a,h){a||(a={});for(var c=1,d=arguments.length;c<d;c++)b._mixin(a,arguments[c]);return a},setObject:function(a,b,c){var d=a.split("."),a=d.pop();return(c=f(d,!0,c))&&a?c[a]=b:void 0},getObject:function(a,
b,c){return f(a.split("."),b,c)},exists:function(a,h){return void 0!==b.getObject(a,!1,h)},isString:function(a){return"string"==typeof a||a instanceof String},isArray:function(a){return a&&(a instanceof Array||"array"==typeof a)},isFunction:function(a){return"[object Function]"===e.call(a)},isObject:function(a){return void 0!==a&&(null===a||"object"==typeof a||b.isArray(a)||b.isFunction(a))},isArrayLike:function(a){return a&&void 0!==a&&!b.isString(a)&&!b.isFunction(a)&&!(a.tagName&&"form"==a.tagName.toLowerCase())&&
(b.isArray(a)||isFinite(a.length))},isAlien:function(a){return a&&!b.isFunction(a)&&/\{\s*\[native code\]\s*\}/.test(""+a)},extend:function(a,h){for(var c=1,d=arguments.length;c<d;c++)b._mixin(a.prototype,arguments[c]);return a},_hitchArgs:function(a,h){var c=b._toArray(arguments,2),d=b.isString(h);return function(){var n=b._toArray(arguments),s=d?(a||l.global)[h]:h;return s&&s.apply(a||this,c.concat(n))}},hitch:function(a,h){if(2<arguments.length)return b._hitchArgs.apply(l,arguments);h||(h=a,a=
null);if(b.isString(h)){a=a||l.global;if(!a[h])throw['lang.hitch: scope["',h,'"] is null (scope="',a,'")'].join("");return function(){return a[h].apply(a,arguments||[])}}return!a?h:function(){return h.apply(a,arguments||[])}},delegate:function(){function a(){}return function(h,c){a.prototype=h;var d=new a;a.prototype=null;c&&b._mixin(d,c);return d}}(),_toArray:m("ie")?function(){function a(a,b,c){c=c||[];for(b=b||0;b<a.length;b++)c.push(a[b]);return c}return function(b){return(b.item?a:d).apply(this,
arguments)}}():d,partial:function(a){return b.hitch.apply(l,[null].concat(b._toArray(arguments)))},clone:function(a){if(!a||"object"!=typeof a||b.isFunction(a))return a;if(a.nodeType&&"cloneNode"in a)return a.cloneNode(!0);if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp)return RegExp(a);var c,d,o;if(b.isArray(a)){c=[];for(d=0,o=a.length;d<o;++d)d in a&&c.push(b.clone(a[d]))}else c=a.constructor?new a.constructor:{};return b._mixin(c,a,b.clone)},trim:String.prototype.trim?
function(a){return a.trim()}:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(a,h,d){return a.replace(d||c,b.isFunction(h)?h:function(a,c){return b.getObject(c,!1,h)})}};b.mixin(l,b);return b})},"deploy/widgets/resourceRole/ResourceRoleEditManager":function(){define("dojo/_base/array,dojo/_base/declare,dojo/on,dojo/dom-construct,js/webext/widgets/TwoPaneListManager,deploy/widgets/resourceRole/EditResourceRole,deploy/widgets/property/PropDefs".split(","),function(l,
m,k,j,f,e,d){return m([f],{postCreate:function(){this.inherited(arguments);this.showList()},showList:function(){var c=this;c.addEntry({id:"basic",label:i18n("Basic Settings"),action:function(){c.addHeading(i18n("Basic Settings"));c.showBasicSettings()}});c.addEntry({id:"properties",label:i18n("Role Properties"),action:function(){c.addHeading(i18n("Role Properties"));c.showProperties()}})},addHeading:function(c){j.create("div",{innerHTML:c,"class":"containerLabel",style:{padding:"10px"}},this.detailAttach)},
addDescription:function(c){j.create("div",{innerHTML:c,style:{marginBottom:"10px"}},this.detailAttach)},showBasicSettings:function(){(new e({resourceRole:appState.resourceRole})).placeAt(this.detailAttach)},showProperties:function(){(new d({readOnly:!config.data.permissions[security.system.createManageResourceRoles],propSheetDefId:appState.resourceRole.propSheetDef.id,propSheetDef:appState.resourceRole.propSheetDef})).placeAt(this.detailAttach)}})})},"dijit/Tooltip":function(){require({cache:{"url:dijit/templates/Tooltip.html":'<div class="dijitTooltip dijitTooltipLeft" id="dojoTooltip"\n\t><div class="dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point="containerNode" role=\'alert\'></div\n\t><div class="dijitTooltipConnector" data-dojo-attach-point="connectorNode"></div\n></div>\n'}});
define("dijit/Tooltip","dojo/_base/array,dojo/_base/declare,dojo/_base/fx,dojo/dom,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/_base/lang,dojo/mouse,dojo/on,dojo/sniff,./_base/manager,./place,./_Widget,./_TemplatedMixin,./BackgroundIframe,dojo/text!./templates/Tooltip.html,./main".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w){var u=m("dijit._MasterTooltip",[n,s],{duration:q.defaultDuration,templateString:t,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);
this.bgIframe=new r(this.domNode);this.fadeIn=k.fadeIn({node:this.domNode,duration:this.duration,onEnd:c.hitch(this,"_onShow")});this.fadeOut=k.fadeOut({node:this.domNode,duration:this.duration,onEnd:c.hitch(this,"_onHide")})},show:function(a,b,h,r,n){if(!this.aroundNode||!(this.aroundNode===b&&this.containerNode.innerHTML==a))if("playing"==this.fadeOut.status())this._onDeck=arguments;else{this.containerNode.innerHTML=a;n&&this.set("textDir",n);this.containerNode.align=r?"right":"left";var s=o.around(this.domNode,
b,h&&h.length?h:x.defaultPosition,!r,c.hitch(this,"orient")),q=s.aroundNodePos;"M"==s.corner.charAt(0)&&"M"==s.aroundCorner.charAt(0)?(this.connectorNode.style.top=q.y+(q.h-this.connectorNode.offsetHeight>>1)-s.y+"px",this.connectorNode.style.left=""):"M"==s.corner.charAt(1)&&"M"==s.aroundCorner.charAt(1)?this.connectorNode.style.left=q.x+(q.w-this.connectorNode.offsetWidth>>1)-s.x+"px":(this.connectorNode.style.left="",this.connectorNode.style.top="");d.set(this.domNode,"opacity",0);this.fadeIn.play();
this.isShowingNow=!0;this.aroundNode=b}},orient:function(a,b,c,r,d){this.connectorNode.style.top="";var n=r.h,r=r.w;a.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[b+
"-"+c];this.domNode.style.width="auto";var o=e.position(this.domNode);9==h("ie")&&(o.w+=2);var s=Math.min(Math.max(r,1),o.w);e.setMarginBox(this.domNode,{w:s});"B"==c.charAt(0)&&"B"==b.charAt(0)?(a=e.position(a),b=this.connectorNode.offsetHeight,a.h>n?(this.connectorNode.style.top=n-(d.h+b>>1)+"px",this.connectorNode.style.bottom=""):(this.connectorNode.style.bottom=Math.min(Math.max(d.h/2-b/2,0),a.h-b)+"px",this.connectorNode.style.top="")):(this.connectorNode.style.top="",this.connectorNode.style.bottom=
"");return Math.max(0,o.w-r)},_onShow:function(){if(h("ie"))this.domNode.style.filter=""},hide:function(a){if(this._onDeck&&this._onDeck[1]==a)this._onDeck=null;else if(this.aroundNode===a)this.fadeIn.stop(),this.isShowingNow=!1,this.aroundNode=null,this.fadeOut.play()},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck)this.show.apply(this,this._onDeck),this._onDeck=null},_setAutoTextDir:function(a){this.applyTextDir(a,h("ie")?a.outerText:a.textContent);
l.forEach(a.children,function(a){this._setAutoTextDir(a)},this)},_setTextDirAttr:function(a){this._set("textDir",a);"auto"==a?this._setAutoTextDir(this.containerNode):this.containerNode.dir=this.textDir}});w.showTooltip=function(a,b,c,h,r){c&&(c=l.map(c,function(a){return{after:"after-centered",before:"before-centered"}[a]||a}));if(!x._masterTT)w._masterTT=x._masterTT=new u;return x._masterTT.show(a,b,c,h,r)};w.hideTooltip=function(a){return x._masterTT&&x._masterTT.hide(a)};var x=m("dijit.Tooltip",
n,{label:"",showDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(h){l.forEach(this._connections||[],function(a){l.forEach(a,function(a){a.remove()})},this);this._connectIds=l.filter(c.isArrayLike(h)?h:h?[h]:[],function(a){return j.byId(a,this.ownerDocument)},this);this._connections=l.map(this._connectIds,function(h){var h=j.byId(h,this.ownerDocument),r=this.selector,d=r?function(b){return a.selector(r,b)}:function(a){return a},n=this;return[a(h,d(b.enter),function(){n._onHover(this)}),
a(h,d("focusin"),function(){n._onHover(this)}),a(h,d(b.leave),c.hitch(n,"_onUnHover")),a(h,d("focusout"),c.hitch(n,"_onUnHover"))]},this);this._set("connectId",h)},addTarget:function(a){a=a.id||a;-1==l.indexOf(this._connectIds,a)&&this.set("connectId",this._connectIds.concat(a))},removeTarget:function(a){a=l.indexOf(this._connectIds,a.id||a);0<=a&&(this._connectIds.splice(a,1),this.set("connectId",this._connectIds))},buildRendering:function(){this.inherited(arguments);f.add(this.domNode,"dijitTooltipData")},
startup:function(){this.inherited(arguments);var a=this.connectId;l.forEach(c.isArrayLike(a)?a:[a],this.addTarget,this)},getContent:function(){return this.label||this.domNode.innerHTML},_onHover:function(a){if(!this._showTimer)this._showTimer=this.defer(function(){this.open(a)},this.showDelay)},_onUnHover:function(){this._showTimer&&(this._showTimer.remove(),delete this._showTimer);this.close()},open:function(a){this._showTimer&&(this._showTimer.remove(),delete this._showTimer);var b=this.getContent(a);
if(b)x.show(b,a,this.position,!this.isLeftToRight(),this.textDir),this._connectNode=a,this.onShow(a,this.position)},close:function(){this._connectNode&&(x.hide(this._connectNode),delete this._connectNode,this.onHide());this._showTimer&&(this._showTimer.remove(),delete this._showTimer)},onShow:function(){},onHide:function(){},destroy:function(){this.close();l.forEach(this._connections||[],function(a){l.forEach(a,function(a){a.remove()})},this);this.inherited(arguments)}});x._MasterTooltip=u;x.show=
w.showTooltip;x.hide=w.hideTooltip;x.defaultPosition=["after-centered","before-centered"];return x})},"deploy/widgets/security/authentication/AuthenticationRealmManager":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,deploy/widgets/security/authentication/AuthenticationRealmUsers,deploy/widgets/security/authentication/EditAuthenticationRealm,js/webext/widgets/GenericConfirm,js/webext/widgets/PopDown,js/webext/widgets/TwoPaneListManager,deploy/widgets/TooltipTitle,dojo/dom-class".split(","),
function(l,m,k,j,f,e,d,c,b,a){return m("deploy.widgets.security.authentication.AuthenticationRealmManager",[c],{postCreate:function(){this.inherited(arguments);this.showList()},showList:function(b){var c=this;this.defaultSelectionId=b;k.get({url:bootstrap.baseUrl+"security/authenticationRealm?outputType=BASIC&outputType=LINKED",handleAs:"json",load:function(b){var h=b.length,d=0;l.forEach(b,function(b){d++;var r=document.createElement("div");r.style.position="relative";var o=document.createElement("div");
o.className="twoPaneEntryLabel";o.innerHTML=b.name.escape();var e=document.createElement("div");e.className="twoPaneActionIcons";var f=document.createElement("div");f.className="inlineBlock vAlignMiddle margin2Left";1<h&&1<d?(a.add(f,"iconMoveUp"),a.add(f,"cursorPointer"),f.onclick=function(a){util.cancelBubble(a);c.moveUp(b)}):(a.add(f,"iconMoveUpDisabled"),f.onclick=function(a){util.cancelBubble(a)});e.appendChild(f);f=document.createElement("div");f.className="inlineBlock vAlignMiddle margin2Left";
1<h&&d<h?(a.add(f,"iconMoveDown"),a.add(f,"cursorPointer"),f.onclick=function(a){util.cancelBubble(a);c.moveDown(b)}):(a.add(f,"iconMoveDownDisabled"),f.onclick=function(a){util.cancelBubble(a)});e.appendChild(f);if("20000000000000000000000000000001"!==b.id)f=document.createElement("div"),f.className="inlineBlock vAlignMiddle cursorPointer margin2Left iconMinus",f.onclick=function(a){util.cancelBubble(a);c.confirmDelete(b)},e.appendChild(f);r.appendChild(e);r.appendChild(o);c.addEntry({id:b.id,domNode:r,
action:function(){c.selectEntry(b)}})});var b=document.createElement("div"),r=document.createElement("div");r.className="vAlignMiddle inlineBlock iconPlus";b.appendChild(r);r=document.createElement("div");r.innerHTML=i18n("Create Realm");r.className="vAlignMiddle inlineBlock margin5Left";b.appendChild(r);c.addEntry({id:null,domNode:b,action:function(){c.selectNewRealm()}})}})},refresh:function(a){if(this.selectedEntry&&this.selectedEntry.id)a=this.selectedEntry.id;this.clearDetail();this.clearList();
this.showList(a)},selectEntry:function(a){var c=this;(new b({titleText:a.name.escape(),tooltipText:i18n("Authentication realms manage user identity within authorization realms. Users can be created in Internal Storage and Single Sign-On realms. Users can be imported in LDAP realms.")})).placeAt(this.detailAttach);var o=new d({label:i18n("Users"),collapsed:!1});o.placeAt(this.detailAttach);var n=new j({authenticationRealm:a});n.placeAt(o.domAttach);this.registerDetailWidget(n);this.registerDetailWidget(o);
o=document.createElement("div");o.className="hr";o.style.marginTop="15px";this.detailAttach.appendChild(o);o=new d({label:i18n("Edit")});o.placeAt(this.detailAttach);a=new f({authenticationRealm:a,callback:function(a){a&&c.refresh()}});a.placeAt(o.domAttach);this.registerDetailWidget(a);this.registerDetailWidget(o)},selectNewRealm:function(){var a=this,b=document.createElement("div");b.className="containerLabel";b.style.padding="10px";b.innerHTML=i18n("Create Authentication Realm");this.detailAttach.appendChild(b);
b=new f({callback:function(b,c){b&&a.refresh(c)}});b.placeAt(this.detailAttach);this.registerDetailWidget(b)},confirmDelete:function(a){var b=this;new e({message:i18n("Are you sure you want to delete authentication realm %s?",a.name),action:function(){k.del({url:bootstrap.baseUrl+"security/authenticationRealm/"+a.id,handleAs:"json",load:function(){b.refresh()}})}})},moveUp:function(a){var b=this;k.put({url:bootstrap.baseUrl+"security/authenticationRealm/"+a.id+"/moveUp",handleAs:"json",load:function(){b.refresh()}})},
moveDown:function(a){var b=this;k.put({url:bootstrap.baseUrl+"security/authenticationRealm/"+a.id+"/moveDown",handleAs:"json",load:function(){b.refresh()}})}})})},"deploy/widgets/automationPlugin/AutomationPluginCommands":function(){define(["dijit/_TemplatedMixin","dijit/_Widget","dojo/_base/declare","js/webext/widgets/table/TreeTable"],function(l,m,k,j){return k("deploy.widgets.automationPlugin.AutomationPluginCommands",[m,l],{templateString:'<div class="automationPluginCommands"><div data-dojo-attach-point="gridAttach"></div></div>',
postCreate:function(){this.inherited(arguments);var f=bootstrap.restUrl+"plugin/automationPlugin/"+this.automationPlugin.id+"/commands",e=[{name:i18n("Command"),formatter:function(d){return i18n(d.name)},orderField:"name",filterField:"name",filterType:"text",getRawValue:function(d){return d.name}},{name:i18n("Description"),formatter:function(d){return i18n(d.description)}}];this.grid=new j({url:f,serverSideProcessing:!0,hideExpandCollapse:!0,hidePagination:!1,columns:e,tableConfigKey:"pluginCommandList",
noDataMessage:i18n("This plugin has no commands."),baseFilters:[{name:"automationPlugin.id",type:"eq",className:"UUID",values:[this.automationPlugin.id]}]});this.grid.placeAt(this.gridAttach)},destroy:function(){this.inherited(arguments);this.grid.destroy()}})})},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(l,m){var k={};l.setObject("dojo.date.stamp",k);k.fromISOString=function(j,f){if(!k._isoRegExp)k._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;
var e=k._isoRegExp.exec(j),d=null;if(e){e.shift();e[1]&&e[1]--;e[6]&&(e[6]*=1E3);f&&(f=new Date(f),m.forEach(m.map("FullYear,Month,Date,Hours,Minutes,Seconds,Milliseconds".split(","),function(a){return f["get"+a]()}),function(a,b){e[b]=e[b]||a}));d=new Date(e[0]||1970,e[1]||0,e[2]||1,e[3]||0,e[4]||0,e[5]||0,e[6]||0);100>e[0]&&d.setFullYear(e[0]||1970);var c=0,b=e[7]&&e[7].charAt(0);"Z"!=b&&(c=60*(e[8]||0)+(Number(e[9])||0),"-"!=b&&(c*=-1));b&&(c-=d.getTimezoneOffset());c&&d.setTime(d.getTime()+6E4*
c)}return d};k.toISOString=function(j,f){var e=function(a){return 10>a?"0"+a:a},f=f||{},d=[],c=f.zulu?"getUTC":"get",b="";"time"!=f.selector&&(b=j[c+"FullYear"](),b=["0000".substr((b+"").length)+b,e(j[c+"Month"]()+1),e(j[c+"Date"]())].join("-"));d.push(b);if("date"!=f.selector){b=[e(j[c+"Hours"]()),e(j[c+"Minutes"]()),e(j[c+"Seconds"]())].join(":");c=j[c+"Milliseconds"]();f.milliseconds&&(b+="."+(100>c?"0":"")+e(c));if(f.zulu)b+="Z";else if("time"!=f.selector)var c=j.getTimezoneOffset(),a=Math.abs(c),
b=b+((0<c?"-":"+")+e(Math.floor(a/60))+":"+e(a%60));d.push(b)}return d.join("T")};return k})},"dojox/date/islamic":function(){define("dojox/date/islamic",["..","dojo/_base/lang","dojo/date","./islamic/Date"],function(l,m,k,j){var f=m.getObject("date.islamic",!0,l);f.getDaysInMonth=function(e){return e.getDaysInIslamicMonth(e.getMonth(),e.getFullYear())};f.compare=function(e,d,c){e instanceof j&&(e=e.toGregorian());d instanceof j&&(d=d.toGregorian());return k.compare.apply(null,arguments)};f.add=function(e,
d,c){var b=new j(e);switch(d){case "day":b.setDate(e.getDate()+c);break;case "weekday":var a=e.getDay();if(5>a+c&&0<a+c)b.setDate(e.getDate()+c);else{var h=d=0;5==a?(a=4,h=0<c?-1:1):6==a&&(a=4,h=0<c?-2:2);var a=0<c?5-a-1:-a,q=c-a,o=parseInt(q/5);0!=q%5&&(d=0<c?2:-2);b.setDate(e.getDate()+(d+7*o+q%5+a)+h)}break;case "year":b.setFullYear(e.getFullYear()+c);break;case "week":b.setDate(e.getDate()+7*c);break;case "month":e=e.getMonth();b.setMonth(e+c);break;case "hour":b.setHours(e.getHours()+c);break;
case "minute":b._addMinutes(c);break;case "second":b._addSeconds(c);break;case "millisecond":b._addMilliseconds(c)}return b};f.difference=function(e,d,c){var d=d||new j,c=c||"day",b=d.getFullYear()-e.getFullYear(),a=1;switch(c){case "weekday":b=Math.round(f.difference(e,d,"day"));a=parseInt(f.difference(e,d,"week"));if(0==b%7)b=5*a;else{var c=0,h=e.getDay(),q=d.getDay(),a=parseInt(b/7),d=b%7,e=new j(e);e.setDate(e.getDate()+7*a);e=e.getDay();if(0<b)switch(!0){case 5==h:c=-1;break;case 6==h:c=0;break;
case 5==q:c=-1;break;case 6==q:c=-2;break;case 5<e+d:c=-2}else if(0>b)switch(!0){case 5==h:c=0;break;case 6==h:c=1;break;case 5==q:c=2;break;case 6==q:c=1;break;case 0>e+d:c=2}b=b+c-2*a}a=b;break;case "year":a=b;break;case "month":c=d.toGregorian()>e.toGregorian()?d:e;h=d.toGregorian()>e.toGregorian()?e:d;a=c.getMonth();q=h.getMonth();if(0==b)a=c.getMonth()-h.getMonth();else{a=12-q+a;b=h.getFullYear()+1;for(c=c.getFullYear();b<c;b++)a+=12}d.toGregorian()<e.toGregorian()&&(a=-a);break;case "week":a=
parseInt(f.difference(e,d,"day")/7);break;case "day":a/=24;case "hour":a/=60;case "minute":a/=60;case "second":a/=1E3;case "millisecond":a*=d.toGregorian().getTime()-e.toGregorian().getTime()}return Math.round(a)};return f})},"dojo/_base/xhr":function(){define("./kernel,./sniff,require,../io-query,../dom,../dom-form,./Deferred,./config,./json,./lang,./array,../on,../aspect,../request/watch,../request/xhr,../request/util".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r){l._xhrObj=s._create;var t=
l.config;l.objectToQuery=j.objectToQuery;l.queryToObject=j.queryToObject;l.fieldToObject=e.fieldToObject;l.formToObject=e.toObject;l.formToQuery=e.toQuery;l.formToJson=e.toJson;l._blockAsync=!1;var w=l._contentHandlers=l.contentHandlers={text:function(a){return a.responseText},json:function(a){return b.fromJson(a.responseText||null)},"json-comment-filtered":function(a){c.useCommentedJson||console.warn("Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}&&\nUse djConfig.useCommentedJson=true to turn off this message.");
var a=a.responseText,h=a.indexOf("/*"),r=a.lastIndexOf("*/");if(-1==h||-1==r)throw Error("JSON was not comment filtered");return b.fromJson(a.substring(h+2,r))},javascript:function(a){return l.eval(a.responseText)},xml:function(a){var b=a.responseXML;b&&m("dom-qsa2.1")&&!b.querySelectorAll&&m("dom-parser")&&(b=(new DOMParser).parseFromString(a.responseText,"application/xml"));if(m("ie")&&(!b||!b.documentElement)){var c=function(a){return"MSXML"+a+".DOMDocument"},c=["Microsoft.XMLDOM",c(6),c(4),c(3),
c(2)];h.some(c,function(c){try{var h=new ActiveXObject(c);h.async=!1;h.loadXML(a.responseText);b=h}catch(r){return!1}return!0})}return b},"json-comment-optional":function(a){return a.responseText&&/^[^{\[]*\/\*/.test(a.responseText)?w["json-comment-filtered"](a):w.json(a)}};l._ioSetArgs=function(b,c,h,r){var n={args:b,url:b.url},o=null;if(b.form){var o=f.byId(b.form),s=o.getAttributeNode("action");n.url=n.url||(s?s.value:null);o=e.toObject(o)}s=[{}];o&&s.push(o);b.content&&s.push(b.content);b.preventCache&&
s.push({"dojo.preventCache":(new Date).valueOf()});n.query=j.objectToQuery(a.mixin.apply(null,s));n.handleAs=b.handleAs||"text";var q=new d(function(a){a.canceled=!0;c&&c(a);var b=a.ioArgs.error;if(!b)b=Error("request cancelled"),b.dojoType="cancel",a.ioArgs.error=b;return b});q.addCallback(h);var v=b.load;v&&a.isFunction(v)&&q.addCallback(function(a){return v.call(b,a,n)});var x=b.error;x&&a.isFunction(x)&&q.addErrback(function(a){return x.call(b,a,n)});var w=b.handle;w&&a.isFunction(w)&&q.addBoth(function(a){return w.call(b,
a,n)});q.addErrback(function(a){return r(a,q)});t.ioPublish&&l.publish&&!1!==n.args.ioPublish&&(q.addCallbacks(function(a){l.publish("/dojo/io/load",[q,a]);return a},function(a){l.publish("/dojo/io/error",[q,a]);return a}),q.addBoth(function(a){l.publish("/dojo/io/done",[q,a]);return a}));q.ioArgs=n;return q};var u=function(a){a=w[a.ioArgs.handleAs](a.ioArgs.xhr);return void 0===a?null:a},x=function(a,b){b.ioArgs.args.failOk||console.error(a);return a},v=function(a){0>=y&&(y=0,t.ioPublish&&l.publish&&
(!a||a&&!1!==a.ioArgs.args.ioPublish)&&l.publish("/dojo/io/stop"))},y=0;o.after(n,"_onAction",function(){y-=1});o.after(n,"_onInFlight",v);l._ioCancelAll=n.cancelAll;l._ioNotifyStart=function(a){t.ioPublish&&l.publish&&!1!==a.ioArgs.args.ioPublish&&(y||l.publish("/dojo/io/start"),y+=1,l.publish("/dojo/io/send",[a]))};l._ioWatch=function(b,c,h,r){b.ioArgs.options=b.ioArgs.args;a.mixin(b,{response:b.ioArgs,isValid:function(){return c(b)},isReady:function(){return h(b)},handleResponse:function(){return r(b)}});
n(b);v(b)};l._ioAddQueryToUrl=function(a){if(a.query.length)a.url+=(-1==a.url.indexOf("?")?"?":"&")+a.query,a.query=null};l.xhr=function(a,b,c){var h,r=l._ioSetArgs(b,function(){h&&h.cancel()},u,x),d=r.ioArgs;"postData"in b?d.query=b.postData:"putData"in b?d.query=b.putData:"rawBody"in b?d.query=b.rawBody:(2<arguments.length&&!c||-1==="POST|PUT".indexOf(a.toUpperCase()))&&l._ioAddQueryToUrl(d);var n={method:a,handleAs:"text",timeout:b.timeout,withCredentials:b.withCredentials,ioArgs:d};if("undefined"!==
typeof b.headers)n.headers=b.headers;if("undefined"!==typeof b.contentType){if(!n.headers)n.headers={};n.headers["Content-Type"]=b.contentType}if("undefined"!==typeof d.query)n.data=d.query;if("undefined"!==typeof b.sync)n.sync=b.sync;l._ioNotifyStart(r);try{h=s(d.url,n,!0)}catch(o){return r.cancel(),r}r.ioArgs.xhr=h.response.xhr;h.then(function(){r.resolve(r)}).otherwise(function(a){d.error=a;if(a.response)a.status=a.response.status,a.responseText=a.response.text,a.xhr=a.response.xhr;r.reject(a)});
return r};l.xhrGet=function(a){return l.xhr("GET",a)};l.rawXhrPost=l.xhrPost=function(a){return l.xhr("POST",a,!0)};l.rawXhrPut=l.xhrPut=function(a){return l.xhr("PUT",a,!0)};l.xhrDelete=function(a){return l.xhr("DELETE",a)};l._isDocumentOk=function(a){return r.checkStatus(a.status)};l._getText=function(a){var b;l.xhrGet({url:a,sync:!0,load:function(a){b=a}});return b};a.mixin(l.xhr,{_xhrObj:l._xhrObj,fieldToObject:e.fieldToObject,formToObject:e.toObject,objectToQuery:j.objectToQuery,formToQuery:e.toQuery,
formToJson:e.toJson,queryToObject:j.queryToObject,contentHandlers:w,_ioSetArgs:l._ioSetArgs,_ioCancelAll:l._ioCancelAll,_ioNotifyStart:l._ioNotifyStart,_ioWatch:l._ioWatch,_ioAddQueryToUrl:l._ioAddQueryToUrl,_isDocumentOk:l._isDocumentOk,_getText:l._getText,get:l.xhrGet,post:l.xhrPost,put:l.xhrPut,del:l.xhrDelete});return l.xhr})},"dijit/MenuSeparator":function(){require({cache:{"url:dijit/templates/MenuSeparator.html":'<tr class="dijitMenuSeparator" role="separator">\n\t<td class="dijitMenuSeparatorIconCell">\n\t\t<div class="dijitMenuSeparatorTop"></div>\n\t\t<div class="dijitMenuSeparatorBottom"></div>\n\t</td>\n\t<td colspan="3" class="dijitMenuSeparatorLabelCell">\n\t\t<div class="dijitMenuSeparatorTop dijitMenuSeparatorLabel"></div>\n\t\t<div class="dijitMenuSeparatorBottom"></div>\n\t</td>\n</tr>'}});
define("dijit/MenuSeparator","dojo/_base/declare,dojo/dom,./_WidgetBase,./_TemplatedMixin,./_Contained,dojo/text!./templates/MenuSeparator.html".split(","),function(l,m,k,j,f,e){return l("dijit.MenuSeparator",[k,j,f],{templateString:e,buildRendering:function(){this.inherited(arguments);m.setSelectable(this.domNode,!1)},isFocusable:function(){return!1}})})},"dijit/CalendarLite":function(){require({cache:{"url:dijit/templates/Calendar.html":'<table cellspacing="0" cellpadding="0" class="dijitCalendarContainer" role="grid" aria-labelledby="${id}_mddb ${id}_year" data-dojo-attach-point="gridNode">\n\t<thead>\n\t\t<tr class="dijitReset dijitCalendarMonthContainer" valign="top">\n\t\t\t<th class=\'dijitReset dijitCalendarArrow\' data-dojo-attach-point="decrementMonth" scope="col">\n\t\t\t\t<img src="${_blankGif}" alt="" class="dijitCalendarIncrementControl dijitCalendarDecrease" role="presentation"/>\n\t\t\t\t<span data-dojo-attach-point="decreaseArrowNode" class="dijitA11ySideArrow">-</span>\n\t\t\t</th>\n\t\t\t<th class=\'dijitReset\' colspan="5" scope="col">\n\t\t\t\t<div data-dojo-attach-point="monthNode">\n\t\t\t\t</div>\n\t\t\t</th>\n\t\t\t<th class=\'dijitReset dijitCalendarArrow\' scope="col" data-dojo-attach-point="incrementMonth">\n\t\t\t\t<img src="${_blankGif}" alt="" class="dijitCalendarIncrementControl dijitCalendarIncrease" role="presentation"/>\n\t\t\t\t<span data-dojo-attach-point="increaseArrowNode" class="dijitA11ySideArrow">+</span>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr role="row">\n\t\t\t${!dayCellsHtml}\n\t\t</tr>\n\t</thead>\n\t<tbody data-dojo-attach-point="dateRowsNode" data-dojo-attach-event="onclick: _onDayClick" class="dijitReset dijitCalendarBodyContainer">\n\t\t\t${!dateRowsHtml}\n\t</tbody>\n\t<tfoot class="dijitReset dijitCalendarYearContainer">\n\t\t<tr>\n\t\t\t<td class=\'dijitReset\' valign="top" colspan="7" role="presentation">\n\t\t\t\t<div class="dijitCalendarYearLabel">\n\t\t\t\t\t<span data-dojo-attach-point="previousYearLabelNode" class="dijitInline dijitCalendarPreviousYear" role="button"></span>\n\t\t\t\t\t<span data-dojo-attach-point="currentYearLabelNode" class="dijitInline dijitCalendarSelectedYear" role="button" id="${id}_year"></span>\n\t\t\t\t\t<span data-dojo-attach-point="nextYearLabelNode" class="dijitInline dijitCalendarNextYear" role="button"></span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tfoot>\n</table>\n'}});
define("dijit/CalendarLite","dojo/_base/array,dojo/_base/declare,dojo/cldr/supplemental,dojo/date,dojo/date/locale,dojo/date/stamp,dojo/dom,dojo/dom-class,dojo/_base/event,dojo/_base/lang,dojo/sniff,dojo/string,./_WidgetBase,./_TemplatedMixin,dojo/text!./templates/Calendar.html,./hccss".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s){var r=m("dijit.CalendarLite",[o,n],{templateString:s,dowTemplateString:'<th class="dijitReset dijitCalendarDayLabelTemplate" role="columnheader" scope="col"><span class="dijitCalendarDayLabel">${d}</span></th>',
dateTemplateString:'<td class="dijitReset" role="gridcell" data-dojo-attach-point="dateCells"><span class="dijitCalendarDateLabel" data-dojo-attach-point="dateLabels"></span></td>',weekTemplateString:'<tr class="dijitReset dijitCalendarWeekTemplate" role="row">${d}${d}${d}${d}${d}${d}${d}</tr>',value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",currentFocus:new Date,_setSummaryAttr:"gridNode",baseClass:"dijitCalendar",_isValidDate:function(a){return a&&!isNaN(a)&&"object"==typeof a&&
a.toString()!=this.constructor.prototype.value.toString()},_getValueAttr:function(){if(this.value&&!isNaN(this.value)){var a=new this.dateClassObj(this.value);a.setHours(0,0,0,0);a.getDate()<this.value.getDate()&&(a=this.dateModule.add(a,"hour",1));return a}return null},_setValueAttr:function(a,b){"string"==typeof a&&(a=e.fromISOString(a));a=this._patchDate(a);if(this._isValidDate(a)&&!this.isDisabledDate(a,this.lang)){if(this._set("value",a),this.set("currentFocus",a),this._markSelectedDates([a]),
this._created&&(b||"undefined"==typeof b))this.onChange(this.get("value"))}else this._set("value",null),this._markSelectedDates([])},_patchDate:function(a){a&&(a=new this.dateClassObj(a),a.setHours(1,0,0,0));return a},_setText:function(a,b){for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(a.ownerDocument.createTextNode(b))},_populateGrid:function(){var a=new this.dateClassObj(this.currentFocus);a.setDate(1);var b=a.getDay(),c=this.dateModule.getDaysInMonth(a),h=this.dateModule.getDaysInMonth(this.dateModule.add(a,
"month",-1)),r=new this.dateClassObj,d=k.getFirstDayOfWeek(this.lang);d>b&&(d-=7);this.summary||this.gridNode.setAttribute("summary",this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a)[a.getMonth()]);this._date2cell={};l.forEach(this.dateCells,function(n,o){var s=o+d,q=new this.dateClassObj(a),e="dijitCalendar",f=0;s<b?(s=h-b+s+1,f=-1,e+="Previous"):s>=b+c?(s=s-b-c+1,f=1,e+="Next"):(s=s-b+1,e+="Current");f&&(q=this.dateModule.add(q,"month",f));q.setDate(s);this.dateModule.compare(q,
r,"date")||(e="dijitCalendarCurrentDate "+e);this.isDisabledDate(q,this.lang)?(e="dijitCalendarDisabledDate "+e,n.setAttribute("aria-disabled","true")):(e="dijitCalendarEnabledDate "+e,n.removeAttribute("aria-disabled"),n.setAttribute("aria-selected","false"));(f=this.getClassForDate(q,this.lang))&&(e=f+" "+e);n.className=e+"Month dijitCalendarDateTemplate";e=q.valueOf();this._date2cell[e]=n;n.dijitDateValue=e;this._setText(this.dateLabels[o],q.getDateLocalized?q.getDateLocalized(this.lang):q.getDate())},
this)},_populateControls:function(){var a=new this.dateClassObj(this.currentFocus);a.setDate(1);this.monthWidget.set("month",a);var b=a.getFullYear()-1,c=new this.dateClassObj;l.forEach(["previous","current","next"],function(a){c.setFullYear(b++);this._setText(this[a+"YearLabelNode"],this.dateLocaleModule.format(c,{selector:"year",locale:this.lang}))},this)},goToToday:function(){this.set("value",new this.dateClassObj)},constructor:function(b){this.dateModule=b.datePackage?a.getObject(b.datePackage,
!1):j;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=b.datePackage?a.getObject(b.datePackage+".locale",!1):f},_createMonthWidget:function(){return r._MonthWidget({id:this.id+"_mddb",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},buildRendering:function(){var a=this.dowTemplateString,b=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),c=k.getFirstDayOfWeek(this.lang);this.dayCellsHtml=q.substitute([a,a,a,a,a,a,a].join(""),{d:""},
function(){return b[c++%7]});a=q.substitute(this.weekTemplateString,{d:this.dateTemplateString});this.dateRowsHtml=[a,a,a,a,a,a].join("");this.dateCells=[];this.dateLabels=[];this.inherited(arguments);d.setSelectable(this.domNode,!1);a=new this.dateClassObj(this.currentFocus);this.monthWidget=this._createMonthWidget();this.set("currentFocus",a,!1)},postCreate:function(){this.inherited(arguments);this._connectControls()},_connectControls:function(){var b=a.hitch(this,function(a,b,c){this.connect(this[a],
"onclick",function(){this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,b,c))})});b("incrementMonth","month",1);b("decrementMonth","month",-1);b("nextYearLabelNode","year",1);b("previousYearLabelNode","year",-1)},_setCurrentFocusAttr:function(a,b){var c=this.currentFocus,r=this._getNodeByDate(c),a=this._patchDate(a);this._set("currentFocus",a);if(!this._date2cell||0!=this.dateModule.difference(c,a,"month"))this._populateGrid(),this._populateControls(),this._markSelectedDates([this.value]);
c=this._getNodeByDate(a);c.setAttribute("tabIndex",this.tabIndex);(this.focused||b)&&c.focus();r&&r!=c&&(h("webkit")?r.setAttribute("tabIndex","-1"):r.removeAttribute("tabIndex"))},focus:function(){this._setCurrentFocusAttr(this.currentFocus,!0)},_onDayClick:function(a){b.stop(a);for(a=a.target;a&&!a.dijitDateValue;a=a.parentNode);a&&!c.contains(a,"dijitCalendarDisabledDate")&&this.set("value",a.dijitDateValue)},_getNodeByDate:function(a){return(a=this._patchDate(a))&&this._date2cell?this._date2cell[a.valueOf()]:
null},_markSelectedDates:function(b){function h(a,b){c.toggle(b,"dijitCalendarSelectedDate",a);b.setAttribute("aria-selected",a?"true":"false")}l.forEach(this._selectedCells||[],a.partial(h,!1));this._selectedCells=l.filter(l.map(b,this._getNodeByDate,this),function(a){return a});l.forEach(this._selectedCells,a.partial(h,!0))},onChange:function(){},isDisabledDate:function(){},getClassForDate:function(){}});r._MonthWidget=m("dijit.CalendarLite._MonthWidget",o,{_setMonthAttr:function(a){var b=this.dateLocaleModule.getNames("months",
"wide","standAlone",this.lang,a);this.domNode.innerHTML=(6==h("ie")?"":"<div class='dijitSpacer'>"+l.map(b,function(a){return"<div>"+a+"</div>"}).join("")+"</div>")+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+b[a.getMonth()]+"</div>"}});return r})},"dojo/Evented":function(){define(["./aspect","./on"],function(l,m){function k(){}var j=l.after;k.prototype={on:function(f,e){return m.parse(this,f,e,function(d,c){return j(d,"on"+c,e,!0)})},emit:function(f,e){var d=[this];d.push.apply(d,
arguments);return m.emit.apply(m,d)}};return k})},"dijit/hccss":function(){define("dijit/hccss",["dojo/dom-class","dojo/hccss","dojo/ready","dojo/_base/window"],function(l,m,k,j){k(90,function(){m("highcontrast")&&l.add(j.body(),"dijit_a11y")});return m})},"dijit/form/_FormSelectWidget":function(){define("dijit/form/_FormSelectWidget","dojo/_base/array,dojo/_base/Deferred,dojo/aspect,dojo/data/util/sorter,dojo/_base/declare,dojo/dom,dojo/dom-class,dojo/_base/kernel,dojo/_base/lang,dojo/query,dojo/when,dojo/store/util/QueryResults,./_FormValueWidget".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o){return f("dijit.form._FormSelectWidget",o,{multiple:!1,options:null,store:null,query:null,queryOptions:null,labelAttr:"",onFetch:null,sortByLabel:!0,loadChildrenOnOpen:!1,onLoadDeferred:null,getOptions:function(a){var c=this.options||[];if(null==a)return c;if(b.isArray(a))return l.map(a,"return this.getOptions(item);",this);b.isString(a)&&(a={value:a});b.isObject(a)&&(l.some(c,function(b,c){for(var h in a)if(!(h in b)||b[h]!=a[h])return!1;a=c;return!0})||(a=-1));
return 0<=a&&a<c.length?c[a]:null},addOption:function(a){l.forEach([].concat(a),function(a){a&&b.isObject(a)&&this.options.push(a)},this);this._loadChildren()},removeOption:function(a){a=this.getOptions([].concat(a));l.forEach(a,function(a){if(a)this.options=l.filter(this.options,function(b){return b.value!==a.value||b.label!==a.label}),this._removeOptionItem(a)},this);this._loadChildren()},updateOption:function(a){l.forEach([].concat(a),function(a){var b=this.getOptions({value:a.value}),c;if(b)for(c in a)b[c]=
a[c]},this);this._loadChildren()},setStore:function(a,c,r){var d=this.store,r=r||{};if(d!==a){for(var o;o=this._notifyConnections.pop();)o.remove();if(!a.get&&(b.mixin(a,{_oldAPI:!0,get:function(a){var b=new m;this.fetchItemByIdentity({identity:a,onItem:function(a){b.resolve(a)},onError:function(a){b.reject(a)}});return b.promise},query:function(a,c){var h=new m(function(){r.abort&&r.abort()});h.total=new m;var r=this.fetch(b.mixin({query:a,onBegin:function(a){h.total.resolve(a)},onComplete:function(a){h.resolve(a)},
onError:function(a){h.reject(a)}},c));return new q(h)}}),a.getFeatures()["dojo.data.api.Notification"]))this._notifyConnections=[k.after(a,"onNew",b.hitch(this,"_onNewItem"),!0),k.after(a,"onDelete",b.hitch(this,"_onDeleteItem"),!0),k.after(a,"onSet",b.hitch(this,"_onSetItem"),!0)];this._set("store",a)}this.options&&this.options.length&&this.removeOption(this.options);this._queryRes&&this._queryRes.close&&this._queryRes.close();r.query&&(this._set("query",r.query),this._set("queryOptions",r.queryOptions));
if(a)this._loadingStore=!0,this.onLoadDeferred=new m,this._queryRes=a.query(this.query,this.queryOptions),h(this._queryRes,b.hitch(this,function(h){if(this.sortByLabel&&!r.sort&&h.length)if(a.getValue)h.sort(j.createSortFunction([{attribute:a.getLabelAttributes(h[0])[0]}],a));else{var d=this.labelAttr;h.sort(function(a,b){return a[d]>b[d]?1:b[d]>a[d]?-1:0})}r.onFetch&&(h=r.onFetch.call(this,h,r));l.forEach(h,function(a){this._addOptionForItem(a)},this);this._queryRes.observe&&this._queryRes.observe(b.hitch(this,
function(a,b,c){b==c?this._onSetItem(a):(-1!=b&&this._onDeleteItem(a),-1!=c&&this._onNewItem(a))}),!0);this._loadingStore=!1;this.set("value","_pendingValue"in this?this._pendingValue:c);delete this._pendingValue;this.loadChildrenOnOpen?this._pseudoLoadChildren(h):this._loadChildren();this.onLoadDeferred.resolve(!0);this.onSetStore()}),function(a){console.error("dijit.form.Select: "+a.toString());this.onLoadDeferred.reject(a)});return d},_setValueAttr:function(a,c){this._onChangeActive||(c=null);
if(this._loadingStore)this._pendingValue=a;else if(null!=a){var a=b.isArray(a)?l.map(a,function(a){return b.isObject(a)?a:{value:a}}):b.isObject(a)?[a]:[{value:a}],a=l.filter(this.getOptions(a),function(a){return a&&a.value}),h=this.getOptions()||[];if(!this.multiple&&(!a[0]||!a[0].value)&&h.length)a[0]=h[0];l.forEach(h,function(b){b.selected=l.some(a,function(a){return a.value===b.value})});h=l.map(a,function(a){return a.value});if(!("undefined"==typeof h||"undefined"==typeof h[0])){var d=l.map(a,
function(a){return a.label});this._setDisplay(this.multiple?d:d[0]);this.inherited(arguments,[this.multiple?h:h[0],c]);this._updateSelection()}}},_getDisplayedValueAttr:function(){var a=l.map([].concat(this.get("selectedOptions")),function(a){return a&&"label"in a?a.label:a?a.value:null},this);return this.multiple?a:a[0]},_setDisplayedValueAttr:function(a){this.set("value",this.getOptions("string"==typeof a?{label:a}:a))},_loadChildren:function(){this._loadingStore||(l.forEach(this._getChildren(),
function(a){a.destroyRecursive()}),l.forEach(this.options,this._addOptionItem,this),this._updateSelection())},_updateSelection:function(){this._set("value",this._getValueFromOpts());var a=[].concat(this.value);a&&a[0]&&l.forEach(this._getChildren(),function(b){var c=l.some(a,function(a){return b.option&&a===b.option.value});d.toggle(b.domNode,this.baseClass.replace(/\s+|$/g,"SelectedOption "),c);b.domNode.setAttribute("aria-selected",c?"true":"false")},this)},_getValueFromOpts:function(){var a=this.getOptions()||
[];if(!this.multiple&&a.length){var b=l.filter(a,function(a){return a.selected})[0];if(b&&b.value)return b.value;a[0].selected=!0;return a[0].value}return this.multiple?l.map(l.filter(a,function(a){return a.selected}),function(a){return a.value})||[]:""},_onNewItem:function(a,b){(!b||!b.parent)&&this._addOptionForItem(a)},_onDeleteItem:function(a){this.removeOption({value:this.store.getIdentity(a)})},_onSetItem:function(a){this.updateOption(this._getOptionObjForItem(a))},_getOptionObjForItem:function(a){var b=
this.store,c=this.labelAttr&&this.labelAttr in a?a[this.labelAttr]:b.getLabel(a);return{value:c?b.getIdentity(a):null,label:c,item:a}},_addOptionForItem:function(a){var b=this.store;b.isItemLoaded&&!b.isItemLoaded(a)?b.loadItem({item:a,onItem:function(a){this._addOptionForItem(a)},scope:this}):this.addOption(this._getOptionObjForItem(a))},constructor:function(a){this._oValue=(a||{}).value||null;this._notifyConnections=[]},buildRendering:function(){this.inherited(arguments);e.setSelectable(this.focusNode,
!1)},_fillContent:function(){if(!this.options)this.options=this.srcNodeRef?a("> *",this.srcNodeRef).map(function(a){return"separator"===a.getAttribute("type")?{value:"",label:"",selected:!1,disabled:!1}:{value:a.getAttribute("data-"+c._scopeName+"-value")||a.getAttribute("value"),label:""+a.innerHTML,selected:a.getAttribute("selected")||!1,disabled:a.getAttribute("disabled")||!1}},this):[];this.value?this.multiple&&"string"==typeof this.value&&this._set("value",this.value.split(",")):this._set("value",
this._getValueFromOpts())},postCreate:function(){this.inherited(arguments);k.after(this,"onChange",b.hitch(this,"_updateSelection"));var a=this.store;if(a&&(a.getIdentity||a.getFeatures()["dojo.data.api.Identity"]))this.store=null,this.setStore(a,this._oValue)},startup:function(){this._loadChildren();this.inherited(arguments)},destroy:function(){for(var a;a=this._notifyConnections.pop();)a.remove();this._queryRes&&this._queryRes.close&&this._queryRes.close();this.inherited(arguments)},_addOptionItem:function(){},
_removeOptionItem:function(){},_setDisplay:function(){},_getChildren:function(){return[]},_getSelectedOptionsAttr:function(){return this.getOptions({selected:!0})},_pseudoLoadChildren:function(){},onSetStore:function(){}})})},"dojo/_base/NodeList":function(){define("dojo/_base/NodeList",["./kernel","../query","./array","./html","../NodeList-dom"],function(l,m,k){var m=m.NodeList,j=m.prototype;j.connect=m._adaptAsForEach(function(){return l.connect.apply(this,arguments)});j.coords=m._adaptAsMap(l.coords);
m.events="blur,focus,change,click,error,keydown,keypress,keyup,load,mousedown,mouseenter,mouseleave,mousemove,mouseout,mouseover,mouseup,submit".split(",");k.forEach(m.events,function(f){var e="on"+f;j[e]=function(d,c){return this.connect(e,d,c)}});return l.NodeList=m})},"deploy/widgets/component/RunComponentProcess":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/array,dojo/_base/declare,dojo/_base/lang,js/webext/widgets/Alert,js/webext/widgets/ColumnForm,js/webext/widgets/RestSelect".split(","),
function(l,m,k,j,f,e,d,c){return j("deploy.widgets.component.RunComponentProcess",[m,l],{templateString:'<div class="deploy">  <div data-dojo-attach-point="formAttach"></div></div>',postCreate:function(){this.inherited(arguments);var b=this;this.componentProcessProperties=void 0;this.form=new d({submitUrl:bootstrap.restUrl+"deploy/component/"+this.component.id+"/runProcess",addData:function(a){a.properties={};void 0!==b.selectedComponentProcess&&k.forEach(b.selectedComponentProcess.unfilledProperties,
function(b){a.properties[b.name]=a["p_"+b.name]})},postSubmit:function(a){void 0!==b.callback&&b.callback();navBar.setHash("componentProcessRequest/"+a.requestId+"/log",!1,!0)},onCancel:function(){void 0!==b.callback&&b.callback()},onError:function(a){void 0!==b.callback&&b.callback();new e({title:i18n("Error"),messages:[i18n("An error has occurred while starting the component process:"),"",util.escape(a.responseText)]})},saveLabel:i18n("Submit")});b.form.addField({name:"environmentId",label:i18n("Environment"),
required:!0,type:"TableFilterSelect",url:bootstrap.restUrl+"deploy/environment",allowNone:!1,defaultQuery:{outputType:["BASIC","LINKED","SECURITY"],filterFields:["application.id","active"],"filterType_application.id":"eq","filterValue_application.id":b.application.id,filterType_active:"eq",filterValue_active:!0,filterClass_active:"Boolean"},onChange:function(a,d){if(d){b.hasResourceField&&b.form.removeField("resourceId");b.hasResourceField=!0;var o=new c({restUrl:bootstrap.restUrl+"deploy/environment/"+
d.id+"/executableResourcesForComponent/"+b.component.id,getLabel:function(a){return a.path},allowNone:!1,noDataMessage:i18n("No resources for component mapped to environment")});b.form.addField({name:"resourceId",label:i18n("Resource"),required:!0,widget:o},"componentProcessId")}}});var a=new c({restUrl:bootstrap.restUrl+"deploy/component/"+b.component.id+"/executableProcesses",getLabel:function(a){var b=a.name;a.componentTemplate&&(b+=i18n(" (Template)"));return b},allowNone:!1,noDataMessage:i18n("No processes on component"),
onChange:function(a,c){b.selectedComponentProcess=c;k.forEach(b.extraFieldNames,function(a){b.form.removeField(a)});b.extraFieldNames=[];c&&(c.takesVersion&&(b.extraFieldNames.push("versionId"),b.form.addField({name:"versionId",type:"TableFilterSelect",allowNone:!1,url:bootstrap.restUrl+"deploy/version",required:!0,label:i18n("Version"),defaultQuery:{filterFields:["component.id","active"],filterType_active:"eq",filterValue_active:!0,filterClass_active:"Boolean","filterType_component.id":"eq","filterValue_component.id":b.component.id,
orderField:"dateCreated",sortType:"desc"}})),k.forEach(c.unfilledProperties,function(a){var c="p_"+a.name;b.extraFieldNames.push(c);var h=f.clone(a);h.name=c;h.context={component:b.component};if(a.description)h.description=a.description.escape();b.form.addField(h)}))}});b.form.addField({name:"componentProcessId",label:i18n("Process"),required:!0,widget:a});this.form.placeAt(this.formAttach)}})})},"idx/string":function(){define("idx/string",["dojo/_base/lang","idx/main","dojo/string"],function(l,m,
k){m=l.getObject("string",!0,m);m.startsWith=function(j,f){return l.isString(j)&&l.isString(f)&&0===j.indexOf(f)};m.endsWith=function(j,f){return l.isString(j)&&l.isString(f)&&j.indexOf(f)===j.length-f.length};m.equalsIgnoreCase=function(j,f){return l.isString(j)&&l.isString(f)&&j.toLowerCase()===f.toLowerCase()};m.isNumber=function(j){return"number"==typeof j&&isFinite(j)};m.nullTrim=function(j){if(!j)return null;j=k.trim(j);return 0==j.length?null:j};m.propToLabel=function(j){if(!j)return j;for(var j=
k.trim(j),f=j.toUpperCase(),e=j.toLowerCase(),d=0,c="",b="",a=!1,h=!1,d=0;d<j.length;d++){var q=f.charAt(d),o=e.charAt(d),n=j.charAt(d),s=q==n&&o!=n,r=o==n&&q!=n;if("_"==n||" "==n)" "!=b&&(b=" ",a=s,h=r,c+=b);else if("."==n)b="/",a=s,h=r,c=c+" "+b+" ";else if(0==d||" "==b)b=q,a=s,h=r,c+=b;else if(!s&&!r){if(a||h)c+=" ";a=s;h=r;b=n;c+=b}else!a&&!h?(o="/"==b,a=s,h=r,b=q,c=o?c+b:c+" "+b):s&&h?(b=q,a=s,h=r,c=c+" "+b):(b=o,a=s,h=r,c+=b)}return c};return m})},"deploy/widgets/application/ApplicationRequestHistory":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/dom-construct,dojo/on,deploy/widgets/Formatters,js/webext/widgets/table/TreeTable".split(","),
function(l,m,k,j,f,e,d){return k("deploy.widgets.application.ApplicationRequestHistory",[m,l],{templateString:'<div class="applicationRequestHistory"><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var c=[{name:i18n("Process"),formatter:function(b){b.applicationProcess.application=b.application;return e.applicationProcessLinkFormatter(b.applicationProcess)}},{name:i18n("Environment"),formatter:function(b){return e.environmentLinkFormatter(b.environment)}},
{name:i18n("Snapshot"),formatter:function(b){return e.snapshotLinkFormatter(b.snapshot)}},{name:i18n("Scheduled For"),field:"calendarEntry.scheduledDate",formatter:function(b){return util.dateFormatShort(b.entry.scheduledDate)},orderField:"calendarEntry.scheduledDate"},{name:i18n("By"),field:"userName"},{name:i18n("Status"),formatter:function(b,a,c){return e.requestStatusFormatter(b,a,c)}},{name:i18n("Actions"),formatter:function(b){var a=document.createElement("div"),c=b.environment.security;if(!c||
c.read)c=document.createElement("a"),c.className="actionsLink",c.innerHTML=i18n("View Request"),c.href="#applicationProcessRequest/"+b.id,a.appendChild(c);return a}}];this.grid=new d({url:bootstrap.restUrl+"deploy/applicationProcessRequest/table",baseFilters:[{name:"application.id",type:"eq",className:"UUID",values:[appState.application.id]}],columns:c,orderField:"calendarEntry.scheduledDate",sortType:"desc",tableConfigKey:"applicationProcessHistory"+appState.application.id,noDataMessage:i18n("No process history found for this application."),
hideExpandCollapse:!0,hidePagination:!1,queryData:{outputType:["BASIC","LINKED"]}});this.grid.placeAt(this.gridAttach)},destroy:function(){this.inherited(arguments);this.grid.destroy()}})})},"deploy/widgets/navigation/Processes":function(){define(["dojo/_base/kernel","dojox/html/entities"],function(l,m){l.provide("deploy.widgets.navigation.Processes");config.data.tabSets.push({id:"process",hashPattern:["process","processVersion","tab","navData"],breadcrumbs:["home","topLevelTab","process"],selectedTopLevelTab:"processes",
getDetailTitle:function(){return i18n("Process: %s",appState.process.name.escape())},getDetailFields:function(){var k=[];k.push({label:i18n("Version"),value:i18n("%s of %s",appState.process.version,appState.process.versionCount)});k.push({label:"",value:util.vc.generateVersionControls(appState.process,function(j){return"process/"+appState.process.id+"/"+j})});return k},getDetailDescription:function(){return m.encode(appState.process.description)},stateCalls:[{targetAppStateEntry:"process",getUrl:function(k,
j){j.processVersion={id:k.processVersion};return bootstrap.restUrl+"process/"+k.process+"/"+k.processVersion}},{getUrl:function(k,j){j.goBack={id:k.navData}}}],defaultTab:"dashboard",tabs:[{id:"dashboard",label:i18n("Dashboard"),view:"deploy/views/process/processDashboard"},{id:"design",label:i18n("Design"),view:"deploy/views/process/processActivities"},{id:"configuration",label:i18n("Configuration"),className:"configurationTab",view:"deploy/views/process/processConfiguration"},{id:"changelog",label:i18n("Changelog"),
view:"deploy/views/process/processChangelog"}]});require(["dojo/_base/array","dojo/_base/url","dojo/dom-construct"],function(k,j,f){config.data.tabSets.push({id:"processRequest",hashPattern:["processRequest","tab"],breadcrumbs:["home","topLevelTab","process","processRequest"],selectedTopLevelTab:"processes",getDetailTitle:function(){return i18n("Execution of %s",m.encode(appState.process.name))},getDetailFields:function(){var e=[];e.push({label:i18n("Date"),value:util.dateFormatShort(appState.processRequest.submittedTime)});
e.push({label:i18n("Requested By"),value:m.encode(appState.processRequest.userName)});var d=util.getNamedPropertyValue(appState.processRequest.contextProperties,"parentRequestId");d&&e.push({label:"",value:'<a href="#processRequest/'+d+'">'+i18n("View Parent Request")+"</a>"});k.forEach(appState.processRequest.contextProperties,function(c){if(0===c.name.indexOf("link:")){var b=c.name.substring(5),c=c.value;(new j(c)).scheme||(c="http://"+c);b=f.create("a",{innerHTML:b.escape(),href:c,target:"_blank"});
e.push({value:b})}});return e},stateCalls:[{targetAppStateEntry:"processRequest",getUrl:function(e){return bootstrap.restUrl+"process/request/"+e.processRequest},postGet:function(e,d){d.process=e.process}}],defaultTab:"log",tabs:[{id:"log",label:i18n("Log"),view:"deploy/views/process/request/executionLog"},{id:"properties",label:i18n("Properties"),view:"deploy/views/process/request/requestProperties"}]})});config.data.breadcrumbItems.push({id:"process",getHash:function(){return"process/"+appState.process.id+
"/"+appState.process.version},isUserData:!0,getLabel:function(){return m.encode(appState.process.name)}});config.data.breadcrumbItems.push({id:"processRequest",getHash:function(){return"processRequest/"+appState.process.id},isUserData:!1,getLabel:function(){return i18n("Process Request")}})})},"deploy/widgets/environmentTemplate/EnvironmentTemplateResourceTemplate":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dojo/_base/declare,dojo/_base/lang,dojo/_base/xhr,deploy/widgets/resourceTemplate/ResourceTemplateEditManager,js/webext/widgets/Alert,js/webext/widgets/ColumnForm".split(","),
function(l,m,k,j,f,e,d,c,b){return j("deploy.widgets.environmentTemplate.EnvironmentTemplateResourceTemplate",[m,l],{templateString:'<div class="environmentTemplateResources"><div data-dojo-attach-point="optionsAttach" style="display:inline-block;" class="environmentTemplateResource-options"></div><div data-dojo-attach-point="errorMessageAttach" style="display: none;" class="pageAlerts"><div class="pageAlert highPriority">'+i18n("You do not have sufficient security permissions. Please contact your server administrator.")+
'</div></div><div data-dojo-attach-point="buttonAttach" style="display:inline-block; margin-left: 15px;"></div><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.showOptions();this.showTable()},showOptions:function(){var a=this;a.selectedTemplate=a.environmentTemplate.resourceTemplate;a.readOnly=appState.environmentTemplate.version!==appState.environmentTemplate.versionCount||!a.environmentTemplate.security["Edit Basic Settings"];a.form=new b({submitUrl:bootstrap.restUrl+
"deploy/environmentTemplate",readOnly:a.readOnly,showButtons:!1,postSubmit:function(){a.destroyTable();a.showTable()},addData:function(b){a.environmentTemplate.resourceTemplate=b.resourceTemplate;f.mixin(b,a.environmentTemplate);b.existingId=a.environmentTemplate.id},onError:function(a){a.responseText&&new c({message:util.escape(a.responseText)})}});var h=!0;a.form.addField({name:"resourceTemplate",label:i18n("Resource Template"),type:"TableFilterSelect",value:a.environmentTemplate.resourceTemplateId,
url:bootstrap.restUrl+"resource/resourceTemplate",onChange:function(b,c){if(!h)a.selectedTemplate=c,a.destroyTable(),a.showTable(),a.showUpdateTemplateButton();h=!1}});a.form.placeAt(a.optionsAttach)},showTable:function(){var a=this;a.errorMessageAttach.style.display="none";e.get({url:bootstrap.restUrl+"resource/resourceTemplate/"+a.environmentTemplate.resourceTemplateId,handleAs:"json",sync:!0,load:function(b){a.selectedTemplate=b;a.resourceTemplateEditManager=new d({resourceTemplate:a.selectedTemplate});
a.resourceTemplateEditManager.placeAt(a.gridAttach)},error:function(b){if(403===b.status)a.errorMessageAttach.style.display=""}})},destroyTable:function(){this.resourceTemplateEditManager&&this.resourceTemplateEditManager.destroy()},showUpdateTemplateButton:function(){var a=this;if(!a.updateTemplateButton)a.updateTemplateButton=new k({label:i18n("Update Resource Template"),showTitle:!1,onClick:function(){a.form.submitForm();a.hideUpdateTemplateButton()},baseClass:"dijitButton idxButtonSpecial"}),
a.updateTemplateButton.placeAt(a.buttonAttach)},hideUpdateTemplateButton:function(){this.updateTemplateButton.destroy();this.updateTemplateButton=null}})})},"dijit/form/_ListMouseMixin":function(){define("dijit/form/_ListMouseMixin",["dojo/_base/declare","dojo/mouse","dojo/on","dojo/touch","./_ListBase"],function(l,m,k,j,f){return l("dijit.form._ListMouseMixin",f,{postCreate:function(){this.inherited(arguments);this.own(k(this.domNode,j.press,function(e){e.preventDefault()}));this._listConnect(j.press,
"_onMouseDown");this._listConnect(j.release,"_onMouseUp");this._listConnect(m.enter,"_onMouseOver");this._listConnect(m.leave,"_onMouseOut")},_onMouseDown:function(e,d){if(this._hoveredNode)this.onUnhover(this._hoveredNode),this._hoveredNode=null;this._isDragging=!0;this._setSelectedAttr(d)},_onMouseUp:function(e,d){this._isDragging=!1;var c=this.selected,b=this._hoveredNode;if(c&&d==c)this.onClick(c);else b&&d==b&&(this._setSelectedAttr(b),this.onClick(b))},_onMouseOut:function(){if(this._hoveredNode)this.onUnhover(this._hoveredNode),
this._hoveredNode=null;if(this._isDragging)this._cancelDrag=(new Date).getTime()+1E3},_onMouseOver:function(e,d){if(this._cancelDrag){if((new Date).getTime()>this._cancelDrag)this._isDragging=!1;this._cancelDrag=null}this._hoveredNode=d;this.onHover(d);this._isDragging&&this._setSelectedAttr(d)}})})},"js/util/blocker/_IncrementBlockerMixin":function(){define("js/util/blocker/_IncrementBlockerMixin","dojo/_base/declare,dojo/dom-style,dojo/_base/fx,dojo/_base/lang,dojo/dom-construct,js/util/blocker/_BlockerMixin".split(","),
function(l,m,k,j,f,e){return l([e],{constructor:function(){this.blockCounter=0},blockIncrement:function(){0===this.blockCounter&&this.block();this.blockCounter+=1},blockDecrement:function(){this.blockCounter-=1;if(0>this.blockCounter)this.blockCounter=0;0===this.blockCounter&&this.unblock()}})})},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(l,m){return l("RequestTimeoutError",null,m,{dojoType:"timeout"})})},"deploy/widgets/snapshot/SnapshotTasks":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/dom-class,dojo/dom-construct,dojo/on,deploy/widgets/approval/TaskResponseDialog,js/webext/widgets/Dialog,js/webext/widgets/table/TreeTable".split(","),
function(l,m,k,j,f,e,d,c,b){return k("deploy.widgets.snapshot.SnapshotTasks",[m,l],{templateString:'<div class="snapshotTasks"><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var a=bootstrap.restUrl+"deploy/snapshot/"+this.snapshot.id+"/tasks",c=[{name:i18n("Name"),field:"name"},{name:i18n("Approval Process"),formatter:this.approvalProcessFormatter},{name:i18n("Target"),formatter:this.targetFormatter},{name:i18n("Status"),formatter:this.statusFormatter},
{name:i18n("Completed By"),formatter:this.completedByFormatter},{name:i18n("Actions"),formatter:this.actionsFormatter,parentWidget:this}];this.grid=new b({serverSideProcessing:!0,url:a,tableConfigKey:"snapshotTaskList",noDataMessage:i18n("No work items found."),columns:c});this.grid.parentWidget=this;this.grid.placeAt(this.gridAttach)},refresh:function(){this.grid.refresh()},approvalProcessFormatter:function(a){var b=document.createElement("a");b.href="#approval/"+a.approval.id;b.innerHTML=a.approval.name.escape();
return b},targetFormatter:function(a){var b="";switch(a.approvalType){case "APPLICATION":b=document.createElement("a");b.href="#application/"+a.application.id;b.innerHTML=a.application.name.escape();break;case "EACH_COMPONENT":b=document.createElement("a");b.href="#component/"+a.component.id;b.innerHTML=a.component.name.escape();break;case "ENVIRONMENT":b=document.createElement("a"),b.href="#environment/"+a.environment.id,b.innerHTML=a.environment.name.escape()}return b},statusFormatter:function(a,
b,c){c.style.textAlign="center";b="";switch(a.status){case "OPEN":j.add(c,"running-state-color");b=i18n("Open");break;case "CLOSED":j.add(c,"success-state-color");b=i18n("Complete");break;case "FAILED":j.add(c,"failed-state-color"),b=i18n("Failed")}return b},completedByFormatter:function(a){var b="";if(a.completedBy)b=a.completedBy,a.completedOn&&(b+=" ("+util.dateFormatShort(a.completedOn)+")");return b},actionsFormatter:function(a){var b=this.parentWidget,d=document.createElement("div");if(a.userCanModify&&
"OPEN"===a.status){var o=f.create("a",{innerHTML:i18n("Respond"),"class":"linkPointer actionsLink"},d);e(o,"click",function(){b.showApprovalDialog(a)})}else if(a.comment){o=f.create("a",{},d);e(o,"click",function(){var b=new c,h=document.createElement("div");h.innerHTML=a.comment.escape();b.containerNode.appendChild(h);h=document.createElement("div");h.innerHTML=" - "+a.completedBy+" ("+util.dateFormatShort(a.completedOn)+")";h.style.marginTop="8px";h.style.marginLeft="12px";b.containerNode.appendChild(h);
b.show()});var n=document.createElement("img");n.src=bootstrap.webextUrl+"images/webext/icons/icon_document_white.gif";n.title=i18n("Approval Log");n.style.margin="0px 2px";o.appendChild(n);d.appendChild(o)}return d},showApprovalDialog:function(a){var b=this;new d({task:a,callback:function(){b.grid.block();setTimeout(function(){b.grid.unblock();b.grid.refresh();if(void 0!==b.onTaskClose)b.onTaskClose()},1500)}})}})})},"dojo/date/locale":function(){define("../_base/lang,../_base/array,../date,../cldr/supplemental,../i18n,../regexp,../string,../i18n!../cldr/nls/gregorian,module".split(","),
function(l,m,k,j,f,e,d,c,b){function a(a,b,c,h){return h.replace(/([a-z])\1*/ig,function(n){var q,e,f=n.charAt(0),n=n.length,k=["abbr","wide","narrow"];switch(f){case "G":q=b[4>n?"eraAbbr":"eraNames"][0>a.getFullYear()?0:1];break;case "y":q=a.getFullYear();switch(n){case 1:break;case 2:if(!c.fullYear){q=""+q;q=q.substr(q.length-2);break}default:e=!0}break;case "Q":case "q":q=Math.ceil((a.getMonth()+1)/3);e=!0;break;case "M":case "L":q=a.getMonth();3>n?(q+=1,e=!0):(f=["months","L"==f?"standAlone":
"format",k[n-3]].join("-"),q=b[f][q]);break;case "w":q=o._getWeekOfYear(a,0);e=!0;break;case "d":q=a.getDate();e=!0;break;case "D":q=o._getDayOfYear(a);e=!0;break;case "e":case "c":if(q=a.getDay(),2>n){q=(q-j.getFirstDayOfWeek(c.locale)+8)%7;break}case "E":q=a.getDay();3>n?(q+=1,e=!0):(f=["days","c"==f?"standAlone":"format",k[n-3]].join("-"),q=b[f][q]);break;case "a":f=12>a.getHours()?"am":"pm";q=c[f]||b["dayPeriods-format-wide-"+f];break;case "h":case "H":case "K":case "k":e=a.getHours();switch(f){case "h":q=
e%12||12;break;case "H":q=e;break;case "K":q=e%12;break;case "k":q=e||24}e=!0;break;case "m":q=a.getMinutes();e=!0;break;case "s":q=a.getSeconds();e=!0;break;case "S":q=Math.round(a.getMilliseconds()*Math.pow(10,n-3));e=!0;break;case "v":case "z":if(q=o._getZone(a,!0,c))break;n=4;case "Z":f=o._getZone(a,!1,c);f=[0>=f?"+":"-",d.pad(Math.floor(Math.abs(f)/60),2),d.pad(Math.abs(f)%60,2)];4==n&&(f.splice(0,0,"GMT"),f.splice(3,0,":"));q=f.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+
h);}e&&(q=d.pad(q,n));return q})}function h(a,b,c,h){var d=function(a){return a},b=b||d,c=c||d,h=h||d,n=a.match(/(''|[^'])+/g),o="'"==a.charAt(0);m.forEach(n,function(a,h){a?(n[h]=(o?c:b)(a.replace(/''/g,"'")),o=!o):n[h]=""});return h(n.join(""))}function q(a,b,c,h){h=e.escapeString(h);c.strict||(h=h.replace(" a"," ?a"));return h.replace(/([a-z])\1*/ig,function(h){var d;d=h.charAt(0);var n=h.length,o="",q="";c.strict?(1<n&&(o="0{"+(n-1)+"}"),2<n&&(q="0{"+(n-2)+"}")):(o="0?",q="0{0,2}");switch(d){case "y":d=
"\\d{2,4}";break;case "M":case "L":d=2<n?"\\S+?":"1[0-2]|"+o+"[1-9]";break;case "D":d="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+o+"[1-9][0-9]|"+q+"[1-9]";break;case "d":d="3[01]|[12]\\d|"+o+"[1-9]";break;case "w":d="[1-4][0-9]|5[0-3]|"+o+"[1-9]";break;case "E":case "e":case "c":d="\\S+";break;case "h":d="1[0-2]|"+o+"[1-9]";break;case "k":d="1[01]|"+o+"\\d";break;case "H":d="1\\d|2[0-3]|"+o+"\\d";break;case "K":d="1\\d|2[0-4]|"+o+"[1-9]";break;case "m":case "s":d="[0-5]\\d";break;case "S":d="\\d{"+n+"}";
break;case "a":n=c.am||b["dayPeriods-format-wide-am"];o=c.pm||b["dayPeriods-format-wide-pm"];d=n+"|"+o;c.strict||(n!=n.toLowerCase()&&(d+="|"+n.toLowerCase()),o!=o.toLowerCase()&&(d+="|"+o.toLowerCase()),-1!=d.indexOf(".")&&(d+="|"+d.replace(/\./g,"")));d=d.replace(/\./g,"\\.");break;default:d=".*"}a&&a.push(h);return"("+d+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var o={};l.setObject(b.id.replace(/\//g,"."),o);o._getZone=function(a,b){return b?k.getTimezoneName(a):a.getTimezoneOffset()};o.format=function(b,
c){var c=c||{},d=f.normalizeLocale(c.locale),n=c.formatLength||"short",d=o._getGregorianBundle(d),q=[],e=l.hitch(this,a,b,d,c);if("year"==c.selector)return h(d["dateFormatItem-yyyy"]||"yyyy",e);var v;"date"!=c.selector&&(v=c.timePattern||d["timeFormat-"+n])&&q.push(h(v,e));"time"!=c.selector&&(v=c.datePattern||d["dateFormat-"+n])&&q.push(h(v,e));return 1==q.length?q[0]:d["dateTimeFormat-"+n].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(a,b){return q[b]})};o.regexp=function(a){return o._parseInfo(a).regexp};
o._parseInfo=function(a){var a=a||{},b=f.normalizeLocale(a.locale),b=o._getGregorianBundle(b),c=a.formatLength||"short",d=a.datePattern||b["dateFormat-"+c],n=a.timePattern||b["timeFormat-"+c],c="date"==a.selector?d:"time"==a.selector?n:b["dateTimeFormat-"+c].replace(/\{(\d+)\}/g,function(a,b){return[n,d][b]}),e=[];return{regexp:h(c,l.hitch(this,q,e,b,a)),tokens:e,bundle:b}};o.parse=function(a,b){var c=/[\u200E\u200F\u202A\u202E]/g,h=o._parseInfo(b),d=h.tokens,n=h.bundle,c=RegExp("^"+h.regexp.replace(c,
"")+"$",h.strict?"":"i").exec(a&&a.replace(c,""));if(!c)return null;var q=["abbr","wide","narrow"],e=[1970,0,1,0,0,0,0],f="",c=m.every(c,function(a,c){if(!c)return!0;var h=d[c-1],o=h.length,h=h.charAt(0);switch(h){case "y":if(2!=o&&b.strict)e[0]=a;else if(100>a)a=Number(a),h=""+(new Date).getFullYear(),o=100*h.substring(0,2),h=Math.min(Number(h.substring(2,4))+20,99),e[0]=a<h?o+a:o-100+a;else{if(b.strict)return!1;e[0]=a}break;case "M":case "L":if(2<o){if(o=n["months-"+("L"==h?"standAlone":"format")+
"-"+q[o-3]].concat(),b.strict||(a=a.replace(".","").toLowerCase(),o=m.map(o,function(a){return a.replace(".","").toLowerCase()})),a=m.indexOf(o,a),-1==a)return!1}else a--;e[1]=a;break;case "E":case "e":case "c":o=n["days-"+("c"==h?"standAlone":"format")+"-"+q[o-3]].concat();b.strict||(a=a.toLowerCase(),o=m.map(o,function(a){return a.toLowerCase()}));a=m.indexOf(o,a);if(-1==a)return!1;break;case "D":e[1]=0;case "d":e[2]=a;break;case "a":o=b.am||n["dayPeriods-format-wide-am"];h=b.pm||n["dayPeriods-format-wide-pm"];
if(!b.strict)var s=/\./g,a=a.replace(s,"").toLowerCase(),o=o.replace(s,"").toLowerCase(),h=h.replace(s,"").toLowerCase();if(b.strict&&a!=o&&a!=h)return!1;f=a==h?"p":a==o?"a":"";break;case "K":24==a&&(a=0);case "h":case "H":case "k":if(23<a)return!1;e[3]=a;break;case "m":e[4]=a;break;case "s":e[5]=a;break;case "S":e[6]=a}return!0}),h=+e[3];"p"===f&&12>h?e[3]=h+12:"a"===f&&12==h&&(e[3]=0);h=new Date(e[0],e[1],e[2],e[3],e[4],e[5],e[6]);b.strict&&h.setFullYear(e[0]);var j=d.join(""),l=-1!=j.indexOf("d"),
j=-1!=j.indexOf("M");if(!c||j&&h.getMonth()>e[1]||l&&h.getDate()>e[2])return null;if(j&&h.getMonth()<e[1]||l&&h.getDate()<e[2])h=k.add(h,"hour",1);return h};var n=[];o.addCustomFormats=function(a,b){n.push({pkg:a,name:b})};o._getGregorianBundle=function(a){var b={};m.forEach(n,function(c){c=f.getLocalization(c.pkg,c.name,a);b=l.mixin(b,c)},this);return b};o.addCustomFormats(b.id.replace(/\/date\/locale$/,".cldr"),"gregorian");o.getNames=function(a,b,c,h){var d,h=o._getGregorianBundle(h),a=[a,c,b];
"standAlone"==c&&(c=a.join("-"),d=h[c],1==d[0]&&(d=void 0));a[1]="format";return(d||h[a.join("-")]).concat()};o.isWeekend=function(a,b){var c=j.getWeekend(b),h=(a||new Date).getDay();c.end<c.start&&(c.end+=7,h<c.start&&(h+=7));return h>=c.start&&h<=c.end};o._getDayOfYear=function(a){return k.difference(new Date(a.getFullYear(),0,1,a.getHours()),a)+1};o._getWeekOfYear=function(a,b){1==arguments.length&&(b=0);var c=(new Date(a.getFullYear(),0,1)).getDay(),h=Math.floor((o._getDayOfYear(a)+(c-b+7)%7-
1)/7);c==b&&h++;return h};return o})},"deploy/widgets/application/wizard/EnvironmentControls":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/Tooltip,dojo/_base/declare,dojo/dom-class,dojo/dom-style,dojo/on,deploy/widgets/application/wizard/EnvironmentModelHelper,deploy/widgets/application/wizard/EnvironmentTemplateOption,deploy/widgets/ModelWidgetList".split(","),function(l,m,k,j,f,e,d,c,b,a){return j([m,l],{templateString:'<div data-dojo-attach-point="environmentControlAttach" class="environment-controls">  <span data-dojo-attach-point="titleAttach" class="created-environments-title"></span>  <div class="button-container">    <div data-dojo-attach-point="addEnvironmentMenuAttach"         class="addEnvironmentMenu"         style="display:none;">    </div>    <div data-dojo-attach-point="addButtonAttach" class="icon-button add-button"></div>    <div data-dojo-attach-point="cloneButtonAttach" class="icon-button clone-button"></div>    <div data-dojo-attach-point="removeButtonAttach" class="icon-button remove-button"></div>  </div></div>',
postCreate:function(){var h=this;this.inherited(arguments);h.modelHelper=new c(h.sharedData);config.data.permissions["Create Environments From Template"]&&h.modelHelper.precreateEnvironments();d(this.addButtonAttach,"click",function(){"none"===e.get(h.addEnvironmentMenuAttach,"display")?e.set(h.addEnvironmentMenuAttach,"display",""):e.set(h.addEnvironmentMenuAttach,"display","none")});d(this.cloneButtonAttach,"click",function(){var a=h._getSelectedEnvironment();null!==a&&(h.sharedData.environments.query({selected:!0}).forEach(function(a){a.set("selected",
!1)}),h.modelHelper.cloneEnvironment(a,!0))});d(this.removeButtonAttach,"click",function(){var a=h._getSelectedEnvironment();null!==a&&h.modelHelper.removeEnvironment(a)});new k({connectId:[this.addButtonAttach],label:i18n("Create an environment from a template"),showDelay:100,position:["above","before","below","after"]});new k({connectId:[this.removeButtonAttach],label:i18n("Delete the selected environment"),showDelay:100,position:["above","before","below","after"]});new k({connectId:[this.cloneButtonAttach],
label:i18n("Duplicate the selected environment"),showDelay:100,position:["above","before","below","after"]});this._reflectNumberOfEnvironments();this.sharedData.environments.query().observe(function(a,b,c){(-1!==b||-1!==c)&&h._reflectNumberOfEnvironments()},!1);(new a({model:h.sharedData.environmentTemplates,widgetFactory:function(a){return new b({template:a,onSelected:function(a){e.set(h.addEnvironmentMenuAttach,"display","none");h.sharedData.environments.query({selected:!0}).forEach(function(a){a.set("selected",
!1)});h.modelHelper.addEnvironment(a,!0)}})}})).placeAt(this.addEnvironmentMenuAttach)},_reflectNumberOfEnvironments:function(){var a=this.sharedData.environments.query(),b=0;if(a)b=a.length;this.titleAttach.textContent=i18n("Environments ("+b.toString()+")");0===b?(f.remove(this.cloneButtonAttach,"clone-button"),f.add(this.cloneButtonAttach,"clone-button-disabled"),f.remove(this.removeButtonAttach,"remove-button"),f.add(this.removeButtonAttach,"remove-button-disabled")):(f.remove(this.cloneButtonAttach,
"clone-button-disabled"),f.add(this.cloneButtonAttach,"clone-button"),f.remove(this.removeButtonAttach,"remove-button-disabled"),f.add(this.removeButtonAttach,"remove-button"))},_getSelectedEnvironment:function(){var a=this.sharedData.environments.query({selected:!0});return a&&0<a.length?a[0]:null}})})},"deploy/widgets/environment/CreateEnvironmentDialog":function(){define("dojo/_base/declare,js/webext/widgets/Dialog,dojo/dom-construct,dojo/on,dojo/dom-style,dojo/dom,dojo/json,dijit/focus".split(","),
function(l,m,k,j,f,e,d,c){return l([m],{templateString:'<div class="dijitDialog" role="dialog" aria-labelledby="${id}_title">    <div data-dojo-attach-point="titleBar" class="dijitDialogTitleBar">    <span data-dojo-attach-point="titleNode" class="dijitDialogTitle" id="${id}_title"></span>    <span data-dojo-attach-point="wizardIconNode1"  style="display:none;">        <span data-dojo-attach-point="wizardIconText1" class="iconWizardPage1" ></span>    </span>    <span data-dojo-attach-point="wizardIconNode2"  style="display:none;">        <span data-dojo-attach-point="wizardIconText2" class="iconWizardPage2" ></span>    </span>    <span data-dojo-attach-point="closeButtonNode" class="dijitDialogCloseIcon" data-dojo-attach-event="ondijitclick: onCancel" title="${buttonCancel}" role="button" tabIndex="-1" style="display:inline;">        <span data-dojo-attach-point="closeText" class="closeDialogIcon" title="${buttonCancel}"></span>    </span>    </div>    <div data-dojo-attach-point="errorContainer" class="environment-error-container" style="position: relative; display: none;">      <div class="inlineBlock vAlignMiddle minusMargin5Left iconError"></div>      <div data-dojo-attach-point="errorContainerNode" class="inlineBlock vAlignMiddle margin5Left"></div>      <div data-dojo-attach-point="errorContainerDetailNode" class="block vAlignMiddle environment-error-detail" style="display :none;"></div>    </div>    <div data-dojo-attach-point="containerContainer" style="overflow-y: auto;overflow-x: hidden;">       <div data-dojo-attach-point="containerNode" class="dijitDialogPaneContent"></div>    </div></div>',
showError:function(b,a,c,d){var o=this,n="";this.errorContainerDetailNode.innerHTML="";if(d&&Array.isArray(d))n=d.length,dojo.forEach(d,function(d){if(d.errorMessage){var n="";"template"===d.source?n=a+": ":"configuration"===d.source&&(n=c+": ");var n=n+d.errorMessage,q=k.create("div",{},o.errorContainerDetailNode),n=k.create("a",{innerHTML:n},q);j(n,"click",function(){o.focusField(b,d)})}});else{var n="1",d=a+": "+d,s=k.create("div",{},o.errorContainerDetailNode);k.create("a",{innerHTML:d},s)}f.set(o.errorContainer,
"display","block");n="1"===n?i18n('%s Error deploying blueprint "%s"',n,a):i18n('%s Errors deploying blueprint "%s"',n,a);n=k.create("a",{innerHTML:util.escape(n)},this.errorContainerNode);j(n,"click",function(){"none"===f.get(o.errorContainerDetailNode,"display")?f.set(o.errorContainerDetailNode,"display","block"):f.set(o.errorContainerDetailNode,"display","none")})},hideError:function(){k.empty(this.errorContainerNode);k.empty(this.errorContainerDetailNode);f.set(this.errorContainer,"display","none")},
showFieldErrors:function(b,a){dojo.forEach(a,function(a){if(a.object.parameters)for(var b in a.object.parameters)if(a.object.parameters.hasOwnProperty(b))break})},getField:function(b,a){var c=null;dojo.forEach(b.fieldsArray,function(b){a&&(b.name===a||b.name==="parameter/"+a)?c=b:"environmentName"===a&&"name"===b.name&&(c=b)});return c},focusField:function(b,a){if(a.object.parameters)for(var h in a.object.parameters)if(a.object.parameters.hasOwnProperty(h)){(h=this.getField(b,h))&&h.widget&&c.focus(h.widget.domNode);
break}}})})},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers","./util","../has"],function(l,m,k,j,f){function e(a,b){var c=a.xhr;a.status=a.xhr.status;a.text=c.responseText;if("xml"===a.options.handleAs)a.data=c.responseXML;if(!b)try{k(a)}catch(h){b=h}b?this.reject(b):j.checkStatus(c.status)?this.resolve(a):(b=new l("Unable to load "+a.url+" status: "+c.status,a),this.reject(b))}function d(a){return this.xhr.getResponseHeader(a)}function c(r,s,u){var x=j.parseArgs(r,
j.deepCreate(n,s),f("native-formdata")&&s&&s.data&&s.data instanceof FormData),r=x.url,s=x.options,v,y=j.deferred(x,q,b,a,e,function(){v&&v()}),k=x.xhr=c._create();if(!k)return y.cancel(new l("XHR was not created")),u?y:y.promise;x.getHeader=d;h&&(v=h(k,y,x));var z=s.data,B=!s.sync,D=s.method;try{k.open(D,r,B,s.user||o,s.password||o);if(s.withCredentials)k.withCredentials=s.withCredentials;var G=s.headers,r="application/x-www-form-urlencoded";if(G)for(var C in G)"content-type"===C.toLowerCase()?r=
G[C]:G[C]&&k.setRequestHeader(C,G[C]);r&&!1!==r&&k.setRequestHeader("Content-Type",r);(!G||!("X-Requested-With"in G))&&k.setRequestHeader("X-Requested-With","XMLHttpRequest");j.notify&&j.notify.emit("send",x,y.promise.cancel);k.send(z)}catch(S){y.reject(S)}m(y);k=null;return u?y:y.promise}f.add("native-xhr",function(){return"undefined"!==typeof XMLHttpRequest});f.add("dojo-force-activex-xhr",function(){return f("activex")&&!document.addEventListener&&"file:"===window.location.protocol});f.add("native-xhr2",
function(){if(f("native-xhr")){var a=new XMLHttpRequest;return"undefined"!==typeof a.addEventListener&&("undefined"===typeof opera||"undefined"!==typeof a.upload)}});f.add("native-formdata",function(){return"function"===typeof FormData});var b,a,h,q;f("native-xhr2")?(b=function(){return!this.isFulfilled()},q=function(a,b){b.xhr.abort()},h=function(a,b,c){function h(){b.handleResponse(c)}function d(a){a=new l("Unable to load "+c.url+" status: "+a.target.status,c);b.handleResponse(c,a)}function r(a){if(a.lengthComputable)c.loaded=
a.loaded,c.total=a.total,b.progress(c)}a.addEventListener("load",h,!1);a.addEventListener("error",d,!1);a.addEventListener("progress",r,!1);return function(){a.removeEventListener("load",h,!1);a.removeEventListener("error",d,!1);a.removeEventListener("progress",r,!1);a=null}}):(b=function(a){return a.xhr.readyState},a=function(a){return 4===a.xhr.readyState},q=function(a,b){var c=b.xhr,h=typeof c.abort;("function"===h||"object"===h||"unknown"===h)&&c.abort()});var o,n={data:null,query:null,sync:!1,
method:"GET"};c._create=function(){throw Error("XMLHTTP not available");};if(f("native-xhr")&&!f("dojo-force-activex-xhr"))c._create=function(){return new XMLHttpRequest};else if(f("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),c._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(s){try{new ActiveXObject("Microsoft.XMLHTTP"),c._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(r){}}j.addCommonMethods(c);return c})},"deploy/widgets/patterns/PatternProcessIconsFormatter":function(){define("dojo/_base/array,dojo/dom-construct,dojo/dom-class,dojo/dom-style,dojo/mouse,dojo/on,dijit/form/Button,dijit/TooltipDialog,dijit/popup,deploy/widgets/tag/TagDisplay,js/webext/widgets/Dialog,js/webext/widgets/table/TreeTable".split(","),
function(l,m){return{getIconForTree:function(k){var j="process-icon ",j=k.type?"folder"===k.type?j+"process-folder-icon":j+(k.type+"-step-icon"):j+(this.getIconForStep(k)+"-step-icon");return m.create("div",{className:"inline-block "+j})},getIconForStep:function(k){var j="patternResourceDefault";(k=k.activity.resourceType)&&("OS::Neutron::Port"===k?j="port":"IBM::UrbanCode::ResourceTree"===k?j="resourceTree":"IBM::UrbanCode::SoftwareConfig::UCD"===k?j="swConfig":"IBM::UrbanCode::SoftwareDeploy::UCD"===
k?j="swDeploy":"OS::Heat::MultipartMime"===k?j="mime":"OS::Heat::SoftwareConfig"===k?j="swConfig":"OS::Neutron::SecurityGroup"===k?j="securityGroup":"OS::Cinder::Volume"===k?j="volume":"OS::Cinder::VolumeAttachment"===k?j="volumeAttachment":"server"===k?j="server":"configurationResourceGroup"===k?j="configuration":"serverResourceGroup"===k?j="server":"OS::Neutron::Router"===k?j="router":"OS::Swift::Container"===k?j="volumeBlob":"OS::Neutron::LoadBalancer"===k?j="loadbalancer":"OS::Neutron::HealthMonitor"===
k?j="monitor":"OS::Neutron::Pool"===k?j="replicationGroup":"OS::Neutron::FloatingIP"===k?j="elasticIp":"OS::Neutron::Net"===k?j="network":"OS::Heat::AutoScalingGroup"===k?j="scalingGroup":"OS::Heat::ScalingPolicy"===k?j="scalingPolicy":"OS::Neutron::Net"===k?j="network":"IBM::ElastiCache::ReplicationGroup"===k?j="scalingPolicy":"IBM::RDS::Instance"===k?j="rdsInstance":"IBM::ElastiCache::Cluster"===k?j="elasticCache":k.endsWith(".yaml")||k.endsWith(".yml")?j="blueprint":"OS::Ceilometer::Alarm"===k&&
(j="alarm"));return j}}})},"deploy/widgets/navigation/Reports":function(){define(["dojo/_base/kernel","dojox/html/entities"],function(l){l.provide("deploy.widgets.navigation.Reports");config.data.tabSets.push({id:"reports",hashPattern:["offset","reportName"],breadcrumbs:["home","topLevelTab"],selectedTopLevelTab:"reports",stateCalls:[{targetAppStateEntry:"report",getUrl:function(l){var k=bootstrap.restUrl+"report/",j;l.reportName?(j=l.reportName,l=l.offset,k=k+l+"/"+j):(j=l.offset,k+=j);return k}}],
defaultTab:"reportPage",tabs:[{id:"reportPage",label:i18n("Reports"),view:"deploy/views/report/report"}]})})},"deploy/widgets/deploymentRequest/DeploymentRequestHistory":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/_base/xhr,dojo/dom-construct,dojo/on,deploy/widgets/Formatters,deploy/widgets/approval/ApprovalRevocationDialog,js/webext/widgets/table/TreeTable".split(","),function(l,m,k,j,f,e,d,c,b){return k("deploy.widgets.deploymentRequest.DeploymentRequestHistory",
[m,l],{templateString:'<div class="deploymentRequestHistory"><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var a=[{name:i18n("Process"),formatter:function(a){a.applicationProcess.application=a.application;return d.applicationProcessLinkFormatter(a.applicationProcess)}},{name:i18n("Scheduled For"),field:"calendarEntry.scheduledDate",formatter:function(a){return util.dateFormatShort(a.entry.scheduledDate)},orderField:"calendarEntry.scheduledDate"},
{name:i18n("By"),field:"userName"},{name:i18n("Status"),formatter:function(a,b,c){return d.requestStatusFormatter(a,b,c)}},{name:i18n("Actions"),formatter:function(a){var b=document.createElement("div"),c=document.createElement("a");c.className="actionsLink";c.innerHTML=i18n("View Request");c.href="#applicationProcessRequest/"+a.id;b.appendChild(c);return b}}];this.grid=new b({url:bootstrap.restUrl+"deploy/applicationProcessRequest/table",baseFilters:[{name:"deploymentRequest.id",type:"eq",className:"UUID",
values:[this.deploymentRequest.id]}],columns:a,orderField:"calendarEntry.scheduledDate",sortType:"desc",pageOptions:[5,10,25,50,100,250],rowsPerPage:5,tableConfigKey:"deploymentRequestHistory"+this.deploymentRequest.id,noDataMessage:i18n("No process history found."),hideExpandCollapse:!0,hidePagination:!1,queryData:{outputType:["BASIC","LINKED"]}});this.grid.placeAt(this.gridAttach)},destroy:function(){this.inherited(arguments);this.grid.destroy()}})})},"deploy/widgets/CustomDateRangeSelector":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dijit/form/DateTextBox,dijit/form/Select,dojo/_base/declare,dojo/date,dojo/dom-construct,js/webext/widgets/BidiDateUtil".split(","),
function(l,m,k,j,f,e,d,c,b){return e("deploy.widgets.CustomDateRangeSelector",[m,l],{templateString:'<div class="customDateRangeSelector"><div data-dojo-attach-point="startDateAttach" class="inlineBlock"></div><div class="inlineBlock">&nbsp;-&nbsp;</div><div data-dojo-attach-point="endDateAttach" class="inlineBlock"></div><div><div class="inlineBlock"><div>'+i18n("Increments")+'</div><div data-dojo-attach-point="tuSelectAttach"></div></div><div data-dojo-attach-point="buttonAttach" class="inlineBlock"></div></div></div>',
doneButton:null,startDateAttach:null,endDataAttach:null,tuSelectAttach:null,buttonAttach:null,timeUnit:"TIME_UNIT_MONTH",timeUnitSelect:null,startDateSelect:null,endDateSelect:null,startDate:null,endDate:null,startDateBackup:new Date,endDateBackup:new Date,constructor:function(a){this.inherited(arguments);if(a.endDate)this.endDateBackup=a.endDate;if(a.startDate)this.startDateBackup=a.startDate},buildRendering:function(){this.inherited(arguments);this.createTimeUnitWidget();this.createDateWidgets();
this.createDoneButton()},destroy:function(){this.inherited(arguments);var a=this.timeUnitSelect;a&&a.destroy();(a=this.startDateSelect)&&a.destroy();(a=this.endDateSelect)&&a.destroy()},createDateWidgets:function(){c.empty(this.startDateAttach);c.empty(this.endDateAttach);var a={name:"startDate",forceWidth:!1,style:{width:"7em"},format:this.dateFormatter},h={forceWidth:!1,name:"endDate",style:{width:"7em"},format:this.dateFormatter};if("TIME_UNIT_MONTH"===this.timeUnit)this.endDateBackup.setDate(1),
this.startDateBackup.setDate(1),a.rangeCheck=this.monthRangeCheck,h.rangeCheck=this.monthRangeCheck;else if("TIME_UNIT_WEEK"===this.timeUnit){var q=this.startDateBackup.getDay();this.startDateBackup=d.add(this.startDateBackup,"day",-q);q=this.endDateBackup.getDay();this.endDateBackup=d.add(this.endDateBackup,"day",-q);a.rangeCheck=this.weekRangeCheck;h.rangeCheck=this.weekRangeCheck}a.value=this.startDateBackup;h.value=this.endDateBackup;a.datePackage=b.getDatePackage();h.datePackage=b.getDatePackage();
this.startDateSelect=new j(a);this.startDateSelect.placeAt(this.startDateAttach);this.endDateSelect=new j(h);this.endDateSelect.placeAt(this.endDateAttach)},createTimeUnitWidget:function(){var a=this;a.timeUnitSelect=new f({name:"time_unit",required:!0,options:[{label:'<img src="'+bootstrap.imageUrl+'icons/icon_month_picker.gif"/>'+i18n("Months"),value:"TIME_UNIT_MONTH"},{label:'<img src="'+bootstrap.imageUrl+'icons/icon_week_picker.gif"/>'+i18n("Weeks"),value:"TIME_UNIT_WEEK"},{label:'<img src="'+
bootstrap.imageUrl+'icons/icon_day_picker.gif"/>'+i18n("Days"),value:"TIME_UNIT_DAY"}],value:a.timeUnit,onChange:function(b){a.timeUnit=b;a.createDateWidgets(b)}});a.timeUnitSelect.placeAt(a.tuSelectAttach)},createDoneButton:function(){var a=this;c.empty(a.buttonAttach);a.doneButton=new k({label:i18n("OK"),showTitle:!1,onClick:function(){a.finished()}});a.doneButton.placeAt(a.buttonAttach)},monthRangeCheck:function(a){return 1===a.getDate()},weekRangeCheck:function(a){return 0===a.getDay()},getStartDate:function(){return this.startDateSelect.get("value")},
getEndDate:function(){return this.endDateSelect.get("value")},getTimeUnit:function(){return this.timeUnitSelect.get("value")},dateFormatter:function(a){return util.dayFormatShort(a)}})})},"js/webext/widgets/table/_TableConfigMixin":function(){define("js/webext/widgets/table/_TableConfigMixin",["dojo/_base/declare","dojo/_base/lang","dojo/json"],function(l,m,k){var j=m.getObject("lscache");return l(null,{_cookieName:"savedTableConfig",rowsPerPage:10,pageNumber:1,orderField:null,sortType:"asc",expandedNodeList:null,
pageOptions:[10,25,50,100,250],initConfigMixin:function(){this.defaultRowsPerPage=this.rowsPerPage;this.defaultPageNumber=this.pageNumber;this.defaultOrderField=this.orderField;this.defaultSortType=this.sortType;var f=this.getStoredConfig();if(void 0!==f){if(void 0!==f.rowsPerPage)this.rowsPerPage=f.rowsPerPage;if(void 0!==f.pageNumber)this.pageNumber=f.pageNumber;if(void 0!==f.orderField)this.orderField=f.orderField;if(void 0!==f.sortType)this.sortType=f.sortType;if(void 0!==f.expandedNodeList)this.expandedNodeList=
f.expandedNodeList}},getStoredConfig:function(){var f;if(this.tableConfigKey){if(j){var e=j.get(this.tableConfigKey);if("String"===typeof e)return k.parse(e);if(e)return e}f||(e=util.getCookie(this._cookieName))&&(f=k.parse(e)[this.tableConfigKey])}return f},storeConfig:function(f){if(this.tableConfigKey)if(j)j.set(this.tableConfigKey,k.stringify(f),240);else{var e={},d=util.getCookie(this._cookieName);d&&(e=k.parse(d));e[this.tableConfigKey]=f;for(var c;3900<k.stringify(e).length;){f=!0;d={};for(c in e)e.hasOwnProperty(c)&&
(f||(d[c]=e[c]),f=!1);e=d}util.setCookie(this._cookieName,k.stringify(e))}},saveCurrentSettings:function(){if(void 0!==this.tableConfigKey){var f={};if(this.rowsPerPage!==this.defaultRowsPerPage)f.rowsPerPage=this.rowsPerPage;if(this.pageNumber!==this.defaultPageNumber)f.pageNumber=this.pageNumber;if(this.orderField!==this.defaultOrderField)f.orderField=this.orderField;if(this.sortType!==this.defaultSortType)f.sortType=this.sortType;f.expandedNodeList=this.expandedNodeList;this.storeConfig(f)}}})})},
"deploy/widgets/environmentComparison/EnvironmentVersionComparison":function(){define(["dijit/_TemplatedMixin","dijit/_Widget","dojo/_base/declare","deploy/widgets/Formatters","js/webext/widgets/Table"],function(l,m,k,j,f){return k("deploy.widgets.environmentComparison.EnvironmentVersionComparison",[m,l],{templateString:'<div class="environmentVersionComparison" style="width: 700px"><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var e=[{name:i18n("Component"),
formatter:function(d){return j.componentLinkFormatter(d.component)}},{name:i18n("Version"),formatter:function(d){return j.versionLinkFormatter(d.version)}},{name:i18n("Status"),formatter:function(d,c,b){return j.statusFormatter(d.status,c,b)}},{name:this.environment1.name,style:{paddingTop:"2px",paddingBottom:"3px",textAlign:"center"},formatter:function(d){var c="";if(d.environment1)c=document.createElement("img"),c.src=bootstrap.webextUrl+"images/webext/icons/icon_check_green.png";return c}},{name:this.environment2.name,
style:{paddingTop:"2px",paddingBottom:"3px",textAlign:"center"},formatter:function(d){var c="";if(d.environment2)c=document.createElement("img"),c.src=bootstrap.webextUrl+"images/webext/icons/icon_check_green.png";return c}}];this.grid=new f({url:bootstrap.restUrl+"deploy/environment/"+this.environment1.id+"/compareVersions/"+this.environment2.id,serverSideProcessing:!1,columns:e,tableConfigKey:"environmentComparisonList",noDataMessage:i18n("No inventory found for either environment.")});this.grid.placeAt(this.gridAttach)},
destroy:function(){this.inherited(arguments);this.grid.destroy()}})})},"dijit/_MenuBase":function(){define("dijit/_MenuBase","dojo/_base/array,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-class,dojo/_base/lang,dojo/mouse,dojo/on,dojo/window,./a11yclick,./popup,./registry,./_Widget,./_KeyNavContainer,./_TemplatedMixin".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s){return m("dijit._MenuBase",[o,s,n],{parentMenu:null,popupDelay:500,autoFocus:!1,childSelector:function(a){var b=q.byNode(a);
return a.parentNode==this.containerNode&&b&&b.focus},postCreate:function(){var b=this,h="string"==typeof this.childSelector?this.childSelector:e.hitch(this,"childSelector");this.own(c(this.containerNode,c.selector(h,d.enter),function(){b.onItemHover(q.byNode(this))}),c(this.containerNode,c.selector(h,d.leave),function(){b.onItemUnhover(q.byNode(this))}),c(this.containerNode,c.selector(h,a),function(a){b.onItemClick(q.byNode(this),a);a.stopPropagation();a.preventDefault()}));this.inherited(arguments)},
onExecute:function(){},onCancel:function(){},_moveToPopup:function(a){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,a);else(a=this._getTopMenu())&&a._isMenuBar&&a.focusNext()},_onPopupHover:function(){if(this.currentPopup&&this.currentPopup._pendingClose_timer){var a=this.currentPopup.parentMenu;a.focusedChild&&a.focusedChild._setSelected(!1);a.focusedChild=this.currentPopup.from_item;a.focusedChild._setSelected(!0);this._stopPendingCloseTimer(this.currentPopup)}},
onItemHover:function(a){if(this.isActive&&(this.focusChild(a),this.focusedChild.popup&&!this.focusedChild.disabled&&!this.hover_timer))this.hover_timer=this.defer("_openPopup",this.popupDelay);this.focusedChild&&this.focusChild(a);this._hoveredChild=a;a._set("hovering",!0)},_onChildBlur:function(a){this._stopPopupTimer();a._setSelected(!1);var b=a.popup;if(b)this._stopPendingCloseTimer(b),b._pendingClose_timer=this.defer(function(){b._pendingClose_timer=null;if(b.parentMenu)b.parentMenu.currentPopup=
null;h.close(b)},this.popupDelay)},onItemUnhover:function(a){this.isActive&&this._stopPopupTimer();if(this._hoveredChild==a)this._hoveredChild=null;a._set("hovering",!1)},_stopPopupTimer:function(){if(this.hover_timer)this.hover_timer=this.hover_timer.remove()},_stopPendingCloseTimer:function(a){if(a._pendingClose_timer)a._pendingClose_timer=a._pendingClose_timer.remove()},_stopFocusTimer:function(){if(this._focus_timer)this._focus_timer=this._focus_timer.remove()},_getTopMenu:function(){for(var a=
this;a.parentMenu;a=a.parentMenu);return a},onItemClick:function(a,b){"undefined"==typeof this.isShowingNow&&this._markActive();this.focusChild(a);if(a.disabled)return!1;a.popup?this._openPopup("keypress"==b.type):(this.onExecute(),a._onClick?a._onClick(b):a.onClick(b))},_openPopup:function(a){this._stopPopupTimer();var b=this.focusedChild;if(b){var d=b.popup;if(!d.isShowingNow){this.currentPopup&&(this._stopPendingCloseTimer(this.currentPopup),h.close(this.currentPopup));d.parentMenu=this;d.from_item=
b;var n=this;h.open({parent:this,popup:d,around:b.domNode,orient:this._orient||["after","before"],onCancel:function(){n.focusChild(b);n._cleanUp();b._setSelected(!0);n.focusedChild=b},onExecute:e.hitch(this,"_cleanUp")});this.currentPopup=d;this.popupHoverHandle&&this.popupHoverHandle.remove();this.own(this.popupHoverHandle=c.once(d.domNode,"mouseover",e.hitch(n,"_onPopupHover")))}if(a&&d.focus)d._focus_timer=this.defer(e.hitch(d,function(){this._focus_timer=null;this.focus()}))}},_markActive:function(){this.isActive=
!0;f.replace(this.domNode,"dijitMenuActive","dijitMenuPassive")},onOpen:function(){this.isShowingNow=!0;this._markActive()},_markInactive:function(){this.isActive=!1;f.replace(this.domNode,"dijitMenuPassive","dijitMenuActive")},onClose:function(){this._stopFocusTimer();this._markInactive();this.isShowingNow=!1;this.parentMenu=null},_closeChild:function(){this._stopPopupTimer();if(this.currentPopup)0<=l.indexOf(this._focusManager.activeStack,this.id)&&(j.set(this.focusedChild.focusNode,"tabIndex",
this.tabIndex),this.focusedChild.focusNode.focus()),h.close(this.currentPopup),this.currentPopup=null;if(this.focusedChild)this.focusedChild._setSelected(!1),this.onItemUnhover(this.focusedChild),this.focusedChild=null},_onItemFocus:function(a){if(this._hoveredChild&&this._hoveredChild!=a)this.onItemUnhover(this._hoveredChild)},_onBlur:function(){this._cleanUp();this.inherited(arguments)},_cleanUp:function(){this._closeChild();"undefined"==typeof this.isShowingNow&&this._markInactive()}})})},"deploy/widgets/version/VersionSelector":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Select,dojo/_base/declare,js/webext/widgets/FormDelegates,js/webext/widgets/RestSelect".split(","),
function(l,m,k,j,f,e){return j("deploy.widgets.version.VersionSelector",[m,l],{templateString:'<div class="versionSelector"><div data-dojo-attach-point="typeAttach" class="versionSelectorComponent"></div><div data-dojo-attach-point="valueAttach" class="versionSelectorComponent" style="vertical-align: bottom" ></div></div>',postCreate:function(){this.inherited(arguments);var d=this,c=null,b=new k({options:[{label:i18n("None"),value:"none"},{label:i18n("Specific Version"),value:"version"},{label:i18n("Latest Version"),
value:"latestVersion"},{label:i18n("Latest With Status"),value:"latestWithStatus"},{label:i18n("All With Status"),value:"allWithStatus"},{label:i18n("All In Environment"),value:"allInEnvironment"},{label:i18n("All In Environment (Reversed)"),value:"reverseAllInEnvironment"}],onChange:function(a){if(null!==c)c.destroy(),d.value=void 0;if("version"===a.toLowerCase()){var b;d.environment?(b=bootstrap.restUrl+"deploy/environment/"+d.environment.id+"/versions/"+d.component.id,c=new e({restUrl:b,value:d.subValue,
allowNone:!1,noIllegalValues:!0,onChange:function(b){d.value=b?a+"/"+b:void 0}})):(b=bootstrap.restUrl+"deploy/version/",c=f.retrieveDelegate("TableFilterSelect")({url:b,value:d.subValue,allowNone:!1,defaultQuery:{filterFields:["component.id"],"filterType_component.id":"eq","filterValue_component.id":d.component.id,"filterClass_component.id":"UUID"},onChange:function(b){var c=this.get("item");d.value=b?a+"/"+c.id:void 0}}));c.placeAt(d.valueAttach)}else"allWithStatus"===a||"latestWithStatus"===a?
(c=new e({restUrl:bootstrap.restUrl+"deploy/status/versionStatuses",getValue:function(a){return a.name},value:d.subValue,getStyle:function(a){return{backgroundColor:a.color}},allowNone:!1,noIllegalValues:!0,onChange:function(b){d.value=b?a+"/"+b:void 0}}),c.placeAt(d.valueAttach)):"allInEnvironment"===a||"reverseAllInEnvironment"===a?(c=new e({restUrl:bootstrap.restUrl+"deploy/status/inventoryStatuses",getValue:function(a){return a.name},value:d.subValue,getStyle:function(a){return{backgroundColor:a.color}},
allowNone:!1,noIllegalValues:!0,onChange:function(b){d.value=b?a+"/"+b:void 0}}),c.placeAt(d.valueAttach)):d.value=a+"/"}});b.placeAt(this.typeAttach);if(this.value){var a=this.value.split("/");this.subValue=a[1];if("Version"===a[0])this.value="version/"+a[1],a[0]="version";b.set("value",a[0])}}})})},"dijit/layout/_ContentPaneResizeMixin":function(){define("dijit/layout/_ContentPaneResizeMixin","dojo/_base/array,dojo/_base/declare,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/_base/lang,dojo/query,dojo/sniff,../registry,../Viewport,./utils".split(","),
function(l,m,k,j,f,e,d,c,b,a,h){return m("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var b=this.getParent();this._childOfLayoutWidget=b&&b.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);this._isShown()&&this._onShow();this._childOfLayoutWidget||this.own(a.on("resize",e.hitch(this,"resize")))}},_checkIfSingleChild:function(){var a=[],c=!1;d("> *",this.containerNode).some(function(h){var d=
b.byNode(h);d&&d.resize?a.push(d):h.offsetHeight&&(c=!0)});this._singleChild=1==a.length&&!c?a[0]:null;k.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)},resize:function(a,b){this._resizeCalled=!0;this._scheduleLayout(a,b)},_scheduleLayout:function(a,b){this._isShown()?this._layout(a,b):(this._needLayout=!0,this._changeSize=a,this._resultSize=b)},_layout:function(a,b){delete this._needLayout;!this._wasShown&&!1!==this.open&&this._onShow();a&&j.setMarginBox(this.domNode,
a);var c=this.containerNode;if(c===this.domNode){var d=b||{};e.mixin(d,a||{});if(!("h"in d)||!("w"in d))d=e.mixin(j.getMarginBox(c),d);this._contentBox=h.marginBox2contentBox(c,d)}else this._contentBox=j.getContentBox(c);this._layoutChildren()},_layoutChildren:function(){this.doLayout&&this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var a=this._contentBox||j.getContentBox(this.containerNode);this._singleChild.resize({w:a.w,h:a.h})}else l.forEach(this.getChildren(),function(a){a.resize&&
a.resize()})},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var a=this.domNode,b=this.domNode.parentNode;return"none"!=a.style.display&&"hidden"!=a.style.visibility&&!k.contains(a,"dijitHidden")&&b&&b.style&&"none"!=b.style.display},_onShow:function(){this._wasShown=!0;this._needLayout&&this._layout(this._changeSize,this._resultSize);this.inherited(arguments)}})})},"deploy/widgets/workflow/activity/StartActivity":function(){define(["dojo/_base/declare",
"deploy/widgets/workflow/activity/BaseActivity"],function(l,m){return l("deploy.widgets.workflow.activity.StartActivity",[m],{getLabel:function(){return i18n("Start")},getName:function(){return null},getStyle:function(){return"utilityStyle"},canEdit:function(){return!1},canDelete:function(){return!1},canCopy:function(){return!1},isUtilityCell:function(){return!0}})})},"deploy/widgets/application/wizard/AppWizardComponentSelector":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/Tooltip,dojo/_base/declare,dojo/_base/lang,dojo/dom-attr,dojo/dom-construct,dojo/mouse,dojo/on,dojox/data/JsonRestStore,js/webext/widgets/Dialog,js/webext/widgets/select/WebextSelect,deploy/widgets/ModelWidgetList,deploy/widgets/SimpleTag,deploy/widgets/component/EditComponent".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s){return j([m,l],{templateString:'<div class="appComponentSelector">  <div data-dojo-attach-point="selectorControls" class="selectorControls">    <div class="requirementLabel" data-dojo-attach-point="requirementLabel"></div>    <div class="selectAttach" data-dojo-attach-point="selectAttach"></div>    <div data-dojo-attach-point="createComponentNode" class="createComponent"></div>  </div>  <div data-dojo-attach-point="componentListAttach" class="componentList"></div>  <div data-dojo-attach-point="requirementDescription" class="requirementDescription"></div></div>',
postCreate:function(){function h(a){return a.tags.some(function(a){return a.name===n.tagRequirement.tag.name})}var n=this;this.inherited(arguments);this.requirementLabel.textContent=this.tagRequirement.tag.name;e.set(this.requirementLabel,"title",this.tagRequirement.tag.name);var s=new a({target:"/rest/deploy/component",idAttribute:"id"}),j=(new q({placeHolder:i18n("Add Component"),allowNone:!0,store:s,searchAttr:"name",defaultQuery:{filterFields:"tags",filterValue_tags:this.tagRequirement.tag.name,
filterType_tags:"eq",filterClass_tags:"String"},pageSize:10,onChange:function(a,b){b&&(n.components.put(b),j.dropDown.set("value","",void 0,void 0,""))},formatDropDownLabel:function(a,h){h.description&&(b(a,c.enter,function(){k.show(util.escape(h.description),this)}),b(a,c.leave,function(){k.hide(this)}))}})).placeAt(this.selectAttach);this.componentList=(new o({model:this.components,query:h,widgetFactory:f.hitch(this,this.createComponentWidget)})).placeAt(this.componentListAttach);this.components.query(h).observe(f.hitch(this,
this.updateRequirementDescription));config.data.permissions[security.system.createComponentsFromTemplate]&&(d.create("a",{"class":"linkPointer",innerHTML:i18n("Create Component")},this.createComponentNode),b(this.createComponentNode,"click",f.hitch(this,this.createComponent)));this.updateRequirementDescription()},createComponentWidget:function(a){var b=this;return new n({name:a.name,description:a.description,color:"#00B2EF",readOnly:this.readOnly,deleteHandler:function(){var c=b.components.getIdentity(a);
b.components.remove(c)}})},createComponent:function(){var a=this,b=new h({title:i18n("Edit Component"),closable:!0,draggable:!0});(new s({noRedirect:!0,requireTemplateTag:this.tagRequirement.tag,callback:function(c){b.hide();b.destroy();c&&a.components.add(c)}})).placeAt(b);b.show()},updateRequirementDescription:function(){if(this.isRequirementSatisfied())this.requirementDescription.style.display="none";else{var a=this.getRequirementDescription();this.requirementDescription.textContent=i18n("Components Required: ")+
a;this.requirementDescription.style.display=""}},isRequirementSatisfied:function(){var a=this.componentList.getChildren().length;if("EQUALS"===this.tagRequirement.type)a=a===this.tagRequirement.number;else if("GREATER_THAN"===this.tagRequirement.type)a=a>this.tagRequirement.number;else if("LESS_THAN"===this.tagRequirement.type)a=a<this.tagRequirement.number;else throw"Unknown tag requirement type: "+this.tagRequirement.type;return a},getRequirementDescription:function(){var a=this.tagRequirement.number;
if("EQUALS"===this.tagRequirement.type)return i18n("Needs %s components with '%s\" tag.",""+a,this.tagRequirement.tag.name);if("GREATER_THAN"===this.tagRequirement.type)return i18n("Needs %s or more components with '%s\" tag.",""+(a+1),this.tagRequirement.tag.name);if("LESS_THAN"===this.tagRequirement.type)return i18n("Needs %s or fewer components with '%s\" tag.",""+(a-1),this.tagRequirement.tag.name);throw"Unknown tag requirement type: "+this.tagRequirement.type;},getRequirementDescriptionWithTagName:function(){return this.getRequirementDescription()}})})},
"deploy/widgets/workflow/activity/RunProcessActivity":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/on,deploy/widgets/workflow/activity/BaseActivity,js/webext/widgets/RestSelect,js/webext/widgets/Alert,deploy/widgets/property/PropertyTextareaBox".split(","),function(l,m,k,j,f,e,d){return m("deploy.widgets.workflow.activity.RunProcessActivity",[f],{postCreate:function(){this.inherited(arguments);this.initialized||this.editProperties()},getLabel:function(){var c="";return c=
this.initialized?this.data.processName?c+(this.data.name+"\n"+i18n('Run "%s"',this.data.processName)):c+(this.data.name+"\n("+i18n("Process Deleted")+")"):c+i18n("Run Another Process")},editProperties:function(c){var b=this;b.extraPropertyNames=[];var a=b.createPropertyDialog(),h=b.createPropertyForm({dialog:a,validateFields:function(a){return b.validateName(a.name)},onSubmit:function(d){c&&c();b.initialized=!0;b.data.name=d.name;b.data.processName=d.processName;b.data.resourcePath=d.resourcePath;
b.data.properties={};l.forEach(b.extraPropertyNames,function(a){var c=a.substring(2);b.data.properties[c]=d[a]});b.updateLabel();a.hide();h.destroy();a.destroy()},readOnly:b.readOnly});h.addField({name:"name",label:i18n("Name"),type:"Text",required:!0,value:b.data.name});var q=new e({restUrl:bootstrap.restUrl+"process",getValue:function(a){return a.name},autoSelectFirst:!1,onChange:function(a,c){l.forEach(b.extraPropertyNames,function(a){h.removeField(a)});b.extraPropertyNames=[];a&&(b.graphEditor.process&&
a===b.graphEditor.process.name&&new d({message:i18n("This will call the current process and risk the creation of an infinite loop. Are you sure you want this process to run itself?")}),k.get({url:bootstrap.restUrl+"process/"+c.id+"/-1",handleAs:"json",load:function(a){b.showProcessFields(h,a)}}))},allowNone:!1,value:b.data.processName,disabled:b.readOnly});h.addField({name:"processName",label:i18n("Process"),required:!0,description:i18n("The process to run."),widget:q});q=b.data.resourcePath||"";
this.initialized||(q="${p:resource.path}");h.addField({name:"resourcePath",label:i18n("Resource Path"),type:"PropertyBox",required:!1,description:i18n("The path to the resource to execute this process on. Leave this blank to use the process's default resource."),value:q,cache:b.graphEditor.cache});h.placeAt(a.containerNode);a.show()},showProcessFields:function(c,b){var a=this;l.forEach(b.propDefs,function(b){var d=null;a.data.properties&&(d=a.data.properties[b.name]);if(d)b.value=d;if(b.type&&"text"===
b.type.toLowerCase())b.type="PropertyBox";else if(b.type&&"text area"===b.type.toLowerCase())b.type="PropertyArea";b.cache=a.graphEditor.cache;b.name="p_"+b.name;c.addField(b);a.extraPropertyNames.push(b.name)})}})})},"idx/form/TriStateCheckBox":function(){require({cache:{"url:idx/form/templates/TriStateCheckBox.html":'<div id="widget_${id}" class="dijitReset dijitInline idxComposite"\r\n\t><div class="dijit dijitReset dijitInline" role="presentation" dojoAttachPoint="stateNode,oneuiBaseNode"\r\n\t\t><div class="idxOneuiTriStateCheckBoxInner" dojoAttachPoint="stateLabelNode"></div\r\n\t\t><input ${!nameAttrSetting} type="checkbox" dojoAttachPoint="focusNode" role="checkbox"\r\n\t\tclass="dijitReset idxOneuiTriStateCheckBoxInput" dojoAttachEvent="onclick:_onClick"\r\n\t/></div><div class="idxLabel dijitInline dijitHidden"\r\n\t><label for="${id}" dojoAttachPoint="compLabelNode"></label\r\n\t></div\r\n\t><div class=\'dijitReset dijitValidationContainer dijitInline\' dojoAttachPoint="iconNode"\r\n\t\t><div class="dijitValidationIcon"><input class="dijitReset dijitInputField dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"/\r\n\t></div></div\r\n></div>'}});
define("idx/form/TriStateCheckBox","dojo/_base/declare,dojo/_base/array,dojo/_base/lang,dojo/_base/kernel,dojo/_base/event,dojo/dom-attr,dojo/query,dijit/form/ToggleButton,./_CssStateMixin,./_CompositeMixin,./_ValidationMixin,dojo/text!./templates/TriStateCheckBox.html,dojo/NodeList-dom".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q){return k.getObject("idx.oneui.form",!0).TriStateCheckBox=l("idx.form.TriStateCheckBox",[c,b,a,h],{templateString:q,instantValidate:!0,baseClass:"idxOneuiTriStateCheckBoxWrap",
oneuiBaseClass:"idxOneuiTriStateCheckBox",labelAlignment:"horizontal",states:"",_stateLabels:null,stateValues:null,_currentState:0,_stateType:"False",readOnly:!1,checked:"",constructor:function(){this.states=[!1,"mixed",!0];this.checked=!1;this._stateLabels={False:"&#9633;",True:"&#8730;",Mixed:"&#9632;"};this.stateValues={False:!1,True:"on",Mixed:"mixed"}},_fillContent:function(){},postCreate:function(){this.extension={input:"onChange",blur:"_onBlur",focus:"_onFocus"};this.instantValidate&&this.connect(this.focusNode,
"onfocus",function(){""==this.message||this.mouseFocus?this.mouseFocus=!1:this.displayMessage(this.message)});e.set(this.stateLabelNode,"innerHTML",this._stateLabels[this._stateType]);this.inherited(arguments)},startup:function(){this.set("checked",this.params.checked||this.states[this._currentState]);e.set(this.stateLabelNode,"innerHTML",this._stateLabels[this._stateType]);this.inherited(arguments)},_isEmpty:function(){return!this.get("checked")},_setCheckedAttr:function(a,b){var c=m.indexOf(this.states,
a),h=!1;0<=c?(this._currentState=c,a!=this.get("checked")&&(h=!0),this._set("checked",a),this._stateType=this._getStateType(a),"mixed"==a?e.set(this.focusNode||this.domNode,"checked",!0):e.set(this.focusNode||this.domNode,"checked",a),e.set(this.focusNode,"value",this.stateValues[this._stateType]),e.set(this.stateLabelNode,"innerHTML",this._stateLabels[this._stateType]),(this.focusNode||this.domNode).setAttribute("aria-checked",a),h&&this._handleOnChange(a,b)):console.warn("Invalid state!")},setChecked:function(a){j.deprecated("setChecked("+
a+") is deprecated. Use set('checked',"+a+") instead.","","2.0");this.set("checked",a)},_setStatesAttr:function(a){if(k.isArray(a))this._set("states",a);else if(k.isString(a)){for(var b={"true":!0,"false":!1,mixed:"mixed"},a=a.split(/\s*,\s*/),c=0;c<a.length;c++)a[c]=void 0!==b[a[c]]?b[a[c]]:!1;this._set("states",a)}},_setReadOnlyAttr:function(a){this._set("readOnly",a);e.set(this.focusNode,"readOnly",a);this.focusNode.setAttribute("aria-readonly",a)},_setValueAttr:function(a,b){if("string"==typeof a&&
0>m.indexOf(this.states,a))""==a&&(a="on"),this.stateValues.True=a,a=!0;if(this._created)this._currentState=m.indexOf(this.states,a),this.set("checked",a,b),e.set(this.focusNode,"value",this.stateValues[this._stateType])},_setValuesAttr:function(a){this.stateValues.True=a[0]?a[0]:this.stateValues.True;this.stateValues.Mixed=a[1]?a[1]:this.stateValues.Mixed},_getValueAttr:function(){return this.stateValues[this._stateType]},reset:function(){this._hasBeenBlurred=!1;this.set("states",this.params.states||
[!1,"mixed",!0]);this.stateValues=this.params.stateValues||{False:!1,True:"on",Mixed:"mixed"};this.set("values",this.params.values||[]);this.set("checked",this.params.checked||this.states[0])},_onFocus:function(){this.id&&d("label[for='"+this.id+"']").addClass("dijitFocusedLabel");this.inherited(arguments)},_onBlur:function(){this.id&&d("label[for='"+this.id+"']").removeClass("dijitFocusedLabel");this.mouseFocus=!1;this.inherited(arguments)},_onClick:function(a){if(this.readOnly||this.disabled)return f.stop(a),
!1;this.click();return this.onClick(a)},click:function(){this._currentState>=this.states.length-1?this._currentState=0:-1==this._currentState?this.fixState():this._currentState++;var a=this._currentState;this.set("checked",this.states[this._currentState]);this._currentState=a;e.set(this.stateLabelNode,"innerHTML",this._stateLabels[this._stateType])},fixState:function(){this._currentState=this.states.length-1},_getStateType:function(a){return a?"mixed"==a?"Mixed":"True":"False"},_onMouseDown:function(){this.mouseFocus=
!0},_setDisabledAttr:function(){this.inherited(arguments);this._refreshState()},_setLabelAlignmentAttr:null,_setFieldWidthAttr:null,_setLabelWidthAttr:null,_setIconClassAttr:null})})},"js/webext/widgets/Dialog":function(){define("js/webext/widgets/Dialog","dojo/_base/declare,dojo/_base/lang,dojo/aspect,dijit/Dialog,dijit/Tooltip,dojo/window,dojo/dom-style,dojo/_base/kernel".split(","),function(l,m,k,j,f,e,d,c){return l("js.webext.widgets.Dialog",[j],{templateString:'<div class="dijitDialog" role="dialog" aria-labelledby="${id}_title">    <div data-dojo-attach-point="titleBar" class="dijitDialogTitleBar">    <span data-dojo-attach-point="titleNode" class="dijitDialogTitle" id="${id}_title"></span>    <span data-dojo-attach-point="closeButtonNode" class="dijitDialogCloseIcon" data-dojo-attach-event="ondijitclick: onCancel" title="${buttonCancel}" role="button" tabIndex="-1" style="display:inline;">        <span data-dojo-attach-point="closeText" class="closeDialogIcon" title="${buttonCancel}"></span>    </span>    </div>    <div data-dojo-attach-point="containerContainer" style="overflow-y: auto;"><div data-dojo-attach-point="containerNode" class="dijitDialogPaneContent"></div></div></div>',
_destroying:!1,_hideDeferred:null,destroyOnHide:!1,postCreate:function(){this.inherited(arguments);this.containerContainer.style.maxHeight=e.getBox().h-100+"px";this.destroyOnHide&&k.after(this,"onHide",m.hitch(this,"destroy"));if(this.description){var b=document.createElement("div");b.className="labelsAndValues-helpCell inlineBlock";new f({connectId:[b],label:this.description,showDelay:100,position:["after","above","below","before"]});this.titleBar.appendChild(b)}},show:function(){this.domNode.draggable=
!1;this.inherited(arguments);this._hideDeferred=null;var b=this,a=function(){b.open&&b._position()};setTimeout(function(){a()},25);setTimeout(function(){a()},50);setTimeout(function(){a()},100);setTimeout(function(){a()},200);setTimeout(function(){a()},400);setTimeout(function(){a()},800);setTimeout(function(){a()},1200)},hide:function(){var b=this._hideDeferred;if(!b)b=this._hideDeferred=this.inherited(arguments);return b},destroy:function(){var b=this,a,c,d;if(!b._destroying){b._destroying=!0;a=
b._hideDeferred;c=arguments;d=b.getInherited(arguments);a||(a=b.hide());var o=function(){d.apply(b,c);b._destroying=!1;b._hideDeferred=null};a?a.then(o):o()}},_size:function(){if(this.height||this.width||this.heightPercent&&this.widthPercent){(m.isString(this.height)||m.isString(this.width))&&c.deprecated("String values for this.height or this.width is deprecated, and may not be supported in the future. Use integer values.");this.height=parseInt(this.height,10);this.width=parseInt(this.width,10);
var b=e.getBox(),a=this.height,h=this.width;this.heightPercent?a=b.h*this.heightPercent/100:0>this.height&&(a=b.h+this.height);this.widthPercent?h=b.w*this.widthPercent/100:0>this.width&&(h=b.w+this.width);b={overflow:"auto",position:"relative"};if(h)b.width=h+"px";if(a)b.height=a+"px";d.set(this.containerNode,b)}else this.inherited(arguments)}})})},"deploy/widgets/workflow/activity/AcquireLockActivity":function(){define(["dojo/_base/declare","dojo/on","deploy/widgets/workflow/activity/BaseActivity"],
function(l,m,k){return l("deploy.widgets.workflow.activity.AcquireLockActivity",[k],{postCreate:function(){this.inherited(arguments);if(!this.initialized){this.data.name=util.randomString(30);if(!this.data.lockName)this.data.lockName=appState.applicationProcess?"${p:application.name}-${p:applicationProcess.name}-${p:environment.name}":"${p:component.name}-${p:componentProcess.name}-${p:resource.name}";this.editProperties()}},getLabel:function(){var j="",j=i18n("Acquire Lock");if(this.data.lockName){var f=
this.data.lockName;22<f.length&&(f=f.substring(0,20)+"...");j+="\n"+f}return j},editProperties:function(j){var f=this,e=f.createPropertyDialog(),d=f.createPropertyForm({dialog:e,onSubmit:function(b){j&&j();f.initialized=!0;f.data.lockName=b.lockName;f.updateLabel();e.hide();d.destroy();e.destroy()},readOnly:f.readOnly}),c="";if(this.data.lockName)c=this.data.lockName;d.addField({name:"lockName",label:i18n("Lock Name"),type:"PropertyBox",required:!0,value:c,cache:f.graphEditor.cache});d.placeAt(e.containerNode);
e.show()}})})},"deploy/widgets/applicationProcess/ApplicationProcessList":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dijit/form/CheckBox,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/on,deploy/widgets/Formatters,deploy/widgets/applicationProcess/EditApplicationProcess,js/webext/widgets/Alert,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/table/TreeTable".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s){return f("deploy.widgets.applicationProcess.ApplicationProcessList",
[m,l],{templateString:'<div class="applicationProcesses"><div class="listTopButtons" data-dojo-attach-point="buttonAttach"></div><div data-dojo-attach-point="gridAttach"></div><div data-dojo-attach-point="activeBoxAttach" style="margin: 2px;"></div></div>',postCreate:function(){this.inherited(arguments);var b=this;if(b.application)b.gridRestUrl=bootstrap.restUrl+"deploy/application/"+b.application.id+"/processes/false",b.processFormatter=a.applicationProcessLinkFormatter;if(b.applicationTemplate)b.gridRestUrl=
bootstrap.restUrl+"deploy/applicationTemplate/"+b.applicationTemplate.id+"/"+b.applicationTemplate.version+"/processes",b.processFormatter=a.applicationTemplateProcessLinkFormatter,b.readOnly=b.applicationTemplate.version!==b.applicationTemplate.versionCount||!b.applicationTemplate.security["Manage Processes"];var c=[{name:i18n("Process"),formatter:b.processFormatter},{name:i18n("Description"),field:"description"},{name:i18n("Actions"),formatter:this.actionsFormatter,parentWidget:this}];this.grid=
new s({url:b.gridRestUrl,serverSideProcessing:!1,columns:c,tableConfigKey:"appProcListKey",noDataMessage:i18n("No processes have been added to this application."),hideExpandCollapse:!0,hidePagination:!1});this.grid.placeAt(this.gridAttach);if(config.data.systemConfiguration.enableInactiveLinks&&b.application)(new j({checked:!1,value:"true",onChange:function(a){b.grid.url=bootstrap.restUrl+"deploy/application/"+appState.application.id+"/processes/"+a;b.grid.refresh()}})).placeAt(this.activeBoxAttach),
c=document.createElement("div"),d.add(c,"inlineBlock"),c.style.position="relative",c.style.top="2px",c.style.left="2px",c.innerHTML=i18n("Show Inactive Processes"),this.activeBoxAttach.appendChild(c);b.readOnly||(c=new k({label:i18n("Create Process"),showTitle:!1,onClick:function(){b.showNewApplicationProcessDialog({})}}),d.add(c.domNode,"idxButtonSpecial"),c.placeAt(this.buttonAttach))},destroy:function(){this.inherited(arguments);this.grid.destroy()},applicationProcessLinkFormatter:function(a){var b=
document.createElement("a");if(a)if(b.innerHTML=a.name.escape(),"patternApplicationProcess"===a.metadataType){if(a.blueprint)b.href=a.blueprint.url}else b.href="#applicationProcess/"+a.id+"/"+a.version;return b},actionsFormatter:function(a){var h=this.parentWidget,d=document.createElement("div");if(!h.readOnly){var n=document.createElement("a");n.className="actionsLink linkPointer";n.innerHTML=i18n("Edit");if("patternApplicationProcess"===a.metadataType){if(a.blueprint)n.href=a.blueprint.url}else n.href=
"#applicationProcess/"+a.id+"/-1";d.appendChild(n);"patternApplicationProcess"!==a.metadataType&&(n=c.create("a",{"class":"actionsLink linkPointer",innerHTML:i18n("Copy")},d),b(n,"click",function(){h.duplicate(a)}),n=c.create("a",{"class":"actionsLink linkPointer",innerHTML:i18n("Delete")},d),b(n,"click",function(){h.confirmDelete(a)}))}return d},confirmDelete:function(a){var b=this;new n({message:i18n("If you delete this application process, scheduled instances of the process are also removed from the calendar, if any. However, the application process run history, including past calendar entries, is preserved. Delete %s?",
a.name.escape()),action:function(){b.grid.block();e.del({url:bootstrap.restUrl+"deploy/applicationProcess/"+a.id,handleAs:"json",load:function(){b.grid.unblock();b.grid.refresh();b.applicationTemplate&&navBar.setHash("applicationTemplate/"+b.applicationTemplate.id+"/-1/processes",!1,!0)}})}})},showNewApplicationProcessDialog:function(){var a=new o({title:i18n("Create an Application Process"),closable:!0,draggable:!0});(new h({application:this.application,applicationTemplate:this.applicationTemplate,
callback:function(){a.hide();a.destroy()}})).placeAt(a.containerNode);a.show()},duplicate:function(a){var b=this,c;b.application&&(c=bootstrap.restUrl+"deploy/application/"+b.application.id+"/pasteProcess/"+a.id);b.applicationTemplate&&(c=bootstrap.restUrl+"deploy/applicationTemplate/"+b.applicationTemplate.id+"/pasteProcess/"+a.id);b.grid.block();e.get({url:c,handleAs:"json",load:function(){b.grid.unblock();b.grid.refresh();b.applicationTemplate&&navBar.setHash("applicationTemplate/"+b.applicationTemplate.id+
"/-1/processes",!1,!0)},error:function(a){b.grid.unblock();new q({message:util.escape(a.responseText)})}})}})})},"dijit/form/ComboBox":function(){define("dijit/form/ComboBox",["dojo/_base/declare","./ValidationTextBox","./ComboBoxMixin"],function(l,m,k){return l("dijit.form.ComboBox",[m,k],{})})},"deploy/widgets/agentPool/AgentPoolAgents":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dojo/_base/declare,dojo/_base/xhr,dojo/dom-construct,dojo/on,deploy/widgets/Formatters,deploy/widgets/agentPool/EditAgentPool,js/webext/widgets/Dialog,js/webext/widgets/table/TreeTable".split(","),
function(l,m,k,j,f,e,d,c,b,a,h){return j("deploy.widgets.agentPool.AgentPoolAgents",[m,l],{templateString:'<div class="agentPoolResources"><div class="listTopButtons" data-dojo-attach-point="buttonAttach"></div><div data-dojo-attach-point="tableAttach"></div></div>',postCreate:function(){this.inherited(arguments);var a=this,b=bootstrap.restUrl+"agent",d=[{name:i18n("Name"),formatter:c.agentLinkFormatter,orderField:"name",getRawValue:function(a){return a.name}},{name:i18n("Description"),field:"description"},
{name:i18n("Status"),formatter:c.agentStatusFormatter},{name:i18n("Last Contact"),field:"lastContact",formatter:function(a){return util.dateFormatShort(a.lastContact)}},{name:i18n("Version"),field:"version"},{name:i18n("Actions"),formatter:this.actionsFormatter,parentWidget:this},{name:i18n("Relay"),field:"relay",formatter:function(a,b){if(b){var c="ONLINE"===b.status?"online":"offline",h=e.create("div"),d=e.create("div",{"class":"grid-cell-status"}),n=e.create("a",{"class":"name"});n.innerHTML=b.name.escape();
n.href="#relay/"+b.id;c=e.create("span",{"class":c});e.place(n,d);e.place(c,d);e.place(d,h);return h}}}];this.grid=new h({url:b,serverSideProcessing:!0,orderField:"name",tableConfigKey:"agentPoolAgentList",noDataMessage:i18n("No agents have been added to this pool."),columns:d,hideExpandCollapse:!0,hidePagination:!1,baseFilters:[{name:"agentPools.id",type:"eq",values:[a.agentPool.id],className:"UUID"}]});this.grid.placeAt(this.tableAttach);this.agentPool.security["Edit Basic Settings"]&&(new k({label:i18n("Edit Agent Pool"),
showTitle:!1,onClick:function(){a.showAddAgentDialog()}})).placeAt(this.buttonAttach)},actionsFormatter:function(a){var b=this.parentWidget,c=document.createElement("div");if(b.agentPool["Manage Pool Members"]){var h=e.create("a",{"class":"actionsLink linkPointer",innerHTML:i18n("Remove")},c);d(h,"click",function(){f.put({url:bootstrap.restUrl+"agent/pool/"+b.agentPool.id+"/removeAgent/"+a.id,load:function(){b.grid.refresh()}})})}return c},showAddAgentDialog:function(){var c=this;f.get({url:bootstrap.restUrl+
"agent/pool/"+this.agentPool.id,handleAs:"json",load:function(h){var d=new a({title:i18n("Edit Agent Pool"),closable:!0,draggable:!0});(new b({agentPool:h,callback:function(){d.hide();d.destroy();c.grid.refresh()}})).placeAt(d.containerNode);d.show()}})}})})},"deploy/widgets/wizard/Wizard":function(){define(["dojo/_base/declare","dojo/dom-class","dojox/widget/Wizard"],function(l,m,k){return l([k],{doneButtonLabel:i18n("Save"),nextButtonLabel:i18n("Next"),previousButtonLabel:i18n("Previous"),cancelButtonLabel:i18n("Cancel"),
postCreate:function(){this.inherited(arguments);this._highlightButtons=[]},_checkButtons:function(){this.inherited(arguments);this.cancelFunction?this._buttonOn(this.cancelButton):this._buttonOff(this.cancelButton);""===this.doneButton.domNode.style.display&&this._buttonOn(this.doneButton);this.hideDisabled||("none"===this.doneButton.domNode.style.display&&this._buttonOff(this.doneButton),"none"===this.nextButton.domNode.style.display&&this._buttonOff(this.nextButton))},_buttonOff:function(j){j.set("disabled",
!0);j.domNode.style.display=this.hideDisabled?"none":""},_buttonOn:function(j){j.set("disabled",!1);j.domNode.style.display=""},highlightButton:function(j,f){this._highlightButtons.filter(function(e){return m.contains(e.domNode,f)}).forEach(function(e){m.remove(e.domNode,f)});j&&(m.add(j.domNode,f),-1===this._highlightButtons.indexOf(j)&&this._highlightButtons.push(j))}})})},"dojo/data/util/sorter":function(){define(["../../_base/lang"],function(l){var m={};l.setObject("dojo.data.util.sorter",m);
m.basicComparator=function(k,j){var f=-1;null===k&&(k=void 0);null===j&&(j=void 0);if(k==j)f=0;else if(k>j||null==k)f=1;return f};m.createSortFunction=function(k,j){function f(a,b,c,h){return function(d,q){var e=h.getValue(d,a),f=h.getValue(q,a);return b*c(e,f)}}for(var e=[],d,c=j.comparatorMap,b=m.basicComparator,a=0;a<k.length;a++){d=k[a];var h=d.attribute;if(h){d=d.descending?-1:1;var q=b;c&&("string"!==typeof h&&"toString"in h&&(h=h.toString()),q=c[h]||b);e.push(f(h,d,q,j))}}return function(a,
b){for(var c=0;c<e.length;){var h=e[c++](a,b);if(0!==h)return h}return 0}};return m})},"deploy/widgets/agentRelay/RelayEditManager":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/on,dojo/dom-construct,js/webext/widgets/TwoPaneListManager,deploy/widgets/agentRelay/EditRelay,deploy/widgets/property/PropValues".split(","),function(l,m,k,j,f,e,d){return m([e],{postCreate:function(){this.inherited(arguments);this.showList()},showList:function(){var c=this;c.addEntry({id:"basic",
label:i18n("Basic Settings"),action:function(){c.addHeading(i18n("Basic Settings"));c.showBasicSettings()}})},addHeading:function(c){f.create("div",{innerHTML:c,"class":"containerLabel",style:{padding:"10px"}},this.detailAttach)},addDescription:function(c){f.create("div",{innerHTML:c,style:{marginBottom:"10px"}},this.detailAttach)},showBasicSettings:function(){(new d({relay:appState.relay})).placeAt(this.detailAttach)}})})},"dijit/form/_FormWidgetMixin":function(){define("dijit/form/_FormWidgetMixin",
"dojo/_base/array,dojo/_base/declare,dojo/dom-attr,dojo/dom-style,dojo/_base/lang,dojo/mouse,dojo/sniff,dojo/window,../a11y".split(","),function(l,m,k,j,f,e,d,c,b){return m("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(a){this._set("disabled",a);k.set(this.focusNode,"disabled",a);this.valueNode&&k.set(this.valueNode,
"disabled",a);this.focusNode.setAttribute("aria-disabled",a?"true":"false");a?(this._set("hovering",!1),this._set("active",!1),a="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode",l.forEach(f.isArray(a)?a:[a],function(a){a=this[a];d("webkit")||b.hasDefaultTabStop(a)?a.setAttribute("tabIndex","-1"):a.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(a){if("mouse"==a&&this.isFocusable())var b=
this.connect(this.focusNode,"onfocus",function(){this.disconnect(d);this.disconnect(b)}),d=this.connect(this.ownerDocumentBody,"onmouseup",function(){this.disconnect(d);this.disconnect(b);this.focused&&this.focus()});this.scrollOnFocus&&this.defer(function(){c.scrollIntoView(this.domNode)});this.inherited(arguments)},isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=j.get(this.domNode,"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},
compare:function(a,b){return"number"==typeof a&&"number"==typeof b?isNaN(a)&&isNaN(b)?0:a-b:a>b?1:a<b?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(a,b){if(void 0==this._lastValueReported&&(null===b||!this._onChangeActive))this._resetValue=this._lastValueReported=a;this._pendingOnChange=this._pendingOnChange||typeof a!=typeof this._lastValueReported||0!=this.compare(a,this._lastValueReported);if((this.intermediateChanges||b||void 0===b)&&this._pendingOnChange)if(this._lastValueReported=
a,this._pendingOnChange=!1,this._onChangeActive)this._onChangeHandle&&this._onChangeHandle.remove(),this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(a)})},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));this.inherited(arguments)}})})},"deploy/widgets/application/wizard/AgentMappingPage":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/layout/ContentPane,dijit/layout/BorderContainer,dijit/form/TextBox,dijit/Tooltip,dojo/_base/declare,dojo/store/Memory,dojo/store/Observable,dojo/dom-construct,dojo/dom-class,dojo/dom-style,dojo/on,dojo/mouse,js/webext/widgets/table/TreeTable,deploy/widgets/tag/Tagger,deploy/widgets/filter/TagFilter,deploy/widgets/TooltipTitle,deploy/widgets/application/wizard/AgentMappingTargetTree,deploy/widgets/ModelWidgetList".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u,x){return d([m,l],{templateString:'<div class="agentMappingPage wizardFullPage">  <div data-dojo-attach-point="callToAction" class="callToAction">  </div>  <div class="columns" data-dojo-attach-point="columnsAttach">    <div class="agentsColumn">      <div data-dojo-attach-point="agentsColumnHeader" class="columnHeader">'+i18n("Agents")+'</div>      <div class="columnInstructions">'+i18n("To find agents, use the search boxes. Drag agents to the agent prototypes for each environment.")+
'      </div>      <div data-dojo-attach-point="agentsAttach" class="agentsAttach"></div>    </div>    <div class="environmentsColumn">      <div data-dojo-attach-point="environmentsColumnHeader" class="columnHeader">'+i18n("Environments")+'</div>      <div data-dojo-attach-point="environmentsAttach" class="environmentsAttach"></div>    </div>  </div>  <div style="display:none">'+i18n('Confirm that the permissions are correctly set for the roles that are used to create applications from this template. For more information about these permissions, open the documentation and search for "Permissions reference for using application templates."')+
'  </div>  <\!-- begin yes map permission no env --\>  <div class="pageAlerts">    <div data-dojo-attach-point="yesMapPermNoEnvAttach" class="pageAlert lowPriority">      <h1 class="msgtitle">'+i18n("You cannot map agents to environments now.")+'      </h1>       <p class="description">'+i18n("The application does not contain environments.")+'      </p>      <h2 class="solutionheader">'+i18n("Solutions")+'      </h2>      <ul class="listheader">          <li class="solutionoptions">'+i18n("You can add agents to the base resources after you save the application and create environments. To map an agent, from within the application, open the environment. Select the base resource that must contain an agent, and then click Actions > Add Agent and select the agent.")+
'          </li>          <li class="solutionoptions">'+i18n("If you expected to specify environments for this application during creation, confirm that you selected the correct application template.")+'          </li>      </ul>    </div>  </div>  <\!-- end yes resource permission no env --\>  <\!-- begin no map permission no env --\>  <div class="pageAlerts">    <div data-dojo-attach-point="noMapPermNoEnvAttach" class="pageAlert lowPriority">      <h1 class="msgtitle">'+i18n("You cannot map agents to environments now.")+
'      </h1>       <p class="description">'+i18n("Your role does not have the permissions to create or map resources for the environments, and the application does not contain environments.")+'      </p>      <h2 class="solutionheader">'+i18n("Solutions")+'      </h2>      <ul class="listheader">'+i18n("For permissions")+'          <li class="solutionoptions">'+i18n("You can ask your administrator to grant your role the permissions that are needed to create or map resources for the environments.")+
'          </li>      </ul>      <ul class="listheader">'+i18n("For environments (You must request permission to create resources for environments.)")+'          <li class="solutionoptions">'+i18n("You can add agents to the base resources after you save the application and create environments. To map an agent, from within the application, open the environment. Select the base resource that must contain an agent, and then click Actions > Add Agent and select the agent.")+'          </li>          <li class="solutionoptions">'+
i18n("You can request that environment templates be added to the application template.")+'          </li>          <li class="solutionoptions">'+i18n("If you expected to specify environments for this application during creation, confirm that you selected the correct application template.")+'          </li>      </ul>    </div>  </div>  <\!-- end no resource permission no env --\>  <\!-- begin no resource permission yes env --\>  <div class="pageAlerts" >    <div data-dojo-attach-point="noMapPermYesEnvAttach" class="pageAlert lowPriority">      <h1 class="msgtitle">'+
i18n("You cannot map agents to environments now.")+'      </h1>       <p class="description">'+i18n("Your role does not have the permissions that are needed to create or map resources for the environments.")+'      </p>      <h2 class="solutionheader">'+i18n("Solutions")+'      </h2>      <ul class="listheader">          <li class="solutionoptions">'+i18n("You can ask your administrator to grant your role the permissions that are needed to create or map resources for the environments.")+"          </li>      </ul>    </div>  </div>  <\!-- end no resource permission yes env --\></div>",
postCreate:function(){this.inherited(arguments);(new w({titleText:i18n("Add agents to the resource tree for each environment."),tooltipText:"<div class='wizard-agent-mapping-page-tooltip'>"+i18n("An agent is software that runs deployment processes. Each environment contains a resource tree that describes the  structure of its resources. Resources include the computers that you deploy components to and the agents and components themselves.")+"<br/><br/>"+i18n("The environment templates in an application template contain resource templates that specify the resource tree. Because resource templates are applied to multiple environments, they often contain agent prototypes and component tags instead of individual agents and components.")+
"<br/><br/>"+i18n("You assign agents to agent prototypes.  If an agent prototype is assigned component tags, the agent that you assign runs processes for the components that contain  those tags.")+"</div>"})).placeAt(this.callToAction);this._initDnDTrees()},_initDnDTrees:function(){var a=this;this.crossWidgetDnDState={};this.agentList=new s({serverSideProcessing:!0,url:bootstrap.restUrl+"agent",orderField:"name",selectorField:"id",columns:[this.getNameColumn()],hideExpandCollapse:!0,hidePagination:!1,
hideFooter:!0,selectable:!1,draggable:!0,copyOnly:!0,onDrop:function(b){if(b&&0<b.length)a.crossWidgetDnDState.sources=b},drawHeadings:function(){},onDisplayTable:function(){a.agentsColumnHeader.innerText="Agents ("+this.totalRecords+")"}});this.agentList.placeAt(this.agentsAttach);this.modelWidgetList=new x({model:this.sharedData.environments,widgetFactory:function(b){return new u({crossWidgetDnDState:a.crossWidgetDnDState,environment:b})}});this.modelWidgetList.placeAt(this.environmentsAttach)},
getNameColumn:function(){var b=this;return{name:i18n("Name"),formatter:function(c,d,s){s.style.position="relative";d=a.create("div",{"class":"inlineBlock"});s=document.createElement("span");s.innerHTML=c.name.escape();d.appendChild(s);h.add(s,"inlineBlock");a.place(s,d);c.description&&(o(s,n.enter,function(){e.show(util.escape(c.description),this)}),o(s,n.leave,function(){e.hide(this)}));(new r({objectType:"Agent",item:c,callback:function(){b.agentList.refresh()}})).placeAt(d);return d},orderField:"name",
filterField:"name",filterType:"custom",getRawValue:function(a){return a.name},getFilterFields:function(){var a=[];a.push(new f({name:"name","class":"filter",style:{width:"45%"},placeHolder:i18n("Agent Name"),type:"like"}));a.push(new t({name:"tags","class":"filter",style:{width:"45%"},placeHolder:i18n("Tags"),type:"eq"}));return a}}},validate:function(){return!0},_hasPermission:function(){var a=!1;config.data.permissions["Map to Environments"]&&(a=!0);return a},_hasEnvironment:function(){var a=!1;
this.sharedData&&this.sharedData.environments&&0<this.sharedData.environments.query().length&&(a=!0);return a},_onShow:function(){this._hasPermission()?this._hasEnvironment()?(this.environmentsColumnHeader.innerText="Environments ("+this.sharedData.environments.query().length+")",dojo.style(this.callToAction,"display",""),dojo.style(this.columnsAttach,"display",""),dojo.style(this.noMapPermNoEnvAttach,"display","none"),dojo.style(this.noMapPermYesEnvAttach,"display","none"),dojo.style(this.yesMapPermNoEnvAttach,
"display","none")):(dojo.style(this.yesMapPermNoEnvAttach,"display",""),dojo.style(this.callToAction,"display","none"),dojo.style(this.columnsAttach,"display","none"),dojo.style(this.noMapPermNoEnvAttach,"display","none"),dojo.style(this.noMapPermYesEnvAttach,"display","none")):(this._hasEnvironment()?(dojo.style(this.noMapPermYesEnvAttach,"display",""),dojo.style(this.callToAction,"display","none"),dojo.style(this.columnsAttach,"display","none"),dojo.style(this.noMapPermNoEnvAttach,"display","none")):
(dojo.style(this.noMapPermNoEnvAttach,"display",""),dojo.style(this.callToAction,"display","none"),dojo.style(this.columnsAttach,"display","none"),dojo.style(this.noMapPermYesEnvAttach,"display","none")),dojo.style(this.yesMapPermNoEnvAttach,"display","none"))}})})},"deploy/widgets/application/wizard/AppWizEnvironment":function(){define(["dojo/Stateful","dojo/store/Memory","dojo/store/Observable","dojo/_base/declare","deploy/widgets/application/wizard/AppWizProperty"],function(l,m,k,j,f){return j([l],
{uniqId:null,name:null,description:null,template:null,props:null,selected:null,constructor:function(e,d,c){var b=this;this.uniqId=e;this.name=d.name;this.description="";this.template=d;c||(c=!1);this.selected=c;this._reflectTemplate();this.watch("template",function(a,c,d){c!==d&&b._reflectTemplate()})},_reflectTemplate:function(){this.props=new k(new m({data:this.template.get("propDefs").map(function(e){return new f(e)})}))}})})},"deploy/widgets/property/PropertyBox":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/_base/lang,dojo/Deferred,dojo/store/util/QueryResults,dojo/store/Memory,deploy/widgets/property/PropertyComboBox".split(","),
function(l,m,k,j,f,e,d,c){var b=k("deploy.widgets.property.PropertyBox",[m,l],{templateString:'<div class="propBox" data-dojo-attach-point="propBoxAttach"></div>',postCreate:function(){var a=new d({data:[],idProperty:"name"});this.propTextBox=new c({store:a,searchAttr:"name",selectOnClick:!0,autoComplete:!1,pageSize:this.pageSize||Infinity,value:this.value||"","class":"propertyBox",cache:this.cache});this.propTextBox.placeAt(this.propBoxAttach)},_getValueAttr:function(){return this.propTextBox.get("value")}});
config.data.extraFormDelegates.push({name:"PropertyBox",delegateFunction:function(a){return new b({pageSize:a.pageSize||Infinity,value:a.value,label:a.label,noneLabel:a.noneLabel,name:a.name,cache:a.cache})}});return b})},"url:dojox/calendar/templates/HorizontalRenderer.html":'<div class="dojoxCalendarEvent dojoxCalendarHorizontal" onselectstart="return false;">\n\t<div class="bg" ></div>\n\t<div style="position:absolute;left:2px;bottom:2px" data-dojo-attach-point="beforeIcon" class="beforeIcon">\u25c4</div>\t\n\t<div data-dojo-attach-point="labelContainer" class="labels">\t\t\n\t\t<span data-dojo-attach-point="startTimeLabel" class="startTime"></span>\n\t\t<span data-dojo-attach-point="summaryLabel" class="summary"></span>\n\t\t<span  data-dojo-attach-point="endTimeLabel" class="endTime"></span>\n\t</div>\n\t<div style="position:absolute;right:2px;bottom:2px" data-dojo-attach-point="afterIcon" class="afterIcon">\u25ba</div>\n\t<div data-dojo-attach-point="moveHandle" class="handle moveHandle" ></div>\n\t<div data-dojo-attach-point="resizeStartHandle" class="handle resizeStartHandle"></div>\n\t<div data-dojo-attach-point="resizeEndHandle" class="handle resizeEndHandle" ></div>\t\n</div>\n',
"deploy/widgets/report/deploymentReport/DeploymentReportTable":function(){define(["dojo/_base/declare","deploy/widgets/report/ReportTable"],function(l,m){return l("deploy.widgets.report.deploymentReport.DeploymentReportTable",[m],{constructor:function(){this.reportRestUrlBase=bootstrap.restUrl+"report/"},reportType:"com.urbancode.ds.subsys.report.domain.deployment_report.DeploymentReport",reportRestUrlBase:null,reportResultTable:null,selectableColumns:!0,getReportResultLayout:function(){return[{name:i18n("Application"),
field:"application",getRawValue:function(k){return k.application},orderField:"application"},{name:i18n("Environment"),field:"environment",getRawValue:function(k){return k.environment},orderField:"environment"},{formatter:util.tableDateFormatter,name:i18n("Date"),field:"date",getRawValue:function(k){return k.date.toString()},orderField:"date"},{name:i18n("User"),field:"user",getRawValue:function(k){return k.user},orderField:"user"},{name:i18n("Status"),field:"status",getRawValue:function(k){return k.status},
orderField:"status"},{name:i18n("Duration"),field:"duration",formatter:util.durationFormatter,getRawValue:function(k){return Number(k.duration)},orderField:"duration"},{name:i18n("Actions"),field:"applicationRequestId","class":"noPrint",formatter:function(k){var j=document.createElement("a");j.href="#applicationProcessRequest/"+k.applicationRequestId;j.innerHTML=i18n("View Request");return j}}]}})})},"js/webext/widgets/Table":function(){define("js/webext/widgets/Table","dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dojo/_base/xhr,dojo/aspect,dojo/dom-attr,dojo/dom-class,dojo/dom-construct,dojo/dom-style,dojo/json,dojo/keys,dojo/on,dojox/html/entities,dijit/Tooltip,dijit/_TemplatedMixin,dijit/_WidgetBase,dijit/form/CheckBox,dijit/form/DateTextBox,dijit/form/FilteringSelect,dijit/form/Select,dijit/form/TextBox,dijit/registry,js/util/blocker/_BlockerMixin,dojox/data/JsonRestStore,dijit/_BidiSupport".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u,x,v,y,A,z){var B=k.getObject("lscache");return m([r,s,A],{templateString:'<div class="webextTable"><table data-dojo-attach-point="tableAttach"><thead><tr data-dojo-attach-point="theadAttach"></tr><tr data-dojo-attach-point="filterAttach" class="noPrint tableFilterRow"></tr></thead><tfoot data-dojo-attach-point="tfootAttach" class="noPrint"></tfoot></table></div>',rowsPerPage:10,pageNumber:1,orderField:null,sortType:"asc",serverSideProcessing:!0,hidePagination:!1,
selectorField:!1,selectors:[],hideFooterLinks:!1,pageOptions:[10,25,50,100,250],totalRecords:void 0,prevPage:void 0,prevFilterFields:[],baseTextDir:null,alwaysShowFilters:!1,postCreate:function(){this.inherited(arguments);if(!this.noDataMessage)this.noDataMessage=i18n("No records found.");if(!this.filterFields)this.filterFields=[];this.filterWidgets=[];this.selectorField&&this.columns.unshift({name:"",field:"_checkbox"});this.defaultRowsPerPage=this.rowsPerPage;this.defaultPageNumber=this.pageNumber;
this.defaultOrderField=this.orderField;this.defaultSortType=this.sortType;var a=this.getStoredConfig();if(void 0!==a){if(void 0!==a.rowsPerPage)this.rowsPerPage=a.rowsPerPage;if(void 0!==a.pageNumber)this.pageNumber=a.pageNumber;if(void 0!==a.orderField)this.orderField=a.orderField;if(void 0!==a.sortType)this.sortType=a.sortType}this.drawHeadings();var c=!1;l.forEach(this.columns,function(a){a.filterField&&(c=!0)});c&&(this.drawFilterHiddenRow(),this.alwaysShowFilters&&this.drawFilters());this["class"]&&
d.add(this.tableAttach,this["class"]);this.style&&b.set(this.tableAttach,this.style);this["class"]&&d.add(this.tableAttach,this["class"]);this.style&&b.set(this.tableAttach,this.style);this.loadTable();null!==util.getIE()&&d.add(this.domNode,"ie"+util.getIE())},getStoredConfig:function(){var b;if(this.tableConfigKey){if(B){var c=B.get(this.tableConfigKey);if("String"===typeof c)return a.parse(c);if(c)return c}(c=util.getCookie("savedTableConfig"))&&(b=a.parse(c)[this.tableConfigKey])}return b},storeConfig:function(b){if(this.tableConfigKey)if(B)B.set(this.tableConfigKey,
a.stringify(b),240);else{var c={},h=util.getCookie("savedTableConfig");h&&(c=a.parse(h));c[this.tableConfigKey]=b;for(var d;3900<a.stringify(c).length;){b=!0;h={};for(d in c)c.hasOwnProperty(d)&&(b||(h[d]=c[d]),b=!1);c=h}util.setCookie("savedTableConfig",a.stringify(c))}},loadTable:function(){var a=this;if(this.tableConfigKey){var b={};if(this.rowsPerPage!==this.defaultRowsPerPage)b.rowsPerPage=this.rowsPerPage;if(this.pageNumber!==this.defaultPageNumber)b.pageNumber=this.pageNumber;if(this.orderField!==
this.defaultOrderField)b.orderField=this.orderField;if(this.sortType!==this.defaultSortType)b.sortType=this.sortType;this.storeConfig(b)}!this.serverSideProcessing&&void 0!==this.cachedData?this.showTable(this.cachedData):void 0!==this.data?(this.cachedData=this.data,this.showTable(this.cachedData)):void 0!==this.getData?(this.cachedData=this.getData(),this.showTable(this.cachedData)):(this.block(),this.tableDataDeferred=j.get({url:this.url,content:this.getFilterData(),handleAs:"json",load:function(b,
c){a.processXhrResponse&&a.processXhrResponse(b);if(!a.serverSideProcessing)a.cachedData=b;a.unblock();var h=c.xhr.getResponseHeader("Content-Range");b.records&&0===b.records.length&&a.prevPage&&a.pageNumber!==a.prevPage?(a.pageNumber=a.prevPage,a.loadTable()):(a.serverSideProcessing&&h&&(h=h.substring(h.indexOf("/")+1),b={records:b,totalRecords:Number(h)}),a.showTable(b))},error:function(){a.unblock();a.showError()}}),this.tableDataDeferred.addBoth(function(){this.tableDataDeferred=null}))},refresh:function(){this.cachedData=
void 0;this.loadTable()},print:function(){var a=this,b=function(){window.print()};if(a.hidePagination)b();else{var c=function(b,c,h){var d=b[c];b[c]=h;return a.hasOwnProperty(c)?function(){b[c]=d}:function(){delete b[c]}},h=[],d=function(){l.forEach(h,function(a){a()});a.loadTable()};try{h.push(c(a,"hidePagination",!0)),h.push(c(a,"rowsPerPage",Number.MAX_VALUE)),h.push(c(a,"tableConfigKey",void 0)),a.loadTable(),a.tableDataDeferred?a.tableDataDeferred.addCallback(b):b()}finally{a.tableDataDeferred?
a.tableDataDeferred.addBoth(d):d()}}},showError:function(){c.empty(this.filterAttach);var a=c.create("tr"),b=c.create("td");b.className="webextTableFooter";b.colSpan=this.columns.length;var h=c.create("div"),d=c.create("span",{style:{fontSize:"medium"}});d.innerHTML=util.i18n("An error has occurred.");h.appendChild(d);b.appendChild(h);a.appendChild(b);this.tfootAttach.appendChild(a)},selectAll:function(){this.selectors&&l.forEach(this.selectors,function(a){a.get("disabled")||a.set("checked",!0)})},
clearSelection:function(){this.selectors&&l.forEach(this.selectors,function(a){a.get("disabled")||a.set("checked",!1)})},getSelectedData:function(){var a=[];l.forEach(this.selectors,function(b){b.get("checked")&&a.push(b.get("fieldValue"))});return a},showTable:function(a){var h=this;if(this.tbody)this.tableAttach.removeChild(this.tbody),l.forEach(y.findWidgets(this.tbody),this._destroyWidget),this.tbody=null;h.tbody=c.create("tbody",{className:"treeTable-body"});var n=[];h.selectors&&(n=h.getSelectedData());
h.selectors=[];var s=[];if(this.serverSideProcessing){if(s=a.records,void 0!==a.totalRecords&&0<=a.totalRecords)h.totalRecords=a.totalRecords}else a=this.getDisplayData(a),h.totalRecords=a.totalRecords,s=a.records;var f=!1;l.forEach(s,function(a){var s=c.create("tr");if(f)s.className="odd";f=!f;l.forEach(h.columns,function(q){var f=c.create("td");s.appendChild(f);var v=c.create("div",{"class":"cellWrapper"},f);q["class"]&&d.add(f,q["class"]);void 0!==q.style&&b.set(f,q.style);var j="";if(void 0!==
q.field)if("_checkbox"!==q.field)j=a[q.field];else{var j=a[h.selectorField],x=-1<n.indexOf(j),j=new t({disabled:!(!a.security||a.security.write),checked:x,fieldValue:j});j.on("change",function(){h.updateColumnSelector()});h.selectors.push(j)}void 0!==q.formatter&&(j=q.formatter(a,j,f));if(null!==j)if(j instanceof r)j.placeAt(v);else if("object"===typeof j&&1===j.nodeType&&"object"===typeof j.style&&"object"===typeof j.ownerDocument)v.appendChild(j);else if(void 0!==j&&"object"!==typeof j)v.innerHTML=
o.encode(""+j);"string"===typeof j?e.set(v,"dir",util.getResolvedBTD(j)):e.set(v,"dir",util.getResolvedBTD(a.name));e.set(v,"align",util.getUIDirAlign())});h.tbody.appendChild(s)});h.selectorField&&n&&h.updateColumnSelector();c.place(h.tbody,h.tfootAttach,"before");var j;void 0!==h.totalRecords&&(j=Math.ceil(h.totalRecords/this.rowsPerPage));c.empty(this.tfootAttach);if(!this.hidePagination){a=c.create("tr");s=c.create("td");s.className="webextTableFooter";s.colSpan=this.columns.length||1;var w=c.create("div"),
z=c.create("div",{className:"numberOfItemsContainer"},w),u=c.create("span",{},z);if(0===h.totalRecords&&void 0!==h.noDataMessage)u=c.create("tr",{"class":"noDataRow"},this.tfootAttach),u=c.create("td",{colSpan:h.columns.length},u),c.create("span",{innerHTML:this.noDataMessage},u);else if(1===h.totalRecords)u.innerHTML=util.i18n("%s record",h.totalRecords);else if(h.totalRecords)u.innerHTML=util.i18n("%s records",h.totalRecords);if(!this.hideFooterLinks){if(h.totalRecords)c.create("span",{},z).innerHTML=
"-";u=c.create("a",{},z);d.add(u,"linkPointer");u.onclick=function(){h.refresh()};u.innerHTML=util.i18n("Refresh")}if(0!==h.totalRecords&&!this.hidePagination){this.hideFooterLinks||(z=c.create("a",{"class":"linkPointer",innerHTML:util.i18n("Print")},z),q(z,"click",function(){h.print()}));z=c.create("div");z.className="perPage";var k=[];l.forEach(this.pageOptions,function(a){k.push({label:""+a,value:""+a,selected:h.rowsPerPage===a})});u=c.create("span");u.style.paddingTop="2px";u.innerHTML=util.i18n("Rows");
z.appendChild(u);w.appendChild(z);u=new x({options:k,onChange:function(a){a=Number(a);if(h.rowsPerPage!==a){var b=(h.pageNumber-1)*h.rowsPerPage+1;h.rowsPerPage=a;h.pageNumber=Math.ceil(b/h.rowsPerPage);h.loadTable()}}});b.set(u.domNode,"display","inline-block");u.placeAt(z);this.own(u);z=c.create("div",{className:"pageNumbers inline-block"});if(1<this.pageNumber){u=c.create("a",{"class":"linkPointer",tabindex:"0"});this._createImg("arrow_fastBackwards",u,{alt:util.i18n("first page")});var A=function(){h.pageNumber=
1;h.loadTable()};u.onclick=A;u.onkeyup=function(a){h._isEnterKeyPressed(a)&&A()};z.appendChild(u);u=c.create("a",{"class":"linkPointer",tabindex:"0"});this._createImg("arrow_backwards",u,{alt:util.i18n("previous page")});var m=function(){h.prevPage=h.pageNumber;h.pageNumber--;h.loadTable()};u.onclick=m;u.onkeyup=function(a){h._isEnterKeyPressed(a)&&m()}}else u=c.create("span"),this._createImg("arrow_fastBackwards_grey",u,{alt:util.i18n("first page disabled")}),z.appendChild(u),u=c.create("span"),
this._createImg("arrow_backwards_grey",u,{alt:util.i18n("previous page disabled")});z.appendChild(u);if(j&&this.pageNumber>j)this.pageNumber=j;var B=new v({title:util.i18n("current page"),name:"page",value:this.pageNumber,onKeyPress:function(a){if(h._isEnterKeyPressed(a)&&(h.prevPage=h.pageNumber,a=B.textbox.value,1<=a&&a!==h.pageNumber))j&&a>j&&(a=j),h.pageNumber=a,h.loadTable()},onFocus:function(){B.textbox.select()}});b.set(B.domNode,"width",10+10*(""+this.pageNumber).length+"px");B.placeAt(z);
h.own(B);B.textbox.style.textAlign="center";u=c.create("span");if(j)u.innerHTML="/ "+j,z.appendChild(u);if(this.pageNumber<j||!j){u=c.create("a",{"class":"linkPointer",tabindex:"0"});this._createImg("arrow_forward",u,{alt:util.i18n("next page")});var X=function(){h.prevPage=h.pageNumber;h.pageNumber++;h.loadTable()};u.onclick=X;u.onkeyup=function(a){h._isEnterKeyPressed(a)&&X()};z.appendChild(u);if(h.totalRecords){u=c.create("a",{"class":"linkPointer",tabindex:"0"});this._createImg("arrow_fastForward",
u,{alt:util.i18n("last page")});var N=function(){h.pageNumber=j;h.loadTable()};u.onclick=N;u.onkeyup=function(a){h._isEnterKeyPressed(a)&&N()}}else u=c.create("span"),this._createImg("arrow_fastForward_grey",u,{alt:util.i18n("last page disabled")})}else u=c.create("span"),this._createImg("arrow_forward_grey",u,{alt:util.i18n("next page disabled")}),z.appendChild(u),u=c.create("span"),this._createImg("arrow_fastForward_grey",u,{alt:util.i18n("last page disabled")});z.appendChild(u);w.appendChild(z)}s.appendChild(w);
a.appendChild(s);this.tfootAttach.appendChild(a)}},drawHeadings:function(){var a=this;c.empty(this.theadAttach);l.forEach(this.columns,function(h){var r=c.create("th");h.style&&b.set(r,h.style);h.styleHeading&&b.set(r,h.styleHeading);if(void 0!==h.width)r.style.width=h.width;h["class"]&&d.add(r,h["class"]);var s=c.create("div",{style:{position:"relative"}}),e;if("_checkbox"===h.field)e=new t({label:util.i18n("Select All")}),a.own(e),e.on("click",function(){a.getSelectedData().length===a.selectors.length?
(e.set("label",util.i18n("Select All")),a.clearSelection()):(e.set("label",util.i18n("Select None")),a.selectAll());d.remove(e.domNode,"partialSelect")}),a.updateColumnSelector=function(){var b=a.getSelectedData().length,c=a.selectors.length;d.remove(e.domNode,"partialSelect");b&&b<c&&d.add(e.domNode,"partialSelect");b===c?e.set("checked",!0):e.set("checked",!1)},e.placeAt(s);var f=c.create("span");f.innerHTML=o.encode(""+h.name);s.appendChild(f);h.description&&(f=a._createImg("helpImage",s),this.own(new n({connectId:[f],
label:h.description,showDelay:200,position:["after","above","below","before"]})));if(h.orderField){d.add(r,"sortableColumn");s.tabIndex=0;if(h.orderField===a.orderField){if(a.sortImageContainer&&a.sortImageContainer.parentNode)a.sortImageContainer.parentNode.removeChild(a.sortImageContainer),a.sortImageContainer=void 0;var f=c.create("div",{"class":"sortImageWrapper"}),j=a._createImg("sortImage",f);d.toggle(j,"arrow_asc","asc"===a.sortType);d.toggle(j,"arrow_desc","desc"===a.sortType);j.alt="asc"===
a.sortType?"ascending":"descending";f.appendChild(j);s.appendChild(f);a.sortImageContainer=f}var v=function(){if(a.sortImageContainer)a.sortImageContainer.parentNode.removeChild(a.sortImageContainer),a.sortImageContainer=null;var b=c.create("div",{"class":"sortImageWrapper"},s),n=a._createImg("sortImage",b);b.appendChild(n);a.sortType=a.orderField===h.orderField&&"asc"===a.sortType?"desc":"asc";d.toggle(n,"arrow_asc","asc"===a.sortType);d.toggle(n,"arrow_desc","desc"===a.sortType);n.alt="asc"===a.sortType?
"ascending":"descending";a.sortImageContainer=b;a.sortColumn=h;a.orderField=h.orderField;a.refresh()};q(r,"click",v);q(r,"keyup",function(b){a._isEnterKeyPressed(b)&&v()})}r.appendChild(s);a.theadAttach.appendChild(r)})},drawFilterHiddenRow:function(){var a=this;c.empty(this.filterAttach);var b=c.create("td");b.colSpan=this.columns.length;var h=c.create("a");d.add(h,"linkPointer");h.innerHTML=util.i18n("Show Filters");h.onclick=function(){a.drawFilters()};b.appendChild(h);this.filterAttach.appendChild(b)},
drawFilters:function(){var a=this;c.empty(this.filterAttach);l.forEach(this.columns,function(h){var d=c.create("td"),n=c.create("div");n.style.position="relative";if(h===a.columns[0]&&!a.alwaysShowFilters){var r=c.create("div",{style:{position:"absolute",top:"3px"}}),o=a.isLeftToRight()?"left":"right";b.set(r,o,"3px");o=c.create("a",{"class":"linkPointer"},r);a._createImg("icon_delete",o);o.alt=util.i18n("Clear and hide filters");o.onclick=function(){a.drawFilterHiddenRow();a.filterFields=[];a.refresh()};
n.appendChild(r)}if(h.filterField){var s=null,q=null;switch(h.filterType){case "filteringSelect":r=new z({target:h.filterUrl,idAttribute:h.filterIdAttr||"name"});a.own(r);s=new u({name:h.filterField,store:r,autoComplete:!1,required:!1,onChange:function(b){var c=util.getNamedProperty(a.filterFields,h.filterField);void 0!==c&&util.removeFromArray(a.filterFields,c);a.filterFields.push({name:h.filterField,type:"eq",className:h.filterClass,values:[b]});if(void 0===c&&b||void 0!==c&&c.values[0]!==b)a.pageNumber=
1,a.refresh()}});break;case "text":case "textExact":s=new v({name:h.filterField,style:{width:"70%"},onChange:function(b){var c=util.getNamedProperty(a.filterFields,h.filterField);void 0!==c&&util.removeFromArray(a.filterFields,c);if(b){var d="like";"textExact"===h.filterType&&(d="eq");a.filterFields.push({name:h.filterField,type:d,className:h.filterClass,values:[b]})}if(void 0===c&&b||void 0!==c&&c.values[0]!==b)a.pageNumber=1,a.refresh()},onKeyPress:function(a){if(13===a.charOrCode)this.onChange(s.textbox.value)},
onBlur:function(){this.onChange(s.textbox.value)}});break;case "select":var e=[{label:util.i18n("Any"),value:"Any"}];l.forEach(h.filterOptions,function(a){e.push(a)});s=new x({name:h.filterField,options:e,onChange:function(b){var c=util.getNamedProperty(a.filterFields,h.filterField);void 0!==c&&util.removeFromArray(a.filterFields,c);var d=b;"_EMPTY_VALUE_"===b&&(d="");b=void 0!==d&&null!==d;"Any"!==d&&a.filterFields.push({name:h.filterField,type:"eq",className:h.filterClass,values:[d]});if(void 0===
c&&b||void 0!==c&&c.values[0]!==d)a.pageNumber=1,a.refresh()}});break;case "date":s=new w({name:h.filterField+"_low",onChange:function(b){var b=b?b.getTime():0,c=util.getNamedProperty(a.filterFields,h.filterField);void 0===c&&a.filterFields.push({name:h.filterField,type:"range",className:h.filterClass});c=util.getNamedProperty(a.filterFields,h.filterField);void 0===c.values?(c.values=[],c.values[0]={low:b,high:(new Date).getTime()}):c.values[0].low=b;a.pageNumber=1;a.refresh()},onKeyPress:function(a){13===
a.charOrCode&&(s.textbox.value?s.set("value",new Date(s.textbox.value)):s.set("value",null))}});q=new w({name:h.filterField+"_hi",onChange:function(b){var b=b?b.getTime()+864E5:(new Date).getTime(),c=util.getNamedProperty(a.filterFields,h.filterField);void 0===c&&a.filterFields.push({name:h.filterField,type:"range",className:h.filterClass});c=util.getNamedProperty(a.filterFields,h.filterField);void 0===c.values?(c.values=[],c.values[0]={high:b,low:0}):c.values[0].high=b;a.pageNumber=1;a.refresh()},
onKeyPress:function(a){13===a.charOrCode&&(q.textbox.value?q.set("value",new Date(q.textbox.value)):q.set("value",null))}});break;default:console.error("Unexpected filterType: "+h.filterType)}r=util.getNamedProperty(a.filterFields,h.filterField);void 0!==r&&(null!==q?s.set("value",r.values[0].low):s.set("value",r.values[0]));a.filterWidgets.push(s);a.own(s);s.placeAt(n);null!==q&&(void 0!==r&&q.set("value",r.values[0].high),c.create("span",{innerHTML:"&nbsp;-&nbsp;"},n),q.placeAt(n))}else c.create("div",
{innerHTML:"&nbsp;",style:{height:"16px"}},n);d.appendChild(n);a.filterAttach.appendChild(d)})},setFilterValue:function(a,b,c,h){var d;l.forEach(this.filterWidgets,function(c){if(c.name===a)c.value=b,d=c});var n;void 0===d&&l.forEach(this.filterFields,function(d){if(d.name===a)n=d,d.values=b,d.className=h,d.type=c});void 0===n&&this.filterFields.push({name:a,values:b,type:c,className:h});this.refresh()},getFilterData:function(){var a=this,b=a.rowsPerPage,c=a.pageNumber;a.hidePagination&&(b=99999,
c=1);var h={rowsPerPage:b,pageNumber:c,orderField:a.orderField,sortType:a.sortType,filterFields:[]};if(a.filters&&!a.baseFilters)a.baseFilters=a.filters;l.forEach(a.baseFilters,function(a){h.filterFields.push(a.name);var b=[];l.forEach(a.values,function(a){b.push(a)});h["filterValue_"+a.name]=b;h["filterType_"+a.name]=a.type;h["filterClass_"+a.name]=void 0!==a.className?a.className:"String"});l.forEach(a.filterFields,function(a){h.filterFields.push(a.name);var b=[];l.forEach(a.values,function(a){b.push(a)});
h["filterValue_"+a.name]=b;h["filterType_"+a.name]=a.type;h["filterClass_"+a.name]=void 0!==a.className?a.className:"String"});if(a.filterFields&&!a.prevFilterFields||!a.filterFields&&a.prevFilterFields||a.filterFields.length!==a.prevFilterFields.length)a.totalRecords=void 0;else for(var c=b=0,d=!1,b=0;b<a.filterFields.length;b++){d=!1;for(c=0;c<a.prevFilterFields.length;c++)if(a.filterFields[b]===a.prevFilterFields[c]){d=!0;break}if(!d){a.totalRecords=void 0;break}}a.prevFilterFields=[];l.forEach(a.filterFields,
function(b){a.prevFilterFields.push(b)});return h},getDisplayData:function(a){var b=this,c={},h=[];l.forEach(b.filterFields,function(c){var h;l.forEach(b.columns,function(a){a.filterField===c.name&&(h=a)});if(void 0===h)console.error("Filtered field "+c.name+" had no column match.");else if(void 0===h.getRawValue)console.error("Filtered column "+h.name+" had no getRawValue function.");else{var d=[];l.forEach(a,function(a){var b=!1,n=h.getRawValue(a);if(null===n||void 0===n)n="";n.normalize&&(n=n.normalize("NFC"));
l.forEach(c.values,function(a){a.normalize&&(a=a.normalize("NFC"));if("eq"===c.type)a===n&&(b=!0);else if("like"===c.type)-1!==n.toLowerCase().indexOf(a.toLowerCase())&&(b=!0);else if("daterange"===c.type){var h;h=void 0!==a.high?a.high.getTime():9007199254740992;var a=void 0!==a.low?a.low.getTime():0,d=Number(n);d<=h&&d>=a&&(b=!0)}});b&&d.push(a)});a=d}});void 0!==b.orderField&&l.forEach(b.columns,function(c){void 0!==c.orderField&&c.orderField===b.orderField&&a.sort(function(a,h){var d=c.getRawValue(a),
n=c.getRawValue(h),r=!0,o=!0;if(null===d||void 0===d)r=!1;if(null===n||void 0===n)o=!1;var s=0;!r||!o?!r&&!o?s=0:r?s=1:o&&(s=-1):(r=typeof d,"number"===r?s=d-n:"string"===r?s=d.localeCompare(n):"object"===r&&d instanceof Date&&(s=d-n));"desc"===b.sortType&&(s*=-1);return s})});var d=a.length;if(b.hidePagination)h=a;else{h=(b.pageNumber-1)*b.rowsPerPage;if(d<=h&&0<h)console.error("Page number out of range: Start index "+h+" is higher than "+d),b.pageNumber=Math.ceil(d/b.rowsPerPage),h=(b.pageNumber-
1)*b.rowsPerPage;h=a.slice(h,h+b.rowsPerPage)}c.records=h;c.totalRecords=d;return c},destroy:function(){this.tableDataDeferred&&this.tableDataDeferred.cancel();this.tbody&&l.forEach(y.findWidgets(this.tbody),this._destroyWidget);this.inherited(arguments)},_createImg:function(a,b,h){var n=c.create("img",{src:this._blankGif});h&&e.set(n,h);b.appendChild(n);d.add(b,"inlineBlock");a&&d.add(n,a);return n},_isEnterKeyPressed:function(a){return(a.charCode||a.keyCode)===h.ENTER},_destroyWidget:function(a){a&&
(a.destroyRecursive?a.destroyRecursive():a.destroy&&a.destroy())}})})},"deploy/widgets/environmentComparison/EnvironmentConfigComparison":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/dom-construct,deploy/widgets/environmentComparison/ComponentPropertiesTable".split(","),function(l,m,k,j,f,e,d){return j("deploy.widgets.environmentComparison.EnvironmentConfigComparison",[m,l],{templateString:'<div class="environmentConfigComparison"><div data-dojo-attach-point="tableAttach"></div></div>',
postCreate:function(){this.inherited(arguments);var c=this;this.componentPropertiesTables=[];f.get({url:bootstrap.restUrl+"deploy/component",content:{filterFields:["applications.id"],"filterValue_applications.id":c.application.id,"filterType_applications.id":"eq","filterClass_applications.id":"UUID"},handleAs:"json",load:function(b){if(b&&1>b.length){var a=e.create("div",{innerHTML:i18n("No configuration comparisons found."),style:"margin:10px;"});e.place(a,c.tableAttach)}k.forEach(b,function(a){0!==
c.componentPropertiesTables.length&&e.create("div",{"class":"hr",style:{marginTop:"15px"}},c.tableAttach);a=new d({component:a,environment1:c.environment1,environment2:c.environment2});c.componentPropertiesTables.push(a);a.placeAt(c.tableAttach)})}})},destroy:function(){this.inherited(arguments);k.forEach(this.componentPropertiesTables,function(c){c.destroy()})}})})},"deploy/widgets/report/securityReportUser/SecurityReportUserForm":function(){define("dojo/_base/declare,dojo/_base/array,dijit/_Widget,dijit/_TemplatedMixin,dojo/dom-construct,js/webext/widgets/FormDelegates".split(","),
function(l,m,k,j,f,e){return l([k,j],{templateString:"<div></div>",authRealmAttach:null,authRealmSelect:null,groupSelect:null,groupAttach:null,constructor:function(){this.authRealmRestUrl=bootstrap.baseUrl+"security/authenticationRealm";this.groupRestUrl=bootstrap.baseUrl+"security/group"},buildRendering:function(){this.inherited(arguments);var d=f.create("div",{"class":"inlineBlock",style:"margin-right: 5px;"},this.domNode);f.create("div",{innerHTML:i18n("Authentication Realm")},d);this.authRealmSelect=
e.retrieveDelegate("TableFilterMultiSelect")({url:this.authRealmRestUrl,idAttribute:"id",name:"authRealm",placeHolder:"Any",formatDropDownLabel:function(c,b){c.innerHTML=b.name.escape()}});this.authRealmSelect.placeAt(d);d=f.create("div",{"class":"inlineBlock"},this.domNode);f.create("div",{innerHTML:i18n("Group")},d);this.groupSelect=e.retrieveDelegate("TableFilterMultiSelect")({url:this.groupRestUrl,idAttribute:"id",name:"groups",placeHolder:"Any",formatDropDownLabel:function(c,b){c.innerHTML=b.name.escape()}});
this.groupSelect.placeAt(d);this.setProperties(this.report.properties)},destroy:function(){this.inherited(arguments);this.authRealmSelect.destroy();this.groupSelect.destroy()},setProperties:function(d){var c=this;m.forEach(d,function(b){var a=b.name,b=b.value,h=c.authRealmSelect;h.get("name")===a&&h.set("value",b);h=c.groupSelect;h.get("name")===a&&h.set("value",b)})},getProperties:function(){var d=[],c=function(b){var a=b.get("name"),b=b.get("value");a&&b&&d.push({name:a,value:b})};c(this.authRealmSelect);
c(this.groupSelect);return d}})})},"deploy/widgets/ModelWidgetList":function(){define(["dijit/_TemplatedMixin","dijit/_Widget","dijit/_Container","dojo/_base/declare"],function(l,m,k,j){return j([m,l,k],{templateString:'<div class="modelWidgetList"><div data-dojo-attach-point="containerNode"></div></div>',postCreate:function(){var f=this;this.inherited(arguments);this._mappings={};if(!this.query)this.query={};var e=this.model.query(this.query);e.observe(function(d,c,b){-1!==c?(d=f.model.getIdentity(d),
f.removeChild(c),delete f._mappings[d]):-1!==b&&f.displayWidget(d,b)});e.forEach(this.displayWidget,this)},displayWidget:function(f,e){var d=this.widgetFactory(f);this.addChild(d,e);this._mappings[this.model.getIdentity(f)]=d},getWidgetForModel:function(f){return this._mappings[this.model.getIdentity(f)]}})})},"dijit/layout/ContentPane":function(){define("dijit/layout/ContentPane","dojo/_base/kernel,dojo/_base/lang,../_Widget,../_Container,./_ContentPaneResizeMixin,dojo/string,dojo/html,dojo/i18n!../nls/loading,dojo/_base/array,dojo/_base/declare,dojo/_base/Deferred,dojo/dom,dojo/dom-attr,dojo/dom-construct,dojo/_base/xhr,dojo/i18n,dojo/when".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t){return a("dijit.layout.ContentPane",[k,j,f],{href:"",content:"",extractContent:!1,parseOnLoad:!0,parserScope:l._scopeName,preventCache:!1,preload:!1,refreshOnShow:!1,loadingMessage:"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>",isLoaded:!1,baseClass:"dijitContentPane",ioArgs:{},
onLoadDeferred:null,_setTitleAttr:null,stopParser:!0,template:!1,create:function(a,b){if((!a||!a.template)&&b&&!("href"in a)&&!("content"in a)){for(var b=q.byId(b),c=b.ownerDocument.createDocumentFragment();b.firstChild;)c.appendChild(b.firstChild);a=m.delegate(a,{content:c})}this.inherited(arguments,[a,b])},postMixInProperties:function(){this.inherited(arguments);var a=r.getLocalization("dijit","loading",this.lang);this.loadingMessage=e.substitute(this.loadingMessage,a);this.errorMessage=e.substitute(this.errorMessage,
a)},buildRendering:function(){this.inherited(arguments);if(!this.containerNode)this.containerNode=this.domNode;this.domNode.removeAttribute("title")},startup:function(){this.inherited(arguments);this._contentSetter&&b.forEach(this._contentSetter.parseResults,function(a){if(!a._started&&!a._destroyed&&m.isFunction(a.startup))a.startup(),a._started=!0},this)},_startChildren:function(){b.forEach(this.getChildren(),function(a){if(!a._started&&!a._destroyed&&m.isFunction(a.startup))a.startup(),a._started=
!0});this._contentSetter&&b.forEach(this._contentSetter.parseResults,function(a){if(!a._started&&!a._destroyed&&m.isFunction(a.startup))a.startup(),a._started=!0},this)},setHref:function(a){l.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",a)},_setHrefAttr:function(a){this.cancel();this.onLoadDeferred=new h(m.hitch(this,"cancel"));this.onLoadDeferred.then(m.hitch(this,"onLoad"));this._set("href",a);this.preload||this._created&&
this._isShown()?this._load():this._hrefChanged=!0;return this.onLoadDeferred},setContent:function(a){l.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",a)},_setContentAttr:function(a){this._set("href","");this.cancel();this.onLoadDeferred=new h(m.hitch(this,"cancel"));this._created&&this.onLoadDeferred.then(m.hitch(this,"onLoad"));this._setContent(a||"");this._isDownloaded=!1;return this.onLoadDeferred},_getContentAttr:function(){return this.containerNode.innerHTML},
cancel:function(){this._xhrDfd&&-1==this._xhrDfd.fired&&this._xhrDfd.cancel();delete this._xhrDfd;this.onLoadDeferred=null},destroy:function(){this.cancel();this.inherited(arguments)},destroyRecursive:function(a){this._beingDestroyed||this.inherited(arguments)},_onShow:function(){this.inherited(arguments);if(this.href&&!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow))return this.refresh()},refresh:function(){this.cancel();this.onLoadDeferred=new h(m.hitch(this,"cancel"));this.onLoadDeferred.then(m.hitch(this,
"onLoad"));this._load();return this.onLoadDeferred},_load:function(){this._setContent(this.onDownloadStart(),!0);var a=this,b={preventCache:this.preventCache||this.refreshOnShow,url:this.href,handleAs:"text"};m.isObject(this.ioArgs)&&m.mixin(b,this.ioArgs);var c=this._xhrDfd=(this.ioMethod||s.get)(b),h;c.then(function(b){h=b;try{return a._isDownloaded=!0,a._setContent(b,!1)}catch(c){a._onError("Content",c)}},function(b){c.canceled||a._onError("Download",b);delete a._xhrDfd;return b}).then(function(){a.onDownloadEnd();
delete a._xhrDfd;return h});delete this._hrefChanged},_onLoadHandler:function(a){this._set("isLoaded",!0);try{this.onLoadDeferred.resolve(a)}catch(b){console.error("Error "+this.widgetId+" running custom onLoad code: "+b.message)}},_onUnloadHandler:function(){this._set("isLoaded",!1);try{this.onUnload()}catch(a){console.error("Error "+this.widgetId+" running custom onUnload code: "+a.message)}},destroyDescendants:function(a){this.isLoaded&&this._onUnloadHandler();var c=this._contentSetter;b.forEach(this.getChildren(),
function(b){b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a);b._destroyed=!0});c&&(b.forEach(c.parseResults,function(b){if(!b._destroyed)b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a),b._destroyed=!0}),delete c.parseResults);a||n.empty(this.containerNode);delete this._singleChild},_setContent:function(a,b){this.destroyDescendants();var c=this._contentSetter;if(!(c&&c instanceof d._ContentSetter))c=this._contentSetter=new d._ContentSetter({node:this.containerNode,
_onError:m.hitch(this,this._onError),onContentError:m.hitch(this,function(a){a=this.onContentError(a);try{this.containerNode.innerHTML=a}catch(b){console.error("Fatal "+this.id+" could not change content due to "+b.message,b)}})});var h=m.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!a.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:!1,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{}),h=c.set(m.isObject(a)&&a.domNode?
a.domNode:a,h),n=this;return t(h&&h.then?h:c.parseDeferred,function(){delete n._contentSetterParams;b||(n._started&&(n._startChildren(),n._scheduleLayout()),n._onLoadHandler(a))})},_onError:function(a,b,c){this.onLoadDeferred.reject(b);a=this["on"+a+"Error"].call(this,b);c?console.error(c,b):a&&this._setContent(a,!0)},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},onContentError:function(){},onDownloadError:function(){return this.errorMessage},onDownloadEnd:function(){}})})},
"deploy/widgets/application/wizard/EnvironmentTemplateOption":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/_base/lang,dojo/dom-attr,dojo/dom-class,dojo/dom-style,dojo/on,js/webext/widgets/color/Color".split(","),function(l,m,k,j,f,e,d,c,b){return k([m,l],{templateString:'<div class="environment-template-option">  <div data-dojo-attach-point="contentAttach" class="environment-template-option-content">  <div class="environment-name-container">    <div class="horizontal-spacer"></div>    <span data-dojo-attach-point="nameAttach" class="environment-name"></span>  </div>  </div></div>',
onSelected:null,postCreate:function(){var a=this;this.inherited(arguments);this._reflectName(this.template.get("name"));this.template.watch("name",function(b,c,d){a._reflectName(d)});this._reflectColor(this.template.get("color"));this.template.watch("color",function(b,c,d){a._reflectSelected(d)});c(this,"click",function(){a.onSelected(a.template)})},_reflectColor:function(a){a=b.getColorOrConvert(a);!a.standard&&a.fallback&&(a=b.getColor(a.fallback));a=a.value;d.set(this.contentAttach,"borderLeftWidth",
"thick");d.set(this.contentAttach,"borderLeftStyle","solid");d.set(this.contentAttach,"borderLeftColor",a)},_reflectName:function(a){this.nameAttach.textContent=i18n(a)}})})},"dojo/mouse":function(){define("dojo/mouse",["./_base/kernel","./on","./has","./dom","./_base/window"],function(l,m,k,j,f){function e(d,c){var b=function(a,b){return m(a,d,function(d){if(c)return c(d,b);if(!j.isDescendant(d.relatedTarget,a))return b.call(this,d)})};b.bubble=function(a){return e(d,function(b,c){var d=a(b.target),
n=b.relatedTarget;if(d&&d!=(n&&1==n.nodeType&&a(n)))return c.call(d,b)})};return b}k.add("dom-quirks",f.doc&&"BackCompat"==f.doc.compatMode);k.add("events-mouseenter",f.doc&&"onmouseenter"in f.doc.createElement("div"));k.add("events-mousewheel",f.doc&&"onmousewheel"in f.doc);f=k("dom-quirks")&&k("ie")||!k("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(d,c){return d.button&c},isLeft:function(d){return d.button&1},isMiddle:function(d){return d.button&4},isRight:function(d){return d.button&
2}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(d,c){return d.button==c},isLeft:function(d){return 0==d.button},isMiddle:function(d){return 1==d.button},isRight:function(d){return 2==d.button}};l.mouseButtons=f;l=k("events-mousewheel")?"mousewheel":function(d,c){return m(d,"DOMMouseScroll",function(b){b.wheelDelta=-b.detail;c.call(this,b)})};return{_eventHandler:e,enter:e("mouseover"),leave:e("mouseout"),wheel:l,isLeft:f.isLeft,isMiddle:f.isMiddle,isRight:f.isRight}})},"deploy/widgets/report/securityReportEnvironment/SecurityReportEnvironmentTable":function(){define(["dojo/_base/array",
"dojo/_base/declare","dojo/dom-construct","dojox/html/entities","deploy/widgets/report/ReportTable"],function(l,m,k,j,f){return m("deploy.widgets.report.securityReportEnvironment.SecurityReportEnvironmentTable",[f],{reportRestUrlBase:null,reportResultTable:null,selectableColumns:!0,constructor:function(){this.reportRestUrlBase=bootstrap.restUrl+"report/"},reportType:"com.urbancode.ds.subsys.report.domain.security_report.environment.SecurityReportEnvironment",formatters:{multiNameFormatter:function(e,
d){var c=k.create("div"),b=d?d.split(","):null;l.forEach(b,function(a,b){0!==b&&k.create("br",{},c);k.create("span",{innerHTML:j.encode(a)},c)});return c}},getReportResultLayout:function(){return[{name:i18n("Application"),field:"application",getRawValue:function(e){return e.application},orderField:"application"},{name:i18n("Environment"),field:"environment",getRawValue:function(e){return e.environment},orderField:"environment"},{formatter:this.formatters.multiNameFormatter,name:i18n("Create"),field:"Create Environments"},
{formatter:this.formatters.multiNameFormatter,name:i18n("Delete"),field:"Delete"},{formatter:this.formatters.multiNameFormatter,name:i18n("Edit Basic Settings"),field:"Edit Basic Settings"},{formatter:this.formatters.multiNameFormatter,name:i18n("Execute"),field:"Execute on Environments"},{formatter:this.formatters.multiNameFormatter,name:i18n("Manage Approval Processes"),field:"Manage Approval Processes"},{formatter:this.formatters.multiNameFormatter,name:i18n("Manage Base Resources"),field:"Manage Base Resources"},
{formatter:this.formatters.multiNameFormatter,name:i18n("Manage Properties"),field:"Manage Properties"},{formatter:this.formatters.multiNameFormatter,name:i18n("Manage Teams"),field:"Manage Teams"},{formatter:this.formatters.multiNameFormatter,name:i18n("View"),field:"View Environments"}]}})})},"deploy/widgets/component/ComponentConfigTemplates":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/on,deploy/widgets/configTemplate/EditConfigTemplate,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/table/TreeTable".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q){return j("deploy.widgets.component.ComponentConfigTemplates",[m,l],{templateString:'<div class="componentConfigTemplates"><div class="listTopButtons" data-dojo-attach-point="buttonAttach"></div><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var a=this,b=bootstrap.restUrl+"deploy/component/"+this.component.id+"/configTemplates",c=[{name:i18n("Name"),field:"name",orderField:"name",getRawValue:function(a){return a.name}},
{name:i18n("Actions"),formatter:this.actionsFormatter,parentWidget:this}];this.grid=new q({url:b,serverSideProcessing:!1,columns:c,orderField:"name",sortType:"desc",tableConfigKey:"configurationTemplateList",noDataMessage:i18n("No configuration templates found."),hidePagination:!1,hideExpandCollapse:!0});this.grid.placeAt(this.gridAttach);this.component.security["Manage Configuration Templates"]&&(b=new k({label:i18n("Create Configuration Template"),showTitle:!1,onClick:function(){a.showEditConfigTemplateDialog()}}),
e.add(b.domNode,"idxButtonSpecial"),b.placeAt(this.buttonAttach))},destroy:function(){this.inherited(arguments);this.grid.destroy()},actionsFormatter:function(a){var b=this.parentWidget,h=document.createElement("div");if(b.component.security["Manage Configuration Templates"]){var r=d.create("a",{"class":"actionsLink linkPointer",innerHTML:i18n("Edit")},h);c(r,"click",function(){b.showEditConfigTemplateDialog(a)});r=d.create("a",{"class":"actionsLink linkPointer",innerHTML:i18n("Delete")},h);c(r,"click",
function(){b.confirmDelete(a)})}else r=d.create("a",{"class":"actionsLink linkPointer",innerHTML:i18n("View")},h),c(r,"click",function(){b.showEditConfigTemplateDialog(a)});return h},showEditConfigTemplateDialog:function(c){var h=this,d=i18n("Create Configuration Template");c&&(d=i18n("Edit Configuration Template"));var r=new a({title:d,closable:!0,draggable:!0});(new b({readOnly:!this.component.security["Manage Configuration Templates"],component:this.component,configTemplate:c,callback:function(){r.hide();
r.destroy();h.grid.refresh()}})).placeAt(r.containerNode);r.show()},confirmDelete:function(a){var b=this;new h({message:i18n("Are you sure you want to delete template %s?",a.name.escape()),action:function(){b.grid.block();f.del({url:bootstrap.restUrl+"deploy/configTemplate/"+b.component.id+"/"+a.name,load:function(){b.grid.unblock();b.grid.refresh()}})}})}})})},"deploy/widgets/agent/AgentList":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dijit/form/CheckBox,dijit/form/Textarea,dijit/form/TextBox,dojo/_base/declare,dojo/_base/xhr,dojo/_base/array,dojo/dom-class,dojo/dom-construct,dojo/json,dojo/on,deploy/widgets/Formatters,deploy/widgets/agent/SshInstallAgent,deploy/widgets/tag/Tagger,deploy/widgets/filter/TagFilter,deploy/widgets/agent/EditAgent,js/util/blocker/BlockingContainer,js/webext/widgets/Alert,js/webext/widgets/RadioButtonGroup,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/form/MenuButton,dojo/store/Memory,dijit/form/Select,dojo/data/ObjectStore,deploy/widgets/tag/TagDisplay,js/webext/widgets/table/TreeTable,js/webext/widgets/ColumnForm".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u,x,v,y,A,z,B,D,G,C,S,K){return d("deploy.widgets.agent.AgentList",[m,l],{templateString:'<div class="agent-list"><div class="listTopButtons" data-dojo-attach-point="buttonAttach" style="position:relative; z-index=1;"></div><div data-dojo-attach-point="tableAttach"></div><div data-dojo-attach-point="activeBoxAttach" style="margin: 2px;"></div></div>',postCreate:function(){this.inherited(arguments);var a=this;this.currentView="agent";a.relay?a.makeTable(a.currentView,
a.getColumns()):(a.selectStore=h.create("div"),dojo.xhrGet({url:bootstrap.restUrl+"relay/",handleAs:"json",load:function(c){var d=[];b.forEach(c,function(a){d.push({label:a.name,value:a.endpointId})});c=h.create("div",{className:"agent-version-container warning-state-color"},this.buttonAttach);h.create("div",{innerHTML:i18n("Min. Required")},c);h.create("div",{innerHTML:config.data.systemConfiguration.agentMinimumRequiredVersion},c);c=h.create("div",{className:"agent-version-container running-state-color"},
this.buttonAttach);h.create("div",{innerHTML:i18n("Min. Recommended")},c);h.create("div",{innerHTML:config.data.systemConfiguration.agentMinimumRecommendedVersion},c);a.viewSelect=new D({options:[{label:i18n("Flat list"),value:"agent",selected:!0},{label:i18n("By Tag"),value:"agent/all/sort?sort=tag"},{label:i18n("By Team"),value:"agent/all/sort?sort=team"}],sortByLabel:!1,style:{display:"inline-block",margin:"0.2em"}});a.viewSelect.on("change",function(){if(a.currentView!==this.value){a.currentView=
this.value;a.viewSelect.placeAt(a.selectStore);a.grid.destroy();var b="agent"!==a.currentView;a.makeTable(a.currentView,a.getColumns(d),b)}});a.makeTable(a.currentView,a.getColumns(d))}}));i18n("Relays Used By This Agent");i18n("Agents Using This Relay");i18n("Relay");i18n("Agent Name");i18n("Agents without Relay");i18n("Agents in ");i18n("Show");i18n("Show agent:");i18n("Show agent without relay.");i18n("Host");i18n("Port");i18n("No agent relays include this agent.");i18n("Relay Name");i18n("Please select at least one agent relay to restart");
i18n("Are you sure you want to restart %s agent relays?","0");i18n("Error restarting relays:");i18n("Please select at least one agent relay to delete");i18n("Are you sure you want to delete %s agent relays?","0");i18n("Error deleting relays:");i18n("Failover Relays");i18n("Total Agents");i18n("Agent Status");i18n("No agent relays have been added yet.");i18n("No agents.");i18n("Total agents:");i18n("Online agents:");i18n("Offline agents:");i18n("Add Agents");i18n("Select the agent or agents to add to the relay.");
i18n("Agent Relays");i18n("Agent Relays: %s","A")},makeTable:function(c,d,n){var r=this,c={serverSideProcessing:"agent"===c,url:bootstrap.restUrl+c,orderField:"name",tableConfigKey:"agentList",selectorField:"id",columns:d,hidePagination:!1,hideExpandCollapse:"agent"===c,expandCollapseAllLinkClass:"linkPointer expand-collapse-all-link",selectable:function(a){return!a.isRoot},isSelectable:function(a){return!a.isRoot},hasChildren:function(a){return!!a.isRoot},getChildUrl:function(a){return bootstrap.restUrl+
"agent/all/"+a.type+"/"+a.id}};if(r.relay)c.baseFilters=[{name:"relayId",type:"eq",values:[r.relay.endpointId],className:"String"}];this.grid=new S(c);this.grid.placeAt(this.tableAttach);this.buttonAttach=this.grid.buttonAttach;this.addTopButtons();r.relay||(c=this.getSelectOptions())&&0<c.length&&(new z({options:c,label:i18n("Select All...")})).placeAt(this.buttonAttach);var o=[];b.forEach(r.getBulkWriteActions(),function(a){o.push(a)});if(o&&0<o.length){var s=new z({options:o,label:i18n("Actions...")});
s.placeAt(this.buttonAttach);c=function(){var a=r.grid.getSelectedItems().length;0===a?(s.set("label",i18n("Actions...")),s.set("disabled",!0)):(s.set("label",i18n("Actions... (%s)",a)),s.set("disabled",!1))};r.grid.on("selectItem",c);r.grid.on("deselectItem",c);r.grid.on("displayTable",c)}if(config.data.systemConfiguration.enableInactiveLinks)n?h.empty(this.activeBoxAttach):((new j({checked:!1,value:"true",onChange:function(a){r.grid.url=a?bootstrap.restUrl+"agent?inactive=true":bootstrap.restUrl+
"agent";r.grid.refresh()}})).placeAt(this.activeBoxAttach),n=document.createElement("div"),a.add(n,"inlineBlock"),n.style.position="relative",n.style.top="2px",n.style.left="2px",n.innerHTML=i18n("Show Inactive Agents"),this.activeBoxAttach.appendChild(n));this.viewSelect&&this.viewSelect.placeAt(this.buttonAttach)},getColumns:function(a){var c=[];c.push(this.getNameColumn());b.forEach(this.getOtherColumns(a),function(a){c.push(a)});return c},getNameColumn:function(){var b=this;return{name:i18n("Name"),
formatter:function(c,d,s){s.style.position="relative";d=h.create("div",{"class":"inlineBlock",style:"margin-right:130px;"});if(c.isRoot)if(c.color)s=[],s.push(c),(new C({readOnly:!0,tags:s})).placeAt(d);else return c.name;else{"ERROR"===c.status&&(s=h.create("div",{className:"general-icon failed-icon inlineBlock",style:{cursor:"pointer"}},d),o(s,"click",function(){b.showAgentErrors(c)}));s=n.agentLinkFormatter(c);a.add(s,"inlineBlock");h.place(s,d);if(!c.status)s=h.create("div",{"class":"inlineBlock description-text",
style:"margin-left:5px"}),s.innerHTML=i18n("(Waiting for provisioned node)"),h.place(s,d);b.tagger=new r({objectType:"Agent",item:c,callback:function(){b.grid.refresh()}});b.tagger.placeAt(d);h.place(b.actionsFormatter(c),d)}return d},orderField:"name",filterField:"name",filterType:"custom",getRawValue:function(a){return a.name},getFilterFields:function(){var a=[];a.push(new e({name:"name","class":"filter",style:{width:"45%"},placeHolder:"basic"===b.currentView?i18n("Agent Name"):i18n("Name"),type:"like"}));
"agent"===b.currentView&&a.push(new t({name:"tags","class":"filter",style:{width:"45%"},placeHolder:i18n("Tags"),type:"like"}));return a}}},getOtherColumns:function(a){var b=[{name:i18n("Description"),field:"description"},{name:i18n("Status"),orderField:"status",filterField:"status",filterType:"select",filterClass:"Enum",filterOptions:[{label:i18n("Online"),value:"ONLINE"},{label:i18n("Offline"),value:"OFFLINE"},{label:i18n("Connecting"),value:"CONNECTING"},{label:i18n("Error"),value:"ERROR"},{label:i18n("Upgrade Recommended"),
value:"UPGRADE_RECOMMND"},{label:i18n("Upgrade Required"),value:"UPGRADE_REQUIRED"},{label:i18n("Installable"),value:"INSTALLABLE"}],getRawValue:function(a){return a.status},formatter:function(a,b,c){if(!a.isRoot)return n.agentStatusFormatter(a,b,c)}},{name:i18n("Last Contact"),field:"lastContact",formatter:function(a){return util.dateFormatShort(a.lastContact)}},{name:i18n("License"),getRawValue:function(a){return a.licenseType},formatter:function(a){var b="",b="SERVER_PVU"===bootstrap.serverLicenseType?
i18n("N/A"):"FLOATING"===a.licenseType?i18n("Floating"):"AUTHORIZED"===a.licenseType?i18n("Authorized"):"PROVISIONED"===a.licenseType?i18n("Provisioned"):"NONE"===a.licenseType?i18n("Unlicensed"):"ZOS_FLOATING"===a.licenseType?i18n("zOS Floating"):"ZOS_AUTHORIZED"===a.licenseType?i18n("zOS Authorized"):i18n(a.licenseType);return i18n(b)}},{name:i18n("Version"),field:"version",orderField:"agentVersion",filterField:"agentVersion",filterType:"text"}];a&&b.push({name:i18n("Relay"),field:"relay",filterField:"relayId",
filterType:"select",filterClass:"String",filterOptions:a,getRawValue:function(a){return a.relay},formatter:function(a,b){if(b){var c="ONLINE"===b.status?"online":"offline",d=h.create("div"),n=h.create("div",{"class":"grid-cell-status"}),r=h.create("a",{"class":"name"});r.innerHTML=b.name.escape();r.href="#relay/"+b.id;c=h.create("span",{"class":c});h.place(r,n);h.place(c,n);h.place(n,d);return d}}});return b},makeSelect:function(){},addTopButtons:function(){var b=this;if(!b.relay){var c={label:i18n("Install New Agent"),
showTitle:!1,onClick:function(){b.showInstallAgentDialog()}},c=new k(c);a.add(c.domNode,"idxButtonSpecial");c.placeAt(this.buttonAttach);c={label:i18n("Discover Available Network Hosts"),showTitle:!1,onClick:function(){b.showHostDiscoveryDialog()}};(new k(c)).placeAt(this.buttonAttach)}},getSelectOptions:function(){var a=this;return[{label:i18n("All"),onClick:function(){var c=[];b.forEach(a.grid.getItems(),function(a){c.push(a)});a.grid.deselectAll();a.grid.selectItems(c)}},{label:i18n("Online"),
onClick:function(){a._selectWithStatus("online")}},{label:i18n("Connected"),onClick:function(){a._selectWithStatus("connected")}},{label:i18n("Offline"),onClick:function(){a._selectWithStatus("offline")}},{label:i18n("Installable"),onClick:function(){a._selectWithStatus("installable")}}]},_selectWithStatus:function(a){var c=[];b.forEach(this.grid.getItems(),function(b){b.status&&b.status.toLowerCase()===a&&c.push(b)});this.grid.deselectAll();this.grid.selectItems(c)},getBulkWriteActions:function(){var a=
this;return[{label:i18n("Restart"),onClick:function(){var b=a._getSelected();a.confirmRestarts(b)}},{label:i18n("Upgrade"),onClick:function(){var b=a._getSelected();a.confirmUpgrades(b)}},{label:i18n("Add Tag"),onClick:function(){var b=a._getSelected();a.tagger.showAddTagDialog(b)}},{label:i18n("Remove Tag"),onClick:function(){var b=a._getSelected();a.tagger.showRemoveTagDialog(b)}},{label:i18n("Delete"),onClick:function(){var b=a._getSelected();a.confirmDeletes(b)}}]},addEditActions:function(a,b){var c=
this;(new k({showTitle:!1,iconClass:"editIcon",title:i18n("Edit"),onClick:function(){c.editAgent(a)}})).placeAt(b)},getInstallActions:function(a){var b=this;return[{label:i18n("Install Agent"),onClick:function(){b.showInstallAgentDialog(a)}}]},getCreateActions:function(a){var b=this,c=[{label:i18n("Restart"),onClick:function(){b.confirmRestart(a)}},{label:i18n("Upgrade"),onClick:function(){b.confirmUpgrade(a)}}];("SERVER_AUTHORIZED"===bootstrap.serverLicenseType||"SERVER_AUTHORIZED"===bootstrap.serverLicenseBackupType)&&
"NONE"===a.licenseType&&!a.licensed&&c.push(b._getLicenseActions(a));return c},_getLicenseActions:function(a){var b=this;return{label:i18n("License"),onClick:function(){b._license(a)}}},getDeleteActions:function(a){var b=this;return[{label:i18n("Delete"),onClick:function(){b.confirmDelete(a)}}]},getRunnableActions:function(a){var b=this;return[{label:i18n("Test"),onClick:function(){b.showConnectionTest(a)}}]},_getSelected:function(){return b.map(this.grid.getSelectedItems(),function(a){return a.id})},
actionsFormatter:function(a){var c=h.create("div",{dir:util.getUIDir(),align:util.getUIDirAlign(),"class":"tableHoverActions"}),d=[];"INSTALLABLE"===a.status&&a.security["Edit Basic Settings"]?b.forEach(this.getInstallActions(a),function(a){d.push(a)}):a.security["Edit Basic Settings"]&&(this.addEditActions(a,c),a.status&&(b.forEach(this.getCreateActions(a),function(a){d.push(a)}),b.forEach(this.getRunnableActions(a),function(a){d.push(a)})),b.forEach(this.getDeleteActions(a),function(a){d.push(a)}));
d.length&&(new z({options:d,label:i18n("Actions...")})).placeAt(c);return c},confirmLicense:function(a,b){var h=this;a.length||(new x({message:i18n("Please select at least one agent.")})).startup();new A({message:i18n("Are you sure you want to license %s agents? This will license all selected Agents with Authorized licenses.",a.length),action:function(){h.grid.block();c.put({url:bootstrap.restUrl+"agent/license",putData:q.stringify({licensed:b,agentIds:a}),load:function(){h.grid.refresh();h.grid.unblock()},
error:function(a){new x({messages:[i18n("Error licensing agents:"),"",util.escape(a.responseText)]});h.grid.refresh();h.grid.unblock()}})}})},confirmRestarts:function(a,b){var h=this;a.length?new A({message:i18n("Are you sure you want to restart %s agents?",a.length),action:function(){c.put({url:bootstrap.restUrl+"agent/restart",putData:q.stringify({agentIds:a}),load:function(){b&&b();h.grid.refresh()},error:function(){this.inherited(arguments)}})}}):(new x({message:i18n("Please select at least one agent to restart")})).startup()},
confirmUpgrades:function(a,b){var h=this;a.length?new A({message:i18n("Are you sure you want to upgrade %s agents?",a.length),action:function(){c.put({url:bootstrap.restUrl+"agent/upgrade",putData:q.stringify({agentIds:a}),load:function(){b&&b();h.grid.block();setTimeout(function(){h.grid.unblock();h.grid.refresh()},1E3)},error:function(){this.inherited(arguments)}})}}):(new x({message:i18n("Please select at least one agent to upgrade")})).startup()},confirmDeletes:function(a,b){var h=this;a.length?
new A({message:i18n("Are you sure you want to delete %s agents?",a.length),action:function(){c.del({url:bootstrap.restUrl+"agent/delete",headers:{"Content-Type":"application/json"},putData:q.stringify({agentIds:a}),load:function(){b&&b();h.grid.block();setTimeout(function(){h.grid.unblock();h.grid.refresh()},1E3)},error:function(a){(new x({messages:[i18n("Error deleting agents:"),"",util.escape(a.responseText)]})).startup();h.grid.unblock()}})}}):(new x({message:i18n("Please select at least one agent to delete")})).startup()},
_license:function(a){var b=this;new A({message:i18n("Are you sure you want to attempt to license the Agent %s? This will license the Agent with an Authorized license.",a.name.escape()),action:function(){b.grid.block();c.put({url:bootstrap.restUrl+"agent/"+a.id+"/license",load:function(){b.grid.refresh();b.grid.unblock()},error:function(a){new x({messages:[i18n("Error licensing agent:"),"",util.escape(a.responseText)]});b.grid.refresh();b.grid.unblock()}})}})},editAgent:function(a){var b=this;c.get({url:bootstrap.restUrl+
"agent/"+a.id,handleAs:"json",load:function(a){var c=new y({title:i18n("Edit Agent"),closable:!0,draggable:!0});(new w({agent:a,readOnly:!a.security["Edit Basic Settings"],noRedirect:!0,callback:function(){c.hide();c.destroy();b.grid.refresh()}})).placeAt(c);c.show()},error:function(){}})},confirmRestart:function(a){var b=this;new A({message:i18n("Are you sure you want to restart '%s'?",a.name),action:function(){c.get({url:bootstrap.restUrl+"agent/"+a.id+"/restart",load:function(){b.grid.block();
setTimeout(function(){b.grid.unblock();b.grid.refresh()},1E3)}})}})},confirmUpgrade:function(a){var b=this;new A({message:i18n("Are you sure you want to upgrade '%s'?",a.name),action:function(){c.get({url:bootstrap.restUrl+"agent/"+a.id+"/upgrade",load:function(){b.grid.block();setTimeout(function(){b.grid.unblock();b.grid.refresh()},1E3)}})}})},confirmDelete:function(a){var b=this;new A({message:i18n("Are you sure you want to delete %s? This will permanently delete it from the system.",a.name.escape()),
action:function(){b.grid.block();c.del({url:bootstrap.restUrl+"agent/"+a.id,handleAs:"json",load:function(){b.grid.unblock();b.grid.refresh()},error:function(a){(new x({messages:[i18n("Error deleting agent:"),"",util.escape(a.responseText)]})).startup();b.grid.unblock()}})}})},showHostDiscoveryDialog:function(){var a=this,b=new y({title:i18n("Discover Available Network Hosts"),closable:!0,draggable:!0}),c=new K({submitUrl:bootstrap.restUrl+"agent/discover",postSubmit:function(){b.hide();b.destroy();
a.grid.refresh()},addData:function(){},onCancel:function(){b.hide();b.destroy()}});c.addField({name:"hosts",label:i18n("Subnets"),type:"Text Area",required:!0,placeholder:"10.10.10.10/24",description:i18n("Specify subnets to be searched, one subnet per line.<br/> Format: xxx.xxx.xxx.xxx/nn, where xxx.xxx.xxx.xxx forms an IP address and nn is the network prefix length.<br/><br/>Discovery may take a long time if a large network search is done, so<br/>it is ideal to limit the scope of each search to 255 or fewer addresses.")});
c.placeAt(b.containerNode);b.show()},showInstallAgentDialog:function(a){var b=this,h=new y({title:i18n("Install New Agent"),closable:!0,draggable:!0,description:i18n("You can install agents only on computers that are running UNIX or Windows. If the target system is UNIX, select SSH. Otherwise select WinRS. For more information on system requirements, or for other systems, including z/OS\u00ae, consult the help.")}),d;if(a)c.get({url:bootstrap.restUrl+"agent/"+a.id+"/properties/discoveredPort",handleAs:"text",
load:function(c){"22"===c?d=new s({type:"ssh",agent:a,callback:function(){h.hide();h.destroy();b.grid.refresh()}}):"135"===c&&(d=new s({type:"winrs",agent:a,callback:function(){h.hide();h.destroy();b.grid.refresh()}}));d.placeAt(h.containerNode);h.show()},error:function(){}});else{var n=new v({name:"remoteTypeGroup",options:[{label:i18n("SSH"),value:"ssh"},{label:i18n("WinRS"),value:"winrs"}],disabled:!1,enabled:!0,onChange:function(a){b.remoteType=a;n.destroy();d=new s({type:b.remoteType,callback:function(){h.hide();
h.destroy();b.grid.refresh()}});d.placeAt(h.containerNode)}});n.placeAt(h.containerNode);h.show()}},showConnectionTest:function(a){var b=this,c=new u,h=new y({title:i18n("Connection Test"),closable:!0,draggable:!0}),d=new f({style:"min-height:5em; height: 100px; width: 400px;"});d.set("disabled",!0);var n={label:i18n("Run Connectivity Test"),showTitle:!1,onClick:function(){b.runConnectivityTest(d,a,c)}},n=new k(n);c.placeAt(h.containerNode);d.placeAt(c.domNode);n.placeAt(c.domNode);h.show()},runConnectivityTest:function(a,
b,h){a.set("value",i18n("Running test..."));h.block();c.put({url:bootstrap.restUrl+"agent/"+b.id+"/connectivity",handleAs:"json",load:function(b){a.set("value",b.log);h.unblock()}})},showAgentErrors:function(a){var b=new y,c=h.create("div",{style:{maxWidth:"700px",maxHeight:"500px",overflow:"auto"}},b.containerNode);h.create("div",{innerHTML:i18n("Error")},b.titleNode);var c=h.create("div",{},c),d;for(d in a.errors)a.errors.hasOwnProperty(d)&&("ERROR_HTTP_CONNECT"===d?h.create("div",{innerHTML:i18n("The agent could not connect to the server or relay using HTTP. Ensure that the external URL is set correctly on the System Settings page and that there are no firewalls blocking HTTP communication from the agent."),
className:"bold"},c):h.create("div",{innerHTML:i18n("An error occurred while the agent was connecting to the server:")},c),h.create("div",{innerHTML:i18n("Full error trace:"),className:"bold",style:{paddingLeft:"15px",paddingTop:"8px"}},c),h.create("div",{innerHTML:a.errors[d].escape(),style:{paddingLeft:"15px",paddingTop:"3px",paddingBottom:"5px"}},c),h.create("div",{innerHTML:i18n("Once the problem has been corrected, please restart either the agent or the server."),className:"bold",style:{paddingTop:"15px"}},
c));b.show()}})})},"dojo/dnd/Avatar":function(){define("dojo/dnd/Avatar","../_base/declare,../_base/window,../dom,../dom-attr,../dom-class,../dom-construct,../hccss,../query".split(","),function(l,m,k,j,f,e,d,c){return l("dojo.dnd.Avatar",null,{constructor:function(b){this.manager=b;this.construct()},construct:function(){var b=e.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),a=this.manager.source,c,q=e.create("tbody",null,b),o=e.create("tr",null,q),
n=e.create("td",null,o),s=Math.min(5,this.manager.nodes.length),r=0;d("highcontrast")&&e.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"<"},n);e.create("span",{innerHTML:a.generateText?this._generateText():""},n);for(j.set(o,{"class":"dojoDndAvatarHeader",style:{opacity:0.9}});r<s;++r)a.creator?c=a._normalizedCreator(a.getItem(this.manager.nodes[r].id).data,"avatar").node:(c=this.manager.nodes[r].cloneNode(!0),"tr"==c.tagName.toLowerCase()&&(o=e.create("table"),e.create("tbody",null,
o).appendChild(c),c=o)),c.id="",o=e.create("tr",null,q),n=e.create("td",null,o),n.appendChild(c),j.set(o,{"class":"dojoDndAvatarItem",style:{opacity:(9-r)/10}});this.node=b},destroy:function(){e.destroy(this.node);this.node=!1},update:function(){f.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag);if(d("highcontrast")){var b=k.byId("a11yIcon"),a="+";this.manager.canDropFlag&&!this.manager.copy?a="< ":!this.manager.canDropFlag&&!this.manager.copy?a="o":this.manager.canDropFlag||(a="x");
b.innerHTML=a}c("tr.dojoDndAvatarHeader td span"+(d("highcontrast")?" span":""),this.node).forEach(function(a){a.innerHTML=this.manager.source.generateText?this._generateText():""},this)},_generateText:function(){return this.manager.nodes.length.toString()}})})},"deploy/widgets/main":function(){require("deploy/widgets/agent/SshInstallAgent,deploy/widgets/agent/EditAgent,deploy/widgets/agent/AgentPools,deploy/widgets/agent/AgentList,deploy/widgets/agent/EditAgentInstallProps,deploy/widgets/agent/AgentEditManager,deploy/widgets/TooltipTitle,deploy/widgets/rightPanel/ResourceRightPanelContainer,deploy/widgets/rightPanel/RightPanelAgentsWithNoResource,deploy/widgets/rightPanel/RightPanelAgents,deploy/widgets/rightPanel/ResourceRightPanel,deploy/widgets/rightPanel/RightPanel,deploy/widgets/rightPanel/RightPanelUsersAndGroups,deploy/widgets/rightPanel/RightPanelResourceRoles,deploy/widgets/rightPanel/RightPanelComponents,deploy/widgets/navigation/LoadingIndicator,deploy/widgets/navigation/Dashboard,deploy/widgets/navigation/Configuration,deploy/widgets/navigation/Reports,deploy/widgets/navigation/Applications,deploy/widgets/navigation/Processes,deploy/widgets/navigation/Resources,deploy/widgets/navigation/Calendar,deploy/widgets/navigation/Components,deploy/widgets/navigation/Settings,deploy/widgets/navigation/ProcessRequests,deploy/widgets/navigation/Security,deploy/widgets/settings/SystemSettings,deploy/widgets/settings/ArtifactRepo,deploy/widgets/settings/CleanupProgressBar,deploy/widgets/settings/SettingsIndex,deploy/widgets/settings/Logging,deploy/widgets/settings/diagnostics/MetadataIndexing,deploy/widgets/settings/diagnostics/RequestAuditEntryList,deploy/widgets/settings/diagnostics/ThreadDumps,deploy/widgets/settings/CloudConnections,deploy/widgets/settings/AuditLog,deploy/widgets/settings/Patches,deploy/widgets/patterns/PatternExecutionLogFormatters,deploy/widgets/patterns/PatternPropertySelectionDialog,deploy/widgets/patterns/PatternProcessIconsFormatter,deploy/widgets/deploymentPreview/ComponentChanges,deploy/widgets/deploymentPreview/SnapshotConfigurationPreview,deploy/widgets/deploymentPreview/ResourceChanges,deploy/widgets/ModelWidgetList,deploy/widgets/lock/LockList,deploy/widgets/approval/TasksForUser,deploy/widgets/approval/ApprovalRevocationDialog,deploy/widgets/approval/ApprovalProcessActivities,deploy/widgets/approval/TaskResponseDialog,deploy/widgets/GetStartedPopup,deploy/widgets/status/EditStatus,deploy/widgets/status/StatusList,deploy/widgets/application/ApplicationEditManager,deploy/widgets/application/SingleComponentSelector,deploy/widgets/application/ApplicationEnvironmentConditions,deploy/widgets/application/ApplicationEnvironmentList,deploy/widgets/application/EditApplication,deploy/widgets/application/wizard/ComponentPage,deploy/widgets/application/wizard/AppWizardComponentSelector,deploy/widgets/application/wizard/AppWizProperty,deploy/widgets/application/wizard/AppWizEnvironment,deploy/widgets/application/wizard/EnvironmentOption,deploy/widgets/application/wizard/EnvironmentPage,deploy/widgets/application/wizard/AgentMappingPage,deploy/widgets/application/wizard/WizardProgressVisualization,deploy/widgets/application/wizard/EnvironmentControls,deploy/widgets/application/wizard/EnvironmentTemplateOption,deploy/widgets/application/wizard/EnvironmentModelHelper,deploy/widgets/application/wizard/EnvironmentForm,deploy/widgets/application/wizard/AgentMappingTargetTree,deploy/widgets/application/wizard/ApplicationWizard,deploy/widgets/application/VersionSelection,deploy/widgets/application/RunApplicationProcess,deploy/widgets/application/ApplicationComponents,deploy/widgets/application/ApplicationSnapshots,deploy/widgets/application/ApplicationRequestHistory,deploy/widgets/application/ApplicationList,deploy/widgets/componentTemplate/ComponentTemplateList,deploy/widgets/componentTemplate/ComponentTemplateComponents,deploy/widgets/componentTemplate/EditComponentTemplate,deploy/widgets/componentTemplate/ComponentTemplateEditManager,deploy/widgets/applicationTemplate/ApplicationTemplateList,deploy/widgets/applicationTemplate/ComponentTagRequirementSelector,deploy/widgets/applicationTemplate/ComponentTagRequirement,deploy/widgets/applicationTemplate/EditApplicationTemplate,deploy/widgets/applicationTemplate/ApplicationTemplateEditManager,deploy/widgets/applicationTemplate/ApplicationTemplateApplications,deploy/widgets/applicationTemplate/ApplicationTemplateEnvironmentTemplateList,deploy/widgets/automationPlugin/AutomationPluginCommands,deploy/widgets/automationPlugin/AutomationPluginList,deploy/widgets/automationPlugin/AutomationPluginProcesses,deploy/widgets/scripts/EditScript,deploy/widgets/scripts/PostProcessingLibrary,deploy/widgets/scripts/Editor,deploy/widgets/network/EditNetworkRelay,deploy/widgets/network/NetworkRelayList,deploy/widgets/tag/Tagger,deploy/widgets/tag/TagSelect,deploy/widgets/tag/TagSelector,deploy/widgets/tag/TagRemover,deploy/widgets/tag/TagDisplay,deploy/widgets/process/ProcessEditManager,deploy/widgets/process/ProcessActivities,deploy/widgets/process/request/ExecutionLog,deploy/widgets/process/request/ExecutionLogFormatters,deploy/widgets/process/ProcessChangelog,deploy/widgets/process/RequiredCommentForm,deploy/widgets/process/ProcessIconsFormatter,deploy/widgets/process/RunProcess,deploy/widgets/process/ProcessList,deploy/widgets/process/EditProcess,deploy/widgets/process/ProcessHistory,deploy/widgets/calendar/EditEntry,deploy/widgets/calendar/CalendarBase,deploy/widgets/calendar/Calendar,deploy/widgets/calendar/EditBlackout,deploy/widgets/calendar/EditRecurringEntry,deploy/widgets/resource/ResourceConfigurationHistory,deploy/widgets/resource/EditResourceCondition,deploy/widgets/resource/ResourceEditManager,deploy/widgets/resource/EditResource,deploy/widgets/resource/ResourceTree,deploy/widgets/resource/ResourceCompareSelectorDialog,deploy/widgets/resource/ResourceConfigInventory,deploy/widgets/resource/ResourceSelector,deploy/widgets/resource/ResourceVarianceTree,deploy/widgets/resource/ResourceCompareTree,deploy/widgets/resource/ResourceRoles,deploy/widgets/resource/ResourceVarianceBrowser,deploy/widgets/resource/SingleResourceSelector,deploy/widgets/resource/TransientResourceCompareTree,deploy/widgets/resource/ResourceResourceTree,deploy/widgets/resource/ResourceRequestHistory,deploy/widgets/resource/ResourceSelectList,deploy/widgets/resource/ResourceRolePropertyEditor,deploy/widgets/resource/ResourceInventory,deploy/widgets/configTemplate/EditConfigTemplate,deploy/widgets/Popup,deploy/widgets/filter/TagFilter,deploy/widgets/agentRelay/RelayEditManager,deploy/widgets/agentRelay/EditRelay,deploy/widgets/agentRelay/AgentRelayList,deploy/widgets/wizard/WizardDialog,deploy/widgets/wizard/Wizard,deploy/widgets/wizard/_WizardWatcherMixin,deploy/widgets/sourceConfigPlugin/SourceConfigPluginList,deploy/widgets/main,deploy/widgets/vc/VCUtil,deploy/widgets/FormDelegateRegistry,deploy/widgets/configuration/ConfigurationTree,deploy/widgets/configuration/Changelog,deploy/widgets/environment/EnvironmentComponentProperties,deploy/widgets/environment/EnvironmentSummary,deploy/widgets/environment/EditEnvironmentBlueprintProperties,deploy/widgets/environment/EnvironmentRequestHistory,deploy/widgets/environment/EditLandscaperEnvironmentWizardPane,deploy/widgets/environment/EnvironmentResourceTree,deploy/widgets/environment/EditEnvironmentBlueprintWizardPane,deploy/widgets/environment/EditCloudResourceParameters,deploy/widgets/environment/EditLandscaperBlueprintProperties,deploy/widgets/environment/CreateEnvironmentDialog,deploy/widgets/environment/EditEnvironment,deploy/widgets/environment/EditEnvironmentWizard,deploy/widgets/environment/EnvironmentEditManager,deploy/widgets/environment/EnvironmentConditions,deploy/widgets/environment/EditEnvironmentWizardPane,deploy/widgets/environment/EnvironmentComponentProperty,deploy/widgets/environment/EnvironmentCompliancy,deploy/widgets/environment/EnvironmentCondition,deploy/widgets/FeatureAlertPopup,deploy/widgets/security/authentication/EditAuthenticationRealm,deploy/widgets/security/authentication/AuthenticationRealmUsers,deploy/widgets/security/authentication/AuthenticationRealmManager,deploy/widgets/security/authentication/AuthTokens,deploy/widgets/security/authentication/EditAuthToken,deploy/widgets/security/TeamSelector,deploy/widgets/security/EditUserPreferences,deploy/widgets/security/KeyManager,deploy/widgets/security/team/SecuredObjects,deploy/widgets/security/team/MemberSelector,deploy/widgets/security/team/TeamManager,deploy/widgets/security/team/EditTeam,deploy/widgets/security/authorization/EditGroup,deploy/widgets/security/authorization/AuthorizationRealmList,deploy/widgets/security/authorization/EditAuthorizationRealm,deploy/widgets/security/authorization/AuthorizationRealmManager,deploy/widgets/security/authorization/SelectGroupMemberForm,deploy/widgets/security/authorization/GroupList,deploy/widgets/security/authorization/GroupMemberList,deploy/widgets/security/EditUser,deploy/widgets/security/resourceRole/EditResourceRole,deploy/widgets/security/resourceRole/ResourceRoleManager,deploy/widgets/security/resourceRole/ResourceRoleList,deploy/widgets/security/SetUserPassword,deploy/widgets/security/role/RoleResourceTypeGrid,deploy/widgets/security/role/RoleDefaultActions,deploy/widgets/security/role/RoleManager,deploy/widgets/security/role/RoleResourceTypeManager,deploy/widgets/security/role/EditRole,deploy/widgets/resourceTemplate/ResourceTemplateEditManager,deploy/widgets/resourceTemplate/CloudConnectionSelect,deploy/widgets/resourceTemplate/ImportResourceTemplate,deploy/widgets/resourceTemplate/ResourceTemplateResourceTree,deploy/widgets/resourceTemplate/ApplyResourceTemplate,deploy/widgets/resourceTemplate/ResourceTemplateList,deploy/widgets/resourceTemplate/SmartCloudDeploymentSelector,deploy/widgets/resourceTemplate/EditResourceTemplate,deploy/widgets/dashboard/CurrentActivity,deploy/widgets/report/ReportLists,deploy/widgets/report/ReportTable,deploy/widgets/report/deploymentReport/DeploymentReportTable,deploy/widgets/report/deploymentReport/DeploymentReportForm,deploy/widgets/report/ReportFormTable,deploy/widgets/report/securityReportEnvironment/SecurityReportEnvironmentForm,deploy/widgets/report/securityReportEnvironment/SecurityReportEnvironmentTable,deploy/widgets/report/securityReportUser/SecurityReportUserForm,deploy/widgets/report/securityReportUser/SecurityReportUserTable,deploy/widgets/report/securityReportResource/SecurityReportResourceTable,deploy/widgets/report/securityReportResource/SecurityReportResourceForm,deploy/widgets/report/deploymentCount/DeploymentDurationAverageReportTable,deploy/widgets/report/deploymentCount/DeploymentCountReportForm,deploy/widgets/report/deploymentCount/DeploymentCountReportTable,deploy/widgets/report/deploymentCount/DeploymentDurationSumReportTable,deploy/widgets/report/ReportPage,deploy/widgets/report/ReportSidebar,deploy/widgets/report/securityReportApplication/SecurityReportApplicationTable,deploy/widgets/report/securityReportApplication/SecurityReportApplicationForm,deploy/widgets/report/securityReportComponent/SecurityReportComponentForm,deploy/widgets/report/securityReportComponent/SecurityReportComponentTable,deploy/widgets/snapshotComparison/SnapshotFileComparison,deploy/widgets/snapshotComparison/SnapshotVersionComparison,deploy/widgets/snapshotComparison/SnapshotPropertyComparison,deploy/widgets/snapshotComparison/SnapshotConfigComparison,deploy/widgets/componentProcess/ComponentProcessActivities,deploy/widgets/componentProcess/ComponentProcessChangelog,deploy/widgets/componentProcess/EditComponentProcess,deploy/widgets/componentProcess/ComponentProcessList,deploy/widgets/componentProcess/ComponentProcessEditManager,deploy/widgets/environmentTemplate/EnvironmentTemplateResourceTemplate,deploy/widgets/environmentTemplate/EnvironmentTemplateEditManager,deploy/widgets/environmentTemplate/EditEnvironmentTemplate,deploy/widgets/CustomDateRangeSelector,deploy/widgets/environmentComparison/EnvironmentFileComparison,deploy/widgets/environmentComparison/EnvironmentVersionComparison,deploy/widgets/environmentComparison/ComponentPropertiesTable,deploy/widgets/environmentComparison/EnvironmentConfigComparison,deploy/widgets/Formatters,deploy/widgets/blueprint/ApplicationBlueprintManager,deploy/widgets/component/VersionHistoryManager,deploy/widgets/component/ComponentResources,deploy/widgets/component/EditComponent,deploy/widgets/component/ComponentList,deploy/widgets/component/ComponentFileComparison,deploy/widgets/component/ComponentEditManager,deploy/widgets/component/ComponentImportFailureIcon,deploy/widgets/component/RunComponentProcess,deploy/widgets/component/VersionHistory,deploy/widgets/component/ComponentVersionPropSheetDiffReportTable,deploy/widgets/component/ComponentVersions,deploy/widgets/component/ComponentConfigTemplates,deploy/widgets/component/ComponentRequestHistory,deploy/widgets/component/ComponentFileTable,deploy/widgets/component/ComponentSourceConfigHistory,deploy/widgets/workflow/GraphEdgeManager,deploy/widgets/workflow/BaseGraph,deploy/widgets/workflow/activity/InstallMultipleComponentsActivity,deploy/widgets/workflow/activity/RollbackComponentActivity,deploy/widgets/workflow/activity/PatternDeploymentActivity,deploy/widgets/workflow/activity/EnvironmentApprovalTaskActivity,deploy/widgets/workflow/activity/ApplyConfigurationActivity,deploy/widgets/workflow/activity/FinishActivity,deploy/widgets/workflow/activity/ManualTaskActivity,deploy/widgets/workflow/activity/RunOperationalProcessMultipleActivity,deploy/widgets/workflow/activity/ApplicationRunComponentProcessActivity,deploy/widgets/workflow/activity/SwitchActivity,deploy/widgets/workflow/activity/EachAgentIteratorActivity,deploy/widgets/workflow/activity/JoinActivity,deploy/widgets/workflow/activity/ComponentApprovalTaskActivity,deploy/widgets/workflow/activity/MultipleComponentsActivity,deploy/widgets/workflow/activity/EachVersionComponentActivity,deploy/widgets/workflow/activity/PatternStackExecutionActivity,deploy/widgets/workflow/activity/ResourceDiscoveryActivity,deploy/widgets/workflow/activity/DesiredSnapshotInventoryActivity,deploy/widgets/workflow/activity/ApplicationApprovalTaskActivity,deploy/widgets/workflow/activity/UninstallMultipleComponentsActivity,deploy/widgets/workflow/activity/BaseActivity,deploy/widgets/workflow/activity/AcquireLockActivity,deploy/widgets/workflow/activity/EachTouchedResourceActivity,deploy/widgets/workflow/activity/StartActivity,deploy/widgets/workflow/activity/SetStatusActivity,deploy/widgets/workflow/activity/ResourceInventoryActivity,deploy/widgets/workflow/activity/RollbackMultipleComponentsActivity,deploy/widgets/workflow/activity/InstallComponentActivity,deploy/widgets/workflow/activity/PluginActivity,deploy/widgets/workflow/activity/ComponentRunComponentProcessActivity,deploy/widgets/workflow/activity/ApplicationManualTaskActivity,deploy/widgets/workflow/activity/RunProcessActivity,deploy/widgets/workflow/activity/ActivityCreator,deploy/widgets/workflow/activity/ReleaseLockActivity,deploy/widgets/workflow/activity/TaskApprovalSelector,deploy/widgets/workflow/activity/DesiredInventoryActivity,deploy/widgets/workflow/activity/UninstallComponentActivity,deploy/widgets/workflow/activity/NoteActivity,deploy/widgets/workflow/activity/ComponentManualTaskActivity,deploy/widgets/DateRangeSelector,deploy/widgets/property/PropertyTextareaBox,deploy/widgets/property/PropDefPopupValues,deploy/widgets/property/PropertyBox,deploy/widgets/property/PropSheetDiffReportTable,deploy/widgets/property/PropValues,deploy/widgets/property/EditPropDef,deploy/widgets/property/PropSheetDefValues,deploy/widgets/property/EditPropValue,deploy/widgets/property/PropertyComboBox,deploy/widgets/property/PropDefs,deploy/widgets/property/TransientPropSheetDiffReportTable,deploy/widgets/property/PropertyTextarea,deploy/widgets/SimpleTag,deploy/widgets/log/Blocker,deploy/widgets/log/LiveLogViewer,deploy/widgets/deploymentRequest/DeploymentRequestCompliancy,deploy/widgets/deploymentRequest/RequestResourceChanges,deploy/widgets/deploymentRequest/NoncompliancyByResource,deploy/widgets/deploymentRequest/DeploymentRequestHistory,deploy/widgets/deploymentRequest/RequestChanges,deploy/widgets/deploymentRequest/NoncompliancyByVersion,deploy/widgets/resourceRole/EditResourceRole,deploy/widgets/resourceRole/ResourceRoleEditManager,deploy/widgets/resourceRole/RolePicker,deploy/widgets/resourceRole/ResourceRoleResources,deploy/widgets/resourceRole/ResourceRoleList,deploy/widgets/applicationProcess/ApplicationProcessChangelog,deploy/widgets/applicationProcess/ApplicationProcessActivities,deploy/widgets/applicationProcess/ApplicationProcessList,deploy/widgets/applicationProcess/ApplicationProcessInventoryChanges,deploy/widgets/applicationProcess/ApplicationProcessEditManager,deploy/widgets/applicationProcess/EditApplicationProcess,deploy/widgets/Color,deploy/widgets/agentPool/AgentPoolList,deploy/widgets/agentPool/AgentPoolEditManager,deploy/widgets/agentPool/AgentPoolAgents,deploy/widgets/agentPool/EditAgentPool,deploy/widgets/snapshot/SnapshotConfiguration,deploy/widgets/snapshot/SnapshotTasks,deploy/widgets/snapshot/SnapshotEnvironmentList,deploy/widgets/snapshot/SnapshotEditManager,deploy/widgets/snapshot/SnapshotRequestHistory,deploy/widgets/snapshot/SnapshotVersionSelection,deploy/widgets/snapshot/EditSnapshot,deploy/widgets/snapshot/SnapshotStatuses,deploy/widgets/snapshot/SnapshotEnvironmentSummary,deploy/widgets/applicationProcessRequest/RequestResourceChanges,deploy/widgets/applicationProcessRequest/RequestConfigurationChanges,deploy/widgets/applicationProcessRequest/RequestVersions,deploy/widgets/integration/pattern/PatternIntegrationProviderList,deploy/widgets/integration/pattern/EditPatternIntegrationProvider,deploy/widgets/version/VersionCompare,deploy/widgets/version/VersionArtifacts,deploy/widgets/version/EditVersion,deploy/widgets/version/VersionDisplay,deploy/widgets/version/VersionSelectionDialog,deploy/widgets/version/RunningVersionImports,deploy/widgets/version/VersionStatuses,deploy/widgets/version/VersionEditManager,deploy/widgets/version/VersionHistory,deploy/widgets/version/VersionFileCompare,deploy/widgets/version/VersionSelector,deploy/widgets/version/VersionSelect,deploy/widgets/version/ArtifactUploadForm,deploy/widgets/notification/NotificationSchemeList,deploy/widgets/notification/EditNotificationScheme,deploy/widgets/notification/EditNotificationEntry,deploy/widgets/notification/NotificationSchemeEntries,deploy/widgets/Security".split(","),
function(){})},"url:dijit/form/templates/Spinner.html":'<div class="dijit dijitReset dijitInline dijitLeft"\n\tid="widget_${id}" role="presentation"\n\t><div class="dijitReset dijitButtonNode dijitSpinnerButtonContainer"\n\t\t><input class="dijitReset dijitInputField dijitSpinnerButtonInner" type="text" tabIndex="-1" readonly="readonly" role="presentation"\n\t\t/><div class="dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitUpArrowButton"\n\t\t\tdata-dojo-attach-point="upArrowNode"\n\t\t\t><div class="dijitArrowButtonInner"\n\t\t\t\t><input class="dijitReset dijitInputField" value="&#9650; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t\t><div class="dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitDownArrowButton"\n\t\t\tdata-dojo-attach-point="downArrowNode"\n\t\t\t><div class="dijitArrowButtonInner"\n\t\t\t\t><input class="dijitReset dijitInputField" value="&#9660; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t></div\n\t><div class=\'dijitReset dijitValidationContainer\'\n\t\t><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n\t/></div\n\t><div class="dijitReset dijitInputField dijitInputContainer"\n\t\t><input class=\'dijitReset dijitInputInner\' data-dojo-attach-point="textbox,focusNode" type="${type}" data-dojo-attach-event="onkeypress:_onKeyPress"\n\t\t\trole="spinbutton" autocomplete="off" ${!nameAttrSetting}\n\t/></div\n></div>\n',
"deploy/widgets/tag/TagSelect":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/dom-construct,dojo/dom-style,dojo/_base/declare,js/webext/widgets/FormDelegates".split(","),function(l,m,k,j,f,e){return f("deploy.widgets.tag.TagSelect",[m,l],{templateString:'<div class="tagSelect" data-dojo-attach-point="tagAttach"><div data-dojo-attach-point="tagSelectAttach" class="inlineBlock tag-select-drop-down"></div><div data-dojo-attach-point="newTagAttach" class="inlineBlock new-tag-link"></div></div>',
postCreate:function(){this.inherited(arguments);this.tagSelector=(new e).getDelegate("TagDropDown")({idProperty:"name",searchAttr:"name",selectOnClick:!0,objectType:this.objectType});this.tagSelector.placeAt(this.tagSelectAttach);this.newTag=k.create("a",{innerHTML:i18n("Create Tag"),"class":"inlineBlock linkPointer"},this.newTagAttach)}})})},"dijit/_base/popup":function(){define("dijit/_base/popup",["dojo/dom-class","dojo/_base/window","../popup","../BackgroundIframe"],function(l,m,k){var j=k._createWrapper;
k._createWrapper=function(e){e.declaredClass||(e={_popupWrapper:e.parentNode&&l.contains(e.parentNode,"dijitPopup")?e.parentNode:null,domNode:e,destroy:function(){},ownerDocument:e.ownerDocument,ownerDocumentBody:m.body(e.ownerDocument)});return j.call(this,e)};var f=k.open;k.open=function(e){if(e.orient&&"string"!=typeof e.orient&&!("length"in e.orient)){var d=[],c;for(c in e.orient)d.push({aroundCorner:c,corner:e.orient[c]});e.orient=d}return f.call(this,e)};return k})},"deploy/widgets/report/securityReportUser/SecurityReportUserTable":function(){define("dojo/_base/declare,dojo/_base/array,dijit/_Widget,dijit/_TemplatedMixin,deploy/widgets/report/ReportTable,dojox/html/entities,dojo/dom-construct,dojo/on,js/webext/widgets/Dialog,deploy/widgets/security/EditUser,deploy/widgets/security/SetUserPassword,dojo/html".split(","),
function(l,m,k,j,f,e){return l([f],{reportRestUrlBase:null,reportResultTable:null,selectableColumns:!0,constructor:function(){this.reportRestUrlBase=bootstrap.restUrl+"report/"},reportType:"com.urbancode.ds.subsys.report.domain.security_report.user.SecurityReportUser",formatters:{multiNameFormatter:function(d,c){var b=dojo.create("div"),a=c?c.split(","):null;m.forEach(a,function(a,c){0!==c&&dojo.create("br",{},b);dojo.create("span",{innerHTML:e.encode(a)},b)});return b}},getReportResultLayout:function(){return[{name:i18n("User"),
field:"name",getRawValue:function(d){return d.name},orderField:"name"},{name:i18n("Name"),field:"actualName",getRawValue:function(d){return d.actualName},orderField:"actualName"},{name:i18n("Email"),field:"email",orderField:"email",getRawValue:function(d){return d.email}},{name:i18n("Authentication Realm"),field:"authRealm",getRawValue:function(d){return i18n(d.authRealm)},formatter:function(d,c){return i18n(c)},orderField:"authRealm"},{name:i18n("Groups"),field:"groups",getRawValue:function(d){return d.groups}}]}})})},
"deploy/widgets/property/PropertyTextarea":function(){define("dojo/_base/declare,dojo/keys,dojo/_base/event,dojo/dom-style,dojo/dom-attr,dojo/dom-class,dojo/window,dojo/on,dojo/dom-geometry,dojo/_base/lang,dijit/popup,deploy/widgets/property/PropertyComboBox".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q){return l("dijit.form.PropertyTextarea",[q],{templateString:'<div class="dijit dijitReset dijitInline dijitLeft propertyTextarea" id="widget_${id}" role="combobox" aria-haspopup="true" data-dojo-attach-point="_popupStateNode"><div class="dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer" data-dojo-attach-point="_buttonNode" role="presentation"><input class="dijitReset dijitInputField dijitArrowButtonInner" value="&#9660; " type="text" tabIndex="-1" readonly="readonly" role="button presentation" aria-hidden="true" ${_buttonInputDisabled}/></div><div class="dijitReset dijitValidationContainer"><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"/></div><div class="dijitReset dijitInputContainer"><div class="dijitReset dijitInputInner" data-dojo-attach-point="positionAttach" style="visibility:hidden;overflow-wrap:break-word;word-wrap:break-word;position:absolute;"></div><textarea class="dijitReset" data-dojo-type="dijit/form/Textarea" ${!nameAttrSetting} style="width:300px;" rows="5" data-dojo-attach-point="textbox,focusNode"></textarea></div></div>',
_onKey:function(a){var b=this.focusNode.value,c=this._getCaretPos(this.focusNode),b=b.substring(0,c),b=b.replace(/\n/g,"</br>");this.positionAttach.innerHTML=b;if(!(32<=a.charCode)&&(b=a.charCode||a.keyCode,!(b===m.ALT||b===m.CTRL||b===m.META||b===m.SHIFT))){var c=this.dropDown,h=null;this._abortQuery();if(!this.disabled&&!this.readOnly){var d=this.dropDown;if(d&&this._opened&&d.handleKey&&!1===d.handleKey(a))k.stop(a);else if(d&&this._opened&&a.keyCode===m.ESCAPE&&(this.closeDropDown(),k.stop(a)),
!a.altKey&&!a.ctrlKey&&!a.metaKey)switch(this._opened&&(h=c.getHighlightedOption()),b){case m.PAGE_DOWN:case m.DOWN_ARROW:case m.PAGE_UP:case m.UP_ARROW:this._opened&&(this._announceOption(h),k.stop(a));break;case m.ENTER:if(h){if(h===c.nextButton){this._nextSearch(1);k.stop(a);break}else if(h===c.previousButton){this._nextSearch(-1);k.stop(a);break}k.stop(a)}else this._setBlurValue();this.handleKeyTab(c,h)&&this.handleKeyEscape();break;case m.TAB:this.handleKeyTab(c,h)&&this.handleKeyEscape();break;
case m.ESCAPE:this.handleKeyEscape()}}}},handleKeyTab:function(a,b){var c=this.get("displayedValue");if(a&&(c===a._messages.previousMessage||c===a._messages.nextMessage))return!1;b&&this._selectOption(b);return!0},handleKeyEscape:function(){if(this._opened)this._lastQuery=null,this.closeDropDown()},openDropDown:function(){var c=this.dropDown,n=c.domNode,s=this._aroundNode||this.domNode,r=this;if(!this._preparedNode){this._preparedNode=!0;if(n.style.width)this._explicitDDWidth=!0;if(n.style.height)this._explicitDDHeight=
!0}if(this.maxHeight||this.forceWidth||this.autoWidth){var q={display:"",visibility:"hidden"};if(!this._explicitDDWidth)q.width="";if(!this._explicitDDHeight)q.height="";j.set(n,q);q=this.maxHeight;if(-1===q)var q=d.getBox(this.ownerDocument),w=b.position(s,!1),q=Math.floor(Math.max(w.y,q.h-(w.y+w.h)));h.moveOffScreen(c);c.startup&&!c._started&&c.startup();var w=b.getMarginSize(n),u=q&&w.h>q;j.set(n,{overflowX:"visible",overflowY:u?"auto":"visible"});u?(w.h=q,w.hasOwnProperty("w")&&(w.w+=16)):delete w.h;
this.forceWidth?w.w=s.offsetWidth:this.autoWidth?w.w=Math.max(w.w,s.offsetWidth):delete w.w;a.isFunction(c.resize)?c.resize(w):b.setMarginBox(n,w)}s=h.open({parent:this,popup:c,x:r.getTextareaXPos(),y:r.getTextareaYPos(),onExecute:function(){r.closeDropDown(!0)},onCancel:function(){r.closeDropDown(!0)},onClose:function(){f.set(r._popupStateNode,"popupActive",!1);e.remove(r._popupStateNode,"dijitHasDropDownOpen");r._set("_opened",!1)}});f.set(this._popupStateNode,"popupActive","true");e.add(this._popupStateNode,
"dijitHasDropDownOpen");this._set("_opened",!0);this._popupStateNode.setAttribute("aria-expanded","true");this._popupStateNode.setAttribute("aria-owns",c.id);"presentation"!==n.getAttribute("role")&&!n.getAttribute("aria-labelledby")&&n.setAttribute("aria-labelledby",this.id);return s},validate:function(){},getTextareaXPos:function(){var a=this.focusNode,b=a.offsetLeft||0;if(a.offsetParent){do a=a.offsetParent,b+=a.offsetLeft;while(a.offsetParent)}return b},getTextareaYPos:function(){var a=this.positionAttach,
b=a.offsetTop||0;if(a.offsetParent){do a=a.offsetParent,b+=a.offsetTop;while(a.offsetParent)}return b=b+this.positionAttach.offsetHeight+10-this.focusNode.scrollTop}})})},"url:dojox/calendar/templates/Calendar.html":'<div>\n\t<div data-dojo-attach-point="buttonContainer" class="buttonContainer">\n\t\t<div data-dojo-attach-point="toolbar" data-dojo-type="dijit.Toolbar" >\n\t\t\t<button data-dojo-attach-point="previousButton" data-dojo-type="dijit.form.Button" >\u25c4</button>\n\t\t\t<button data-dojo-attach-point="nextButton" data-dojo-type="dijit.form.Button" >\u25ba</button>\n\t\t\t<span data-dojo-type="dijit.ToolbarSeparator"></span>\n\t\t\t<button data-dojo-attach-point="todayButton" data-dojo-type="dijit.form.Button" />Today</button>\n\t\t\t<span data-dojo-type="dijit.ToolbarSeparator"></span>\n\t\t\t<button data-dojo-attach-point="dayButton" data-dojo-type="dijit.form.Button" >Day</button>\n\t\t\t<button data-dojo-attach-point="fourDaysButton" data-dojo-type="dijit.form.Button" >4 Days</button>\n\t\t\t<button data-dojo-attach-point="weekButton" data-dojo-type="dijit.form.Button" >Week</button>\t\t\t\n\t\t\t<button data-dojo-attach-point="monthButton" data-dojo-type="dijit.form.Button" >Month</button>\n\t\t</div>\n\t</div>\n\t<div data-dojo-attach-point="viewContainer" class="viewContainer"></div>\n</div>\n',
"deploy/widgets/rightPanel/RightPanelUsersAndGroups":function(){define("dojo/_base/declare,dojo/_base/array,deploy/widgets/rightPanel/RightPanel,dojo/dom-class,dojo/dom-style,dojo/dom-construct,dojo/on,dojo/mouse,dojo/query,dijit/form/Button,js/webext/widgets/table/TreeTable".split(","),function(l,m,k,j,f,e,d,c,b,a,h){return l("deploy.widgets.rightPanel.RightPanelUsersAndGroups",[k],{postCreate:function(){this.inherited(arguments);this.loadPermissions();this.setHeader();this.loadUserTable();this.loadGroupTable();
this._buildPanel();this.attachPoint&&this.placeAt(this.attachPoint);this._buildShowButton();this.showHelp()},setHeader:function(){this.header=i18n("Users & Groups");this.description=i18n("Click and drag users and groups and release them over the role that you want to assign them to.  You can select multiple users to assign to a role.  Assigned users and groups are automatically saved to the role.")},loadPermissions:function(){var a=config.data.permissions;this.canAdd=a["Add Team Members"];this.canModify=
(this.canEdit=a["Manage Security"])||this.canAdd;if(!this.canModify)this.subheader=""},refresh:function(){this.table&&this.table.refresh()},_buildShowButton:function(){var b=this,c=this.canModify?i18n("Add Users & Groups"):i18n("Show Users & Groups"),h=i18n("Hide Users & Groups");this.showButton=new a({label:b.panelHidden?c:h,value:b.panelHidden?!0:!1});j.add(this.showButton.domNode,"idxButtonCompact");d(this.showButton,"click",function(a){b.showButton.value?(b.showButton.set("label",h),b.showButton.set("value",
!1),b.show(a.shiftKey)):(b.showButton.set("label",c),b.showButton.set("value",!0),b.hide(a.shiftKey))});this.showButton.placeAt(this.buttonAttachPoint)},onHide:function(){if(this.showButton){var a=this.canModify?i18n("Add Users & Groups"):i18n("Show Users & Groups");this.showButton.set("value",!0);this.showButton.set("label",a)}this.onHideExtra()},onHideExtra:function(){},showHelp:function(){if(this.canAdd){var a=e.create("div",{className:"dnd-hint-help"},this.titleContentAttach);e.create("div",{innerHTML:i18n("Drag items on handle"),
className:"inline-block description-text"},a);e.create("div",{innerHTML:"::",className:"inline-block dnd-handle-text"},a)}},loadUserTable:function(){var a=this,o=bootstrap.baseUrl+"security/user",n=[{name:i18n("User"),field:"name",orderField:"name",filterField:"name",filterType:"text",getRawValue:function(a){return a.name}},{name:i18n("Name"),field:"actualName",orderField:"actualName",filterField:"actualName",filterType:"text",getRawValue:function(a){return a.actualName}},{name:i18n("Email"),field:"email",
orderField:"email",filterField:"email",filterType:"text",getRawValue:function(a){return a.email},formatter:function(a,b){var c="";b&&(c=b);return e.create("div",{innerHTML:c,className:"user-email-cell"})}}];this.users=new h({url:o,serverSideProcessing:!1,columns:n,tableConfigKey:"teamRightPanelUserList",noDataMessage:i18n("No users have been created yet."),rowsPerPage:10,pageOptions:[5,10,15,20,25,50,75,100],draggable:a.canModify,selectable:a.canModify,hideFooterLinks:!0,hidePagination:!1,hideExpandCollapse:!0,
onDisplayTable:function(){j.add(this.domNode,"right-panel-users");if(a.canModify)this.dndContainer.copyOnly=!0,this.dndContainer.value="user",this.dndContainer.checkAcceptance=function(){return!1},this.dndContainer.onDraggingOut=function(){a.showMinimizeBubble()}},applyRowStyle:function(a,h){h.value=a;j.add(h,"member-box-"+a.id);d(h,c.enter,function(){var n=b(".member-box-"+a.id);m.forEach(n,function(a){j.add(a,"hover")});d(h,c.leave,function(){m.forEach(n,function(a){j.remove(a,"hover")})})})}});
e.place(this.users.domNode,this.contentAttach)},loadGroupTable:function(){var a=this,o=bootstrap.baseUrl+"security/group",n=[{name:i18n("Group"),field:"name",orderField:"name",filterField:"name",filterType:"text",getRawValue:function(a){return a.name}},{name:i18n("Authorization Realm"),formatter:function(a){return a.authorizationRealm.name}}];this.groups=new h({url:o,serverSideProcessing:!0,columns:n,tableConfigKey:"groupList",noDataMessage:i18n("No groups have been created yet."),rowsPerPage:10,
pageOptions:[5,10,15,20,25,50,75,100],draggable:a.canModify,selectable:a.canModify,hideFooterLinks:!0,hidePagination:!1,hideExpandCollapse:!0,onDisplayTable:function(){j.add(this.domNode,"right-panel-groups");if(a.canModify)this.dndContainer.copyOnly=!0,this.dndContainer.value="group",this.dndContainer.checkAcceptance=function(){return!1}},applyRowStyle:function(a,h){h.value=a;j.add(h,"member-box-"+a.id);d(h,c.enter,function(){var n=b(".member-box-"+a.id);m.forEach(n,function(a){j.add(a,"hover")});
d(h,c.leave,function(){m.forEach(n,function(a){j.remove(a,"hover")})})})}});e.place(this.groups.domNode,this.contentAttach)},showMinimizeBubble:function(){}})})},"deploy/widgets/agent/EditAgent":function(){define(["dijit/_TemplatedMixin","dijit/_Widget","dojo/_base/declare","js/webext/widgets/ColumnForm","deploy/widgets/security/TeamSelector"],function(l,m,k,j,f){return k("deploy.widgets.agent.EditAgent",[m,l],{templateString:'<div class="editAgent">  <div data-dojo-attach-point="formAttach"></div></div>',
showCancel:!0,postCreate:function(){this.inherited(arguments);var e=this;this.existingValues={};if(this.agent)this.existingValues=this.agent;var d=i18n("Cancel");this.showCancel||(d=null);this.form=new j({submitUrl:bootstrap.restUrl+"agent",readOnly:e.readOnly,showButtons:!e.readOnly,cancelLabel:d,postSubmit:function(c){e.noRedirect||navBar.setHash("agent/"+c.id);void 0!==e.callback&&e.callback()},addData:function(c){if(e.agent)c.existingId=e.existingValues.id;c.teamMappings=e.teamSelector.teams},
onCancel:function(){void 0!==e.callback&&e.callback()}});this.form.addField({name:"name",label:i18n("Name"),required:!0,type:"Text",value:this.existingValues.name});d=[];if(e.existingValues&&e.existingValues.extendedSecurity&&e.existingValues.extendedSecurity.teams)d=e.existingValues.extendedSecurity.teams;e.teamSelector=new f({resourceRoleType:"Agent",noneLabel:i18n("Standard Agent"),teams:d});this.form.addField({name:"teams",label:i18n("Teams"),type:"Text",widget:e.teamSelector});this.form.addField({name:"useImpersonation",
label:i18n("Default Impersonation"),type:"Checkbox",value:!!this.existingValues.impersonationUser,onChange:function(c){c?e.showImpersonationOptions():e.hideImpersonationOptions()}});this.form.addField({name:"_impersonationInsert",type:"Invisible"});this.form.addField({name:"impersonationLabel",label:"",type:"Label",value:i18n("Default impersonation can be configured here. Any steps which do not specify their own impersonation settings will fall back to the settings provided here.")});this.existingValues.impersonationUser?
this.showImpersonationOptions():this.hideImpersonationOptions();this.form.addField({name:"description",label:i18n("Description"),type:"Text",value:this.existingValues.description});this.form.placeAt(this.formAttach)},showImpersonationOptions:function(){this.form.addField({name:"impersonationUser",label:i18n("User"),type:"Text",value:this.existingValues.impersonationUser},"_impersonationInsert");this.form.addField({name:"impersonationPassword",label:i18n("Password"),type:"Secure",value:this.existingValues.impersonationPassword},
"_impersonationInsert");this.form.addField({name:"impersonationGroup",label:i18n("Group"),type:"Text",value:this.existingValues.impersonationGroup},"_impersonationInsert");this.form.addField({name:"impersonationUseSudo",label:i18n("Use Sudo"),type:"Checkbox",value:this.existingValues.impersonationUseSudo},"_impersonationInsert");this.form.addField({name:"impersonationForce",label:i18n("Always Use Default Impersonation"),type:"Checkbox",value:this.existingValues.impersonationForce},"_impersonationInsert")},
hideImpersonationOptions:function(){this.form.removeField("impersonationUser");this.form.removeField("impersonationPassword");this.form.removeField("impersonationGroup");this.form.removeField("impersonationUseSudo");this.form.removeField("impersonationForce")}})})},"deploy/widgets/settings/diagnostics/MetadataIndexing":function(){define("dojo/_base/declare,dijit/_Widget,dijit/_TemplatedMixin,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dojo/on,dojo/_base/xhr,dijit/form/Button,dijit/ProgressBar,deploy/widgets/Formatters,js/webext/widgets/table/TreeTable".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o){return l([m,k],{templateString:'<div class="requestList"><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var a=bootstrap.restUrl+"vc/metadataGeneratorState",b=[{name:i18n("Generator"),orderField:"displayName",field:"displayName"},{name:i18n("Locked?"),formatter:function(a){return a.locked?i18n("Yes"):i18n("No")}},{name:i18n("Total Commits to Scan"),field:"scanEndCommit",orderField:"duration"},{name:i18n("Commit Scans Completed"),
field:"newestScannedCommit",orderField:"duration"},{name:i18n("Progress"),formatter:function(a,b,c){f.empty(c);j.add(c,"progressCell");(new h({value:100*(a.newestScannedCommit/a.scanEndCommit)})).placeAt(c);setTimeout(function(){var a=e.getContentBox(c);d.set(c,"height",a.h+"px")},0)}}];this.grid=new o({url:a,noDataMessage:i18n("No Entries Found."),serverSideProcessing:!1,orderField:"displayName",hidePagination:!1,hideExpandCollapse:!0,columns:b});this.grid.placeAt(this.gridAttach)}})})},"dojo/topic":function(){define("dojo/topic",
["./Evented"],function(l){var m=new l;return{publish:function(k,j){return m.emit.apply(m,arguments)},subscribe:function(k,j){return m.on.apply(m,arguments)}}})},"url:dojox/calendar/templates/ExpandRenderer.html":'<div class="dojoxCalendarExpand" onselectstart="return false;" data-dojo-attach-event="click:_onClick,touchstart:_onMouseDown,touchend:_onClick,mousedown:_onMouseDown,mouseup:_onMouseUp,mouseover:_onMouseOver,mouseout:_onMouseOut">\n\t<div class="bg"><span data-dojo-attach-point="expand">\u25bc</span><span style="display:none" data-dojo-attach-point="collapse">\u25b2</span></div>\t\n</div>\n',
"deploy/widgets/workflow/activity/TaskApprovalSelector":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Select,dijit/form/Button,dojo/_base/declare,dojo/_base/xhr,dojo/_base/array,js/webext/widgets/RestSelect".split(","),function(l,m,k,j,f,e,d,c){return f("js.deploy.widgets.task.TaskApprovalSelector",[m,l],{templateString:'<div class="roleSelector">  <div data-dojo-attach-point="roleAttach" class="teamSelectorComponent"></div>  <span data-dojo-attach-point="innerAttach"></span>  <div data-dojo-attach-point="resourceAttach" class="teamSelectorComponent"></div>  <div data-dojo-attach-point="removeAttach" style="display: inline-block; vertical-align: top"></div></div>',
postCreate:function(){var b=this;(new j({label:i18n("Remove"),onClick:function(){b.form.selectors[b.number]={};b.form.removeField(b)}})).placeAt(b.removeAttach);this.removeAttach.style.visibility="hidden";if(!b.form.initialized)b.form.selectors=[],b.form.initialized=!0;b.addField()},addField:function(){var b=this;b.resourceSelect=null;var a;b.preloading?(a=b.selector.roleId,b.roleSelect=new c({restUrl:"/security/role",onChange:function(a){""!==a&&b.changeRole(a)},allowNone:!1,value:a}),b.resourceSelect=
new c({restUrl:b.restUrl,onChange:function(a){b.changeResource(a)},noneLabel:i18n("Standard %s",b.approvalType),value:b.selector.resourceRoleId}),b.resourceSelect.number=b.number,b.resourceSelect.placeAt(b.resourceAttach),b.showRemove()):b.roleSelect=new c({restUrl:"/security/role",onChange:function(a){""!==a&&b.changeRole(a)},noneLabel:i18n("Add Role..."),value:a});b.roleSelect.number=b.number;b.roleSelect.placeAt(this.roleAttach)},showRemove:function(){this.removeAttach.style.visibility="visible";
this.innerAttach.innerHTML=i18n("for")},makeSelector:function(b,a){return{roleId:b,resourceRoleId:a}},changeRole:function(b){var a=this;if(a.number===a.form.selectors.length)a.resourceSelect=new c({restUrl:a.restUrl,onChange:function(b){a.changeResource(b)},noneLabel:i18n("Standard %s",a.approvalType)}),a.resourceSelect.number=a.number,a.resourceSelect.placeAt(a.resourceAttach),a.addRow(a.form,a.number+1,null,a.restUrl,a.approvalType),a.form.selectors.push(a.makeSelector(b,a.resourceSelect.value)),
a.roleSelect.selectWidget.removeOption(0),a.showRemove();else{var h=a.form.selectors[a.number],d=null;if(h)d=h.resourceRoleId;a.form.selectors[a.number]=a.makeSelector(b,d)}},changeResource:function(b){this.form.selectors[this.number]=this.makeSelector(this.form.selectors[this.number].roleId,b)}})})},"dojo/uacss":function(){define("dojo/uacss",["./dom-geometry","./_base/lang","./ready","./sniff","./_base/window"],function(l,m,k,j,f){var e=f.doc.documentElement,f=j("ie"),d=j("opera"),c=Math.floor,
b=j("ff"),a=l.boxModel.replace(/-/,""),d={dj_quirks:j("quirks"),dj_opera:d,dj_khtml:j("khtml"),dj_webkit:j("webkit"),dj_safari:j("safari"),dj_chrome:j("chrome"),dj_gecko:j("mozilla")};if(f)d.dj_ie=!0,d["dj_ie"+c(f)]=!0,d.dj_iequirks=j("quirks");b&&(d["dj_ff"+c(b)]=!0);d["dj_"+a]=!0;var h="",q;for(q in d)d[q]&&(h+=q+" ");e.className=m.trim(e.className+" "+h);k(90,function(){if(!l.isBodyLtr()){var a="dj_rtl dijitRtl "+h.replace(/ /g,"-rtl ");e.className=m.trim(e.className+" "+a+"dj_rtl dijitRtl "+h.replace(/ /g,
"-rtl "))}});return j})},"deploy/widgets/report/ReportFormTable":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dijit/form/CheckBox,dojo/_base/array,dojo/_base/declare,dojo/dom-attr,dojo/dom-class,dojo/dom-construct,dojo/on,dojo/mouse,dojo/io-query,js/webext/widgets/Alert,js/webext/widgets/ColumnForm,js/webext/widgets/Dialog,deploy/widgets/report/deploymentReport/DeploymentReportForm,deploy/widgets/report/deploymentCount/DeploymentCountReportForm,deploy/widgets/report/securityReportUser/SecurityReportUserForm,deploy/widgets/report/deploymentReport/DeploymentReportTable,deploy/widgets/report/deploymentCount/DeploymentCountReportTable,deploy/widgets/report/deploymentCount/DeploymentDurationSumReportTable,deploy/widgets/report/deploymentCount/DeploymentDurationAverageReportTable,deploy/widgets/report/securityReportApplication/SecurityReportApplicationTable,deploy/widgets/report/securityReportEnvironment/SecurityReportEnvironmentTable,deploy/widgets/report/securityReportResource/SecurityReportResourceTable,deploy/widgets/report/securityReportComponent/SecurityReportComponentTable,deploy/widgets/report/securityReportUser/SecurityReportUserTable".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u,x,v,y,A,z,B,D,G){return e("deploy.widgets.report.ReportFormTable",[m,l],{templateString:'<div class="report-form-table"><div data-dojo-attach-point="breadcrumbContainer"><div data-dojo-attach-point="scheduleLinkAttach" class="report-link inlineBlock"></div><div data-dojo-attach-point="csvLinkAttach" class="report-link inlineBlock"></div><div data-dojo-attach-point="printLinkAttach" class="report-link inlineBlock"></div><div data-dojo-attach-point="breadcrumbAttach" class="report-breadcrumb inlineBlock"></div><div><div class="inlineBlock report-form" data-dojo-attach-point="reportFormAP"><div data-dojo-attach-point="datePickerAttach" class="report-date-picker report-form-field inlineBlock"></div><div data-dojo-attach-point="formAttach" class="inlineBlock report-form-field"></div></div><div class="report-button-span report-form-field inlineBlock" data-dojo-attach-point="reportButtonSpanAP"><div class="inlineBlock report-buttons" data-dojo-attach-point="reportButtonAttach"></div></div></div><div class="description-span inlineBlock" data-dojo-attach-point="descriptionAttach"></div></div><div data-dojo-attach-point="tableAttach" class="report-table"></div></div>',
runButtonAttach:null,saveButtonAttach:null,formAttach:null,tableAttach:null,report:null,form:null,table:null,saveButton:null,runButton:null,scheduleLinkAttach:null,csvLinkAttach:null,printLinkAttach:null,constructor:function(a){if(!a.reportRestUrlBase)this.reportRestUrlBase=bootstrap.restUrl+"report/";if(!a.reportHashBase)this.reportHashBase="reports/";if(a.report)this.report=a.report},buildRendering:function(){this.inherited(arguments)},postCreate:function(){this.inherited(arguments);var a=this;
if(a.report){var h=a._getFormForType(a.report.type);c.remove(this.breadcrumbAttach,"has-form-widget");void 0!==h?(a.form=new h({report:a.report,datePickerAttach:a.datePickerAttach}),a.form.placeAt(a.formAttach),c.add(this.breadcrumbAttach,"has-form-widget"),a.renderReport(),b.create("div",{innerHTML:"&nbsp;"},a.reportButtonAttach),h=b.create("div",{className:"report-button"},a.reportButtonAttach),a.runButton=new k({label:i18n("Run"),showTitle:!1,onClick:function(){a.requestPreviewReport()},"class":"reportButton"}),
a.runButton.set("disabled",!1),a.runButton.placeAt(h),c.add(a.runButton.domNode,"idxButtonSpecial idxButtonCompact"),a.saveButton=new k({label:i18n("Save"),showTitle:!1,onClick:function(){a.showSaveFilterDialog()},"class":"reportButton"}),a.saveButton.set("disabled",!1),a.saveButton.placeAt(h),c.add(a.saveButton.domNode,"idxButtonCompact"),a.report.description&&(b.create("span",{innerHTML:i18n("Description")+": ",className:"bold"},a.descriptionAttach),b.create("span",{innerHTML:util.applyBTD(util.escape(a.report.description))},
a.descriptionAttach))):a.renderReport()}},renderReport:function(){var a=this;if(a.table)a.table.destroy(),a.table=null;b.empty(a.breadcrumbAttach);b.empty(a.tableAttach);b.empty(a.scheduleLinkAttach);b.empty(a.csvLinkAttach);if(a.report){var c=a.reportRestUrlBase;a.report.system?c+="system/":a.report.shared&&(c+="shared/");a.renderBreadcrumb();var h=c+util.encodeIgnoringSlash(a.report.name)+"/results",d=a._getReportDisplayWidget(a.report.type),n=c+a.report.name+"/csv";a.table=new d({nonEmptyCallback:function(b){b.csvUrl=
n;a.generateLinks(b)}});a.table.placeAt(a.tableAttach);a.table.renderReport(h)}},renderBreadcrumb:function(){var a=[];this.report.system?(-1<this.report.name.indexOf("Deployment")?a.push(i18n("Deployment")):-1<this.report.name.indexOf("Security")&&a.push(i18n("Security")),a.push(i18n(this.report.name))):(a.push(i18n("My Reports")),a.push(util.applyBTD(util.escape(this.report.name))));var b="";f.forEach(a,function(a,c){0<c&&(b+=' <img src="'+bootstrap.imageUrl+'deploy/arrow_report_breadcrumbs.png"> ');
b+=a});c.add(this.breadcrumbContainer,"report-breadcrumb-container");this.breadcrumbAttach.innerHTML=b},showSaveFilterDialog:function(){var a=this;this.saveFilterDialog=new s({title:i18n("Save Current Filters"),closable:!0,draggable:!0});var b=new n({submitUrl:a.reportRestUrlBase,submitMethod:"PUT",addData:function(b){var c=[],c=c.concat(a.form.getProperties());b.properties=c;if(c=a.table.getDisplayConfig())b.hiddenColumns=c.hiddenColumns,c.orderField&&c.sortType&&(b.properties.push({name:"orderField",
value:c.orderField}),b.properties.push({name:"sortType",value:c.sortType}));b.reportType=a.report.type},postSubmit:function(b){var c=b.name,h=a.reportHashBase;b.shared&&(h+="shared/");h+=util.encodeIgnoringSlash(c);navBar.setHash(h,!1,!0);a.saveFilterDialog.hide();a.saveFilterDialog.destroy()},onCancel:function(){a.saveFilterDialog.onCancel()}});b.addField({name:"name",label:i18n("Name"),required:!0,type:"Text",value:a.report.name});b.addField({name:"description",label:i18n("Description"),required:!1,
type:"Text Area",value:a.report.description});b.placeAt(this.saveFilterDialog.containerNode);this.saveFilterDialog.show()},requestPreviewReport:function(){var a=this,c=a.report.type;if(c){var h;a.resultWidget?(h=a.resultWidget.getDisplayConfig(),a.resultWidget.destroy(),a.resultWidget=null):a.table&&a.table.getDisplayConfig&&(h=a.table.getDisplayConfig());b.empty(a.tableAttach);a.csvLinkAttach&&b.empty(a.csvLinkAttach);a.printLinkAttach&&b.empty(a.printLinkAttach);var d={};d.type=c;d.isAdHoc=!0;var n=
[],n=n.concat(a.form.getProperties());h&&h.orderField&&h.sortType&&(n.push({name:"orderField",value:h.orderField}),n.push({name:"sortType",value:h.sortType}));f.forEach(n,function(a){d[a.name]=a.value});var r=[];if("deploymentCount"===c){var s=[];f.forEach(n,function(a){s.push(a.name)});f.forEach(["application","time_unit"],function(a){0>s.indexOf(a)&&r.push(a)})}var e=q.objectToQuery(d);if(h&&h.hiddenColumns)d.hiddenColumns=h.hiddenColumns;d.query=e;d.properties=n;d.name=i18n("Unsaved Report");r.length?
new o({title:i18n("Missing Report Parameters"),draggable:!0,message:i18n("Please select the following parameters: %s",util.escape(r.toString()))}):(c=a._getReportDisplayWidget(c),a.resultWidget=new c({nonEmptyCallback:function(b){a.generateLinks(b)}}),a.resultWidget.placeAt(a.tableAttach),a.resultWidget.renderAdHocReport({report:d,errorCallback:function(a){new o({title:i18n("Missing Report Parameters"),draggable:!0,message:i18n("Missing parameters: %s",util.escape(a.toString()))})}}))}else new o({title:i18n("Missing Report Parameters"),
draggable:!0,message:i18n("Please select a report type")})},generateLinks:function(c){var n=this;b.empty(n.scheduleLinkAttach);b.empty(n.csvLinkAttach);b.empty(n.printLinkAttach);if(c.reportLength){var r=util.createDownloadAnchor({href:c.csvUrl},n.csvLinkAttach);b.create("div",{className:"linkPointer general-icon download-icon",title:i18n("Download CSV"),alt:i18n("Download CSV")},r);this.own(a(r,h.enter,function(){var a=n.table.reportMetadata,b="";f.forEach(a?a.hiddenColumns:[],function(a){"applicationRequestId"!==
a&&(b=""!==b?b+"&":b+"?",b+="hiddenColumns="+a.toLowerCase())});d.set(r,"href",c.csvUrl+b)}));if(n.report.created){var o=b.create("div",{className:"linkPointer general-icon schedule-icon",title:i18n("Schedule Recurring Report"),alt:i18n("Schedule Recurring Report")},n.scheduleLinkAttach);a(o,"click",function(){var a=new s({title:i18n("Schedule Recurring Report"),closable:!0});n.callback=function(){a.hide();a.destroy()};n.showScheduleDialog();n.scheduleForm.placeAt(a.containerNode);a.show()})}c.printReport&&
(o=b.create("div",{className:"linkPointer general-icon print-icon",title:i18n("Print Report"),alt:i18n("Print Report")},n.printLinkAttach),a(o,"click",function(){c.printReport()}))}},destroy:function(){this.table&&this.table.destroy();this.form&&this.form.destroy();this.saveButton&&this.saveButton.destroy();this.runButton&&this.runButton.destroy();this.inherited(arguments)},_getFormForType:function(a){var b;"com.urbancode.ds.subsys.report.domain.deployment_report.DeploymentReport"===a?b=r:"com.urbancode.ds.subsys.report.domain.deployment_count.DeploymentCountReport"===
a?b=t:"com.urbancode.ds.subsys.report.domain.deployment_count.DeploymentDurationSumReport"===a?b=t:"com.urbancode.ds.subsys.report.domain.deployment_count.DeploymentDurationAverageReport"===a?b=t:"com.urbancode.ds.subsys.report.domain.security_report.application.SecurityReportApplication"===a?b=void 0:"com.urbancode.ds.subsys.report.domain.security_report.component.SecurityReportComponent"===a?b=void 0:"com.urbancode.ds.subsys.report.domain.security_report.resource.SecurityReportResource"===a?b=void 0:
"com.urbancode.ds.subsys.report.domain.security_report.environment.SecurityReportEnvironment"===a?b=void 0:"com.urbancode.ds.subsys.report.domain.security_report.user.SecurityReportUser"===a&&(b=w);return b},_getReportDisplayWidget:function(a){var b;"com.urbancode.ds.subsys.report.domain.deployment_report.DeploymentReport"===a?b=u:"com.urbancode.ds.subsys.report.domain.deployment_count.DeploymentCountReport"===a?b=x:"com.urbancode.ds.subsys.report.domain.deployment_count.DeploymentDurationSumReport"===
a?b=v:"com.urbancode.ds.subsys.report.domain.deployment_count.DeploymentDurationAverageReport"===a?b=y:"com.urbancode.ds.subsys.report.domain.security_report.application.SecurityReportApplication"===a?b=A:"com.urbancode.ds.subsys.report.domain.security_report.environment.SecurityReportEnvironment"===a?b=z:"com.urbancode.ds.subsys.report.domain.security_report.resource.SecurityReportResource"===a?b=B:"com.urbancode.ds.subsys.report.domain.security_report.component.SecurityReportComponent"===a?b=D:
"com.urbancode.ds.subsys.report.domain.security_report.user.SecurityReportUser"===a&&(b=G);return b},showScheduleOptions:function(){var a=this;a.scheduleForm.addField({name:"date",label:i18n("Date"),required:!0,type:"Date"},"_scheduleInsert");a.scheduleForm.addField({name:"time",label:i18n("Time"),required:!0,type:"Time"},"_scheduleInsert");a.scheduleForm.addField({name:"recurrencePattern",label:i18n("Pattern"),type:"Select",allowedValues:[{value:"M",label:i18n("Monthly")},{value:"W",label:i18n("Weekly")},
{value:"D",label:i18n("Daily")}],required:!0},"_scheduleInsert");a.stopScheduleCheckbox=new j({onChange:function(b){b?(a.scheduleForm.removeField("date"),a.scheduleForm.removeField("time"),a.scheduleForm.hasField("recurrencePattern")&&a.scheduleForm.removeField("recurrencePattern")):(a.scheduleForm.removeField("stopScheduleCheckbox"),a.showScheduleOptions())}});a.scheduleForm.addField({name:"stopScheduleCheckbox",label:i18n("Stop scheduling this report?"),widget:a.stopScheduleCheckbox},"_scheduleInsert")},
showScheduleDialog:function(){var a=this;a.scheduleForm=new n({addData:function(a){if(a.date&&a.time)a.startDate=util.combineDateAndTime(a.date,a.time).valueOf();a.stopSchedulingReport=a.stopScheduleCheckbox?!0:!1},submitUrl:bootstrap.restUrl+"report/"+a.report.name+"/scheduledReport",postSubmit:function(){void 0!==a.callback&&a.callback()},onCancel:function(){void 0!==a.callback&&a.callback()},onError:function(b){void 0!==a.callback&&a.callback();new o({title:i18n("Error"),messages:[i18n("An error has occurred while scheduling the report:"),
"",util.escape(b.responseText)]})},saveLabel:i18n("Submit")});a.showScheduleOptions()}})})},"dijit/Viewport":function(){define("dijit/Viewport","dojo/Evented,dojo/on,dojo/ready,dojo/sniff,dojo/_base/window,dojo/window".split(","),function(l,m,k,j,f,e){var d=new l;k(200,function(){var c=e.getBox();d._rlh=m(f.global,"resize",function(){var a=e.getBox();c.h==a.h&&c.w==a.w||(c=a,d.emit("resize"))});if(8==j("ie")){var b=screen.deviceXDPI;setInterval(function(){if(screen.deviceXDPI!=b)b=screen.deviceXDPI,
d.emit("resize")},500)}});return d})},"js/webext/widgets/RestSelect":function(){define("js/webext/widgets/RestSelect","dojo/_base/declare,dojo/_base/lang,dojo/_base/kernel,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/form/Select,dijit/MenuSeparator,dijit/_base/wai,dojo/_base/xhr,dojo/_base/array,dijit/MenuItem,dojox/html/entities".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q){return l([j,f],{templateString:'<span class="restSelect inlineBlock">    <span data-dojo-attach-point="restSelect"></span></span>',
name:"",value:null,cachedValues:null,autoSelectFirst:!0,allowNone:!0,noneValue:"NONE_VALUE",escapeHTMLLabel:!0,loaded:!1,constructor:function(a){a.onChange&&k.deprecated("RestSelect#onChange","onChange property is discouraged, use aspect.after(X, 'onChange', func) instead");if(a.tooltipField)this.tooltipField=a.tooltipField;this.cachedValues={};this.watch("restUrl",this._updateRestUrl)},_setDisabledAttr:function(a){this.disabled=!!a;this.loaded&&this.selectWidget.set("disabled",this.disabled)},postCreate:function(){var o=
this;if(void 0===this.value)this.value=null;this.selectWidget=new e({name:o.name,options:[{label:i18n("Loading..."),value:o.value||this.noneValue}],disabled:!0});this.selectWidget.placeAt(this.restSelect);b.get({url:this.restUrl,handleAs:"json",headers:{Accept:"application/json"},error:function(a){if(o.restSelect)console.error(a),a=o.selectWidget.getOptions(0),a.label=i18n("Error!"),o.selectWidget.updateOption(a),o.selectWidget.set("disabled",!0)},load:function(b){if(o.restSelect){o.selectWidget.destroy();
o.selectWidget=null;o.loaded=!0;var s=[],r=!1;a.forEach(b,function(a){if(o.isValid(a)){var b=o.getLabel(a);o.escapeHTMLLabel&&"string"===typeof b&&(b=q.encode(b));var c=o.getValue(a),h=o.getStyle(a),d=o.value===c;d&&(r=!0);b={label:b,value:""+c,style:h,selected:d};o.tooltipField&&a.hasOwnProperty(o.tooltipField)&&(b[o.tooltipField]=a[o.tooltipField]);s.push(b);o.cachedValues[""+c]=a}});if(o.autoSelectFirst&&null===o.value&&!o.allowNone&&0<s.length)r=s[0].selected=!0;!r&&null!==o.value&&!o.noIllegalValues&&
(r=!0,s.push({label:o.existingValueLabel||o.value,value:o.value,style:"font-style:italic;",selected:!0}));o.allowNone?(b=o.noneLabel||i18n("None"),s.splice(0,0,{label:b,value:o.noneValue,selected:null===o.value&&!r})):0===s.length?(b=o.noDataMessage||i18n("No selections found"),s.splice(0,0,{label:b,value:o.noneValue,selected:null===o.value}),o.disabled=!0):null===o.value&&1<s.length&&!o.autoSelectFirst&&(b=o.noneLabel||i18n("-- Make Selection --"),s.splice(0,0,{label:b,value:o.noneValue,selected:!r}));
if(1===s.length)s[0].selected=!0;o.selectWidget=new e({name:o.name,className:o.className,options:s,disabled:!!o.disabled,maxHeight:250,onChange:function(a){a===o.noneValue&&(a="");o.value=a;o.onChange(o.value,o.cachedValues[o.value])},_getMenuItemForOption:function(a){if(!a.value&&!a.label)return new d;var b=m.hitch(this,"_setValueAttr",a),b={option:a,label:a.label||this.emptyLabel,style:a.style,onClick:b,disabled:a.disabled||!1};if(o.tooltipField)b.title=util.escape(a[o.tooltipField]);a=new h(b);
c.setWaiRole(a.focusNode,"listitem");return a}});o.selectWidget.placeAt(o.restSelect);b=o.selectWidget.get("value");if(o.value!==b&&(b||o.value))b===o.noneValue&&(b=""),o.value=b;o.onLoad();o.onChange(o.value,o.cachedValues[o.value])}}})},_updateRestUrl:function(){this.selectWidget.destroy();this.selectWidget=null;this.postCreate()},getStyle:function(){return{}},isValid:function(){return!0},onLoad:function(){},onChange:function(){},setValue:function(a){this.selectWidget.set("value",a||this.noneValue)},
_getItemAttr:function(){var a=this.cachedValues[this.selectWidget.get("value")];return void 0===a?null:a},_getDisplayedValueAttr:function(){return this.selectWidget.get("displayedValue")},destroy:function(){this.selectWidget.destroy();this.inherited(arguments)},getLabel:function(a){return a.name},getValue:function(a){return a.id}})})},"dojo/html":function(){define("./_base/kernel,./_base/lang,./_base/array,./_base/declare,./dom,./dom-construct,./parser".split(","),function(l,m,k,j,f,e,d){var c={};
m.setObject("dojo.html",c);var b=0;c._secureForInnerHtml=function(a){return a.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"")};c._emptyNode=e.empty;c._setNodeContent=function(a,b){e.empty(a);if(b)if("string"==typeof b&&(b=e.toDom(b,a.ownerDocument)),!b.nodeType&&m.isArrayLike(b))for(var c=b.length,d=0;d<b.length;d=c==b.length?d+1:0)e.place(b[d],a,"last");else e.place(b,a,"last");return a};c._ContentSetter=j("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:!1,
extractContent:!1,parseContent:!1,parserScope:l._scopeName,startup:!0,constructor:function(a,c){m.mixin(this,a||{});c=this.node=f.byId(this.node||c);if(!this.id)this.id=["Setter",c?c.id||c.tagName:"",b++].join("_")},set:function(a,b){if(void 0!==a)this.content=a;b&&this._mixin(b);this.onBegin();this.setContent();var c=this.onEnd();return c&&c.then?c:this.node},setContent:function(){var a=this.node;if(!a)throw Error(this.declaredClass+": setContent given no node");try{a=c._setNodeContent(a,this.content)}catch(b){var d=
this.onContentError(b);try{a.innerHTML=d}catch(o){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+o.message,o)}}this.node=a},empty:function(){this.parseDeferred&&(this.parseDeferred.isResolved()||this.parseDeferred.cancel(),delete this.parseDeferred);this.parseResults&&this.parseResults.length&&(k.forEach(this.parseResults,function(a){a.destroy&&a.destroy()}),delete this.parseResults);e.empty(this.node)},onBegin:function(){var a=this.content;if(m.isString(a)&&
(this.cleanContent&&(a=c._secureForInnerHtml(a)),this.extractContent)){var b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);b&&(a=b[1])}this.empty();this.content=a;return this.node},onEnd:function(){this.parseContent&&this._parse();return this.node},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content},onContentError:function(a){return"Error occurred setting content: "+a},onExecError:function(a){return"Error occurred executing scripts: "+a},
_mixin:function(a){var b={},c;for(c in a)c in b||(this[c]=a[c])},_parse:function(){var a=this.node;try{var b={};k.forEach(["dir","lang","textDir"],function(a){this[a]&&(b[a]=this[a])},this);var c=this;this.parseDeferred=d.parse({rootNode:a,noStart:!this.startup,inherited:b,scope:this.parserScope}).then(function(a){return c.parseResults=a},function(a){c._onError("Content",a,"Error parsing in _ContentSetter#"+this.id)})}catch(o){this._onError("Content",o,"Error parsing in _ContentSetter#"+this.id)}},
_onError:function(a,b,d){a=this["on"+a+"Error"].call(this,b);d?console.error(d,b):a&&c._setNodeContent(this.node,a,!0)}});c.set=function(a,b,d){void 0==b&&(console.warn("dojo.html.set: no cont argument provided, using empty string"),b="");return d?(new c._ContentSetter(m.mixin(d,{content:b,node:a}))).set():c._setNodeContent(a,b,!0)};return c})},"js/webext/widgets/BidiDateUtil":function(){define("js/webext/widgets/BidiDateUtil","dojo/date,dojo/date/locale,dojox/date/islamic,dojox/date/islamic/Date,dojox/date/islamic/locale,dojox/date/hebrew,dojox/date/hebrew/Date,dojox/date/hebrew/locale".split(","),
function(l,m,k,j,f,e,d,c){return{getCalendar:function(){return util.getCalendar()},getDatePackage:function(){var b="";this.isHijri()?b="dojox.date.islamic":this.isHebrew()&&(b="dojox.date.hebrew");return b},getDateClassObj:function(){var b=l.Date;this.isHijri()?b=j:this.isHebrew()&&(b=d);return b},isHijri:function(){return"Hijri"===this.getCalendar()?!0:!1},isHebrew:function(){return"Hebrew"===this.getCalendar()?!0:!1},isGregorian:function(){return!this.isHebrew()&&!this.isHijri()?!0:!1},fromGregorian:function(b){var a=
new Date(b);this.isHijri()?a=(new j).fromGregorian(a):this.isHebrew()&&(a=(new d).fromGregorian(b));return a},getLocale:function(){var b=m;this.isHijri()?b=f:this.isHebrew()&&(b=c);return b},getNewDate:function(b){return b=b?this.isHijri()?new j(b):this.isHebrew()?new d(b):new Date(b):this.isHijri()?new j:this.isHebrew()?new d:new Date},formatBidiDate:function(b,a){var h;h=new Date(b);this.isHijri()?(h=b instanceof j?b:this.fromGregorian(b),h=f.format(h,a)):this.isHebrew()?(h=b instanceof d?b:this.fromGregorian(b),
h=c.format(h,a)):h=m.format(h,a);return h}}})},"dojo/touch":function(){define("./_base/kernel,./aspect,./dom,./on,./has,./mouse,./domReady,./_base/window".split(","),function(l,m,k,j,f,e,d,c){function b(b,c){return a?function(a,h){var d=j(a,c,h),n=j(a,b,function(a){(!q||(new Date).getTime()>q+1E3)&&h.call(this,a)});return{remove:function(){d.remove();n.remove()}}}:function(a,c){return j(a,b,c)}}var a=f("touch"),h=!1;f("ios")&&(m=navigator.userAgent.match(/OS ([\d_]+)/)?RegExp.$1:"1",h=5>parseFloat(m.replace(/_/,
".").replace(/_/g,"")));var q,o,n;a&&(d(function(){n=c.body();c.doc.addEventListener("touchstart",function(a){q=(new Date).getTime();var b=n;n=a.target;j.emit(b,"dojotouchout",{target:b,relatedTarget:n,bubbles:!0});j.emit(n,"dojotouchover",{target:n,relatedTarget:b,bubbles:!0})},!0);j(c.doc,"touchmove",function(a){q=(new Date).getTime();if((a=c.doc.elementFromPoint(a.pageX-(h?0:c.global.pageXOffset),a.pageY-(h?0:c.global.pageYOffset)))&&n!==a)j.emit(n,"dojotouchout",{target:n,relatedTarget:a,bubbles:!0}),
j.emit(a,"dojotouchover",{target:a,relatedTarget:n,bubbles:!0}),n=a})}),o=function(a,b){return j(c.doc,"touchmove",function(h){if(a===c.doc||k.isDescendant(n,a))h.target=n,b.call(this,h)})});e={press:b("mousedown","touchstart"),move:b("mousemove",o),release:b("mouseup","touchend"),cancel:b(e.leave,"touchcancel"),over:b("mouseover","dojotouchover"),out:b("mouseout","dojotouchout"),enter:e._eventHandler(b("mouseover","dojotouchover")),leave:e._eventHandler(b("mouseout","dojotouchout"))};return l.touch=
e})},"dojox/calendar/Calendar":function(){require({cache:{"url:dojox/calendar/templates/Calendar.html":'<div>\n\t<div data-dojo-attach-point="buttonContainer" class="buttonContainer">\n\t\t<div data-dojo-attach-point="toolbar" data-dojo-type="dijit.Toolbar" >\n\t\t\t<button data-dojo-attach-point="previousButton" data-dojo-type="dijit.form.Button" >\u25c4</button>\n\t\t\t<button data-dojo-attach-point="nextButton" data-dojo-type="dijit.form.Button" >\u25ba</button>\n\t\t\t<span data-dojo-type="dijit.ToolbarSeparator"></span>\n\t\t\t<button data-dojo-attach-point="todayButton" data-dojo-type="dijit.form.Button" />Today</button>\n\t\t\t<span data-dojo-type="dijit.ToolbarSeparator"></span>\n\t\t\t<button data-dojo-attach-point="dayButton" data-dojo-type="dijit.form.Button" >Day</button>\n\t\t\t<button data-dojo-attach-point="fourDaysButton" data-dojo-type="dijit.form.Button" >4 Days</button>\n\t\t\t<button data-dojo-attach-point="weekButton" data-dojo-type="dijit.form.Button" >Week</button>\t\t\t\n\t\t\t<button data-dojo-attach-point="monthButton" data-dojo-type="dijit.form.Button" >Month</button>\n\t\t</div>\n\t</div>\n\t<div data-dojo-attach-point="viewContainer" class="viewContainer"></div>\n</div>\n'}});
define("dojox/calendar/Calendar","dojo/_base/declare,dojo/_base/lang,./CalendarBase,./ColumnView,./ColumnViewSecondarySheet,./VerticalRenderer,./MatrixView,./HorizontalRenderer,./LabelRenderer,./ExpandRenderer,./Keyboard,./Mouse,dojo/text!./templates/Calendar.html,dijit/form/Button,dijit/Toolbar,dijit/ToolbarSeparator".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o){return l("dojox.calendar.Calendar",k,{templateString:o,_createDefaultViews:function(){var n=l([f,h,q]),n=l([j,h,q])(m.mixin({secondarySheetClass:n,
verticalRenderer:e,horizontalRenderer:c,expandRenderer:a},this.columnViewProps)),o=l([d,h,q])(m.mixin({horizontalRenderer:c,labelRenderer:b,expandRenderer:a},this.matrixViewProps));this.columnView=n;this.matrixView=o;n=[n,o];this.installDefaultViewsActions(n);return n},installDefaultViewsActions:function(){this.matrixView.on("rowHeaderClick",m.hitch(this,this.matrixViewRowHeaderClick));this.columnView.on("columnHeaderClick",m.hitch(this,this.columnViewColumnHeaderClick))}})})},"deploy/widgets/workflow/activity/ResourceDiscoveryActivity":function(){define(["dojo/_base/declare",
"deploy/widgets/resource/ResourceSelector","deploy/widgets/workflow/activity/BaseActivity"],function(l,m,k){return l([k],{postCreate:function(){this.inherited(arguments);this.initialized||this.editProperties()},getLabel:function(){var j=this.data.name;this.initialized&&(j+="\n"+i18n("using %s",this.data.commandName));return j},editProperties:function(j){var f=this,e=f.createPropertyDialog();f.propertyForm=f.createPropertyForm({dialog:e,validateFields:function(d){return f.validateName(d.name)},addData:function(d){d.commandType=
f.data.commandType;d.actionType=f.data.actionType},onSubmit:function(d){j&&j();f.initialized=!0;f.data.name=d.name;f.data.propertyName=d.propertyName;f.data.command=d.command;f.data.resource=d.resource;f.updateLabel();e.hide();f.propertyForm.destroy();e.destroy()},readOnly:f.readOnly});f.propertyForm.addField({name:"name",label:i18n("Name"),type:"Text",required:"True",value:f.data.name});f.propertyForm.addField({name:"resource",label:i18n("Resource"),type:"Text",value:f.data.resource||"${p:resource.parent.path}",
required:!0,description:i18n("The path or ID of the resource to run the step on.")});f.propertyForm.addField({name:"command",label:i18n("Plugin Step"),type:"TableFilterSelect",required:!0,value:f.data.command,url:bootstrap.restUrl+"plugin/command",description:i18n("The plugin step to run."),defaultQuery:{filterFields:["type"],filterType_type:"eq",filterValue_type:f.data.commandType},onChange:function(d,c){f.data.commandName=c.name}});f.propertyForm.placeAt(e.containerNode);e.show()}})})},"deploy/widgets/component/ComponentSourceConfigHistory":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/_base/xhr,dojo/_base/array,dojo/dom-construct,dojo/on,deploy/widgets/Formatters,deploy/widgets/log/LiveLogViewer,js/webext/widgets/table/TreeTable,js/webext/widgets/Table,js/webext/widgets/Dialog,js/webext/widgets/Alert".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o){return k([m,l],{showComponentField:!1,oldestFirst:!1,templateString:'<div class="componentSourceConfigHistory"><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var h=this,s=[{name:i18n("Import Type"),formatter:function(a){return i18n(a.taskInfo)}},{name:i18n("Agent"),formatter:function(a){return c.agentLinkFormatter(a.agent)}},{name:i18n("Start"),formatter:function(a){return util.dateFormatShort(a.startTime)}},
{name:i18n("End"),formatter:function(a){if(0!==a.endTime)return util.dateFormatShort(a.endTime)}},{name:i18n("Status"),formatter:function(a,b,h){return c.sourceConfigStatusFormatter(a,b,h)}},{name:i18n("Actions"),formatter:function(a){var c=e.create("div");if("WAITING"!==a.status){var s=e.create("a",{"class":"linkPointer"},c);d(s,"click",function(){(new b({url:bootstrap.restUrl+"logView/sourceConfigExecution/"+a.id+"/stdOut.txt",title:i18n("Output Log"),autoRefresh:"EXECUTING"===a.status,paddingTop:"0px"})).show()});
e.create("div",{className:"general-icon consoleIcon inline-block",title:i18n("Output Log")},s);a.errorLogExists&&(s=e.create("a",{"class":"linkPointer"},c),d(s,"click",function(){(new b({url:bootstrap.restUrl+"logView/sourceConfigExecution/"+a.id+"/log.txt",title:i18n("Error Log"),autoRefresh:"EXECUTING"===a.status})).show()}),e.create("div",{className:"general-icon pageIconRed inline-block",title:i18n("Error Log")},s));s=e.create("a",{"class":"linkPointer"},c);d(s,"click",function(){h.showPropertiesDialog(a)});
e.create("div",{className:"general-icon pageIcon inline-block",title:i18n("Input Properties")},s)}if("EXECUTING"===a.status||"WAITING"===a.status)s=e.create("a",{"class":"linkPointer",innerHTML:i18n("Cancel"),style:{paddingLeft:"10px"}},c),d(s,"click",function(){j.put({url:bootstrap.restUrl+"sourceConfigExecutionRecord/"+a.id+"/cancel",handleAs:"json",load:function(){h.refresh()},error:function(a){new o({message:util.escape(a.responseText)});h.refresh()}})});return c}}];this.showComponentField&&s.unshift({name:i18n("Component"),
formatter:function(a){return c.componentLinkFormatter(a.component)}});if(!h.gridRestUrl)h.gridRestUrl=bootstrap.restUrl+"sourceConfigExecutionRecord/"+appState.component.id+"/table";if(!h.tableConfigKey)h.tableConfigKey="componentSourceConfigHistory"+appState.component.id;this.grid=new a({url:h.gridRestUrl,columns:s,serverSideProcessing:!0,orderField:"startTime",sortType:this.oldestFirst?"asc":"desc",tableConfigKey:h.tableConfigKey,noDataMessage:i18n("No executing version imports found."),hidePagination:!1,
hideExpandCollapse:!0});this.grid.placeAt(this.gridAttach)},destroy:function(){this.inherited(arguments);this.grid.destroy()},showPropertiesDialog:function(a){var b=new q,c=document.createElement("div"),d=document.createElement("span");d.innerHTML=i18n("Input Properties");var o=document.createElement("div");o.className="containerLabel";o.appendChild(d);d=document.createElement("div");d.className="innerContainer";d.appendChild(c);var u=document.createElement("div");u.style.maxWidth="700px";u.style.maxHeight=
"500px";u.style.overflow="auto";u.appendChild(o);u.appendChild(d);b.containerNode.appendChild(u);b.show();j.get({url:bootstrap.restUrl+"sourceConfigExecutionRecord/"+a.id+"/properties",handleAs:"json",load:function(a){a&&(new h({data:a,serverSideProcessing:!1,columns:[{name:i18n("Name"),field:"name"},{name:i18n("Value"),field:"value",formatter:function(a,b){var c=e.create("div");b&&f.forEach(b.split("\n"),function(a){e.create("div",{innerHTML:a.escape()},c)});return c}}],hidePagination:!0})).placeAt(c)}})},
refresh:function(){this.grid.refresh()}})})},"dojo/io/iframe":function(){define("../_base/config,../_base/json,../_base/kernel,../_base/lang,../_base/xhr,../sniff,../_base/window,../dom,../dom-construct,../query,require,../aspect,../request/iframe".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o){k.deprecated("dojo/io/iframe","Use dojo/request/iframe.","2.0");var e=o._iframeName,e=e.substring(0,e.lastIndexOf("_")),n=j.delegate(o,{create:function(){return n._frame=o.create.apply(o,arguments)},get:null,
post:null,send:function(a){var b,h=f._ioSetArgs(a,function(){b&&b.cancel()},function(a){var c=null,a=a.ioArgs;try{var h=a.handleAs;"xml"===h||"html"===h?c=b.response.data:(c=b.response.text,"json"===h?c=m.fromJson(c):"javascript"===h&&(c=k.eval(c)))}catch(d){c=d}return c},function(a,b){b.ioArgs._hasError=!0;return a}),d=h.ioArgs,n="GET",e=c.byId(a.form);a.method&&"POST"===a.method.toUpperCase()&&e&&(n="POST");a={method:n,handleAs:"json"===a.handleAs||"javascript"===a.handleAs?"text":a.handleAs,form:a.form,
query:e?null:a.content,data:e?a.content:null,timeout:a.timeout,ioArgs:d};if(a.method)a.method=a.method.toUpperCase();if(l.ioPublish&&k.publish&&!1!==d.args.ioPublish)var j=q.after(o,"_notifyStart",function(a){a.options.ioArgs===d&&(j.remove(),f._ioNotifyStart(h))},!0);b=o(d.url,a,!0);d._callNext=b._callNext;b.then(function(){h.resolve(h)}).otherwise(function(a){h.ioArgs.error=a;h.reject(a)});return h},_iframeOnload:d.global[e+"_onload"]});j.setObject("dojo.io.iframe",n);return n})},"deploy/widgets/configTemplate/EditConfigTemplate":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/_base/xhr,dojo/dom-construct,dojo/on,js/webext/widgets/ColumnForm,js/webext/widgets/Alert,js/webext/widgets/GenericConfirm".split(","),
function(l,m,k,j,f,e,d,c,b){return k("deploy.widgets.configTemplate.EditConfigTemplate",[m,l],{templateString:'<div class="editConfigTemplate">  <div data-dojo-attach-point="versionAttach"></div>  <div data-dojo-attach-point="formAttach"></div></div>',postCreate:function(){this.inherited(arguments);this.existingValues={};if(this.configTemplate){this.existingValues=this.configTemplate;if(void 0===this.component)this.component=this.configTemplate.component;this.showVersionLinks()}this.showForm(this.readOnly)},
showForm:function(a){var b=this;this.form=new d({readOnly:a,cancelLabel:void 0!==this.callback?i18n("Cancel"):null,submitUrl:bootstrap.restUrl+"deploy/configTemplate",postSubmit:function(){void 0!==b.callback?b.callback():b.configTemplate&&navBar.setHash("configTemplate/"+b.component.id+"/"+b.existingValues.name+"/-1",!1,!0)},addData:function(a){a.componentId=b.component.id},onCancel:function(){void 0!==b.callback&&b.callback()}});this.form.addField({name:"name",label:i18n("Name"),required:!0,readOnly:void 0!==
this.configTemplate,type:"Text",value:this.existingValues.name});this.form.addField({name:"data",label:i18n("Template"),type:"Text Area",style:{width:"400px",height:"400px"},value:this.existingValues.data});this.form.placeAt(this.formAttach)},showVersionLinks:function(){var a=this;f.empty(this.versionAttach);f.create("div",{innerHTML:i18n("Version %s of %s",this.existingValues.version,this.existingValues.versionCount)},this.versionAttach);var h=f.create("div",{},this.versionAttach);if(1===this.existingValues.version)f.create("div",
{className:"arrow_backwards_grey inlineBlock"},h);else{var d=f.create("div",{className:"arrow_backwards inlineBlock"},h);e(d,"click",function(){a.existingValues.version--;a.refresh()})}f.create("span",{innerHTML:"&nbsp;&nbsp;&nbsp;"},h);this.existingValues.version===this.existingValues.versionCount?(f.create("div",{className:"arrow_forward_grey inlineBlock"},h),f.create("span",{innerHTML:"&nbsp;&nbsp;"},h),f.create("div",{className:"arrow_fastForward_grey inlineBlock"},h)):(d=f.create("div",{className:"arrow_forward inlineBlock"},
h),e(d,"click",function(){a.existingValues.version++;a.refresh()}),f.create("span",{innerHTML:"&nbsp;&nbsp;"},h),d=f.create("div",{className:"arrow_fastForward inlineBlock"},h),e(d,"click",function(){a.existingValues.version=a.existingValues.versionCount;a.refresh()}),this.readOnly||(f.create("span",{innerHTML:"&nbsp;&nbsp;"},h),h=f.create("a",{innerHTML:i18n("Reset Latest to This Version")},h),e(h,"click",function(){new b({message:i18n("Are you sure you want to reset to version %s?",a.existingValues.version),
action:function(){j.put({url:bootstrap.restUrl+"vc/persistent/"+util.vc.encodeVersionedPath(a.existingValues.path)+"."+a.existingValues.version+"/setAsLatest",load:function(){a.existingValues.versionCount++;a.existingValues.version=a.existingValues.versionCount;a.refresh()},error:function(a){new c({message:i18n("Error: %s",util.escape(a.responseText))})}})}})})))},refresh:function(){var a=this,b=bootstrap.restUrl+"deploy/configTemplate/"+a.existingValues.componentId+"/"+util.encodeIgnoringSlash(a.existingValues.name)+
"/"+a.existingValues.version;j.get({url:b,handleAs:"json",load:function(b){a.existingValues=b;a.form.destroy();this.readOnly?a.showForm(!0):a.showForm(a.existingValues.version!==a.existingValues.versionCount);a.showVersionLinks()},error:function(a){new c({message:i18n("Error: %s",util.escape(a.responseText))})}})}})})},"deploy/widgets/componentProcess/ComponentProcessActivities":function(){define("dojo/_base/declare,dojo/request/xhr,dojo/dom-class,dojo/dom-construct,dojo/json,deploy/widgets/workflow/BaseGraph,deploy/widgets/process/RequiredCommentForm,js/webext/widgets/Alert,js/webext/widgets/GenericConfirm,js/webext/widgets/Dialog,js/webext/widgets/table/TreeTable".split(","),
function(l,m,k,j,f,e,d,c,b,a,h){return l("deploy.widgets.componentProcess.ComponentProcessActivities",[e],{componentId:null,componentTemplateId:null,componentProcessId:null,componentProcessVersion:null,readOnly:!1,postCreate:function(){this.inherited(arguments);var a=this;if(mxClient.isBrowserSupported()){this.toolBarContainer.className="mx-graph-pane mx-graph-top-pane";this.processStepContainer.className="mx-graph-pane mx-graph-bottom-pane";this.mxgraphAttach.className="";if(void 0!==this.componentProcess)this.componentProcessId=
this.componentProcess.id,this.componentProcessVersion=this.componentProcess.version;m(bootstrap.restUrl+"deploy/componentProcess/"+this.componentProcessId+"/"+this.componentProcessVersion,{handleAs:"json"}).then(function(b){a.component=b.component;a.componentTemplate=b.componentTemplate;a.componentProcess=b;a.readOnly=!1;if(b.versionCount!==b.version)a.readOnly=!0;else if(a.componentTemplate&&!a.componentTemplate.security["Manage Processes"])a.readOnly=!0;else if(a.component&&!a.component.security["Manage Processes"])a.readOnly=
!0;void 0!==a.componentProcess.rootActivity?a.graphStartup(a.componentProcess.rootActivity):a.graphStartup(null)})}else mxUtils.error(i18n("This browser is not compatible with the rich workflow editor."),200,!1)},graphStartup:function(a){this.inherited(arguments);var b=this;b.buildToolbar();if(!this.readOnly){var c=document.createElement("div");c.className="fileTree";j.create("div",{},c);b.stepTreeTable=new h({floatCollapseSpace:!0,rowPadding:15,allowHeaderLocking:!1,hideFooterLinks:!0,hidePagination:!0,
tableConfigKey:"componentProcessTreeTable",columns:[{name:i18n("Step Palette"),"class":"activityTreeCell",styleHeading:{display:"none"},formatter:function(a,c,h){return b.stepTreeFormatter(a,h,b.componentProcess)},orderField:"name",filterField:"name",filterType:"text",getRawValue:function(a){var b=i18n(a.name);a.name===i18n("Finish")&&(b=" 1 "+i18n("Finish"));a.name===i18n("Clipboard")&&(b=" 2 "+i18n("Clipboard"));a.name===i18n("Utility Steps")&&(b=" 3 "+i18n("Utility Steps"));return b}}],url:bootstrap.restUrl+
"deploy/componentProcess/"+this.componentProcess.id+"/activityTree",orderField:"name",lazyLoad:!1,draggable:!1,idAttribute:"path",serverSideProcessing:!1,alwaysShowFilters:!0,noDataMessage:i18n("No steps found")});b.stepTreeTable.placeAt(c);k.add(b.stepTreeTable.expandCollapseAttach,"centered-expand-collapse");c=new mxWindow(i18n("Step Palette"),c,0,0,240,500,!1,!1,this.addAttach);c.setMaximizable(!1);c.setScrollable(!0);c.setResizable(!0);c.setVisible(!0)}},destroy:function(){j.empty(this.toolbarAttach)},
saveProcessDesign:function(a){var b=this,c=b.getWorkflowJson();if(a)c.comment=a;m.put(bootstrap.restUrl+"deploy/componentProcess/"+b.componentProcess.id+"/saveActivities",{data:f.stringify(c),headers:{componentProcessVersion:b.componentProcess.version,"Content-Type":"application/json"}}).then(function(){b.showSavePopup(i18n("Process design saved successfully."));document.hasChanges=!1;b.clearChangedActivities();navBar.setHash("componentProcess/"+b.componentProcess.id+"/-1",!1,!0)},function(a){b.showSaveErrorPopup(a)})}})})},
"dijit/registry":function(){define("dijit/registry",["dojo/_base/array","dojo/sniff","dojo/_base/unload","dojo/_base/window","./main"],function(l,m,k,j,f){var e={},d={},c={length:0,add:function(b){if(d[b.id])throw Error("Tried to register widget with id=="+b.id+" but that id is already registered");d[b.id]=b;this.length++},remove:function(b){d[b]&&(delete d[b],this.length--)},byId:function(b){return"string"==typeof b?d[b]:b},byNode:function(b){return d[b.getAttribute("widgetId")]},toArray:function(){var b=
[],a;for(a in d)b.push(d[a]);return b},getUniqueId:function(b){var a;do a=b+"_"+(b in e?++e[b]:e[b]=0);while(d[a]);return"dijit"==f._scopeName?a:f._scopeName+"_"+a},findWidgets:function(b,a){function c(b){for(b=b.firstChild;b;b=b.nextSibling)if(1==b.nodeType){var n=b.getAttribute("widgetId");n?(n=d[n])&&e.push(n):b!==a&&c(b)}}var e=[];c(b);return e},_destroyAll:function(){f._curFocus=null;f._prevFocus=null;f._activeStack=[];l.forEach(c.findWidgets(j.body()),function(b){b._destroyed||(b.destroyRecursive?
b.destroyRecursive():b.destroy&&b.destroy())})},getEnclosingWidget:function(b){for(;b;){var a=1==b.nodeType&&b.getAttribute("widgetId");if(a)return d[a];b=b.parentNode}return null},_hash:d};return f.registry=c})},"deploy/widgets/agent/EditAgentInstallProps":function(){define(["dijit/_TemplatedMixin","dijit/_Widget","dojo/_base/declare","js/webext/widgets/ColumnForm"],function(l,m,k,j){return k("deploy.widgets.agent.EditAgentInstallProps",[m,l],{templateString:'<div class="editScript">  <div data-dojo-attach-point="formAttach"></div></div>',
type:"ssh",postCreate:function(){this.inherited(arguments);var f=this;if(this.agentInstallProps)this.existingValues=this.agentInstallProps;else if(this.source)this.existingValues=this.source,this.existingValues.name=void 0,this.existingValues.id=void 0;this.form=new j({submitUrl:bootstrap.restUrl+"agent/installprops/"+f.type,postSubmit:function(a){void 0!==f.callback&&f.callback(a)},addData:function(a){if(f.agentInstallProps&&f.agentInstallProps.id)a.id=f.agentInstallProps.id},onCancel:function(){void 0!==
f.callback&&f.callback()}});var e,d,c,b,a,h,q,o,n,s,r,t;if(this.existingValues)e=this.existingValues.name,d=this.existingValues.description,c=this.existingValues.agentDir,b=this.existingValues.javaHomePath,a=this.existingValues.tempDirPath,h=this.existingValues.serverHost,q=this.existingValues.serverPort,o=this.existingValues.proxyPort,n=this.existingValues.autoStart,s=this.existingValues.serviceName,r=this.existingValues.serviceUser,t=this.existingValues.servicePassword;this.form.addField({name:"name",
label:i18n("Name"),required:!0,type:"Text",description:i18n("Name of the agent installation property sheet."),value:e});this.form.addField({name:"description",label:i18n("Description"),type:"Text",description:i18n("Property sheet description."),value:d});this.form.addField({name:"agentDir",label:i18n("Agent Dir"),required:!0,type:"Text",textDir:"ltr",value:c||("ssh"===f.type?"/opt/ibm-ucd/agent":"C:\\Program Files\\agent"),description:i18n("Directory on the target where the agent is installed.")});
this.form.addField({name:"javaHomePath",label:i18n("Java Home Path"),required:!0,type:"Text",textDir:"ltr",value:b||("ssh"===f.type?"/usr/lib/jvm/default-java":"C:\\Program Files\\Java\\jre"),description:i18n("Path to Java on the target. In many cases, you can use the value of the JAVA_HOME system variable.")});this.form.addField({name:"tempDirPath",label:i18n("Temp Dir Path"),required:!0,type:"Text",textDir:"ltr",value:a||("ssh"===f.type?"/tmp":"%tmp%"),description:i18n("Path to the directory that is used during installation for temporary files.")});
this.form.addField({name:"serverHost",label:i18n("Server Host"),required:!0,type:"Text",textDir:"ltr",value:h||config.data.systemConfiguration.externalHost,description:i18n("Host name or IP of the %s server or agent relay to which the agent connects.",bootstrap.productName)});this.form.addField({name:"serverPort",label:i18n("Server Port"),required:!0,type:"Text",textDir:"ltr",value:q||"7918",description:i18n("The port that is used by the %s server or agent relay to connect to the agent. The default value is 7918 for the server, and 7916 for the agent relay.",
bootstrap.productName)});this.form.addField({name:"proxyPort",label:i18n("Proxy Port"),type:"Text",textDir:"ltr",value:o,description:i18n("HTTP port of the agent relay, if used. The default value is 20080.")});"winrs"===f.type&&(this.form.addField({name:"autoStart",label:i18n("Auto Start"),type:"Checkbox",value:n,description:i18n("If you want to install the agent as a service, select <b>Auto Start</b> to run the agent automatically when Windows starts. Windows only.")}),this.form.addField({name:"serviceName",
label:i18n("Service Name"),type:"Text",value:s||"ibm-ucdagent",description:i18n("If the agent is installed as a service, enter a name for the agent service. Windows only.")}),this.form.addField({name:"serviceUser",label:i18n("Service User"),type:"Text",value:r||".\\localsystem",description:i18n("If the agent is installed as a service, enter a user name that has appropriate permission to run a service. Windows only.")}),this.form.addField({name:"servicePass",label:i18n("Service Password"),type:"Secure",
value:t||"",description:i18n("If the agent is installed as a service, enter the password that is associated with the service user. Windows only.")}));this.form.placeAt(this.formAttach)}})})},"deploy/widgets/applicationProcessRequest/RequestVersions":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,deploy/widgets/Formatters,js/webext/widgets/Table,dojo/_base/xhr".split(","),function(l,m,k,j,f,e){return k("deploy.widgets.applicationProcessRequest.RequestVersions",[m,l],{templateString:'<div class="requestVersions"><div data-dojo-attach-point="gridAttach"></div></div>',
postCreate:function(){this.inherited(arguments);var d=bootstrap.restUrl+"deploy/applicationProcessRequest/"+appState.applicationProcessRequest.id+"/versions",c=this,b=[{name:i18n("Component"),formatter:function(a){return j.componentLinkFormatter(a.component)}},{name:i18n("Version for Request"),formatter:j.versionLinkFormatter},{name:i18n("Role"),formatter:function(a,b,c){return j.resourceRoleFormatter(a.role,b,c)}},{name:i18n("Type"),formatter:this.typeFormatter},{name:i18n("Description"),field:"description"}];
e.get({url:d,handleAs:"json",load:function(a){c.grid=new f({url:d,serverSideProcessing:!1,data:a.versions,columns:b,tableConfigKey:"componentVersionRequestList",noDataMessage:i18n("No component versions found.")});c.grid.placeAt(c.gridAttach);if(a.futureRequest)dojo.byId("versionWarning").innerHTML=i18n("* These versions may change before the process executes.")}})},destroy:function(){this.inherited(arguments);this.grid.destroy()},typeFormatter:function(d){var c="";"FULL"===d.type?c=i18n("Full"):
"INCREMENTAL"===d.type&&(c=i18n("Incremental"));return c},componentLinkFormatter:function(d){return j.componentLinkFormatter(d.component)}})})},"deploy/widgets/navigation/Dashboard":function(){define(["dojo/_base/kernel","dojox/html/entities"],function(l){l.provide("deploy.widgets.navigation.Dashboard");config.data.tabSets.push({id:"dashboard",hashPattern:["tab"],breadcrumbs:["home","topLevelTab"],selectedTopLevelTab:"dashboard",defaultTab:"currentActivity",tabs:[{id:"currentActivity",label:i18n("Current Activity"),
view:"deploy/views/dashboard/currentActivity"}]})})},"deploy/widgets/calendar/EditEntry":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/array,dojo/_base/declare,js/webext/widgets/Alert,js/webext/widgets/ColumnForm".split(","),function(l,m,k,j,f,e){return j("deploy.widgets.calendar.EditEntry",[m,l],{templateString:'<div class="editEntry"><div data-dojo-attach-point="formAttach"></div></div>',postCreate:function(){this.inherited(arguments);var d=this,c,b;if(this.entry){this.entryId=
this.entry.id;b=new Date(this.entry.startDate);c=b.getHours()*util.msPerHour;c+=b.getMinutes()*util.msPerMinute;c+=b.getSeconds()*util.msPerSecond;c+=b.getMilliseconds();var a=(new Date(c)).getTimezoneOffset()*util.msPerMinute;c=new Date(c+a);var a=b.getFullYear(),h=b.getMonth();b=b.getDate();b=new Date(a,h,b)}this.form=new e({submitUrl:bootstrap.restUrl+"calendar/entry",addData:function(a){a.existingId=d.entryId;a.date=util.combineDateAndTime(a.startDate,a.startTime).valueOf();if(d.entry.versions)a.versions=
[],k.forEach(d.entry.versions,function(b){var c="ver_"+b.componentId,h=a[c];delete a[c];h&&a.versions.push({versionSelector:h,componentId:b.componentId})})},postSubmit:function(a){if(void 0!==a.blackouts){var b=i18n("The event cannot be moved to that time because it conflicts with a blackout")+":<br/>";1<a.blackouts.length&&(b=i18n("The event cannot be moved to that time because it conflicts with blackouts")+":<br/>");k.forEach(a.blackouts,function(a){b+="<br/><b>"+util.escape(a.name)+"</b><br/>";
void 0!==a.environment&&(b+="&nbsp; &nbsp; <b>"+i18n("Application Environment")+"</b>: "+util.escape(a.environment.name)+"<br/>");b+="&nbsp; &nbsp; "+util.dateFormatShort(a.startDate)+" - "+util.dateFormatShort(a.endDate)+"<br/>"});new f({title:i18n("Schedule Error"),forceRawMessages:!0,message:b})}else void 0!==d.callback&&d.callback()},onCancel:function(){void 0!==d.callback&&d.callback()}});this.form.addField({name:"dateLabel",label:"",value:i18n("Choose a date for this event."),type:"Label"});
this.form.addField({name:"startDate",label:i18n("Date"),required:!0,value:b,type:"Date"});this.form.addField({name:"startTime",label:i18n("Time"),required:!0,value:c,type:"Time"});k.forEach(d.entry.versions,function(a){var b=document.createElement("span"),c=document.createElement("span");c.innerHTML=i18n("Version for %s",a.component.name.escape());b.appendChild(c);d.form.addField({label:b,name:"ver_"+a.componentId,type:"VersionSelector",value:a.versionSelector,context:{component:a.component,environment:d.environment},
required:!1},"_versionInsert")});this.form.placeAt(this.formAttach)}})})},"deploy/widgets/resource/ResourceCompareSelectorDialog":function(){define("dijit/_Widget,dojo/_base/xhr,js/webext/widgets/Dialog,js/webext/widgets/RadioButtonGroup,js/webext/widgets/ColumnForm,js/webext/widgets/Alert,dojo/_base/declare,deploy/widgets/resource/ResourceSelector".split(","),function(l,m,k,j,f,e,d,c){return d([l],{dialog:void 0,resource:void 0,resourceTemplate:void 0,postCreate:function(){this.inherited(arguments)},
show:function(){var b=this;b.resourceTemplate?m.get({url:bootstrap.restUrl+"resource/resourceTemplate/"+b.resourceTemplate.id+"/root",handleAs:"json",load:function(a){b.resource=a;b.setup()},error:function(a){new e({message:util.escape(a.responseText)})}}):b.setup()},setup:function(){var b=this;b.dialog=new k({title:i18n("Compare Resources"),closable:!0,draggable:!0});var a=new j({name:"compareType",options:[{label:i18n("Compare With Resource Template"),value:!0},{label:i18n("Compare With Resource"),
value:!1}],disabled:!1,enabled:!0,onChange:function(h){a.destroy();var d=new f({onSubmit:function(a){b.dialog.hide();b.dialog.destroy();h?m.get({url:bootstrap.restUrl+"resource/resourceTemplate/"+a.resourceTemplateId+"/root",handleAs:"json",load:function(a){navBar.setHash("resourceComparison/"+b.resource.id+"/"+a.id)},error:function(a){new e({message:util.escape(a.responseText)})}}):navBar.setHash("resourceComparison/"+b.resource.id+"/"+a.targetResource)},onCancel:function(){b.dialog.hide();b.dialog.destroy()}});
if(h)d.addField({name:"resourceTemplateId",label:i18n("Resource Template"),description:i18n("Choose the resource template to compare to this resource. This will compare the root resource in the template to the current resource."),type:"TableFilterSelect",url:bootstrap.restUrl+"resource/resourceTemplate",required:!0});else{var o=new c({url:bootstrap.restUrl+"resource/resource/tree",isSelectable:function(a){return-1===a.path.indexOf(b.resource.path)&&0!==b.resource.path.indexOf(a.path)}});d.addField({name:"targetResource",
label:i18n("Target Resource"),widget:o,required:!0})}d.placeAt(b.dialog.containerNode)}});a.placeAt(b.dialog.containerNode);b.dialog.show()}})})},"deploy/widgets/workflow/activity/JoinActivity":function(){define(["dojo/_base/declare","deploy/widgets/workflow/activity/BaseActivity"],function(l,m){return l("deploy.widgets.workflow.activity.JoinActivity",[m],{postCreate:function(){this.inherited(arguments);if(!this.initialized)this.data.name=util.randomString(30),this.initialized=!0},getLabel:function(){return i18n("Join")},
canEdit:function(){return!1}})})},"deploy/widgets/agentPool/EditAgentPool":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/_base/xhr,js/webext/widgets/ColumnForm,js/webext/widgets/DialogMultiSelect,js/webext/widgets/Alert,deploy/widgets/security/TeamSelector".split(","),function(l,m,k,j,f,e,d,c){return k("deploy.widgets.agentPool.EditAgentPool",[m,l],{templateString:'<div class="editAgentPool">  <div data-dojo-attach-point="formAttach"></div></div>',showCancel:!0,postCreate:function(){this.inherited(arguments);
var b=this;this.existingValues={};this.agentPool?this.existingValues=this.agentPool:this.source?(this.existingValues=this.source,this.existingValues.name=void 0):j.get({url:bootstrap.restUrl+"security/teamsWithCreateAction/Agent Pool",handleAs:"json",sync:!0,load:function(a){b.existingValues.extendedSecurity={teams:a}}});var a=i18n("Cancel");this.showCancel||(a=null);this.form=new f({submitUrl:bootstrap.restUrl+"agent/pool",readOnly:b.readOnly,showButtons:!b.readOnly,cancelLabel:a,postSubmit:function(a){navBar.setHash("agentPool/"+
a.id);void 0!==b.callback&&b.callback()},addData:function(a){if(b.agentPool)a.existingId=b.existingValues.id;if(b.source)a.copyId=b.existingValues.id;a.teamMappings=b.teamSelector.teams},onError:function(a){new d({message:util.escape(a.responseText)})},onCancel:function(){void 0!==b.callback&&b.callback()}});this.form.addField({name:"name",label:i18n("Name"),required:!0,type:"Text",value:this.existingValues.name});this.form.addField({name:"description",label:i18n("Description"),type:"Text",value:this.existingValues.description});
a=[];if(b.existingValues&&b.existingValues.extendedSecurity&&b.existingValues.extendedSecurity.teams)a=b.existingValues.extendedSecurity.teams;b.teamSelector=new c({resourceRoleType:"Agent Pool",noneLabel:i18n("Standard Agent Pool"),teams:a});this.form.addField({name:"teams",label:i18n("Teams"),type:"Text",widget:b.teamSelector});this.form.addField({name:"agents",type:"FilteringSelect",url:bootstrap.restUrl+"agent",label:i18n("Add Agents"),description:i18n("Select the agent or agents to add to the pool."),
defaultQuery:{filterFields:"requiredActions",filterType_requiredActions:"eq",filterValue_requiredActions:security.agent.addToAgentPool},value:this.existingValues.agents,required:!0,multiple:!0});this.form.placeAt(this.formAttach)}})})},"deploy/widgets/approval/ApprovalRevocationDialog":function(){define(["dijit/_Widget","dojo/_base/declare","js/webext/widgets/ColumnForm","js/webext/widgets/Dialog"],function(l,m,k,j){return m("deploy.widgets.approval.ApprovalRevocationDialog",[l],{postCreate:function(){this.inherited(arguments);
var f=this,e=new j({closable:!0,draggable:!0}),d="";this.applicationProcessRequestId?d=bootstrap.restUrl+"deploy/applicationProcessRequest/"+this.applicationProcessRequestId+"/revokeApproval":this.componentProcessRequestId&&(d=bootstrap.restUrl+"deploy/componentProcessRequest/"+this.componentProcessRequestId+"/revokeApproval");d=new k({submitUrl:d,saveLabel:i18n("Submit"),onCancel:function(){e.hide();e.destroy()},postSubmit:function(){e.hide();e.destroy();void 0!==f.callback&&f.callback()}});d.addField({name:"comment",
label:i18n("Comment"),required:!1,type:"Text Area"});d.placeAt(e.containerNode);e.show()}})})},"deploy/widgets/sourceConfigPlugin/SourceConfigPluginList":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dijit/form/CheckBox,dojo/_base/declare,dojo/_base/xhr,dojo/_base/array,dojo/dom-class,dojo/dom-construct,dojo/request/iframe,dojo/on,js/webext/widgets/Alert,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/util/blocker/BlockingContainer,js/webext/widgets/table/TreeTable".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r){return f("deploy.widgets.sourceConfigPlugin.SourceConfigPluginList",[m,l],{templateString:'<div class="pluginList"><div class="listTopButtons" data-dojo-attach-point="buttonTopAttach"></div><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var a=this,b=bootstrap.restUrl+"plugin/sourceConfigPlugin",h=[{name:i18n("Plugin"),field:"name",orderField:"name",filterField:"name",getRawValue:function(a){return a.name},
filterType:"text"},{name:i18n("Description"),formatter:function(a){return i18n(a.description)}},{name:i18n("Version"),formatter:this.versionFormatter,orderField:"pluginVersion",filterField:"releaseVersion",getRawValue:function(a){return a.version},filterType:"text"},{name:i18n("Actions"),formatter:this.actionsFormatter,parentWidget:this}];this.grid=new r({url:b,serverSideProcessing:!0,hideExpandCollapse:!0,hidePagination:!1,columns:h,tableConfigKey:"pluginList",noDataMessage:i18n("No plugins have been loaded.")});
this.grid.placeAt(this.gridAttach);config.data.permissions[security.system.managePlugins]&&(b={label:i18n("Load Plugin"),showTitle:!1,onClick:function(){a.showNewPluginForm()}},b=(new k(b)).placeAt(this.buttonTopAttach),c.add(b.domNode,"idxButtonSpecial"),b.placeAt(this.buttonTopAttach))},destroy:function(){this.inherited(arguments);this.grid.destroy()},versionFormatter:function(a){return a.version},actionsFormatter:function(a){var c=this.parentWidget,d=b.create("div");if(config.data.permissions[security.system.managePlugins]){var n=
b.create("a",{innerHTML:i18n("Delete"),"class":"actionsLink linkPointer"},d);h(n,"click",function(){c.getComponentsUsingPluginAndDelete(a)})}return d},showPluginDeletionConfirm:function(a,b){var c=this;new n({message:i18n(b),forceRawMessages:!0,action:function(){c.grid.block();e.del({url:bootstrap.restUrl+"plugin/sourceConfigPlugin/"+a.id,handleAs:"json",load:function(){c.grid.refresh()},error:function(a){(new q({messages:[i18n("Error deleting plugin:"),"",util.escape(a.responseText)]})).startup();
c.grid.unblock()}})}})},getComponentsUsingPluginAndDelete:function(a){var b=this,c=i18n("Are you sure you want to delete %s? This will permanently delete it from the system. ",i18n(util.escape(a.name))+" "+a.version);e.get({url:bootstrap.restUrl+"plugin/sourceConfigPlugin/"+a.id+"/components",handleAs:"json",load:function(h){if(h&&0<h.length){var n=i18n("The source config is using the following components:")+"<br/>";d.forEach(h,function(a){n+=a.name.escape()+"<br/>"});c=n+"<br/>"+c}b.showPluginDeletionConfirm(a,
c)},error:function(){c+="<br/>"+i18n("It is unknown if the source config is being used by any components.");b.showPluginDeletionConfirm(a,c)}})},showNewPluginForm:function(){var b=this,c=new s,h=new o({title:i18n("Load Plugin"),closable:!0,draggable:!0}),d=document.createElement("form");d.target="formTarget";d.method="POST";d.enctype="multipart/form-data";d.encoding="multipart/form-data";c.placeAt(h.containerNode);var n=document.createElement("input");n.type="file";n.name="file";var r=document.createElement("input");
r.type="submit";r.value=i18n("Submit");r.style.display="block";d.appendChild(n);d.appendChild(r);c.containerNode.appendChild(d);d.onsubmit=function(){if(n.value){c.block();var r=util.getCookie(bootstrap.expectedSessionCookieName);a(bootstrap.restUrl+"plugin/sourceConfigPlugin/ui?"+bootstrap.expectedSessionCookieName+"="+r,{form:d,handleAs:"json"}).then(function(a){"ok"===a.status?(c.unblock(),h.hide(),h.destroy(),b.grid.refresh()):(c.unblock(),(new q({message:i18n("Error loading plugin: %s",a.error)})).startup())},
function(a){c.unblock();(new q({message:i18n("Error loading plugin: %s",a.error)})).startup()})}else(new q({message:i18n("Please choose a plugin file to import.")})).startup();return!1};h.show()}})})},"dijit/typematic":function(){define("dijit/typematic","dojo/_base/array,dojo/_base/connect,dojo/_base/event,dojo/_base/kernel,dojo/_base/lang,dojo/on,dojo/sniff,./main".split(","),function(l,m,k,j,f,e,d,c){var b=c.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,
this._node,this._evt);this._currentTimeout=Math.max(0>this._currentTimeout?this._initialDelay:1<this._subsequentDelay?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay),this._minDelay);this._timer=setTimeout(f.hitch(this,"_fireEventAndReload"),this._currentTimeout)},trigger:function(a,b,c,d,n,e,r,t){if(n!=this._obj){this.stop();this._initialDelay=r||500;this._subsequentDelay=e||0.9;this._minDelay=t||10;this._obj=n;this._node=c;this._count=this._currentTimeout=-1;this._callback=
f.hitch(b,d);this._evt={faux:!0};for(var j in a)"layerX"!=j&&"layerY"!=j&&(b=a[j],"function"!=typeof b&&"undefined"!=typeof b&&(this._evt[j]=b));this._fireEventAndReload()}},stop:function(){if(this._timer)clearTimeout(this._timer),this._timer=null;if(this._obj)this._callback(-1,this._node,this._evt),this._obj=null},addKeyListener:function(a,c,d,o,n,s,r){if(c.keyCode)c.charOrCode=c.keyCode,j.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.",
"","2.0");else if(c.charCode)c.charOrCode=String.fromCharCode(c.charCode),j.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");var t=[e(a,m._keypress,f.hitch(this,function(e){e.charOrCode==c.charOrCode&&(void 0===c.ctrlKey||c.ctrlKey==e.ctrlKey)&&(void 0===c.altKey||c.altKey==e.altKey)&&(void 0===c.metaKey||c.metaKey==(e.metaKey||!1))&&(void 0===c.shiftKey||c.shiftKey==e.shiftKey)?(k.stop(e),b.trigger(e,d,a,o,c,n,s,r)):b._obj==
c&&b.stop()})),e(a,"keyup",f.hitch(this,function(){b._obj==c&&b.stop()}))];return{remove:function(){l.forEach(t,function(a){a.remove()})}}},addMouseListener:function(a,c,q,o,n,s){var r=[e(a,"mousedown",f.hitch(this,function(d){d.preventDefault();b.trigger(d,c,a,q,a,o,n,s)})),e(a,"mouseup",f.hitch(this,function(a){this._obj&&a.preventDefault();b.stop()})),e(a,"mouseout",f.hitch(this,function(a){this._obj&&a.preventDefault();b.stop()})),e(a,"dblclick",f.hitch(this,function(r){r.preventDefault();9>d("ie")&&
(b.trigger(r,c,a,q,a,o,n,s),setTimeout(f.hitch(this,b.stop),50))}))];return{remove:function(){l.forEach(r,function(a){a.remove()})}}},addListener:function(a,b,c,d,n,e,r,f){var j=[this.addKeyListener(b,c,d,n,e,r,f),this.addMouseListener(a,d,n,e,r,f)];return{remove:function(){l.forEach(j,function(a){a.remove()})}}}};return b})},"deploy/widgets/environment/EnvironmentCondition":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/array,dojo/_base/declare,dojo/dom-construct,dojo/on,js/webext/widgets/RestSelect,deploy/widgets/Formatters".split(","),
function(l,m,k,j,f,e,d,c){return j("deploy.widgets.environment.EnvironmentCondition",[m,l],{templateString:'<div class="environmentCondition"><div data-dojo-attach-point="statusesAttach" class="inlineBlock align-top"></div><div data-dojo-attach-point="newStatusAttach" class="inlineBlock align-top"></div><div data-dojo-attach-point="orAttach">- '+i18n("or")+" -</div></div>",postCreate:function(){this.inherited(arguments);var b=this;b.trackedStatuses=[];k.forEach(this.statuses,function(a){b.addStatus(a)});
if(!this.readOnly){var a=new d({restUrl:bootstrap.restUrl+"deploy/status/versionStatuses",getValue:function(a){return a.name},getStyle:function(a){return c.conditionFormatter(a)},noneLabel:i18n("And..."),onChange:function(c,d){if(d){var o=!1;k.forEach(b.statuses,function(a){a.name===d.name&&(o=!0)});o||(b.addStatus(d),b.statuses.push(d));a.setValue("")}}});a.placeAt(this.newStatusAttach)}},addStatus:function(b){var a=this,h=f.create("div",{"class":"inlineBlock environmentStatusBoxAttached",style:c.conditionAttachBoxFormatter(b),
innerHTML:b.name.escape()},this.statusesAttach);if(!this.readOnly){var d=c.conditionXButtonFormatter(h,b);e(d,"click",function(){f.destroy(h);util.removeFromArray(a.statuses,b);0===a.statuses.length&&a.parent.removeCondition(a)})}},getValue:function(){var b=[];k.forEach(this.statuses,function(a){b.push(a.name)});return b}})})},"deploy/widgets/agent/SshInstallAgent":function(){define("dijit/form/Button,dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/_base/xhr,dojo/on,dojo/json,js/util/blocker/_BlockerMixin,js/webext/widgets/Alert,js/webext/widgets/ColumnForm,js/webext/widgets/RestSelect,dojo/dom-construct,js/webext/widgets/DomNode,js/webext/widgets/Dialog,deploy/widgets/agent/EditAgentInstallProps,deploy/widgets/security/TeamSelector".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r){return j("deploy.widgets.agent.SshInstallAgent",[k,m,c],{templateString:'<div class="installAgent">  <div data-dojo-attach-point="formAttach"></div></div>',agent:void 0,type:"ssh",postCreate:function(){this.inherited(arguments);var c=this,h=bootstrap.restUrl+"agent/"+this.type+"InstallAgent";c.agent&&(h+="/"+c.agent.id);this.form=new a({submitUrl:h,preSubmit:function(){c.block()},addData:function(a){a.teamMappings=c.teamSelector.teams},postSubmit:function(){c.unblock();
void 0!==c.callback&&c.callback()},onError:function(a){c.unblock();(new b({message:util.escape(a.responseText)})).startup()},onCancel:function(){void 0!==c.callback&&c.callback()}});c.agent||(this.form.addField({name:"hosts",label:i18n("Target Hosts"),required:!0,type:"Text Area",placeholder:"localhost\n10.10.10.10",description:i18n("Enter the host name or IP address of the system where you want to install the agent. To specify multiple entries, type each one on a separate line. On Windows, agent names are the same as the host names or IP addresses that you enter.")}),
"ssh"===c.type&&this.form.addField({name:"port",label:i18n("SSH Port"),required:!0,type:"Text",textDir:"ltr",value:"22",description:i18n("The SSH port address of the target system.")}));this.form.addField({name:"username",label:i18n("Username"),required:!0,type:"Text",description:i18n("Enter the name of the user with appropriate permissions on the target host.")});var d;if("ssh"===this.type||!this.type)d=this.form.addField({name:"usePublicKey",label:i18n("Use Public Key Authentication"),type:"Checkbox",
description:i18n("Select the <b>Use Public Key Authentication</b> check box to use public key authentication instead of a password.")});this.form.addField({name:"password",label:i18n("Password"),required:!0,type:"Secure",description:i18n("Enter the password that is associated with the user in the <b>Password</b> field.")});d&&e(d.widget,"change",function(){d.widget.checked?c.form.removeField("password"):c.form.addField({name:"password",label:i18n("Password"),required:!0,type:"Secure",description:i18n("Password to use to ssh/winrs to the agent machine.")},
"name")});!c.agent&&"ssh"===c.type&&this.form.addField({name:"name",label:i18n("Agent Name"),required:!0,type:"Text",description:i18n("Name for the agent. If you enter multiple hosts in the <b>Target Hosts</b> field, the agent name is appended with a number. The number is incremented for each host after the first one. For example, if you enter my_agent as the agent name and specify three hosts, the name of the agent for the first host is my_agent, the name of the agent for the second host is my_agent1, and the name of the third agent is my_agent2. Host names are processed from beginning of the list to the end.")});
c.createAgentInstallPropsSelect();this.form.addField({name:"agentInstallProps",label:i18n("Agent Installation Properties"),description:i18n("Select an agent installation property sheet from the <b>Agent Installation Properties</b> list, or use <b>New</b> to create a property sheet. Agent installation property sheets are templates that can be saved and used to install agents. You can create any number of agent installation property sheets."),required:!0,widget:c.agentInstallPropsDomNode});var n=[];
f.get({url:bootstrap.restUrl+"security/teamsWithCreateAction/Agent",handleAs:"json",sync:!0,load:function(a){n=a}});c.teamSelector=new r({resourceRoleType:"Agent",noneLabel:i18n("Standard Agent"),teams:n});c.form.addField({name:"teams",label:i18n("Teams"),type:"Text",widget:c.teamSelector})},createAgentInstallPropsSelect:function(a){var b=this;b.agentInstallPropsDomNode&&b.agentInstallPropsDomNode.domAttach?q.empty(this.agentInstallPropsDomNode.domAttach):b.agentInstallPropsDomNode=new o({});b.agentInstallPropsSelect=
new h({restUrl:bootstrap.restUrl+"agent/installprops/"+b.type,required:!0,onChange:function(a){b.addEditAgentInstallPropsButton(b.agentInstallPropsDomNode.domNode);b.agentInstallPropsDomNode.set("value",a)},value:a,style:{verticalAlign:"bottom"}});a={label:i18n("New"),showTitle:!1,onClick:function(){b.showEditAgentInstallPropsDialog()}};a=new l(a);b.agentInstallPropsSelect.placeAt(b.agentInstallPropsDomNode.domAttach);b.addEditAgentInstallPropsButton();a.placeAt(b.agentInstallPropsDomNode.domAttach)},
addEditAgentInstallPropsButton:function(){var a=this;a.agentInstallPropsEditButton&&a.agentInstallPropsEditButton.destroy();if(a.agentInstallPropsSelect&&a.agentInstallPropsSelect.get("value")){var b={label:i18n("Edit"),showTitle:!1,onClick:function(){a.showEditAgentInstallPropsDialog(a.agentInstallPropsSelect._getItemAttr())}};a.agentInstallPropsEditButton=new l(b);a.agentInstallPropsEditButton.placeAt(a.agentInstallPropsDomNode.domAttach)}},showEditAgentInstallPropsDialog:function(a){var b=this,
c=new n({title:i18n("Edit Agent Installation Properties"),closable:!0,draggable:!0});(new s({type:b.type,agentInstallProps:a,callback:function(h){c.hide();c.destroy();b.createAgentInstallPropsSelect(h?h.id:a?a.id:void 0)}})).placeAt(c.containerNode);c.show()},startup:function(){this.inherited(arguments);this.form.startup();this.form.placeAt(this.formAttach)}})})},"url:dojox/form/resources/_CheckedMultiSelectItem.html":'<div class="dijitReset ${baseClass}"\n\t><input class="${baseClass}Box" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-point="checkBox" \n\t\tdata-dojo-attach-event="_onClick:_changeBox" type="${_type.type}" baseClass="${_type.baseClass}"\n\t/><div class="dijitInline ${baseClass}Label" data-dojo-attach-point="labelNode" data-dojo-attach-event="onclick:_onClick"></div\n></div>\n',
"deploy/widgets/notification/EditNotificationEntry":function(){define(["dijit/_TemplatedMixin","dijit/_Widget","dojo/_base/declare","js/webext/widgets/ColumnForm","js/webext/widgets/RestSelect"],function(l,m,k,j,f){return k("deploy.widgets.notification.EditNotificationEntry",[m,l],{templateString:'<div class="editNotificationEntry">  <div data-dojo-attach-point="formAttach"></div></div>',postCreate:function(){this.inherited(arguments);var e=this;this.existingValues={};if(this.notificationEntry)this.existingValues=
this.notificationEntry;this.form=new j({submitUrl:bootstrap.restUrl+"notification/notificationEntry",postSubmit:function(){void 0!==e.callback&&e.callback()},addData:function(c){if(e.notificationScheme)c.notificationSchemeId=e.notificationScheme.id;if(e.notificationEntry)c.existingId=e.notificationEntry.id},onCancel:function(){void 0!==e.callback&&e.callback()}});var d=new f({restUrl:bootstrap.baseUrl+"security/role",allowNone:!1,autoSelectFirst:!1,noIllegalValues:!0,value:this.existingValues.roleId});
this.form.addField({name:"roleId",label:i18n("Role"),description:i18n("Send notifications to members of this role on the same team as the target object."),required:!0,widget:d});this.form.addField({name:"type",label:i18n("Event Type"),description:i18n("The type of events which will be used for this notification entry"),allowedValues:[{label:i18n("Process Success"),value:"PROCESS_SUCCESS"},{label:i18n("Process Failure"),value:"PROCESS_FAILURE"},{label:i18n("Process Started"),value:"PROCESS_STARTED"},
{label:i18n("Approval Completed"),value:"APPROVAL_COMPLETED"},{label:i18n("Approval Failed"),value:"APPROVAL_FAILED"}],required:!0,type:"Select",value:this.existingValues.type});this.form.addField({name:"resourceTypeName",label:i18n("Target"),description:i18n("The target object to send notifications on."),required:!0,type:"Select",allowedValues:[{label:i18n("Application"),value:"Application"},{label:i18n("Environment"),value:"Environment"},{label:i18n("Resource"),value:"Resource"}],value:this.existingValues.resourceTypeName,
onChange:function(c){e.showResourceRoleSelect(c)}});this.existingValues.resourceTypeName?this.showResourceRoleSelect(this.existingValues.resourceTypeName,this.existingValues.resourceRoleId):this.showResourceRoleSelect("Application");d=new f({restUrl:bootstrap.restUrl+"notification/notificationEntry/templateNames",getLabel:function(c){return i18n(c)},getValue:function(c){return c},allowNone:!1,value:this.existingValues.templateName});this.form.addField({name:"templateName",label:i18n("Template Name"),
description:i18n("Template to use for this type of event."),required:!0,widget:d});this.form.placeAt(this.formAttach)},showResourceRoleSelect:function(e,d){this.form.hasField("resourceRoleId")&&this.form.removeField("resourceRoleId");var c=new f({restUrl:bootstrap.baseUrl+"security/resourceType/"+e+"/resourceRoles",noneLabel:i18n("Standard "+e),value:d});this.form.addField({name:"resourceRoleId",label:i18n("Type"),description:i18n("Notifications will be limited to objects which match this type."),
widget:c},"templateName")}})})},"deploy/widgets/tag/TagDisplay":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/array,dojo/on,dojo/json,dojo/mouse,dojo/_base/declare,dojo/_base/Color,dojo/_base/xhr,dojo/dom-construct,dojo/dom-class,dojo/dom-style,js/webext/widgets/Alert,js/webext/widgets/GenericConfirm".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o,n){return d([m,l],{templateString:'<div class="tagDisplay"><div class="tagContainer" data-dojo-attach-point="tagAttach"></div></div>',
postCreate:function(){this.inherited(arguments);var b=this;dojo.forEach(b.tags,function(c){var d=b._isDark(c.color),n=b.getShade(c.color),o=a.create("div",{className:"inlineBlock tagBox",style:{backgroundColor:c.color,borderColor:n},title:c.description||""});d&&h.add(o,"darkColor");d=a.create("div",{innerHTML:c.name.escape()});h.add(d,"tagName");a.place(d,o);d=b._checkDisabled(c);if(!b.readOnly&&!d){var q=a.create("div",{className:"inlineBlock tagDelete",title:i18n("Delete"),innerHTML:"x",style:{borderLeft:"1px solid "+
n}});j(q,"click",function(){b.confirmDelete(c,o)});j(q,e.enter,function(){h.add(q,"tagSelector")});j(q,e.leave,function(){h.remove(q,"tagSelector")});a.place(q,o)}a.place(o,b.tagAttach)})},confirmDelete:function(c,h){var d=this;new n({message:i18n("Are you sure you want to remove %s?",c.name),action:function(){b.del({url:bootstrap.restUrl+"tag/"+d.objectType+"/"+c.id,sync:!0,putData:f.stringify({ids:[d.itemId]}),handleAs:"json",headers:{"Content-Type":"application/json"},load:function(){a.destroy(h)},
error:function(a){new o({message:util.escape(a.responseText)})}});d.callback&&d.callback()}})},_checkDisabled:function(a){var b=-1;this.disabledTags&&(b=k.indexOf(this.disabledTags.map(function(a){return a.id}),a.id));return-1!==b},_isDark:function(a){a=(new c(a)).toRgb();return 0.5<1-(0.25*a[0]+0.6*a[1]+0.1*a[2])/255},getTint:function(a){var a=(new c(a)).toRgb(),b=[];k.forEach(a,function(a){b.push(1.6*a)});return c.fromArray(b).toHex()},getShade:function(a){var a=(new c(a)).toRgb(),b=[];k.forEach(a,
function(a){b.push(0.6*a)});return c.fromArray(b).toHex()}})})},"dojo/request/util":function(){define("exports,../errors/RequestError,../errors/CancelError,../Deferred,../io-query,../_base/array,../_base/lang,../promise/Promise".split(","),function(l,m,k,j,f,e,d,c){function b(a){return h(a)}function a(a){return a.data||a.text}l.deepCopy=function(a,b){for(var c in b){var h=a[c],d=b[c];h!==d&&(h&&"object"===typeof h&&d&&"object"===typeof d?l.deepCopy(h,d):a[c]=d)}return a};l.deepCreate=function(a,b){var b=
b||{},c=d.delegate(a),h,r;for(h in a)(r=a[h])&&"object"===typeof r&&(c[h]=l.deepCreate(r,b[h]));return l.deepCopy(c,b)};var h=Object.freeze||function(a){return a};l.deferred=function(e,o,n,s,r,f){var w=new j(function(a){o&&o(w,e);return!a||!(a instanceof m)&&!(a instanceof k)?new k("Request canceled",e):a});w.response=e;w.isValid=n;w.isReady=s;w.handleResponse=r;n=w.then(b).otherwise(function(a){a.response=e;throw a;});l.notify&&n.then(d.hitch(l.notify,"emit","load"),d.hitch(l.notify,"emit","error"));
var s=n.then(a),r=new c,u;for(u in s)s.hasOwnProperty(u)&&(r[u]=s[u]);r.response=n;h(r);f&&w.then(function(a){f.call(w,a)},function(a){f.call(w,e,a)});w.promise=r;w.then=r.then;return w};l.addCommonMethods=function(a,b){e.forEach(b||["GET","POST","PUT","DELETE"],function(b){a[("DELETE"===b?"DEL":b).toLowerCase()]=function(c,h){h=d.delegate(h||{});h.method=b;return a(c,h)}})};l.parseArgs=function(a,b,c){var h=b.data,d=b.query;if(h&&!c&&"object"===typeof h)b.data=f.objectToQuery(h);d?("object"===typeof d&&
(d=f.objectToQuery(d)),b.preventCache&&(d+=(d?"&":"")+"request.preventCache="+ +new Date)):b.preventCache&&(d="request.preventCache="+ +new Date);a&&d&&(a+=(~a.indexOf("?")?"&":"?")+d);return{url:a,options:b,getHeader:function(){return null}}};l.checkStatus=function(a){a=a||0;return 200<=a&&300>a||304===a||1223===a||!a}})},"deploy/widgets/report/securityReportApplication/SecurityReportApplicationTable":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojox/html/entities",
"deploy/widgets/report/ReportTable"],function(l,m,k,j,f){return m("deploy.widgets.report.securityReportApplication.SecurityReportApplicationTable",[f],{reportRestUrlBase:null,reportResultTable:null,selectableColumns:!0,constructor:function(){this.reportRestUrlBase=bootstrap.restUrl+"report/"},formatters:{multiNameFormatter:function(e,d){var c=k.create("div"),b=d?d.split(","):null;l.forEach(b,function(a,b){0!==b&&k.create("br",{},c);k.create("span",{innerHTML:j.encode(a)},c)});return c}},reportType:"com.urbancode.ds.subsys.report.domain.security_report.environment.SecurityReportApplication",
getReportResultLayout:function(){return[{name:i18n("Application"),field:"application",getRawValue:function(e){return e.application},orderField:"application"},{formatter:this.formatters.multiNameFormatter,name:i18n("Run Component Processes"),field:"Run Component Processes"},{formatter:this.formatters.multiNameFormatter,name:i18n("Create"),field:"Create Applications"},{formatter:this.formatters.multiNameFormatter,name:i18n("Delete"),field:"Delete"},{formatter:this.formatters.multiNameFormatter,name:i18n("Edit Basic Settings"),
field:"Edit Basic Settings"},{formatter:this.formatters.multiNameFormatter,name:i18n("View"),field:"View Applications"},{formatter:this.formatters.multiNameFormatter,name:i18n("Manage Blueprints"),field:"Manage Blueprints"},{formatter:this.formatters.multiNameFormatter,name:i18n("Manage Components"),field:"Manage Components"},{formatter:this.formatters.multiNameFormatter,name:i18n("Manage Environments"),field:"Manage Environments"},{formatter:this.formatters.multiNameFormatter,name:i18n("Manage Processes"),
field:"Manage Processes"},{formatter:this.formatters.multiNameFormatter,name:i18n("Manage Properties"),field:"Manage Properties"},{formatter:this.formatters.multiNameFormatter,name:i18n("Manage Snapshots"),field:"Manage Snapshots"},{formatter:this.formatters.multiNameFormatter,name:i18n("Manage Teams"),field:"Manage Teams"}]}})})},"deploy/widgets/settings/SystemSettings":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/_base/fx,dijit/form/Button,dojo/dom-construct,dojo/dom-class,dojo/dom-style,dojo/on,dojo/query,dojo/store/Memory,js/webext/widgets/select/WebextSelect,js/webext/widgets/Alert,js/webext/widgets/ColumnForm,js/webext/widgets/FormDelegates,js/webext/widgets/DomNode,js/webext/widgets/RestSelect,deploy/widgets/settings/CleanupProgressBar,dojo/NodeList-dom".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u,x){return j("deploy.widgets.settings.SystemSettings",[m,l],{templateString:'<div class="systemSettings">  <div data-dojo-attach-point="formAttach"></div>  <div data-dojo-attach-point="buttonAttach"></div></div>',postCreate:function(){this.inherited(arguments);var h=this;this.existingValues={};if(this.version)this.existingValues=this.version;f.get({url:bootstrap.restUrl+"system/configuration",handleAs:"json",load:function(n){var o=new r({addData:function(a){if(a.historyCleanupTimeOfDay)a.historyCleanupTimeOfDay=
util.combineDateAndTime(new Date,a.historyCleanupTimeOfDay).valueOf()},cancelLabel:null,submitUrl:bootstrap.restUrl+"system/configuration",postSubmit:function(){location.reload(!0)},validateFields:function(a){var b=[],c=parseInt(a.repoAutoIntegrationPeriod,10);isNaN(c)?b.push(i18n("The automatic version import check period must be an integer.")):1>c?b.push(i18n("The automatic version import check period must be at least 1 second.")):a.repoAutoIntegrationPeriod=c;c=parseInt(a.deployMailPort,10);isNaN(c)?
b.push(i18n("The mail server port number must be an integer.")):a.deployMailPort=c;c=parseInt(a.cleanupHourOfDay,10);isNaN(c)?b.push(i18n("The cleanup hour must be an integer.")):0>c||23<c?b.push(i18n("The cleanup hour of day must be an integer between 0 (midnight) and 23 (11 PM).")):a.cleanupHourOfDay=c;c=parseInt(a.cleanupDaysToKeep,10);isNaN(c)?b.push(i18n("The cleanup days to keep must be an integer.")):-1>c||0===c?b.push(i18n("The cleanup days to keep must be -1 or greater than 0.")):a.cleanupDaysToKeep=
c;c=parseInt(a.cleanupCountToKeep,10);isNaN(c)?b.push(i18n("The cleanup version count to keep must be an integer.")):-1>c||0===c?b.push(i18n("The cleanup version count to keep must be -1 or greater than 0.")):a.cleanupCountToKeep=c;this.hasField("historyCleanupTimeOfDay")&&(/^([1-9]|1[0-9]|2[0-3])$/.test(a.historyCleanupDuration)||b.push(i18n("The history cleanup duration must be an integer between 1 hour and 23 hours (inclusive).")),/^[0-9]+$/.test(a.historyCleanupDaysToKeep)||b.push(i18n("The history cleanup days to keep must be an integer, 0 or greater.")));
if(null===a.winRSAgent||""===a.winRSAgent)a.winRSAgent="NONE";return b}});h.addField=function(a){var h=o.addField(a);if(h&&h.widget.fieldRow){var d=h.widget.fieldRow;a.className&&b.add(d,a.className);"SectionLabel"===a.type&&b.add(d,"section-label-row");("Select"===a.type||"FilteringSelect"===a.type)&&b.add(d,"select-widget-row");("Text"===a.type||"Secure"===a.type)&&b.add(d,"text-widget-row");"Switch"===a.type&&b.add(d,"switch-widget-row");a.icon&&c.create("div",{className:"inline-block settings-icon general-settings-section-header "+
a.icon+"-icon"},h.widget.domAttach,"first")}return h};var e=c.create("div",{className:"form-container"},o.formAttach,"first"),s=c.create("div",{className:"settings-column inline-block"},e),e=c.create("div",{className:"settings-column inline-block"},e),f=c.create("div",{className:"inline-block settings-section"},s),t=c.create("div",{className:"settings-section-inner general-settings"},f);h.addField({type:"SectionLabel",value:i18n("General Settings"),style:{fontWeight:"bold",marginTop:"15px"},attachPoint:t,
icon:"general-settings"});h.addField({name:"externalURL",label:i18n("External Agent URL"),description:i18n("URL for agents to request information from the %s server.",bootstrap.productName),value:n.externalURL,required:!0,type:"Text",textDir:"ltr",bidiDynamicSTT:"URL",attachPoint:t});h.addField({name:"externalUserURL",label:i18n("External User URL"),description:i18n("URL for users to access the %s web UI.",bootstrap.productName),value:n.externalUserURL,required:!0,type:"Text",bidiDynamicSTT:"URL",
textDir:"ltr",attachPoint:t});h.addField({name:"enableMaintenanceMode",label:i18n("Enable Maintenance Mode"),description:i18n("This option will prevent users from starting processes while enabled."),value:n.enableMaintenanceMode,type:"Switch",color:"orange",attachPoint:t});h.addField({name:"validateAgentIp",label:i18n("Validate Agent IP"),description:i18n("This setting enables validation of agent IPs and hostnames. The first time an agent connects, its IP and hostname will be saved. In subsequent connections, if either has changed, the agent will be prevented from coming online."),
value:n.validateAgentIp,type:"Switch",attachPoint:t});h.addField({name:"skipCollectPropertiesForExistingAgents",label:i18n("Skip Property Updates for Existing Agents"),description:i18n("If this is set, agent properties will not be updated when an existing agent reconnects to the server. This means agent properties may become stale, but allows large numbers of agents to come online more quickly at server startup."),value:n.skipCollectPropertiesForExistingAgents,type:"Switch",attachPoint:t});h.addField({name:"enableUIDebugging",
label:i18n("Enable UI Debugging"),description:i18n("This option will change how UI resources are loaded so that it is easier to debug problems with the UI. Enabling this option will reduce UI performance."),value:n.enableUIDebugging,type:"Switch",color:"orange",attachPoint:t});h.addField({name:"requireCommentForProcessChanges",label:i18n("Require a Comment For Process Design Changes"),description:i18n("When this option is enabled, the user must provide a comment when saving changes to any process design."),
value:n.requireCommentForProcessChanges,type:"Switch",attachPoint:t});h.addField({name:"isCreateDefaultChildren",label:i18n("Create Default Children for Plugins"),description:i18n("When this option is enabled, empty groups are created when plugins use the auto discovery feature."),value:n.isCreateDefaultChildren,type:"Switch",attachPoint:t});o.addField({name:"enforceDeployedVersionIntegrity",label:i18n("Enforce Deployed Version Integrity"),description:i18n("When this option is enabled, versions which have been involved in a deployment cannot have their artifacts altered; such as adding version files using the CLI client."),
value:n.enforceDeployedVersionIntegrity,type:"Switch",attachPoint:t});f=new u({restUrl:bootstrap.restUrl+"security/userPreferences/availableLocales",getLabel:function(a){return a.displayName},getValue:function(a){return a.value},allowNone:!1,value:n.defaultLocale,escapeHTMLLabel:!1,attachPoint:t});h.addField({name:"defaultLocale",label:i18n("Default Locale"),description:i18n("This value is only used when the user has not set a locale in preferences and when the browser has set no accept-language."),
required:!0,widget:f,attachPoint:t});h.addField({name:"defaultSnapshotLockType",label:i18n("Default Snapshot Lock Type"),description:i18n("The default snapshot locking mode for environments which have specified to lock snapshots."),required:!0,value:n.defaultSnapshotLockType,type:"Select",className:"default-snapshot-dropdown",allowedValues:[{label:i18n("Component Versions and Configuration"),value:"ALL"},{label:i18n("Only Component Versions"),value:"VERSIONS"},{label:i18n("Only Configuration"),value:"CONFIGURATION"}],
attachPoint:t});h.addField({name:"repoAutoIntegrationPeriod",label:i18n("Automatic Version Import Check Period (seconds)"),description:i18n("The number of seconds between polls for new versions for all components with this option turned on. Requires a server restart to take effect. It is not recommend to set this to less than 15."),value:n.repoAutoIntegrationPeriod/1E3,required:!0,type:"Text",textDir:"ltr",attachPoint:t});f=void 0!==n.integrationTag;h.addField({name:"useTagForIntegration",label:i18n("Use Agent Tag For Integration"),
description:i18n("Use an agent tag to specify a group of agents to run version imports on instead of using a specific agent"),type:"Switch",value:f,onChange:function(a){a?(h.removeIntegrationAgentField(),h.addIntegrationTagField(o,n.integrationTag,t)):(h.removeIntegrationTagField(),h.addIntegrationAgentField(o,n.artifactAgent,n.artifactAgentName,t))},attachPoint:t});f?h.addIntegrationTagField(o,n.integrationTag,t):h.addIntegrationAgentField(o,n.artifactAgent,n.artifactAgentName,t);f=c.create("div",
{className:"inline-block settings-section"},e);f=c.create("div",{className:"settings-section-inner win-rs-agent-install"},f);h.addField({type:"SectionLabel",value:i18n("WinRS Agent Install Settings"),style:{fontWeight:"bold",marginTop:"15px"},attachPoint:f,icon:"winrs-agent-install"});h.addWinRSAgentField(o,n.winRSAgent,f);f=c.create("div",{className:"inline-block settings-section"},e);f=c.create("div",{className:"settings-section-inner mail-server-settings"},f);h.addField({type:"SectionLabel",value:i18n("Mail Server Settings"),
style:{fontWeight:"bold",marginTop:"15px"},attachPoint:f,icon:"mail-server"});h.addField({name:"deployMailHost",label:i18n("Mail Server Host"),description:i18n("Hostname of the mail server for notifications. Leave this blank to disable notifications."),value:n.deployMailHost,required:!1,type:"Text",textDir:"ltr",bidiDynamicSTT:"URL",attachPoint:f});h.addField({name:"deployMailPort",label:i18n("Mail Server Port"),description:i18n("SMTP port for email notifications."),value:n.deployMailPort,required:!1,
type:"Text",textDir:"ltr",attachPoint:f});h.addField({name:"deployMailSecure",label:i18n("Secure Mail Server Connection"),description:i18n("Whether the SMTP connection should be secured or not."),value:n.deployMailSecure,required:!1,type:"Switch",attachPoint:f});h.addField({name:"deployMailSender",label:i18n("Mail Server Sender Address"),description:i18n('Address to use for the "from" address for email notifications.'),value:n.deployMailSender,required:!1,type:"Text",textDir:"ltr",bidiDynamicSTT:"URL",
attachPoint:f});h.addField({name:"deployMailUsername",label:i18n("Mail Server Username"),description:i18n("Username to use for sending email notifications."),value:n.deployMailUsername,required:!1,type:"Text",textDir:"ltr",attachPoint:f});h.addField({name:"deployMailPassword",label:i18n("Mail Server Password"),description:i18n("Password to use for sending email notifications."),value:n.deployMailPassword,required:!1,type:"Secure",attachPoint:f});f=c.create("div",{className:"inline-block settings-section"},
s);f=c.create("div",{className:"settings-section-inner artifact-cleanup-settings"},f);h.addField({type:"SectionLabel",value:i18n("Component Version Cleanup"),style:{fontWeight:"bold",marginTop:"15px"},attachPoint:f,icon:"artifact-cleanup"});h.addField({name:"cleanupHourOfDay",label:i18n("Daily Cleanup Start Time"),description:i18n("The hour to start the component version cleanup.   This value must be an integer between 0 (midnight) and 23 (11 PM)."),value:n.cleanupHourOfDay,required:!0,type:"Text",
textDir:"ltr",attachPoint:f});h.addField({name:"cleanupDaysToKeep",label:i18n("Default Component Version Retention (days)"),description:i18n("The number of days to retain component versions. To retain component versions indefinitely, enter -1."),value:n.cleanupDaysToKeep,required:!0,type:"Text",textDir:"ltr",attachPoint:f});h.addField({name:"cleanupCountToKeep",label:i18n("Default Number of Versions to Retain"),description:i18n("The number of versions to retain for each component.  To retain all versions of a component, enter -1."),
value:n.cleanupCountToKeep,required:!0,type:"Text",textDir:"ltr",attachPoint:f});h.addField({name:"cleanupArchivePath",label:i18n("Archive Path"),description:i18n("Path to write a zip containing the artifacts of each version cleaned up. If this is blank, archives will not be written."),value:n.cleanupArchivePath,required:!1,type:"Text",bidiDynamicSTT:"FILE_PATH",attachPoint:f});var j=new d({label:i18n("Preview Version Cleanup"),showTitle:!1,onClick:function(){h.showCleanupPreview(n.cleanupHourOfDay)}});
h.addField({name:"_cleanupPreview",label:"",widget:j,attachPoint:f});s=c.create("div",{className:"inline-block settings-section"},s);s=c.create("div",{className:"settings-section-inner artifact-cleanup-settings"},s);f=h.addField({type:"SectionLabel",value:i18n("Deployment History Cleanup"),style:{fontWeight:"bold",marginTop:"15px"},attachPoint:s,icon:"artifact-cleanup"}).widget.fieldRow;a.set(f,"position","relative");j=q(".labelsAndValues-valueCell",f);j.style("float","left");j.style("width","40%");
f=c.create("div",{className:"progressBarContainer"},f,"last");a.set(f,"overflow","hidden");h.addProgressBar(f);var f=h.addField({name:"historyCleanupEnabled",label:i18n("Enable Deployment History Cleanup"),description:i18n("Turn on this setting to enable deployment history cleanup. If enabled, deployment history records are deleted according to the values that you set."),value:n.historyCleanupEnabled,type:"Switch",attachPoint:s}),x=h.addField({name:"historyCleanupTimeOfDay",label:i18n("Daily Cleanup Start Time"),
description:i18n("The hour to start the daily deployment history cleanup."),value:new Date(n.historyCleanupTimeOfDay),required:!0,type:"Time",attachPoint:s});b.add(x.widget.fieldRow,"historyCleanupTimePicker");var w=h.addField({name:"historyCleanupDuration",label:i18n("Daily Cleanup Duration (hours)"),description:i18n("The maximum number of hours per day that the cleanup process runs."),value:n.historyCleanupDuration,required:!0,type:"Text",textDir:"ltr",attachPoint:s}),k=h.addField({name:"historyCleanupDaysToKeep",
label:i18n("Days to Retain Deployment History"),description:i18n("The default number of days to retain application deployment history on environments,  if the number of days is not specified directly in the environment settings. Valid range is 0 or greater."),value:n.historyCleanupDaysToKeep,required:!0,type:"Text",textDir:"ltr",attachPoint:s}),s=function(a){x.widget.set("disabled",!a);w.widget.set("disabled",!a);k.widget.set("disabled",!a)};f.widget.onChange=s;n.historyCleanupEnabled?s(!0):s(!1);
s=c.create("div",{className:"inline-block settings-section"},e);s=c.create("div",{className:"settings-section-inner security-settings"},s);h.securitySettings=s;h.addField({type:"SectionLabel",value:i18n("Security"),style:{fontWeight:"bold",marginTop:"15px"},attachPoint:s,icon:"security-general-settings"});h.addField({name:"minimumPasswordLength",label:i18n("Minimum Password Length"),description:i18n("The minimum length of passwords allowed to be created."),value:n.minimumPasswordLength,required:!0,
type:"Text",textDir:"ltr",attachPoint:s});h.addField({name:"requireComplexPasswords",label:i18n("Require Complex Passwords"),description:i18n("This will make new passwords created through the ui or CLI to be validated that the password is complex. To pass validation, it must use 2 of the 4 character classes: upper, lower,digits, and special. It must still be as long or longer than the password minimum length."),value:n.requireComplexPasswords,type:"Switch",attachPoint:s});s=c.create("div",{className:"inline-block settings-section"},
e);s=c.create("div",{className:"settings-section-inner legacy-configuration-options"},s);h.addField({type:"SectionLabel",value:i18n("Legacy Configuration Options"),style:{fontWeight:"bold",marginTop:"15px"},attachPoint:s,icon:"legacy-configuration"});h.addField({name:"enableInactiveLinks",label:i18n('Enable "Show Inactive" Links'),description:i18n("If checked, links under lists of objects which formerly supported inactivation will show to allow users to display inactive objects."),value:n.enableInactiveLinks,
type:"Switch",attachPoint:s});h.addField({name:"enablePromptOnUse",label:i18n('Enable "Prompt On Use"'),description:i18n('If checked, the option to set "Prompt On Use" for properties in workflow steps will be displayed.'),value:n.enablePromptOnUse,type:"Switch",attachPoint:s});h.addField({name:"enableAllowFailure",label:i18n('Enable "Allow Failure"'),description:i18n('If checked, the option to set "Allow Failure" on steps in a workflow will be displayed.'),value:n.enableAllowFailure,type:"Switch",
attachPoint:s});h.addField({name:"failProcessesWithUnresolvedProperties",label:i18n("Fail Processes With Unresolved Properties"),description:i18n("If this is enabled, any running process which comes across a property it cannot resolve will automatically fail."),value:n.failProcessesWithUnresolvedProperties,type:"Switch",attachPoint:s});e=c.create("div",{className:"inline-block settings-section"},e);e=c.create("div",{className:"settings-section-inner licensing-settings"},e);h.addField({type:"SectionLabel",
value:i18n("Licensing"),style:{fontWeight:"bold",marginTop:"15px"},attachPoint:e,icon:"licensing"});h.addField({name:"agentAutoLicense",label:i18n("Automatic Agent Licensing"),description:i18n("When this box is checked, the server will attempt to license any Agents coming online with Authorized licenses."),value:n.agentAutoLicense,type:"Switch",readOnly:"Server Agent"!==n.serverLicenseType,attachPoint:e});h.addField({name:"serverLicenseType",label:i18n("Server License Type"),description:i18n("This is automatically determined based on information obtained by the RCL server. Session: Agents will consume floating licenses when used in deployments. Agent Server: Agents will be licensed as soon as they connect the the server and will hold their licenses until they are deleted. Agents can be assigned a permanent license on the Agents tab. Managed Capacity: PVU-based licensing. No License: The license type could not be determined, check your connection to the RCL server."),
value:n.serverLicenseType,type:"Text",readOnly:!0,textDir:"ltr",attachPoint:e});"SERVER_PATTERNS"===bootstrap.serverLicenseType&&h.addField({name:"serverLicenseBackupType",label:i18n("Server License Backup Type"),description:i18n("The license to use for agents that are not provisioned by Patterns."),value:n.serverLicenseBackupType,type:"Text",textDir:"ltr",readOnly:!0,attachPoint:e});h.addField({name:"rclServerUrl",label:i18n("RCL Server Path"),description:i18n("Path to Rational Licensing Server. A list of paths must be separated by colons on *nix systems and semicolons on Windows systems. Note: A server restart will be required when changing between RCL servers. Format: port@hostname"),
value:n.rclServerUrl,type:"Text",bidiDynamicSTT:"EMAIL",attachPoint:e});o.placeAt(h.formAttach);s=new d({label:i18n("Download License Log"),showTitle:!1,onClick:function(){util.downloadFile(bootstrap.restUrl+"license/log")}});h.addField({name:"downloadLicenseButton",label:"",widget:s,attachPoint:e})}})},showCleanupPreview:function(a){var b=c.create("div",{style:{overflowY:"auto",maxHeight:"200px",maxWidth:"350px",paddingRight:"30px"}}),d=new Date,a=new Date(d.getFullYear(),d.getMonth(),d.getDate()+
1,a,0,0,0);c.create("div",{innerHTML:i18n("The following versions will be archived next time cleanup is run at %s local server time, according to the configuration of the system, each component, and each environment.<br><br>If you have changed the settings on this page, you'll need to save before those changes are reflected on this list.",util.timeOnlyFormat(a.getTime())),style:{marginBottom:"10px"}},b);new s({title:i18n("Version Cleanup Preview"),messageDom:b});c.create("span",{innerHTML:i18n("Component to Preview:"),
className:"inlineBlock",style:{marginRight:"8px",fontWeight:"bold"}},b);a=(new t).getDelegate("FilteringSelect")({url:bootstrap.restUrl+"deploy/component"});a.placeAt(b);var n=c.create("div",{style:{"margin-top":"10px","margin-bottom":"8px"}},b);h(a,"change",function(a){c.empty(n);a&&(c.create("div",{innerHTML:i18n("Loading...")},n),f.get({url:bootstrap.restUrl+"cleanup/archivableVersions/"+a,handleAs:"json",load:function(a){c.empty(n);0===a.length?c.create("div",{innerHTML:i18n("No versions found to archive."),
style:{fontWeight:"bold"}},n):(c.create("div",{innerHTML:i18n("Versions to archive:"),style:{fontWeight:"bold"}},n),k.forEach(a,function(a){c.create("div",{innerHTML:i18n("%s (Created %s)",a.name.escape(),util.dateFormatShort(a.created)),style:{paddingLeft:"60px"}},n)}))},error:function(a){new s({messages:[i18n("Error getting cleanup preview:"),"",util.escape(a.responseText)]})}}))})},addIntegrationAgentField:function(a,b,c,h){this.integrationAgentField=this.addField({name:"artifactAgent",label:i18n("Agent for Version Imports"),
description:i18n("The name of the agent to run source configuration steps on."),type:"TableFilterSelect",url:bootstrap.restUrl+"agent",placeHolder:c,defaultQuery:{filterFields:"requiredActions",filterType_requiredActions:"eq",filterValue_requiredActions:security.agent.manageVersionImports},value:b,attachPoint:h}).widget.fieldRow},addWinRSAgentField:function(a,b,c){this.addField({name:"winRSAgent",label:i18n("WinRS Agent"),description:i18n("The name of the agent to use for running agent installation processes on Windows machines. This agent must be installed on a Windows machine."),
type:"TableFilterSelect",url:bootstrap.restUrl+"agent",defaultQuery:{filterFields:"requiredActions",filterType_requiredActions:"eq",filterValue_requiredActions:security.general.editBasicSettings},value:b,allowNone:!0,attachPoint:c})},addIntegrationTagField:function(a,b,c){var h=[];f.get({url:bootstrap.restUrl+"tag/type/Agent",sync:!0,handleAs:"json",load:function(a){h=a}});a=new o({data:h,idProperty:"name"});b=new n({store:a,searchAttr:"name",value:b,noDataMessage:i18n("No tags found."),autoComplete:!1,
selectOnClick:!0,pageSize:"10"});this.integrationTagField=this.addField({name:"integrationTag",label:i18n("Agent Tag for version imports"),widget:b,description:i18n("The tag to use for Version Imports on this component"),attachPoint:c}).widget.fieldRow},removeIntegrationAgentField:function(){c.destroy(this.integrationAgentField)},removeIntegrationTagField:function(){c.destroy(this.integrationTagField)},addProgressBar:function(a){var b=this;this._cleanupProgressBar=new x({show:function(){e.animateProperty({node:b._cleanupProgressBar.progressBar,
properties:{right:{end:0,units:"%"}},duration:800}).play()},hide:function(){e.animateProperty({node:b._cleanupProgressBar.progressBar,properties:{right:{end:-100,units:"%"}},duration:800}).play()}});this._cleanupProgressBar.disableProgressDetailsTimeInfo(!0);this._cleanupProgressBar.setLabel(i18n("Cleanup in Progress")+" - ");this._cleanupProgressBar.placeAt(a);this._cleanupProgressBar.showProgress()}})})},"url:dijit/templates/TimePicker.html":'<div id="widget_${id}" class="dijitMenu"\n    ><div data-dojo-attach-point="upArrow" class="dijitButtonNode dijitUpArrowButton" data-dojo-attach-event="onmouseenter:_buttonMouse,onmouseleave:_buttonMouse"\n\t\t><div class="dijitReset dijitInline dijitArrowButtonInner" role="presentation">&#160;</div\n\t\t><div class="dijitArrowButtonChar">&#9650;</div></div\n    ><div data-dojo-attach-point="timeMenu,focusNode" data-dojo-attach-event="onclick:_onOptionSelected,onmouseover,onmouseout"></div\n    ><div data-dojo-attach-point="downArrow" class="dijitButtonNode dijitDownArrowButton" data-dojo-attach-event="onmouseenter:_buttonMouse,onmouseleave:_buttonMouse"\n\t\t><div class="dijitReset dijitInline dijitArrowButtonInner" role="presentation">&#160;</div\n\t\t><div class="dijitArrowButtonChar">&#9660;</div></div\n></div>\n',
"dojo/dnd/Selector":function(){define("dojo/dnd/Selector","../_base/array,../_base/declare,../_base/event,../_base/kernel,../_base/lang,../dom,../dom-construct,../mouse,../_base/NodeList,../on,../touch,./common,./Container".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o){var n=m("dojo.dnd.Selector",o,{constructor:function(b,c){c||(c={});this.singular=c.singular;this.autoSync=c.autoSync;this.selection={};this.anchor=null;this.simpleSelection=!1;this.events.push(a(this.node,h.press,f.hitch(this,"onMouseDown")),
a(this.node,h.release,f.hitch(this,"onMouseUp")))},singular:!1,getSelectedNodes:function(){var a=new b,c=q._empty,h;for(h in this.selection)h in c||a.push(e.byId(h));return a},selectNone:function(){return this._removeSelection()._removeAnchor()},selectAll:function(){this.forInItems(function(a,b){this._addItemClass(e.byId(b),"Selected");this.selection[b]=1},this);return this._removeAnchor()},deleteSelectedNodes:function(){var a=q._empty,b;for(b in this.selection)if(!(b in a)){var c=e.byId(b);this.delItem(b);
d.destroy(c)}this.anchor=null;this.selection={};return this},forInSelectedItems:function(a,b){var b=b||j.global,c=this.selection,h=q._empty,d;for(d in c)d in h||a.call(b,this.getItem(d),d,this)},sync:function(){n.superclass.sync.call(this);if(this.anchor&&!this.getItem(this.anchor.id))this.anchor=null;var a=[],b=q._empty,c;for(c in this.selection)c in b||this.getItem(c)||a.push(c);l.forEach(a,function(a){delete this.selection[a]},this);return this},insertNodes:function(a,b,c,h){var d=this._normalizedCreator;
this._normalizedCreator=function(b,c){var h=d.call(this,b,c);a?(this.anchor?this.anchor!=h.node&&(this._removeItemClass(h.node,"Anchor"),this._addItemClass(h.node,"Selected")):(this.anchor=h.node,this._removeItemClass(h.node,"Selected"),this._addItemClass(this.anchor,"Anchor")),this.selection[h.node.id]=1):(this._removeItemClass(h.node,"Selected"),this._removeItemClass(h.node,"Anchor"));return h};n.superclass.insertNodes.call(this,b,c,h);this._normalizedCreator=d;return this},destroy:function(){n.superclass.destroy.call(this);
this.selection=this.anchor=null},onMouseDown:function(a){this.autoSync&&this.sync();if(this.current)if(!this.singular&&!q.getCopyKeyState(a)&&!a.shiftKey&&this.current.id in this.selection)this.simpleSelection=!0,c.isLeft(a)&&k.stop(a);else{if(!this.singular&&a.shiftKey){q.getCopyKeyState(a)||this._removeSelection();var b=this.getAllNodes();if(b.length){if(!this.anchor)this.anchor=b[0],this._addItemClass(this.anchor,"Anchor");this.selection[this.anchor.id]=1;if(this.anchor!=this.current){for(var h=
0,d;h<b.length&&!(d=b[h],d==this.anchor||d==this.current);++h);for(++h;h<b.length;++h){d=b[h];if(d==this.anchor||d==this.current)break;this._addItemClass(d,"Selected");this.selection[d.id]=1}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=1}}}else if(this.singular)this.anchor==this.current?q.getCopyKeyState(a)&&this.selectNone():(this.selectNone(),this.anchor=this.current,this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=1);else if(q.getCopyKeyState(a))this.anchor==
this.current?(delete this.selection[this.anchor.id],this._removeAnchor()):this.current.id in this.selection?(this._removeItemClass(this.current,"Selected"),delete this.selection[this.current.id]):(this.anchor&&(this._removeItemClass(this.anchor,"Anchor"),this._addItemClass(this.anchor,"Selected")),this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=1);else if(!(this.current.id in this.selection))this.selectNone(),this.anchor=this.current,this._addItemClass(this.current,
"Anchor"),this.selection[this.current.id]=1;k.stop(a)}},onMouseUp:function(){if(this.simpleSelection&&(this.simpleSelection=!1,this.selectNone(),this.current))this.anchor=this.current,this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=1},onMouseMove:function(){this.simpleSelection=!1},onOverEvent:function(){this.onmousemoveEvent=a(this.node,h.move,f.hitch(this,"onMouseMove"))},onOutEvent:function(){this.onmousemoveEvent&&(this.onmousemoveEvent.remove(),delete this.onmousemoveEvent)},
_removeSelection:function(){var a=q._empty,b;for(b in this.selection)if(!(b in a)){var c=e.byId(b);c&&this._removeItemClass(c,"Selected")}this.selection={};return this},_removeAnchor:function(){if(this.anchor)this._removeItemClass(this.anchor,"Anchor"),this.anchor=null;return this}});return n})},"dojox/json/schema":function(){define("dojox/json/schema",["dojo/_base/kernel","dojox","dojo/_base/array"],function(l,m){l.getObject("json.schema",!0,m);m.json.schema.validate=function(k,j){return this._validate(k,
j,!1)};m.json.schema.checkPropertyChange=function(k,j,f){return this._validate(k,j,f||"property")};m.json.schema.mustBeValid=function(k){if(!k.valid)throw new TypeError(l.map(k.errors,function(j){return"for property "+j.property+": "+j.message}).join(", "));};m.json.schema._validate=function(k,j,f){function e(b,a,h,q){function o(a){c.push({property:h,message:a})}function n(a,b){if(a){if("string"==typeof a&&"any"!=a&&("null"==a?null!==b:typeof b!=a)&&!(b instanceof Array&&"array"==a)&&!("integer"==
a&&0===b%1))return[{property:h,message:typeof b+" value found, but a "+a+" is required"}];if(a instanceof Array){for(var d=[],r=0;r<a.length&&(d=n(a[r],b)).length;r++);if(d.length)return d}else if("object"==typeof a)return d=c,c=[],e(b,a,h),r=c,c=d,r}return[]}var s,h=h+(h?"number"==typeof q?"["+q+"]":"undefined"==typeof q?"":"."+q:q);if(("object"!=typeof a||a instanceof Array)&&(h||"function"!=typeof a))return"function"==typeof a?Object(b)instanceof a||o("is not an instance of the class/constructor "+
a.name):a&&o("Invalid schema/property definition "+a),null;f&&a.readonly&&o("is a readonly field, it can not be changed");a["extends"]&&e(b,a["extends"],h,q);if(void 0===b)a.optional||o("is missing and it is not optional");else if(c=c.concat(n(a.type,b)),a.disallow&&!n(a.disallow,b).length&&o(" disallowed value was matched"),null!==b){if(b instanceof Array){if(a.items)if(a.items instanceof Array)for(q=0,s=b.length;q<s;q++)c.concat(e(b[q],a.items[q],h,q));else for(q=0,s=b.length;q<s;q++)c.concat(e(b[q],
a.items,h,q));a.minItems&&b.length<a.minItems&&o("There must be a minimum of "+a.minItems+" in the array");a.maxItems&&b.length>a.maxItems&&o("There must be a maximum of "+a.maxItems+" in the array")}else a.properties&&c.concat(d(b,a.properties,h,a.additionalProperties));a.pattern&&"string"==typeof b&&!b.match(a.pattern)&&o("does not match the regex pattern "+a.pattern);a.maxLength&&"string"==typeof b&&b.length>a.maxLength&&o("may only be "+a.maxLength+" characters long");a.minLength&&"string"==typeof b&&
b.length<a.minLength&&o("must be at least "+a.minLength+" characters long");void 0!==typeof a.minimum&&typeof b==typeof a.minimum&&a.minimum>b&&o("must have a minimum value of "+a.minimum);void 0!==typeof a.maximum&&typeof b==typeof a.maximum&&a.maximum<b&&o("must have a maximum value of "+a.maximum);if(a["enum"]){q=a["enum"];s=q.length;for(var r,t=0;t<s;t++)if(q[t]===b){r=1;break}r||o("does not have a value in the enumeration "+q.join(", "))}"number"==typeof a.maxDecimal&&b.toString().match(RegExp("\\.[0-9]{"+
(a.maxDecimal+1)+",}"))&&o("may only have "+a.maxDecimal+" digits of decimal places")}return null}function d(b,a,h,d){if("object"==typeof a){("object"!=typeof b||b instanceof Array)&&c.push({property:h,message:"an object is required"});for(var o in a)if(a.hasOwnProperty(o)&&!("_"==o.charAt(0)&&"_"==o.charAt(1))){var n=b[o];e(n,a[o],h,o)}}for(o in b)b.hasOwnProperty(o)&&!("_"==o.charAt(0)&&"_"==o.charAt(1))&&a&&!a[o]&&!1===d&&c.push({property:h,message:typeof n+"The property "+o+" is not defined in the schema and the schema does not allow additional properties"}),
(n=a&&a[o]&&a[o].requires)&&!(n in b)&&c.push({property:h,message:"the presence of the property "+o+" requires that "+n+" also be present"}),n=b[o],a&&"object"==typeof a&&!(o in a)&&e(n,d,h,o),!f&&n&&n.$schema&&(c=c.concat(e(n,n.$schema,h,o)));return c}var c=[];j&&e(k,j,"",f||"");!f&&k&&k.$schema&&e(k,k.$schema,"","");return{valid:!c.length,errors:c}};return m.json.schema})},"deploy/widgets/applicationTemplate/ApplicationTemplateEnvironmentTemplateList":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dijit/form/CheckBox,dijit/registry,dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dojo/_base/window,dojo/_base/xhr,dojo/dnd/Source,dojo/dom-class,dojo/dom-geometry,dojo/dom-construct,dojo/dom-style,dojo/dom-attr,dojo/json,dojo/on,deploy/widgets/environmentTemplate/EditEnvironmentTemplate,deploy/widgets/Formatters,js/webext/widgets/color/Color,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/form/MenuButton,js/webext/widgets/table/TreeTable".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u,x,v,y,A,z,B){return d([m,l],{templateString:'<div class="applicationEnvironmentList application-environment-list"><div class="listTopButtons" data-dojo-attach-point="buttonAttach"></div><div class="environmentTemplateList" data-dojo-attach-point="tableAttach"></div></div>',postCreate:function(){this.showTable();this.showAddButton()},showTable:function(){var a=this,b=bootstrap.restUrl+"deploy/applicationTemplate/"+a.applicationTemplate.id+"/"+a.applicationTemplate.version+
"/environmentTemplates";a.readOnly=a.applicationTemplate.version!==a.applicationTemplate.versionCount||!a.applicationTemplate.security["Manage Environment Templates"];a.gridLayout=[{name:i18n("Name"),formatter:function(b,c,h){h.style.position="relative";c=n.create("div",{"class":"inlineBlock",style:"margin-"+(o.isBodyLtr()?"right":"left")+":130px;"});h=n.create("div",{"class":"inlineBlock"});n.place(h,c);if(b.security.read){var d=document.createElement("a");d.href="#environmentTemplate/"+b.id+"/-1";
d.innerHTML=b.name.escape();n.place(d,h);n.place(a.actionsFormatter(b),c)}else c.innerHTML=b.name.escape();return c},orderField:"name",getRawValue:function(a){return a.name}},{name:i18n("Description"),field:"description"}];a.grid=new B({serverSideProcessing:!1,url:b,tableConfigKey:"environmentTemplateList",noDataMessage:i18n("No environment templates found."),columns:a.gridLayout,hidePagination:!1,hideExpandCollapse:!0,orderField:"name",sortType:"asc"});a.grid.placeAt(a.tableAttach)},showAddButton:function(){var a=
this;if(!a.readOnly){var b=new k({label:i18n("Create Environment Template"),showTitle:!1,onClick:function(){a.showNewEnvironmentTemplateDialog()}});q.add(b.domNode,"idxButtonSpecial inlineBlock");b.placeAt(a.buttonAttach)}},showNewEnvironmentTemplateDialog:function(){var a=new y({title:i18n("Create Environment Template"),closable:!0,draggable:!0});(new u({applicationTemplate:this.applicationTemplate,callback:function(b){a.hide();a.destroy();navBar.setHash("environmentTemplate/"+b.id+"/-1")},cancelCallback:function(){a.hide();
a.destroy()}})).placeAt(a);a.show()},showEditEnvironmentTemplate:function(b){var c=this;a.get({url:bootstrap.restUrl+"deploy/environmentTemplate/"+b.id,handleAs:"json",load:function(a){var b=new y({title:i18n("Edit Environment Template"),closable:!0,draggable:!0});(new u({applicationTemplate:c.applicationTemplate,environmentTemplate:a,callback:function(){b.hide();b.destroy();navBar.setHash("applicationTemplate/"+c.applicationTemplate.id+"/-1/environmentTemplates",!1,!0)},cancelCallback:function(){b.hide();
b.destroy()}})).placeAt(b);b.show()},error:function(a){(new y({title:i18n("Error retrieving environment template for edit."),content:util.escape(a.responseText),closable:!0,draggable:!0})).show()}})},confirmDelete:function(b){var c=this;new A({message:i18n("Are you sure you want to delete %s? This will permanently delete it from the system.",b.name.escape()),action:function(){c.grid.block();a.del({url:bootstrap.restUrl+"deploy/environmentTemplate/"+b.id,handleAs:"json",load:function(){c.grid.unblock();
c.grid.refresh();navBar.setHash("applicationTemplate/"+c.applicationTemplate.id+"/-1/environmentTemplates",!1,!0)},error:function(a){(new y({title:i18n("Error deleting environment template"),content:util.escape(a.responseText),closable:!0,draggable:!0})).show();c.grid.unblock()}})}})},addEditActions:function(a,b){var c=this;c.readOnly||(new k({showTitle:!1,iconClass:"editIcon",title:i18n("Edit"),onClick:function(){c.showEditEnvironmentTemplate(a)}})).placeAt(b)},getRowWriteActions:function(a){var b=
this;if(!b.readOnly)return[{label:i18n("Delete"),onClick:function(){b.confirmDelete(a)}}]},actionsFormatter:function(a){var b=n.create("div",{dir:util.getUIDir(),align:util.getUIDirAlign(),"class":"tableHoverActions"}),c=[];a.security["Edit Basic Settings"]&&(this.addEditActions(a,b),e.forEach(this.getRowWriteActions(a),function(a){c.push(a)}));c.length&&(new z({options:c,label:i18n("Actions...")})).placeAt(b);return b}})})},"js/util/infiniteScroll/_InfiniteScrollMixin":function(){define("js/util/infiniteScroll/_InfiniteScrollMixin",
"dojo/_base/declare,dojo/_base/window,dojo/on,dojo/mouse,dojo/dom-construct,dojo/dom-class,dojo/dom-style,dojo/dom-attr,dojo/dom-geometry".split(","),function(l,m,k,j,f,e,d,c,b){return l(null,{scrollNode:null,scrollContainer:null,bottomOffset:50,onScrollBottom:function(a){setTimeout(function(){a()},1E3)},setupScroll:function(a){if(a.scrollNode)this.scrollNode=a.scrollNode;if(a.scrollContainer)this.scrollContainer=a.scrollNode;if(a.bottomOffset)this.bottomOffset=a.bottomOffset;this.addScrollListener()},
addScrollListener:function(){var a=this;this.notLoadingMore=!0;this._determineScrollContainer();this.scrollContainer&&this.scrollNode?this.onscroll=k(this.scrollContainer,"scroll",function(){var c=b.position(a.scrollContainerNode),c=a._windowHeight||c.h,d=b.position(a.scrollNode);if(0===d.h&&0===d.w&&0===d.x&&0===d.y)a.onscroll.remove();else if(d.h+d.y<c+a.bottomOffset&&a.notLoadingMore)a.notLoadingMore=!1,a.onScrollBottom(function(){setTimeout(function(){a.notLoadingMore=!0},500)})}):console.warn("No node defined for infinite scroll")},
onHitTop:function(a,c,d,o){a&&c&&(o||(o=0),this.own(k(window,"scroll",function(){var n=b.position(a);n&&n.y<o?c():d&&d()})))},_determineScrollContainer:function(){if(this.scrollContainer)this.scrollContainerNode=this.scrollContainer;else if(this.scrollContainer=window,this.scrollContainerNode=m.body(),window&&window.innerHeight)this._windowHeight=window.innerHeight;else if(document&&document.documentElement)this._windowHeight=document.documentElement.clientHeight;if(!this.scrollNode)this.scrollNode=
this.domNode}})})},"deploy/widgets/security/EditUserPreferences":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/_base/xhr,js/webext/widgets/Alert,js/webext/widgets/ColumnForm,js/webext/widgets/RestSelect".split(","),function(l,m,k,j,f,e,d){return k("deploy.widgets.security.EditUserPreferences",[m,l],{templateString:'<div class="editUser">  <div data-dojo-attach-point="formAttach"></div></div>',postCreate:function(){this.inherited(arguments);var c=this;j.get({url:bootstrap.restUrl+
"security/userPreferences",handleAs:"json",load:function(b){var a=new e({submitUrl:bootstrap.restUrl+"security/userPreferences",submitMethod:"PUT",cancelLabel:null,postSubmit:function(){new f({message:i18n("Preferences saved successfully."),onClose:function(){location.reload(!0)}})}});if("ja"===dojo.body().getAttribute("lang"))a.formContainer.labelStyle.width="250px";var h=null;if(b.hasUserDefinedLocale)h=b.locale;h=new d({restUrl:bootstrap.restUrl+"security/userPreferences/availableLocales",getLabel:function(a){return a.displayName},
getValue:function(a){return a.value},allowNone:!0,noneLabel:i18n("No Default Set"),escapeHTMLLabel:!1,value:h});a.addField({name:"locale",label:i18n("Locale"),widget:h},"_type");h=new d({restUrl:bootstrap.restUrl+"security/userPreferences/availableDatePatterns",getLabel:function(a){return a},getValue:function(a){return a},allowNone:!0,noneLabel:i18n("Default for Locale"),value:b.datePattern});a.addField({name:"datePattern",label:i18n("Date Format"),widget:h},"_type");h=new d({restUrl:bootstrap.restUrl+
"security/userPreferences/availableTimePatterns",getLabel:function(a){return a},getValue:function(a){return a},allowNone:!0,noneLabel:i18n("Default for Locale"),value:b.timePattern});a.addField({name:"timePattern",label:i18n("Time Format"),widget:h},"_type");h=new d({restUrl:bootstrap.restUrl+"security/userPreferences/availableBTDValues",getLabel:function(a){return i18n(a)},getValue:function(a){return a},allowNone:!0,noneLabel:i18n("Default"),value:b.btdValue});a.addField({name:"btdValue",label:i18n("Base Text Direction"),
widget:h},"_type");h=new d({restUrl:bootstrap.restUrl+"security/userPreferences/availableCalendarValues",getLabel:function(a){return i18n(a)},getValue:function(a){return a},allowNone:!1,noneLabel:i18n("Default"),value:b.calendar});a.addField({name:"calendar",label:i18n("Calendar"),widget:h},"_type");a.addField({name:"_defaultTeamMappingInsert",type:"Invisible"});a.addField({name:"defaultTeamMappingType",label:i18n("Default Teams for New Objects"),description:i18n("This determines which teams should be added to new objects by default. Normally, all teams where you have permission to create objects are automatically selected for new objects you're creating, but you can override this behavior if you belong to many teams or do not want to have any teams appear by default."),
type:"SELECT",value:b.defaultTeamMappingType,allowedValues:[{label:i18n("All Available Teams"),value:"DEFAULT_TEAM_MAPPINGS_ALL"},{label:i18n("Specific Teams"),value:"DEFAULT_TEAM_MAPPINGS_SPECIFIC_TEAMS"},{label:i18n("None"),value:"DEFAULT_TEAM_MAPPINGS_NONE"}],onChange:function(h){c.showOrHideTeamSelect(a,h,b.defaultTeamMappings)}},"_defaultTeamMappingInsert");c.showOrHideTeamSelect(a,b.defaultTeamMappingType,b.defaultTeamMappings);a.placeAt(c.formAttach)}})},showOrHideTeamSelect:function(c,b,a){"DEFAULT_TEAM_MAPPINGS_SPECIFIC_TEAMS"===
b?(b={},config.data.permissions[security.system.manageSecurity]||(b={filterFields:["username"],filterValue_username:[bootstrap.username],filterType_username:"eq",filterClass_username:"String"}),c.addField({name:"defaultTeamMappings",label:i18n("Choose Default Team(s)"),type:"TableFilterMultiSelect",required:!0,defaultQuery:b,url:bootstrap.baseUrl+"security/team",value:a},"_defaultTeamMappingInsert")):c.hasField("defaultTeamMappings")&&c.removeField("defaultTeamMappings")}})})},"deploy/widgets/environmentTemplate/EditEnvironmentTemplate":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/_base/xhr,dojo/dom-construct,js/webext/widgets/Alert,js/webext/widgets/ColumnForm,js/webext/widgets/DialogMultiSelect,deploy/widgets/Formatters,deploy/widgets/security/TeamSelector".split(","),
function(l,m,k,j,f,e,d,c,b,a){return k([m,l],{templateString:'<div class="editEnvironment">  <div data-dojo-attach-point="formAttach"></div></div>',postCreate:function(){this.inherited(arguments);var b=this;this.existingValues={color:"#ffffff"};this.environmentTemplate?this.existingValues=this.environmentTemplate:this.source?(j.get({url:bootstrap.restUrl+"deploy/environmentTemplate/"+this.source.id+"id",handleAs:"json",sync:!0,load:function(a){b.source=a}}),this.existingValues=this.source):j.get({url:bootstrap.restUrl+
"security/teamsWithCreateAction/Environment Template",handleAs:"json",sync:!0,load:function(a){b.existingValues.extendedSecurity={teams:a}}});this.form=new d({submitUrl:bootstrap.restUrl+"deploy/environmentTemplate",readOnly:b.readOnly,postSubmit:function(a){void 0!==b.callback&&b.callback(a)},addData:function(a){a.applicationTemplateId=b.applicationTemplate.id;if(b.environmentTemplate)a.existingId=b.environmentTemplate.id;if(b.source)a.copyId=b.source.id;"SYSTEM_DEFAULT"===a.snapshotLockType&&delete a.snapshotLockType;
a.teamMappings=b.teamSelector.teams},onError:function(a){a.responseText&&new e({message:util.escape(a.responseText)})},onCancel:function(){void 0!==b.cancelCallback&&b.cancelCallback()},validateFields:function(a){var b=[];a.historyCleanupDaysToKeep&&(/^[0-9]+$/.test(a.historyCleanupDaysToKeep)||b.push(i18n("The Days to Keep Process History must be an integer, 0 or greater.")));return b}});this.form.addField({name:"name",label:i18n("Name"),required:!0,type:"Text",value:this.source?void 0:this.existingValues.name});
this.form.addField({name:"description",label:i18n("Description"),type:"Text",value:this.existingValues.description});this.form.addField({name:"resourceTemplate",label:i18n("Resource Template"),type:"TableFilterSelect",value:this.existingValues.resourceTemplateId,url:bootstrap.restUrl+"resource/resourceTemplate",required:!0,defaultQuery:{filterFields:["application"],filterType_application:"null",filterValue_application:null}});this.form.addField({name:"environmentType",label:i18n("Type"),type:"TableFilterSelect",
value:this.existingValues.environmentTypeId,url:bootstrap.baseUrl+"security/resourceRole",allowNone:!0,placeHolder:i18n("Standard Environment"),defaultQuery:{outputType:["BASIC"],filterFields:["resourceType.name"],"filterType_resourceType.name":"eq","filterValue_resourceType.name":"Environment","filterClass_resourceType.name":"String"}});var f=[];if(b.existingValues&&b.existingValues.extendedSecurity&&b.existingValues.extendedSecurity.teams)f=b.existingValues.extendedSecurity.teams;b.teamSelector=
new a({resourceRoleType:"Environment Template",noneLabel:i18n("Standard Environment Template"),teams:f});this.form.addField({name:"teams",label:i18n("Teams"),type:"Text",widget:b.teamSelector});this.form.addField({name:"requireApprovals",label:i18n("Require Approvals"),type:"Checkbox",description:i18n("When this is checked, no versions or snapshots can be deployed to this environment without being approved according to the approval process for this environment."),onChange:function(a){b.showNoSelfApprovalField(a)},
value:this.existingValues.requireApprovals});b.existingValues.requireApprovals&&b.showNoSelfApprovalField(!0);f=new c({url:bootstrap.restUrl+"deploy/applicationTemplate/"+this.applicationTemplate.id+"/"+this.applicationTemplate.version+"/processes",value:this.existingValues.exemptProcesses,getLabel:function(a){return a.name.escape()},getValue:function(a){return a.id},noSelectionsLabel:i18n("None")});this.form.addField({name:"exemptProcesses",label:i18n("Exempt Processes"),widget:f,description:i18n("Any processes selected here will be exempt from approval, even when the environment normally requires it.")});
this.form.addField({name:"lockSnapshots",label:i18n("Lock Snapshots"),type:"Checkbox",description:i18n("When this is checked, all snapshots used in a request to this deployment will be locked to prevent further changes."),value:this.existingValues.lockSnapshots,onChange:function(a){a?b._showSnapshotLockType():b.form.removeField("snapshotLockType")}});this.form.addField({type:"Invisible",name:"_snapshotLockTypeInsert"});this.existingValues.lockSnapshots&&b._showSnapshotLockType();this.form.addField({name:"color",
label:i18n("Color"),type:"ColorPicker",value:this.existingValues.color});f=!b.environmentTemplate&&!b.source||0===b.existingValues.cleanupDaysToKeep&&0===b.existingValues.cleanupCountToKeep;this.form.addField({name:"inheritSystemCleanup",label:i18n("Use Default Component Cleanup Settings"),description:i18n("When selected, this environment uses the component version cleanup  settings for the system or component settings, if available.  Clear to provide values for all components in this environment."),
type:"Checkbox",onChange:function(a){a?(b.form.hasField("cleanupDaysToKeep")&&(b.form.removeField("cleanupDaysToKeep"),b.form.removeField("cleanupCountToKeep")),b.form.validateFields=function(){return[]}):b.showCleanupFields()},value:f});b.showHistoryCleanupFields();f||this.showCleanupFields();this.form.placeAt(this.formAttach)},_showSnapshotLockType:function(){var a={ALL:i18n("Component Versions and Configuration"),VERSIONS:i18n("Only Component Versions"),CONFIGURATION:i18n("Only Configuration")};
this.form.addField({name:"snapshotLockType",label:i18n("Snapshot Lock Type"),description:i18n("This setting determines which contents of a snapshot are locked when it is included in a deployment to this environment. Anything left unlocked can still be changed after the snapshot has been deployed."),required:!0,value:this.existingValues.snapshotLockType||"SYSTEM_DEFAULT",type:"Select",allowedValues:[{label:i18n("System Default (%s)",a[config.data.systemConfiguration.defaultSnapshotLockType]),value:"SYSTEM_DEFAULT"},
{label:a.ALL,value:"ALL"},{label:a.VERSIONS,value:"VERSIONS"},{label:a.CONFIGURATION,value:"CONFIGURATION"}]},"_snapshotLockTypeInsert")},showCleanupFields:function(){var a=this.existingValues.cleanupDaysToKeep;a||(a=0);var b=this.existingValues.cleanupCountToKeep;b&&(b=0);this.form.addField({name:"cleanupDaysToKeep",label:i18n("Days to Retain Versions"),description:i18n("The number of days to retain component versions.  To retain component versions indefinitely, enter - 1. To use the system default retention value, enter 0."),
value:a,required:!0,textDir:"ltr",type:"Text"},"enableProcessHistoryCleanup");this.form.addField({name:"cleanupCountToKeep",label:i18n("Number of Versions to Retain"),description:i18n("The number of versions to retain for each component. To retain all component versions, enter -1. To use the system default retention value, enter 0."),value:b,required:!0,textDir:"ltr",type:"Text"},"enableProcessHistoryCleanup")},showHistoryCleanupFields:function(){var a=this,b=this.existingValues.enableProcessHistoryCleanup;
this.form.addField({name:"enableProcessHistoryCleanup",label:i18n("Use Deployment History Cleanup"),description:i18n("Select to use deployment history cleanup for this environment. If selected, the deployment history records in this environment are deleted according to the values that you set."),value:b,textDir:"ltr",type:"Checkbox",onChange:function(b){a.showUseSystemDefaultDays(b);b||a.showHistoryCleanupDaysToKeep(b)}});b&&a.showUseSystemDefaultDays(!0)},showUseSystemDefaultDays:function(a){var b=
this;a?(a=this.existingValues.useSystemDefaultDays,this.form.addField({name:"useSystemDefaultDays",label:i18n("Use Default Deployment History Retention"),description:i18n("Select to retain the deployment history for the number of days that the administrator set."),value:a,textDir:"ltr",type:"Checkbox",onChange:function(a){b.showHistoryCleanupDaysToKeep(!a)}}),a||b.showHistoryCleanupDaysToKeep(!0)):this.form.removeField("useSystemDefaultDays")},showHistoryCleanupDaysToKeep:function(a){a?(a=this.existingValues.historyCleanupDaysToKeep,
this.form.addField({name:"historyCleanupDaysToKeep",label:i18n("Days to Retain Deployment History "),description:i18n("The number of days to retain application deployment history. Valid range is 0 or greater"),value:a,required:!0,textDir:"ltr",type:"Number"})):this.form.hasField("historyCleanupDaysToKeep")&&this.form.removeField("historyCleanupDaysToKeep")},showNoSelfApprovalField:function(a){a?this.form.hasField("noSelfApprovals")||this.form.addField({name:"noSelfApprovals",label:i18n("No Self-Approvals"),
type:"Checkbox",description:i18n("When this option is selected, users that submit deployment requests cannot approve their own requests."),value:this.existingValues.noSelfApprovals},"exemptProcesses"):this.form.hasField("noSelfApprovals")&&this.form.removeField("noSelfApprovals")},submitForm:function(){this.form.submitForm()}})})},"dijit/form/CheckBox":function(){require({cache:{"url:dijit/form/templates/CheckBox.html":'<div class="dijit dijitReset dijitInline" role="presentation"\n\t><input\n\t \t${!nameAttrSetting} type="${type}" role="${type}" aria-checked="false" ${checkedAttrSetting}\n\t\tclass="dijitReset dijitCheckBoxInput"\n\t\tdata-dojo-attach-point="focusNode"\n\t \tdata-dojo-attach-event="onclick:_onClick"\n/></div>\n'}});
define("dijit/form/CheckBox","require,dojo/_base/declare,dojo/dom-attr,dojo/has,dojo/query,dojo/ready,./ToggleButton,./_CheckBoxMixin,dojo/text!./templates/CheckBox.html,dojo/NodeList-dom".split(","),function(l,m,k,j,f,e,d,c,b){j("dijit-legacy-requires")&&e(0,function(){l(["dijit/form/RadioButton"])});return m("dijit.form.CheckBox",[d,c],{templateString:b,baseClass:"dijitCheckBox",_setValueAttr:function(a,b){"string"==typeof a&&(this.inherited(arguments),a=!0);this._created&&this.set("checked",a,
b)},_getValueAttr:function(){return this.checked?this.value:!1},_setIconClassAttr:null,postMixInProperties:function(){this.inherited(arguments);this.checkedAttrSetting=""},_fillContent:function(){},_onFocus:function(){this.id&&f("label[for='"+this.id+"']").addClass("dijitFocusedLabel");this.inherited(arguments)},_onBlur:function(){this.id&&f("label[for='"+this.id+"']").removeClass("dijitFocusedLabel");this.inherited(arguments)}})})},"deploy/widgets/workflow/activity/DesiredSnapshotInventoryActivity":function(){define(["dojo/_base/declare",
"dojo/on","deploy/widgets/workflow/activity/BaseActivity"],function(l,m,k){return l("deploy.widgets.workflow.activity.DesiredSnapshotInventoryActivity",[k],{postCreate:function(){this.inherited(arguments);if(!this.initialized)this.data.name=util.randomString(30),this.editProperties()},getLabel:function(){var j="";this.initialized?"addDesiredSnapshotInventory"===this.data.type?j+=i18n("Inventory: Add Snapshot"):"removeDesiredSnapshotInventory"===this.data.type&&(j+=i18n("Inventory: Remove Snapshot")):
j+=i18n("Snapshot Inventory Update");return j},editProperties:function(j){var f=this,e=f.createPropertyDialog(),d=f.createPropertyForm({dialog:e,onSubmit:function(c){j&&j();f.initialized=!0;f.data.type=c.type;f.updateLabel();e.hide();d.destroy();e.destroy()},readOnly:f.readOnly});d.addField({name:"type",label:i18n("Action"),type:"Select",required:!0,value:f.data.type,allowedValues:[{label:i18n("Choose an Action"),value:""},{label:i18n("Add Desired Snapshot Inventory"),value:"addDesiredSnapshotInventory"},
{label:i18n("Remove Desired Snapshot Inventory"),value:"removeDesiredSnapshotInventory"}]});d.placeAt(e.containerNode);e.show()}})})},"dojox/html/entities":function(){define("dojox/html/entities",["dojo/_base/lang"],function(l){var m=l.getObject("dojox.html.entities",!0),k=function(f,e){var d,c;if(e._encCache&&e._encCache.regexp&&e._encCache.mapper&&e.length==e._encCache.length)d=e._encCache.mapper,c=e._encCache.regexp;else{d={};c=["["];var b;for(b=0;b<e.length;b++)d[e[b][0]]="&"+e[b][1]+";",c.push(e[b][0]);
c.push("]");c=RegExp(c.join(""),"g");e._encCache={mapper:d,regexp:c,length:e.length}}return f=f.replace(c,function(a){return d[a]})},j=function(f,e){var d,c;if(e._decCache&&e._decCache.regexp&&e._decCache.mapper&&e.length==e._decCache.length)d=e._decCache.mapper,c=e._decCache.regexp;else{d={};c=["("];var b;for(b=0;b<e.length;b++){var a="&"+e[b][1]+";";b&&c.push("|");d[a]=e[b][0];c.push(a)}c.push(")");c=RegExp(c.join(""),"g");e._decCache={mapper:d,regexp:c,length:e.length}}return f=f.replace(c,function(a){return d[a]})};
m.html=[["&","amp"],['"',"quot"],["<","lt"],[">","gt"],["\u00a0","nbsp"]];m.latin=[["\u00a1","iexcl"],["\u00a2","cent"],["\u00a3","pound"],["\u20ac","euro"],["\u00a4","curren"],["\u00a5","yen"],["\u00a6","brvbar"],["\u00a7","sect"],["\u00a8","uml"],["\u00a9","copy"],["\u00aa","ordf"],["\u00ab","laquo"],["\u00ac","not"],["\u00ad","shy"],["\u00ae","reg"],["\u00af","macr"],["\u00b0","deg"],["\u00b1","plusmn"],["\u00b2","sup2"],["\u00b3","sup3"],["\u00b4","acute"],["\u00b5","micro"],["\u00b6","para"],
["\u00b7","middot"],["\u00b8","cedil"],["\u00b9","sup1"],["\u00ba","ordm"],["\u00bb","raquo"],["\u00bc","frac14"],["\u00bd","frac12"],["\u00be","frac34"],["\u00bf","iquest"],["\u00c0","Agrave"],["\u00c1","Aacute"],["\u00c2","Acirc"],["\u00c3","Atilde"],["\u00c4","Auml"],["\u00c5","Aring"],["\u00c6","AElig"],["\u00c7","Ccedil"],["\u00c8","Egrave"],["\u00c9","Eacute"],["\u00ca","Ecirc"],["\u00cb","Euml"],["\u00cc","Igrave"],["\u00cd","Iacute"],["\u00ce","Icirc"],["\u00cf","Iuml"],["\u00d0","ETH"],["\u00d1",
"Ntilde"],["\u00d2","Ograve"],["\u00d3","Oacute"],["\u00d4","Ocirc"],["\u00d5","Otilde"],["\u00d6","Ouml"],["\u00d7","times"],["\u00d8","Oslash"],["\u00d9","Ugrave"],["\u00da","Uacute"],["\u00db","Ucirc"],["\u00dc","Uuml"],["\u00dd","Yacute"],["\u00de","THORN"],["\u00df","szlig"],["\u00e0","agrave"],["\u00e1","aacute"],["\u00e2","acirc"],["\u00e3","atilde"],["\u00e4","auml"],["\u00e5","aring"],["\u00e6","aelig"],["\u00e7","ccedil"],["\u00e8","egrave"],["\u00e9","eacute"],["\u00ea","ecirc"],["\u00eb",
"euml"],["\u00ec","igrave"],["\u00ed","iacute"],["\u00ee","icirc"],["\u00ef","iuml"],["\u00f0","eth"],["\u00f1","ntilde"],["\u00f2","ograve"],["\u00f3","oacute"],["\u00f4","ocirc"],["\u00f5","otilde"],["\u00f6","ouml"],["\u00f7","divide"],["\u00f8","oslash"],["\u00f9","ugrave"],["\u00fa","uacute"],["\u00fb","ucirc"],["\u00fc","uuml"],["\u00fd","yacute"],["\u00fe","thorn"],["\u00ff","yuml"],["\u0192","fnof"],["\u0391","Alpha"],["\u0392","Beta"],["\u0393","Gamma"],["\u0394","Delta"],["\u0395","Epsilon"],
["\u0396","Zeta"],["\u0397","Eta"],["\u0398","Theta"],["\u0399","Iota"],["\u039a","Kappa"],["\u039b","Lambda"],["\u039c","Mu"],["\u039d","Nu"],["\u039e","Xi"],["\u039f","Omicron"],["\u03a0","Pi"],["\u03a1","Rho"],["\u03a3","Sigma"],["\u03a4","Tau"],["\u03a5","Upsilon"],["\u03a6","Phi"],["\u03a7","Chi"],["\u03a8","Psi"],["\u03a9","Omega"],["\u03b1","alpha"],["\u03b2","beta"],["\u03b3","gamma"],["\u03b4","delta"],["\u03b5","epsilon"],["\u03b6","zeta"],["\u03b7","eta"],["\u03b8","theta"],["\u03b9","iota"],
["\u03ba","kappa"],["\u03bb","lambda"],["\u03bc","mu"],["\u03bd","nu"],["\u03be","xi"],["\u03bf","omicron"],["\u03c0","pi"],["\u03c1","rho"],["\u03c2","sigmaf"],["\u03c3","sigma"],["\u03c4","tau"],["\u03c5","upsilon"],["\u03c6","phi"],["\u03c7","chi"],["\u03c8","psi"],["\u03c9","omega"],["\u03d1","thetasym"],["\u03d2","upsih"],["\u03d6","piv"],["\u2022","bull"],["\u2026","hellip"],["\u2032","prime"],["\u2033","Prime"],["\u203e","oline"],["\u2044","frasl"],["\u2118","weierp"],["\u2111","image"],["\u211c",
"real"],["\u2122","trade"],["\u2135","alefsym"],["\u2190","larr"],["\u2191","uarr"],["\u2192","rarr"],["\u2193","darr"],["\u2194","harr"],["\u21b5","crarr"],["\u21d0","lArr"],["\u21d1","uArr"],["\u21d2","rArr"],["\u21d3","dArr"],["\u21d4","hArr"],["\u2200","forall"],["\u2202","part"],["\u2203","exist"],["\u2205","empty"],["\u2207","nabla"],["\u2208","isin"],["\u2209","notin"],["\u220b","ni"],["\u220f","prod"],["\u2211","sum"],["\u2212","minus"],["\u2217","lowast"],["\u221a","radic"],["\u221d","prop"],
["\u221e","infin"],["\u2220","ang"],["\u2227","and"],["\u2228","or"],["\u2229","cap"],["\u222a","cup"],["\u222b","int"],["\u2234","there4"],["\u223c","sim"],["\u2245","cong"],["\u2248","asymp"],["\u2260","ne"],["\u2261","equiv"],["\u2264","le"],["\u2265","ge"],["\u2282","sub"],["\u2283","sup"],["\u2284","nsub"],["\u2286","sube"],["\u2287","supe"],["\u2295","oplus"],["\u2297","otimes"],["\u22a5","perp"],["\u22c5","sdot"],["\u2308","lceil"],["\u2309","rceil"],["\u230a","lfloor"],["\u230b","rfloor"],
["\u2329","lang"],["\u232a","rang"],["\u25ca","loz"],["\u2660","spades"],["\u2663","clubs"],["\u2665","hearts"],["\u2666","diams"],["\u0152","Elig"],["\u0153","oelig"],["\u0160","Scaron"],["\u0161","scaron"],["\u0178","Yuml"],["\u02c6","circ"],["\u02dc","tilde"],["\u2002","ensp"],["\u2003","emsp"],["\u2009","thinsp"],["\u200c","zwnj"],["\u200d","zwj"],["\u200e","lrm"],["\u200f","rlm"],["\u2013","ndash"],["\u2014","mdash"],["\u2018","lsquo"],["\u2019","rsquo"],["\u201a","sbquo"],["\u201c","ldquo"],
["\u201d","rdquo"],["\u201e","bdquo"],["\u2020","dagger"],["\u2021","Dagger"],["\u2030","permil"],["\u2039","lsaquo"],["\u203a","rsaquo"]];m.encode=function(f,e){f&&(e?f=k(f,e):(f=k(f,m.html),f=k(f,m.latin)));return f};m.decode=function(f,e){f&&(e?f=j(f,e):(f=j(f,m.html),f=j(f,m.latin)));return f};return m})},"deploy/widgets/workflow/activity/BaseActivity":function(){define("dijit/_Widget,dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dojo/_base/xhr,dojo/dom-construct,dojo/on,js/webext/widgets/DomNode,js/webext/widgets/Alert,js/webext/widgets/GenericConfirm,js/webext/widgets/ColumnForm,js/webext/widgets/Dialog,deploy/widgets/property/PropertyBox,deploy/widgets/process/ProcessIconsFormatter".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n){return k("deploy.widgets.workflow.activity.BaseActivity",[l],{graphEditor:null,graph:null,cell:null,readOnly:!1,isContainer:!1,parent:null,data:{},uiData:{},initialized:!1,postCreate:function(){this.inherited(arguments);if(!this.process)if(this.graphEditor&&this.graphEditor.applicationProcess)this.process=this.graphEditor.applicationProcess;else if(this.graphEditor&&this.graphEditor.componentProcess)this.process=this.graphEditor.componentProcess;if(!this.graphEditor)throw"Unable to create an activity without a graphEditor specified.";
this.graph=this.graphEditor.graph},getLabel:function(){},getName:function(){return this.data.name},getFillColor:function(){return"#7F1C7D"},getStyle:function(){var a=n.getIconForStep(this),a=bootstrap.imageUrl+"icons/process/"+a+".png";return'shape=label;spacingLeft=45;spacingRight=-20;spacingTop=-10;spacingBottom=-10;fontFamily=helvetica,arial,tahoma,verdana,sans-serif,"lucida grande";fontSize=12;fontColor=#FFF;verticalAlign=middle;align=left;strokeColor=#FFF;strokeWidth=2;fillColor='+this.getFillColor()+
";vertexHighlightColor=#AAA;edgeHighlightColor=#AAA;highlightColor=#AAA;image="+a+";imageWidth=32;imageHeight=32;autosize;"},getIcon:function(){var a=" job-icon";this.type?a+=this.type:this.icon?a+=this.icon:this.plugin&&this.name&&(a+=this.name.replace(/\W+/g,""));return'<div class="process-icon'+a+'"></div>'},editProperties:function(){},copyActivity:function(){var a=this,c,h,d;if(this.graphEditor.applicationProcessId)d="APPLICATION",c=this.graphEditor.applicationProcessId,h=this.graphEditor.applicationProcessVersion;
else if(this.graphEditor.componentProcessId)d="COMPONENT",c=this.graphEditor.componentProcessId,h=this.graphEditor.componentProcessVersion;else if(this.graphEditor.processId)d="GENERIC",c=this.graphEditor.processId,h=this.graphEditor.processVersion;else if(this.graphEditor.approvalProcess)d="APPROVAL",c=this.graphEditor.approvalProcess.environmentId,h=this.graphEditor.approvalProcess.version;c={name:this.getName(),label:this.getLabel(),activityId:this.data.id,ownerId:c,ownerVersion:h,processType:d};
f.put({url:bootstrap.restUrl+"copiedStep/",putData:JSON.stringify(c),load:function(){a.graphEditor.refreshStepPalette();a.graphEditor.showSavePopup(i18n("'%s' copied successfully.",a.getLabel()))},error:function(){new b({message:i18n("An error occurred while trying to copy the activity %s.",util.escape(a.getName()))})}})},canEdit:function(){return!0},canDelete:function(){return!this.readOnly},canCopy:function(){return!0},isUtilityCell:function(){return!1},setGraphHasChanges:function(){this.graphHasChanges?
this.graphHasChanges():document.hasChanges=!0},createCell:function(a,b,c,h){if(this.cell)throw"Cell already generated.";var d=util.escape(this.getLabel()),n=this.getStyle();this.cell=this.graph.insertVertex(this.parent,"",d,a,b,null,null,n);this.cell.activity=this;this.cell.htmlLabels=!0;this.sizeCell(c,h);if((a=this.graph.getCellAt(a,b))&&a.edge)this.edgePlaceholder={from:a.source,to:a.target,type:a.data?a.data.type:null,value:a.data?a.data.value:null},this.graph.splitEdge(a,[this.cell],0,0);this.addOverlays();
if(this.parent)c=this.cell.getGeometry(),a=this.parent.getGeometry(),b=c.x+c.width,c=c.y+c.height,h=!1,d=a.width,n=a.height,b>a.width+20&&(d=b+20,h=!0),c>a.height+10&&(n=c+10,h=!0),h&&this.parent.setGeometry(new mxGeometry(a.x,a.y,d,n))},addOverlays:function(){this.canDelete()&&this.addDeleteOverlay();this.canEdit()&&this.addEditOverlay();this.canCopy()&&this.addCopyOverlay()},addDeleteOverlay:function(){var b=this,c=new mxCellOverlay(new mxImage(bootstrap.imageUrl+"icons/process/close_step.png",
24,24));c.cursor="hand";c.offset=new mxPoint(0,0);c.align=mxConstants.ALIGN_RIGHT;c.verticalAlign=mxConstants.ALIGN_TOP;c.addListener(mxEvent.CLICK,mxUtils.bind(this,function(){new a({message:i18n("Are you sure you want to remove this step?"),action:function(){b.destroy();b.setGraphHasChanges()}})}));this.graph.addCellOverlay(this.cell,c)},addEditOverlay:function(){var a=this,b=new mxCellOverlay(new mxImage(bootstrap.imageUrl+"icons/process/step_edit.png",18,18));b.cursor="hand";b.offset=new mxPoint(-22,
0);b.align=mxConstants.ALIGN_RIGHT;b.verticalAlign=mxConstants.ALIGN_TOP;b.addListener(mxEvent.CLICK,mxUtils.bind(this,function(){a.editProperties(function(){a.readOnly||(a.setGraphHasChanges(),a.graphEditor.registerChangedActivity(a))})}));this.graph.addCellOverlay(this.cell,b)},addCopyOverlay:function(){var a=this,c=new mxCellOverlay(new mxImage(bootstrap.imageUrl+"/icons/process/step_copy.png",18,18));c.cursor="hand";c.offset=a.canEdit()?new mxPoint(-44,0):new mxPoint(-22,0);c.align=mxConstants.ALIGN_RIGHT;
c.verticalAlign=mxConstants.ALIGN_TOP;c.addListener(mxEvent.CLICK,mxUtils.bind(this,function(){a.data.id&&!a.graphEditor.isActivityChanged(a)?a.copyActivity():new b({message:i18n("This step has been edited. Please save the process before copying this step.")})}));this.graph.addCellOverlay(this.cell,c)},destroy:function(){this.inherited(arguments);var a=this.graph.getModel();a.beginUpdate();this.graph.removeCells([this.cell],!0);a.endUpdate();if(this.edgePlaceholder){var a=this.edgePlaceholder,b=a.to;
a.from.parent&&b.parent&&this.graphEditor.restoreEdge(a)}this.edgePlaceholder=null;this.readOnly||this.setGraphHasChanges()},sizeCell:function(a,b){var c=this.graph.getModel().getGeometry(this.cell);if(a&&b)c.height=a,c.width=b;else{var h=this.graph.getPreferredSizeForCell(this.cell);c.height=h.height;c.width=h.width}},updateLabel:function(){var a=this.graph.getModel();a.beginUpdate();this.graph.labelChanged(this.cell,util.escape(this.getLabel()));this.graph.refresh();a.endUpdate()},removePropertyField:function(a,
b){var c="runtime_switch_"+b,h="config_switch_"+b;a.hasField(c)&&a.removeField(c);a.hasField(h)&&a.removeField(h);a.hasField(b)&&a.removeField(b)},createPropertyDialog:function(a){var b=this;void 0===a&&(a={});if(void 0===a.title)a.title=i18n("Edit Properties");if(void 0===a.closable)a.closable=!0;if(void 0===a.draggable)a.draggable=!0;a=new q(a);a.on("hide",function(){b.initialized||b.destroy()});return a},createPropertyForm:function(a){var b=this;void 0===a&&(a={});if(void 0===a.saveLabel)a.saveLabel=
i18n("OK");var c=a.dialog;if(!c)throw"Internal Error: Plugin must specify a dialog to attach it's property form to.";var d=new h(a);d.on("cancel",function(){b.initialized||b.destroy();c.hide();d.destroy();c.destroy()});return d},addPropertyField:function(a,b,h,n){var o="runtime_switch_"+b.name,f=new c,q=e.create("a",{"class":"linkPointer",innerHTML:i18n("Prompt for a value on use"),style:{marginBottom:"5px"}},f.domAttach),j={name:o,widget:f,label:""},k="config_switch_"+b.name,f=new c,z=e.create("a",
{"class":"linkPointer",innerHTML:i18n("Set a value here"),style:{marginBottom:"5px"}},f.domAttach),l={name:k,widget:f,label:b.label?b.label.escape():b.label};d(q,"click",function(){a.addField(l,b.name);a.removeField(o);a.removeField(b.name)});d(z,"click",function(){a.addField(b,k);config.data.systemConfiguration.enablePromptOnUse&&a.addField(j,k);a.removeField(k)});h?(a.addField(b,n),!this.readOnly&&config.data.systemConfiguration.enablePromptOnUse&&a.addField(j,n)):a.addField(l,n)},validateName:function(a){var b=
this,c=[];0<=a.indexOf("/")&&c.push(i18n("The name may not contain the following characters: /"));m.forEach(b.graphEditor.getChildrenByName(a),function(a){a.cell!==b.cell&&c.push(i18n("That name is already in use by another activity in this process. Please choose a unique name."))});return c},getChildData:function(){var a={};this.data.children&&1===this.data.children.length&&(a=this.data.children[0]);return a},getChildChildData:function(){var a=this.getChildData(),b={};a.children&&1===a.children.length&&
(b=a.children[0]);return b}})})},"deploy/widgets/navigation/Applications":function(){define(["dojo/dom-construct","dojo/_base/kernel","dojo/_base/xhr","dojox/html/entities"],function(l,m,k,j){m.provide("deploy.widgets.navigation.Applications");config.data.tabSets.push({id:"applications",hashPattern:["tab"],breadcrumbs:["home","topLevelTab"],selectedTopLevelTab:"applications",defaultTab:"applications",tabs:[{id:"applications",label:i18n("Applications"),view:"deploy/views/application/applicationList"},
{id:"templates",label:i18n("Templates"),view:"deploy/views/applicationTemplate/applicationTemplateList"}]});config.data.tabSets.push({id:"application",hashPattern:["application","tab"],breadcrumbs:["home","topLevelTab","application"],selectedTopLevelTab:"applications",getDetailTitle:function(){return j.encode(i18n("Application: %s",util.applyBTD(appState.application.name)))},getDetailFields:function(){var f=[{label:i18n("Created By"),value:j.encode(appState.application.user)},{label:i18n("Created On"),
value:util.dateFormatShort(appState.application.created)}],e=appState.application.template;e&&f.push({label:i18n("Template"),value:'<a href="#applicationTemplate/'+e.id+"/"+e.version+'">'+j.encode(e.name)+"</a>"});return f},getDetailDescription:function(){return j.encode(appState.application.description)},stateCalls:[{targetAppStateEntry:"application",getUrl:function(f){return bootstrap.restUrl+"deploy/application/"+f.application}}],defaultTab:"environments",tabs:[{id:"environments",label:i18n("Environments"),
view:"deploy/views/application/applicationEnvironments"},{id:"history",label:i18n("History"),view:"deploy/views/application/applicationHistory"},{id:"configuration",label:i18n("Configuration"),className:"configurationTab",view:"deploy/views/application/applicationConfiguration"},{id:"components",label:i18n("Components"),view:"deploy/views/application/applicationComponents"},{id:"blueprints",label:i18n("Blueprints"),view:"deploy/views/application/applicationBlueprints"},{id:"snapshots",label:i18n("Snapshots"),
view:"deploy/views/application/applicationSnapshots"},{id:"processes",label:i18n("Processes"),view:"deploy/views/application/applicationProcesses"},{id:"calendar",label:i18n("Calendar"),view:"deploy/views/application/applicationCalendar"},{id:"changes",label:i18n("Changes"),view:"deploy/views/application/applicationChangelog"},{id:"newSnapshot",label:"",view:"deploy/views/snapshot/editSnapshot",isVisible:function(){return!1}}]});config.data.tabSets.push({id:"applicationTemplate",hashPattern:["applicationTemplate",
"applicationTemplateVersion","tab","navData"],breadcrumbs:["home","applicationTemplates","applicationTemplate"],selectedTopLevelTab:"applications",getDetailTitle:function(){return i18n("Application Template: %s",appState.applicationTemplate.name.escape())},getDetailFields:function(){var f=[];f.push({label:i18n("Version"),value:j.encode(i18n("%s of %s",appState.applicationTemplate.version,appState.applicationTemplate.versionCount))});f.push({label:"",value:util.vc.generateVersionControls(appState.applicationTemplate,
function(e){return"applicationTemplate/"+appState.applicationTemplate.id+"/"+e})});return f},getDetailDescription:function(){return j.encode(appState.applicationTemplate.description)},stateCalls:[{targetAppStateEntry:"applicationTemplate",getUrl:function(f,e){e.applicationTemplateVersion={id:f.applicationTemplateVersion};return bootstrap.restUrl+"deploy/applicationTemplate/"+f.applicationTemplate+"/"+f.applicationTemplateVersion}},{getUrl:function(f,e){e.goBack={id:f.navData}}}],getPageAlerts:function(){var f=
[],e=!1,d=l.create("div");l.create("div",{innerHTML:i18n("You can take more steps to enhance this application template and guide users through the application creation process:")},d);var c=l.create("ul",{},d);0===appState.applicationTemplate.tagRequirements.length&&(l.create("li",{innerHTML:i18n("Select component tags to require users to assign components to their applications.")},c),e=!0);!1===appState.applicationTemplate.hasProcess&&(l.create("li",{innerHTML:i18n("Create an application process to deploy components or run other processes.")},
c),e=!0);0===appState.applicationTemplate.environmentTemplates.length&&(l.create("li",{innerHTML:i18n("Create environment templates to define the resource tree and allow users to add agents to it.")},c),e=!0);e&&f.push({className:"lowPriority",html:d});l.create("div",{innerHTML:i18n('Confirm that the permissions are correctly set for the roles that are used to create applications from this template. For more information about these permissions, open the documentation and search for "Permissions reference for using application templates."')},
d);return f},defaultTab:"applications",tabs:[{id:"applications",label:i18n("Applications"),view:"deploy/views/applicationTemplate/applicationTemplateApplications"},{id:"configuration",label:i18n("Configuration"),view:"deploy/views/applicationTemplate/applicationTemplateConfiguration"},{id:"processes",label:i18n("Processes"),view:"deploy/views/applicationTemplate/applicationTemplateProcesses"},{id:"environmentTemplates",label:i18n("Environment Templates"),view:"deploy/views/applicationTemplate/applicationTemplateEnvironmentTemplates"},
{id:"changes",label:i18n("Changes"),view:"deploy/views/applicationTemplate/applicationTemplateChangeLog"}]});config.data.breadcrumbItems.push({id:"appOrTmpl",getHash:function(){var f="";appState.application?f="applications":appState.applicationTemplate&&(f="applications/templates");return f},getLabel:function(){var f="";appState.application?f="Applications":appState.applicationTemplate&&(f="Application Templates");return f}});config.data.tabSets.push({id:"applicationProcess",hashPattern:["applicationProcess",
"applicationProcessVersion","tab","navData"],breadcrumbs:["home","appOrTmpl","applicationOrTemplate","applicationProcesses","applicationProcess"],selectedTopLevelTab:"applications",getDetailTitle:function(){return j.encode(i18n("Process: %s",appState.applicationProcess.name))},getDetailFields:function(){return[{label:i18n("Version"),value:i18n("%s of %s",appState.applicationProcess.version,appState.applicationProcess.versionCount)},{label:"",value:util.vc.generateVersionControls(appState.applicationProcess,
function(f){return"applicationProcess/"+appState.applicationProcess.id+"/"+f})}]},getDetailDescription:function(){return j.encode(appState.applicationProcess.description)},stateCalls:[{targetAppStateEntry:"applicationProcess",getUrl:function(f,e){e.applicationProcessVersion={id:f.applicationProcessVersion};return bootstrap.restUrl+"deploy/applicationProcess/"+f.applicationProcess+"/"+f.applicationProcessVersion},postGet:function(f,e){e.application=f.application;e.applicationTemplate=f.applicationTemplate}},
{getUrl:function(f,e){e.goBack={id:f.navData}}}],defaultTab:"activities",tabs:[{id:"activities",label:i18n("Design"),view:"deploy/views/applicationProcess/applicationProcessActivities"},{id:"configuration",label:i18n("Configuration"),className:"configurationTab",view:"deploy/views/applicationProcess/applicationProcessConfiguration"},{id:"inventoryChanges",label:i18n("Inventory Changes"),view:"deploy/views/applicationProcess/applicationProcessInventoryChanges",isVisible:function(){var f=!1;appState.application&&
(f=appState.application.security["Edit Basic Settings"]&&"ADVANCED"!==appState.applicationProcess.inventoryManagementType);return f}},{id:"changes",label:i18n("Changes"),view:"deploy/views/applicationProcess/applicationProcessChangelog"}]});config.data.tabSets.push({id:"environment",hashPattern:["environment","tab"],breadcrumbs:["home","topLevelTab","application","environments","environment"],selectedTopLevelTab:"applications",getDetailTitle:function(){return i18n("Environment: %s for %s",j.encode(appState.environment.name),
j.encode(appState.application.name))},getDetailDescription:function(){return j.encode(appState.environment.description)},getDetailFields:function(){var f=[];appState.environment.blueprint&&f.push({label:i18n("Blueprint"),value:appState.environment.blueprint.name.escape()});return f},stateCalls:[{targetAppStateEntry:"environment",getUrl:function(f){return bootstrap.restUrl+"deploy/environment/"+f.environment},postGet:function(f,e){e.application=f.application}}],defaultTab:"main",tabs:[{id:"main",label:i18n("Resources"),
view:"deploy/views/environment/environmentMain"},{id:"history",label:i18n("History"),view:"deploy/views/environment/environmentHistory"},{id:"calendar",label:i18n("Calendar"),view:"deploy/views/environment/environmentCalendar"},{id:"configuration",label:i18n("Configuration"),className:"configurationTab",view:"deploy/views/environment/environmentConfiguration"},{id:"approvals",label:i18n("Approval Process"),view:"deploy/views/environment/editEnvironmentApprovalProcess",isVisible:function(){return appState.environment.requireApprovals}},
{id:"changes",label:i18n("Changes"),view:"deploy/views/environment/environmentChangelog"}]});config.data.tabSets.push({id:"environmentTemplate",hashPattern:["environmentTemplate","environmentTemplateVersion","tab","navData"],breadcrumbs:["home","applicationTemplates","applicationTemplate","environmentTemplates","environmentTemplate"],selectedTopLevelTab:"applications",getDetailTitle:function(){return i18n("Environment Template: %s for %s",j.encode(appState.environmentTemplate.name),j.encode(appState.applicationTemplate.name))},
getDetailFields:function(){var f=[];f.push({label:i18n("Version"),value:j.encode(i18n("%s of %s",appState.environmentTemplate.version,appState.environmentTemplate.versionCount))});f.push({label:"",value:util.vc.generateVersionControls(appState.environmentTemplate,function(e){return"environmentTemplate/"+appState.environmentTemplate.id+"/"+e})});return f},getDetailDescription:function(){return j.encode(appState.environmentTemplate.description)},stateCalls:[{targetAppStateEntry:"environmentTemplate",
getUrl:function(f,e){e.environmentTemplateVersion={id:f.environmentTemplateVersion};return bootstrap.restUrl+"deploy/environmentTemplate/"+f.environmentTemplate+"/"+f.environmentTemplateVersion},postGet:function(f,e){e.applicationTemplate=f.applicationTemplate}},{getUrl:function(f,e){e.goBack={id:f.navData}}}],defaultTab:"configuration",tabs:[{id:"configuration",label:i18n("Configuration"),view:"deploy/views/environmentTemplate/environmentTemplateConfiguration"},{id:"resourceTemplate",label:i18n("Resource Template"),
view:"deploy/views/environmentTemplate/environmentTemplateResourceTemplate"},{id:"approvalProcess",label:i18n("Approval Process"),view:"deploy/views/environmentTemplate/editEnvironmentTemplateApprovalProcess",isVisible:function(){return appState.environmentTemplate.requireApprovals}},{id:"changes",label:i18n("Changes"),view:"deploy/views/environmentTemplate/environmentTemplateChangeLog"}]});config.data.tabSets.push({id:"environmentPropSheet",hashPattern:["environment","component","environmentPropSheetVersion",
"tab"],breadcrumbs:["home","topLevelTab","application","environments","environment"],selectedTopLevelTab:"applications",getDetailTitle:function(){return i18n("Historical Properties for %s",j.encode(appState.environment.name))},getDetailFields:function(){var f=[];f.push({label:i18n("Version"),value:i18n("%s of %s",appState.environmentPropSheet.version,appState.environmentPropSheet.versionCount)});f.push({label:"",value:util.vc.generateVersionControls(appState.environmentPropSheet,function(e){return"environmentPropSheet/"+
appState.environment.id+"/"+appState.component.id+"/"+e})});return f},stateCalls:[{targetAppStateEntry:"environmentPropSheet",getUrl:function(f,e){e.environmentPropSheetVersion={id:f.environmentPropSheetVersion};return bootstrap.restUrl+"deploy/environmentPropSheet/"+f.environment+"/"+f.component+"/"+f.environmentPropSheetVersion}},{targetAppStateEntry:"environment",getUrl:function(f,e){e.environmentPropSheetVersion={id:f.environmentPropSheetVersion};return bootstrap.restUrl+"deploy/environment/"+
f.environment},postGet:function(f,e){e.application=f.application}},{targetAppStateEntry:"component",getUrl:function(f,e){e.environmentPropSheetVersion={id:f.environmentPropSheetVersion};return bootstrap.restUrl+"deploy/component/"+f.component}}],defaultTab:"properties",tabs:[{id:"properties",label:i18n("Properties"),view:"deploy/views/environmentPropSheet/environmentPropSheet"}]});config.data.tabSets.push({id:"environmentComparison",hashPattern:["environment","compareEnvironment","tab"],breadcrumbs:["home",
"topLevelTab","application","environments"],selectedTopLevelTab:"applications",getDetailTitle:function(){return i18n("Environment Comparison: %s and %s",j.encode(appState.environment.name),j.encode(appState.compareEnvironment.name))},stateCalls:[{targetAppStateEntry:"environment",getUrl:function(f){return bootstrap.restUrl+"deploy/environment/"+f.environment},postGet:function(f,e){e.application=f.application}},{targetAppStateEntry:"compareEnvironment",getUrl:function(f){return bootstrap.restUrl+"deploy/environment/"+
f.compareEnvironment}}],defaultTab:"versions",tabs:[{id:"versions",label:i18n("Versions"),view:"deploy/views/environmentComparison/environmentVersionComparison"},{id:"files",label:i18n("Files"),view:"deploy/views/environmentComparison/environmentFileComparison"},{id:"configuration",label:i18n("Configuration"),view:"deploy/views/environmentComparison/environmentConfigComparison"}]});config.data.tabSets.push({id:"snapshot",hashPattern:["snapshot","tab"],breadcrumbs:["home","topLevelTab","application",
"snapshots","snapshot"],selectedTopLevelTab:"applications",getDetailTitle:function(){return i18n("Snapshot: %s",j.encode(appState.snapshot.name))},getDetailFields:function(){var f=[];f.push({label:i18n("Versions Locked"),value:appState.snapshot.versionsLocked?i18n("Yes"):i18n("No")});f.push({label:i18n("Configuration Locked"),value:appState.snapshot.configLocked?i18n("Yes"):i18n("No")});return f},getDetailDescription:function(){return j.encode(appState.snapshot.description)},stateCalls:[{targetAppStateEntry:"snapshot",
getUrl:function(f){return bootstrap.restUrl+"deploy/snapshot/"+f.snapshot},postGet:function(f,e){e.application=f.application}}],defaultTab:"dashboard",tabs:[{id:"dashboard",label:i18n("Dashboard"),view:"deploy/views/snapshot/snapshotDashboard"},{id:"versions",label:i18n("Component Versions"),view:"deploy/views/snapshot/snapshotVersions"},{id:"configuration",label:i18n("Configuration"),className:"configurationTab",view:"deploy/views/snapshot/snapshotConfiguration"},{id:"calendar",label:i18n("Calendar"),
view:"deploy/views/snapshot/snapshotCalendar"}]});config.data.tabSets.push({id:"snapshotComparison",hashPattern:["snapshot","compareSnapshot","tab"],breadcrumbs:["home","topLevelTab","application","snapshots"],selectedTopLevelTab:"applications",getDetailTitle:function(){return i18n("Snapshot Comparison: %s %s and %s",j.encode(appState.application.name),j.encode(appState.snapshot.name),j.encode(appState.compareSnapshot.name))},stateCalls:[{targetAppStateEntry:"snapshot",getUrl:function(f){return bootstrap.restUrl+
"deploy/snapshot/"+f.snapshot},postGet:function(f,e){e.application=f.application}},{targetAppStateEntry:"compareSnapshot",getUrl:function(f){return bootstrap.restUrl+"deploy/snapshot/"+f.compareSnapshot}}],defaultTab:"versions",tabs:[{id:"versions",label:i18n("Versions"),view:"deploy/views/snapshotComparison/snapshotVersionComparison"},{id:"configuration",label:i18n("Configuration"),view:"deploy/views/snapshotComparison/snapshotConfigComparison"},{id:"properties",label:i18n("Properties"),view:"deploy/views/snapshotComparison/snapshotPropertyComparison"},
{id:"files",label:i18n("Compare Files"),view:"deploy/views/snapshotComparison/snapshotFileComparison"}]});config.data.breadcrumbItems.push({id:"application",getHash:function(){return"application/"+appState.application.id},isUserData:!0,getLabel:function(){return j.encode(appState.application.name)}});config.data.breadcrumbItems.push({id:"applicationTemplates",getHash:function(){return"applications/templates"},isUserData:!1,getLabel:function(){return i18n("Application Templates")}});config.data.breadcrumbItems.push({id:"applicationTemplate",
getHash:function(){return"applicationTemplate/"+appState.applicationTemplate.id+"/-1"},isUserData:!0,getLabel:function(){return j.encode(appState.applicationTemplate.name)}});config.data.breadcrumbItems.push({id:"applicationOrTemplate",getHash:function(){var f="";appState.application?f="application/"+appState.application.id:appState.applicationTemplate&&(f="applicationTemplate/"+appState.applicationTemplate.id+"/-1");return f},isUserDate:!0,getLabel:function(){var f="";appState.application?f=j.encode(appState.application.name):
appState.applicationTemplate&&(f=j.encode(appState.applicationTemplate.name));return f}});config.data.breadcrumbItems.push({id:"applicationProcesses",getHash:function(){var f="";appState.application?f="application/"+appState.application.id+"/processes":appState.applicationTemplate&&(f="applicationTemplate/"+appState.applicationTemplate.id+"/-1/processes");return f},isUserData:!1,getLabel:function(){return i18n("Processes")}});config.data.breadcrumbItems.push({id:"environments",getHash:function(){return"application/"+
appState.application.id+"/environments"},isUserData:!1,getLabel:function(){return i18n("Environments")}});config.data.breadcrumbItems.push({id:"environmentTemplates",getHash:function(){return"applicationTemplate/"+appState.applicationTemplate.id+"/-1/environmentTemplates"},isUserData:!1,getLabel:function(){return i18n("Environment Templates")}});config.data.breadcrumbItems.push({id:"environmentTemplate",getHash:function(){return"environmentTemplate/"+appState.environmentTemplate.id+"/-1"},isUserData:!0,
getLabel:function(){return j.encode(appState.environmentTemplate.name)}});config.data.breadcrumbItems.push({id:"snapshots",getHash:function(){return"application/"+appState.application.id+"/snapshots"},isUserData:!1,getLabel:function(){return i18n("Snapshots")}});config.data.breadcrumbItems.push({id:"applicationProcess",getHash:function(){return"applicationProcess/"+appState.applicationProcess.id},isUserData:!1,getLabel:function(){return i18n("Process: %s",appState.applicationProcess.name.escape())}});
config.data.breadcrumbItems.push({id:"environment",getHash:function(){return"environment/"+appState.environment.id},isUserData:!1,getLabel:function(){return i18n("Environment: %s",appState.environment.name.escape())}});config.data.breadcrumbItems.push({id:"snapshot",getHash:function(){return"snapshot/"+appState.snapshot.id},isUserData:!1,getLabel:function(){return i18n("Snapshot: %s",appState.snapshot.name.escape())}})})},"js/util/blocker/BlockingContainer":function(){define("js/util/blocker/BlockingContainer",
["dojo/_base/declare","dijit/_WidgetBase","dijit/_Container","js/util/blocker/_BlockerMixin"],function(l,m,k,j){return l([j,m,k],{})})},"deploy/widgets/settings/AuditLog":function(){define("dojo/_base/declare,dojo/_base/connect,dojo/io-query,dijit/_Widget,dijit/_TemplatedMixin,dojo/dom-class,dojo/dom-construct,dojo/on,dojo/_base/xhr,dojo/topic,dijit/form/Button,dijit/form/CheckBox,deploy/widgets/component/EditComponent,deploy/widgets/Formatters,js/webext/widgets/Alert,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/table/TreeTable,js/webext/widgets/ColumnForm".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u){return l([j,f],{templateString:'<div class="componentList"><div class="listTopButtons" data-dojo-attach-point="buttonTopAttach"></div><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var a=this,b=[{name:i18n("Date"),field:"date",formatter:util.tableDateFormatter,orderField:"date",getRawValue:function(a){return new Date(a.date)},filterField:"date",filterType:"date",filterClass:"Long"},{name:i18n("User Name"),
field:"userName",orderField:"userName",filterField:"userName",filterType:"textExact"},{name:i18n("Event Type"),field:"eventType",orderField:"eventType",filterField:"eventType",filterType:"textExact"},{name:i18n("Description"),field:"description",orderField:"description",filterField:"description",filterType:"textExact"},{name:i18n("Object Type"),field:"objType",orderField:"objType",filterField:"objType",filterType:"textExact"},{name:i18n("Object Name"),field:"objName",orderField:"objName",filterField:"objName",
filterType:"textExact"},{name:i18n("Status"),field:"status",orderField:"status",filterField:"status",filterType:"textExact",formatter:function(a,b){return i18n(b)}},{name:i18n("IP Address"),filterField:"ipAddress",field:"ipAddress",filterType:"text",formatter:function(a){(a=a.ipAddress)||(a=i18n("Not Available"));return a}}];this.grid=new w({url:bootstrap.restUrl+"auditentry",noDataMessage:i18n("No Audit Entries Found."),tableConfigKey:"auditEntryTable",sortType:"desc",orderField:"date",columns:b,
hidePagination:!1,hideExpandCollapse:!0});this.grid.placeAt(this.gridAttach);var c={label:i18n("Cleanup Log"),showTitle:!1,onClick:function(){a.showCleanupLogDialog()}},b={label:i18n("Download As CSV"),showTitle:!1,onClick:function(){util.downloadFile(bootstrap.restUrl+"auditentry/csv?"+k.objectToQuery(a.grid._getQueryData()))}},c=new h(c);e.add(c.domNode,"idxButtonSpecial");c.placeAt(this.buttonTopAttach);(new h(b)).placeAt(this.buttonTopAttach)},destroy:function(){this.inherited(arguments);this.grid.destroy()},
showCleanupLogDialog:function(){var a=this,b=new r({title:i18n("Cleanup Audit Log"),closable:!0,draggable:!0}),c=new u({submitUrl:bootstrap.restUrl+"auditentry/",addData:function(a){if(a.date&&a.time)a.date=util.combineDateAndTime(a.date,a.time).valueOf()},postSubmit:function(){b.hide();b.destroy();a.grid.refresh()},onError:function(a){new s({title:i18n("Error"),messages:[i18n("An error has occurred while cleaning the audit log:"),"",util.escape(a.responseText)]})},onCancel:function(){b.hide();b.destroy()},
saveLabel:i18n("Submit")});c.addField({name:"date",label:i18n("Date"),required:!0,type:"Date"});c.addField({name:"time",label:i18n("Time"),required:!0,type:"Time"});c.placeAt(b);b.show()}})})},"dijit/form/DateTextBox":function(){define("dijit/form/DateTextBox",["dojo/_base/declare","../Calendar","./_DateTimeTextBox"],function(l,m,k){return l("dijit.form.DateTextBox",k,{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:m,_selector:"date",value:new Date("")})})},"js/webext/widgets/table/_TableFilteringMixin":function(){define("js/webext/widgets/table/_TableFilteringMixin",
"dojo/_base/declare,dojo/_base/array,dojo/on,dojo/keys,dojo/dom-attr,dojo/dom-class,dojo/dom-construct,dijit/form/DateTextBox,dijit/form/FilteringSelect,dijit/form/Select,dijit/form/TextBox,dojox/data/JsonRestStore".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q){return l(null,{baseFilters:[],columns:[],filterAttach:null,draggable:!1,hasAnyFilterValues:!1,alwaysShowFilters:!0,_filterFields:[],_filterWidgets:[],_prevFilterFields:[],getItemsMatchingFilters:function(){var a=[];m.forEach(this.rowObjectList,
function(b){(b.matchesFilters||b.item&&b.item.matchesFilters)&&a.push(b.item)});return a},initFilteringMixin:function(){this._filterFields=[];this._filterWidgets=[];var a=!1;m.forEach(this.columns,function(b){b.filterField&&(a=!0)});a&&(this.drawFilterHiddenRow(),this.alwaysShowFilters&&this.drawFilters())},drawFilterHiddenRow:function(){var a=this;d.empty(this.filterAttach);var b=d.create("td");b.colSpan=this.draggable?this.columns.length+1:this.columns.length;var c=d.create("a");e.add(c,"linkPointer");
c.innerHTML=i18n("Show Filters");c.onclick=function(){a.drawFilters()};b.appendChild(c);this.filterAttach.appendChild(b)},drawFilters:function(){var e=this;d.empty(this.filterAttach);this.draggable&&d.create("td",{},this.filterAttach);m.forEach(this.columns,function(n){var s=d.create("td"),r=d.create("div");r.style.position="relative";if(n===e.columns[0]&&!e.alwaysShowFilters){var t=d.create("div",{style:{position:"absolute",top:"3px",left:"3px"}}),w=d.create("a",{"class":"linkPointer"},t);e._createImg("icon_delete",
w);w.alt=i18n("Clear and hide filters");w.onclick=function(){e.drawFilterHiddenRow();e._filterFields=[];e.redraw()};r.appendChild(t)}if(n.filterField){var u=null,x=null;switch(n.filterType){case "filteringSelect":t=new q({target:n.filterUrl,idAttribute:"name"});u=new b({name:n.filterField,store:t,autoComplete:!1,required:!1,onChange:function(a){var b=util.getNamedProperty(e._filterFields,n.filterField);void 0!==b&&util.removeFromArray(e._filterFields,b);e._filterFields.push({name:n.filterField,type:"eq",
className:n.filterClass,values:[a]});(void 0===b&&a||void 0!==b&&b.values[0]!==a)&&e.applyFilters()}});break;case "text":case "textExact":u=new h({name:n.filterField,style:{width:"70%"},onChange:function(a){var b=util.getNamedProperty(e._filterFields,n.filterField);void 0!==b&&util.removeFromArray(e._filterFields,b);if(a){var c="like";"textExact"===n.filterType&&(c="eq");e._filterFields.push({name:n.filterField,type:c,className:n.filterClass,values:[a]})}(void 0===b&&a||void 0!==b&&b.values[0]!==
a)&&e.applyFilters()},onKeyPress:function(a){if(13===a.charOrCode)this.onChange(u.textbox.value)},onBlur:function(){this.onChange(u.textbox.value)}});break;case "select":var v=[{label:i18n("Any"),value:"Any"}];m.forEach(n.filterOptions,function(a){v.push(a)});u=new a({name:n.filterField,options:v,onChange:function(a){var b=util.getNamedProperty(e._filterFields,n.filterField);void 0!==b&&util.removeFromArray(e._filterFields,b);var c=a;"_EMPTY_VALUE_"===a&&(c="");a=void 0!==c&&null!==c;"Any"!==c&&e._filterFields.push({name:n.filterField,
type:"eq",className:n.filterClass,values:[c]});(void 0===b&&a||void 0!==b&&b.values[0]!==c)&&e.applyFilters()}});break;case "date":u=new c({name:n.filterField+"_low",onChange:function(a){var a=a?a.getTime():0,b=util.getNamedProperty(e._filterFields,n.filterField);void 0===b&&e._filterFields.push({name:n.filterField,type:"range",className:n.filterClass});b=util.getNamedProperty(e._filterFields,n.filterField);void 0===b.values?(b.values=[],b.values[0]={low:a,high:(new Date).getTime()}):b.values[0].low=
a;e.applyFilters()},onKeyPress:function(a){13===a.charOrCode&&(u.textbox.value?u.set("value",new Date(u.textbox.value)):u.set("value",null))}});x=new c({name:n.filterField+"_hi",onChange:function(a){var a=a?a.getTime()+864E5:(new Date).getTime(),b=util.getNamedProperty(e._filterFields,n.filterField);void 0===b&&e._filterFields.push({name:n.filterField,type:"range",className:n.filterClass});b=util.getNamedProperty(e._filterFields,n.filterField);void 0===b.values?(b.values=[],b.values[0]={high:a,low:0}):
b.values[0].high=a;e.applyFilters()},onKeyPress:function(a){13===a.charOrCode&&(x.textbox.value?x.set("value",new Date(x.textbox.value)):x.set("value",null))}});break;case "custom":if(!n.getFilterFields)throw"Column has no getFilterFields.";u=n.getFilterFields();if(!u.length)throw console.error("filterWidget",u),"Expected array returned from getFilterFields, instead found "+typeof u;m.forEach(u,function(a){if(!a.get("name"))a.name=util.randomString(30);k(a,"change",function(){e._customFilter(u,n)});
k(a,"keypress",function(a){switch(a.charOrCode){case j.ENTER:e._customFilter(u,n)}})});break;default:console.error("Unexpected filterType: "+n.filterType)}t=util.getNamedProperty(e._filterFields,n.filterField);void 0!==t&&(null!==x?u.set("value",t.values[0].low):u.set("value",t.values[0]));u.length?m.forEach(u,function(a){e._filterWidgets.push(a);a.placeAt(r);f.set(a.domNode,"data-field-name",a.name)}):(e._filterWidgets.push(u),u.placeAt(r),f.set(u.domNode,"data-field-name",u.name));null!==x&&(void 0!==
t&&x.set("value",t.values[0].high),d.create("span",{innerHTML:"&nbsp;-&nbsp;"},r),x.placeAt(r),f.set(x.domNode,"data-field-name",x.name))}else d.create("div",{innerHTML:"&nbsp;",style:{height:"16px"}},r);s.appendChild(r);e.filterAttach.appendChild(s)})},_customFilter:function(a,b){var c=this,h=b.filterClass,d=!1;m.forEach(a,function(a){var e=a.get("name"),o=util.getNamedProperty(c._filterFields,e);void 0!==o&&util.removeFromArray(c._filterFields,o);var f=a.get("values");if(void 0===f){var q=a.get("value");
q&&(f=[q])}f&&c._filterFields.push({name:e,column:b,widget:a,type:a.get("type"),className:h,values:f});if(!d){var j=[],a=[];f&&(a=a.concat(f));o&&o.values&&(j=j.concat(o.values));a.length!==j.length?d=!0:m.forEach(a,function(a,b){a!==j[b]&&(d=!0)})}});d&&c.applyFilters()},setFilterValue:function(a,b,c,h){var d;m.forEach(this._filterWidgets,function(c){if(c.name===a)c.value=b,d=c});var e;void 0===d&&m.forEach(this._filterFields,function(d){if(d.name===a)e=d,d.values=b,d.className=h,d.type=c});void 0===
e&&this._filterFields.push({name:a,values:b,type:c,className:h});this.redraw()},applyFilters:function(){this.pageNumber=1;this.redraw()},adjustFilters:function(){},getFilterData:function(a){var b=this.rowsPerPage,c=this.pageNumber;this.hidePagination&&(b=1E4,c=1);var h={rowsPerPage:b,pageNumber:c,orderField:this.orderField,sortType:this.sortType,filterFields:[]};if(this.filters&&!this.baseFilters)this.baseFilters=this.filters;if(!a)a=this.baseFilters;m.forEach(a,function(a){h.filterFields.push(a.name);
var b=[];m.forEach(a.values,function(a){b.push(a)});h["filterValue_"+a.name]=b;h["filterType_"+a.name]=a.type;h["filterClass_"+a.name]=void 0!==a.className?a.className:"String"});m.forEach(this._filterFields,function(a){h.filterFields.push(a.name);var b=[];m.forEach(a.values,function(a){a instanceof Object?(b.push(a.low),b.push(a.high)):b.push(a)});h["filterValue_"+a.name]=b;h["filterType_"+a.name]=a.type;h["filterClass_"+a.name]=void 0!==a.className?a.className:"String"});if(this._filterFields&&
!this._prevFilterFields||!this._filterFields&&this._prevFilterFields||this._filterFields.length!==this._prevFilterFields.length)this.totalRecords=void 0;else for(a=b=a=0;a<this._filterFields.length;a++){c=!1;for(b=0;b<this._prevFilterFields.length;b++)if(this._filterFields[a]===this._prevFilterFields[b]){c=!0;break}if(!c){this.totalRecords=void 0;break}}this.adjustFilters(h);return h},filter:function(a){var b=this,c=[];m.forEach(a,function(a){var h=b.filterPass(a.item);if(b.hasFilterValues())a.matchesFilters=
h;a.domNode&&(a.matchesFilters?e.add(a.domNode,"matchesFilters"):e.remove(a.domNode,"matchesFilters"));var d=b.filter(a.children);0<d.length||h?(c.push(a),a.visible=!0):b.hasParentMatchingFilters(a)?a.visible=!0:(a.visible=!1,b.hideRow(a));0<d.length&&b.hasFilterValues()&&-1===b.expandedNodeList.indexOf(a.id)&&b.expandedNodeList.push(a.id);!h&&0===d.length&&-1!==b.expandedNodeList.indexOf(a.id)&&util.removeFromArray(b.expandedNodeList,a.id)});return c},hasParentMatchingFilters:function(a){var b=!1;
a.matchesFilters?b=!0:a.parent&&(b=this.hasParentMatchingFilters(a.parent));return b},filterPass:function(a){var b=this,c=!0;this.itemPasses&&!this.itemPasses(a)?c=!1:this.hasFilterValues()&&m.forEach(this._filterFields,function(h){var d;m.forEach(b.columns,function(a){if(a.filterField===h.name||a===h.column)d=a});var e=!1;if(void 0===d)console.error("Filtered field "+h.name+" had no column match.");else if(h.widget&&h.widget.filterPass)e=h.widget.filterPass(a,h.values);else{var f;f=d.getRawValue?
d.getRawValue(a):a[d.filterField];if(null===f||void 0===f)f="";m.forEach(h.values,function(a){var b,c;"eq"===h.type?a===f&&(e=!0):"like"===h.type?-1!==f.toLowerCase().indexOf(a.toLowerCase())&&(e=!0):"daterange"===h.type?(b=a.high?a.high.getTime():9007199254740992,a=a.low?a.low.getTime():0,c=Number(f),c<=b&&c>=a&&(e=!0)):"range"===h.type&&(b=a.high?Number(a.high):9007199254740992,a=a.low?Number(a.low):0,c=Number(f),c<=b&&c>=a&&(e=!0))})}e||(c=!1)});return c},hasFilterValues:function(){return 0!==
this._filterFields.length}})})},"dijit/Calendar":function(){define("dijit/Calendar","dojo/_base/array,dojo/date,dojo/date/locale,dojo/_base/declare,dojo/dom-attr,dojo/dom-class,dojo/_base/event,dojo/_base/kernel,dojo/keys,dojo/_base/lang,dojo/sniff,./CalendarLite,./_Widget,./_CssStateMixin,./_TemplatedMixin,./form/DropDownButton".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r){var t=j("dijit.Calendar",[q,o,n],{cssStateNodes:{decrementMonth:"dijitCalendarArrow",incrementMonth:"dijitCalendarArrow",
previousYearLabelNode:"dijitCalendarPreviousYear",nextYearLabelNode:"dijitCalendarNextYear"},setValue:function(a){c.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",a)},_createMonthWidget:function(){return new t._MonthDropDownButton({id:this.id+"_mddb",tabIndex:-1,onMonthSelect:a.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,
"onkeydown","_onKeyDown");this.connect(this.dateRowsNode,"onmouseover","_onDayMouseOver");this.connect(this.dateRowsNode,"onmouseout","_onDayMouseOut");this.connect(this.dateRowsNode,"onmousedown","_onDayMouseDown");this.connect(this.dateRowsNode,"onmouseup","_onDayMouseUp")},_onMonthSelect:function(a){var b=new this.dateClassObj(this.currentFocus);b.setDate(1);b.setMonth(a);var a=this.dateModule.getDaysInMonth(b),c=this.currentFocus.getDate();b.setDate(Math.min(c,a));this._setCurrentFocusAttr(b)},
_onDayMouseOver:function(a){if((a=e.contains(a.target,"dijitCalendarDateLabel")?a.target.parentNode:a.target)&&(a.dijitDateValue&&!e.contains(a,"dijitCalendarDisabledDate")||a==this.previousYearLabelNode||a==this.nextYearLabelNode))e.add(a,"dijitCalendarHoveredDate"),this._currentNode=a},_onDayMouseOut:function(a){if(this._currentNode&&!(a.relatedTarget&&a.relatedTarget.parentNode==this._currentNode))a="dijitCalendarHoveredDate",e.contains(this._currentNode,"dijitCalendarActiveDate")&&(a+=" dijitCalendarActiveDate"),
e.remove(this._currentNode,a),this._currentNode=null},_onDayMouseDown:function(a){if((a=a.target.parentNode)&&a.dijitDateValue&&!e.contains(a,"dijitCalendarDisabledDate"))e.add(a,"dijitCalendarActiveDate"),this._currentNode=a},_onDayMouseUp:function(a){(a=a.target.parentNode)&&a.dijitDateValue&&e.remove(a,"dijitCalendarActiveDate")},handleKey:function(a){var c=-1,h,d=this.currentFocus;switch(a.keyCode){case b.RIGHT_ARROW:c=1;case b.LEFT_ARROW:h="day";this.isLeftToRight()||(c*=-1);break;case b.DOWN_ARROW:c=
1;case b.UP_ARROW:h="week";break;case b.PAGE_DOWN:c=1;case b.PAGE_UP:h=a.ctrlKey||a.altKey?"year":"month";break;case b.END:d=this.dateModule.add(d,"month",1),h="day";case b.HOME:d=new this.dateClassObj(d);d.setDate(1);break;case b.ENTER:case b.SPACE:this.set("value",this.currentFocus);break;default:return!0}h&&(d=this.dateModule.add(d,h,c));this._setCurrentFocusAttr(d);return!1},_onKeyDown:function(a){this.handleKey(a)||d.stop(a)},onValueSelected:function(){},onChange:function(a){this.onValueSelected(a)},
getClassForDate:function(){}});t._MonthDropDownButton=j("dijit.Calendar._MonthDropDownButton",r,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments);this.dropDown=new t._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect})},_setMonthAttr:function(a){var b=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a);this.dropDown.set("months",b);this.containerNode.innerHTML=(6==h("ie")?"":"<div class='dijitSpacer'>"+this.dropDown.domNode.innerHTML+"</div>")+
"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+b[a.getMonth()]+"</div>"}});t._MonthDropDown=j("dijit.Calendar._MonthDropDown",[o,s],{months:[],templateString:"<div class='dijitCalendarMonthMenu dijitMenu' data-dojo-attach-event='onclick:_onClick,onmouseover:_onMenuHover,onmouseout:_onMenuHover'></div>",_setMonthsAttr:function(a){this.domNode.innerHTML=l.map(a,function(a,b){return a?"<div class='dijitCalendarMonthLabel' month='"+b+"'>"+a+"</div>":""}).join("")},_onClick:function(a){this.onChange(f.get(a.target,
"month"))},onChange:function(){},_onMenuHover:function(a){e.toggle(a.target,"dijitCalendarMonthLabelHover","mouseover"==a.type)}});return t})},"dijit/form/Button":function(){require({cache:{"url:dijit/form/templates/Button.html":'<span class="dijit dijitReset dijitInline" role="presentation"\n\t><span class="dijitReset dijitInline dijitButtonNode"\n\t\tdata-dojo-attach-event="ondijitclick:_onClick" role="presentation"\n\t\t><span class="dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point="titleNode,focusNode"\n\t\t\trole="button" aria-labelledby="${id}_label"\n\t\t\t><span class="dijitReset dijitInline dijitIcon" data-dojo-attach-point="iconNode"></span\n\t\t\t><span class="dijitReset dijitToggleButtonIconChar">&#x25CF;</span\n\t\t\t><span class="dijitReset dijitInline dijitButtonText"\n\t\t\t\tid="${id}_label"\n\t\t\t\tdata-dojo-attach-point="containerNode"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type="${type}" value="${value}" class="dijitOffScreen"\n\t\ttabIndex="-1" role="presentation" data-dojo-attach-point="valueNode"\n/></span>\n'}});
define("dijit/form/Button","require,dojo/_base/declare,dojo/dom-class,dojo/has,dojo/_base/kernel,dojo/_base/lang,dojo/ready,./_FormWidget,./_ButtonMixin,dojo/text!./templates/Button.html".split(","),function(l,m,k,j,f,e,d,c,b,a){j("dijit-legacy-requires")&&d(0,function(){l(["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"])});return m("dijit.form.Button",[c,b],{showLabel:!0,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",
templateString:a,_setValueAttr:"valueNode",_onClick:function(a){var b=this.inherited(arguments);b&&this.valueNode&&(this.valueNode.click(),a.preventDefault(),a.stopPropagation());return b},_fillContent:function(a){if(a&&(!this.params||!("label"in this.params)))if(a=e.trim(a.innerHTML))this.label=a},_setShowLabelAttr:function(a){this.containerNode&&k.toggle(this.containerNode,"dijitDisplayNone",!a);this._set("showLabel",a)},setLabel:function(a){f.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.",
"","2.0");this.set("label",a)},_setLabelAttr:function(a){this.inherited(arguments);if(!this.showLabel&&!("title"in this.params))this.titleNode.title=e.trim(this.containerNode.innerText||this.containerNode.textContent||"")}})})},"dojo/main":function(){define("./_base/kernel,./has,require,./sniff,./_base/lang,./_base/array,./_base/config,./ready,./_base/declare,./_base/connect,./_base/Deferred,./_base/json,./_base/Color,./has!dojo-firebug?./_firebug/firebug,./_base/browser,./_base/loader".split(","),
function(l,m,k,j,f,e,d,c){d.isDebug&&k(["./_firebug/firebug"]);var b=d.require;b&&(b=e.map(f.isArray(b)?b:[b],function(a){return a.replace(/\./g,"/")}),l.isAsync?k(b):c(1,function(){k(b)}));return l})},"js/util/loading/LoadingSpinner":function(){define("js/util/loading/LoadingSpinner","dojo/_base/declare,dijit/_WidgetBase,dijit/_TemplatedMixin,dojo/dom-construct,dojo/dom-class,dojo/dom-style".split(","),function(l,m,k,j,f,e){return l([m,k],{templateString:'<span class="webext-spinner"><div class="" data-dojo-attach-point="spinnerAttach"></div></span>',
color:"black",postCreate:function(){this.inherited(arguments);this.changeColor(this.color);this.hide()},spin:function(d){var c=this;if(!this.intervalId){var b=0;this.intervalId=setInterval(function(){c.spinnerAttach&&(e.set(c.spinnerAttach,"-webkit-transform","rotate("+b+"deg)"),e.set(c.spinnerAttach,"mozTransform","rotate("+b+"deg)"),e.set(c.spinnerAttach,"-moz-transform","rotate("+b+"deg)"),e.set(c.spinnerAttach,"-ms-transform","rotate("+b+"deg)"),e.set(c.spinnerAttach,"-o-transform","rotate("+
b+"deg)"),e.set(c.spinnerAttach,"transform","rotate("+b+"deg)"));360===b&&(b=0);b+=4},10)}d&&this.intervalId&&setTimeout(function(){clearInterval(c.intervalId);c.spinnerAttach&&(e.set(c.spinnerAttach,"-webkit-transform","rotate(0deg)"),e.set(c.spinnerAttach,"mozTransform","rotate(0deg)"),e.set(c.spinnerAttach,"-moz-transform","rotate(0deg)"),e.set(c.spinnerAttach,"-ms-transform","rotate(0deg)"),e.set(c.spinnerAttach,"-o-transform","rotate(0deg)"),e.set(c.spinnerAttach,"transform","rotate(0deg)"));
delete c.intervalId},250)},show:function(){this.spin();f.contains(this.domNode,"hide-spinner")&&f.remove(this.domNode,"hide-spinner");f.add(this.domNode,"show-spinner")},hide:function(){f.contains(this.domNode,"show-spinner")&&f.remove(this.domNode,"show-spinner");f.add(this.domNode,"hide-spinner");this.spin(!0)},changeColor:function(d){d=d.toLowerCase();switch(d){case "white":break;case "blue":break;case "darkblue":break;default:d="black"}f.contains(this.spinnerAttach,this.color+"-spinner")&&f.remove(this.spinnerAttach,
this.color+"-spinner");f.add(this.spinnerAttach,d+"-spinner")}})})},"js/webext/widgets/table/TreeTable":function(){define("js/webext/widgets/table/TreeTable","dojo/_base/array,dojo/_base/declare,dojo/_base/event,dojo/_base/lang,dojo/_base/sniff,dojo/_base/xhr,dojo/aspect,dojo/dom-attr,dojo/dom-class,dojo/dom-geometry,dojo/dom-construct,dojo/dom-style,dojo/json,dojo/on,dojo/dnd/Manager,dojo/dnd/Source,dojo/query,dojo/io-query,dojo/topic,dojo/window,dijit/_TemplatedMixin,dijit/_Widget,dijit/_WidgetBase,dijit/registry,dojox/html/entities,js/util/blocker/_BlockerMixin,js/webext/widgets/table/_TableFilteringMixin,js/webext/widgets/table/_TableSortingMixin,js/webext/widgets/table/_TableSelectableMixin,js/webext/widgets/table/_TableConfigMixin,js/webext/widgets/table/_TableHeaderFooterMixin".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u,x,v,y,A,z,B,D,G,C,S,K,L){return m([y,v,D,G,C,K,L,S],{templateString:'<div style="position: relative;"><div data-dojo-attach-point="aboveTreeOptions"><div class="listTopButtons" data-dojo-attach-point="buttonAttach"></div><div data-dojo-attach-point="expandCollapseAttach" class="inlineBlock expandCollapse"></div></div><div class="selectableTable webextTable treeTable" data-dojo-attach-point="tableContainerAttach"><table data-dojo-attach-point="tableAttach"><thead data-dojo-attach-point="theadNode"><tr data-dojo-attach-point="theadAttach"></tr><tr data-dojo-attach-point="filterAttach" class="noPrint tableFilterRow"></tr><tr data-dojo-attach-point="theadSizerAttach"></tr></thead><tr data-dojo-attach-point="tbodySizerAttach"></tr><tfoot data-dojo-attach-point="tfootAttach" class="noPrint"></tfoot></table><div data-dojo-attach-point="footerSizerAttach"></div></div></div>',
serverSideProcessing:!0,hideFooter:!1,hideFooterLinks:!1,hidePagination:!0,allowHeaderLocking:!0,rowObjects:null,rowObjectList:null,rowPadding:25,idAttribute:"id",actionsTimer:null,draggable:!1,hideExpandCollapse:!1,totalRecords:void 0,rowsPerPage:10,pageNumber:1,getChildUrl:null,xhrMethod:"GET",collapseImageClass:"collapseImage",expandImageClass:"expandImage",expandCollapseAllLinkClass:"linkPointer",expandRoots:!1,cachedData:null,constructor:function(){this.rowObjects=[];this.rowObjectList=[];this.expandedNodeList=
[];this.actionsTimer=0},postCreate:function(){this.inherited(arguments);if(!this.noDataMessage)this.noDataMessage=i18n("No records found.");this.initSelectableMixin();this.initFilteringMixin();this.initConfigMixin();this.domNode.draggable=!1;this.hideExpandCollapse||(this._addExpandCollapseLinks(),q.set(this.aboveTreeOptions,{minHeight:"2em"}));this.drawHeadings();this["class"]&&b.add(this.tableAttach,this["class"]);this.style&&q.set(this.tableAttach,this.style);this.loadTable();this.attachHeaderFooterLockingEvents();
null!==util.getIE()&&b.add(this.domNode,"ie"+util.getIE())},getTopLevelRowObjects:function(){return l.filter(this.rowObjectList,function(a){return!a.parent})},processData:function(a){return a},loadTable:function(){var a=this;a.pageNumber=parseInt(a.pageNumber,10);a.saveCurrentSettings();if(!a.serverSideProcessing&&a.cachedData)a.showTable(a.cachedData);else if(void 0!==a.data)a.cachedData=a.data,a.showTable(a.cachedData);else if(void 0!==a.getData)a.cachedData=a.getData(),a.showTable(a.cachedData);
else{a.block();var b={url:a.url,handleAs:"json",load:function(b,c){a.processXhrResponse&&a.processXhrResponse(b);if(!a.serverSideProcessing)a.cachedData=b;a.unblock();var h=c.xhr.getResponseHeader("Content-Range");if(b.records&&0===b.records.length&&1!==a.pageNumber)a.pageNumber--,a.loadTable();else if(a.serverSideProcessing&&h){var d=h.substring(h.indexOf("/")+1),n=h.substring(0,h.indexOf("-")),h=h.substring(h.indexOf("-")+1,h.indexOf("/"));Number(h)===Number(n)&&1!==a.pageNumber?(a.pageNumber--,
a.loadTable()):(b={records:b,totalRecords:Number(d)},a.showTable(b))}else a.showTable(b)},error:function(b){a.unblock();a.showError(b)}};if("GET"===a.xhrMethod.toUpperCase())b.content=a._getQueryData();else if("POST"===a.xhrMethod.toUpperCase()){b.postData=o.stringify({expandedNodeList:a.expandedNodeList});b.headers={"Content-Type":"application/json"};var c=a._getQueryData();c[bootstrap.expectedSessionCookieName]=util.getCookie(bootstrap.expectedSessionCookieName);b.url=b.url+"?"+w.objectToQuery(c)}a.tableDataDeferred=
e(a.xhrMethod,b);a.tableDataDeferred.addBoth(function(){a.tableDataDeferred=null})}},_getQueryData:function(){var a=this.getFilterData(this.baseFilters);this.queryData&&j.mixin(a,this.queryData);return a},redraw:function(){if(this.serverSideProcessing)this.cachedData=null,this.rowObjects=[],this.rowObjectList=[],this.totalRecords=void 0;this.loadTable()},refresh:function(){this.cachedData=void 0;this.rowObjects=[];this.rowObjectList=[];this.setCheckboxState(!1);this.loadTable()},_refreshRowChildren:function(a){this._emptyRow(a);
this.getNewChildren(a)},refreshRowChildrenForItem:function(a){(a=this._getRowObjectForItem(a))&&this._refreshRowChildren(a)},refreshSiblingsForItem:function(a){var a=this._getRowObjectForItem(a),b;if(a)b=a.parent;b?this._refreshRowChildren(b):this.loadTable()},_emptyRow:function(a){var b=this;l.forEach(a.children,function(a){b._emptyRow(a);b._deleteRowOnly(a)});a.children=[];a.item.children=[]},_deleteRowOnly:function(a){a.domNode&&(l.forEach(z.findWidgets(a.domNode),this._destroyWidget),h.destroy(a.domNode));
delete this.rowObjects[a.id];var b=l.indexOf(this.rowObjectList,a);-1!==b&&this.rowObjectList.splice(b,1);a.parent&&!this.shouldShowCollapseDom(a.parent)&&l.forEach(a.parent.collapseDoms,function(a){q.set(a,"visibility","hidden")})},showError:function(a){h.empty(this.filterAttach);var b=h.create("tr"),c=h.create("td");c.className="webextTableFooter";c.colSpan=this.columns.length;this.draggable&&c.colSpan++;var d=h.create("div"),n=h.create("span"),e=h.create("br"),r=h.create("span");n.innerHTML=i18n("An error has occurred.");
n.style.fontSize="medium";if(a.responseText)r.innerHTML=i18n(a.responseText),r.style.fontSize="medium";d.appendChild(n);d.appendChild(e);d.appendChild(r);c.appendChild(d);b.appendChild(c);this.tfootAttach.appendChild(b)},showTable:function(a){var c=this,a=c.processData(a);c.tbody&&(c.dndContainer&&c.dndContainer.destroy(),c.tableAttach.removeChild(c.tbody),l.forEach(z.findWidgets(c.tbody),c._destroyWidget));c.tbody=h.create("tbody",{className:"treeTable-body"});if(c.draggable)c.dndContainer=new r(c.tbody,
{withHandles:!0,copyOnly:c.copyOnly,onSelectStart:function(){},creator:function(a,b){var d;if("avatar"===b){d=1;c.selectable&&d++;var n=h.create("tr",{innerHTML:a}).children[d];d=this.defaultCreator.apply(this,arguments);d.node=h.create("span",{innerHTML:n.innerHTML})}else d=this.defaultCreator.apply(this,arguments);return d}}),d.around(c.dndContainer,"onDndDrop",function(a){return function(b,h,d,n){var e=b.before;c.suppressDefaultOnDrop?a.apply(this,[b,[],d,n]):a.apply(this,arguments);var r=[],o=
null;l.forEach(c.rowObjectList,function(a){l.forEach(h,function(b){a.domNode===b&&r.push(a.item)});if(a.domNode===n.current)c._expandAllParents(a),o=a.item});c.onDrop(r,o,d,e);c.lastCurrentDom=null;c.lastBefore=null}}),d.after(c.dndContainer,"onDndStart",function(){l.forEach(t("tr.dojoDndAvatarHeader td"),function(a){if(1===a.children.length){var b="Ctrl";f("mac")&&(b="&#8984; Cmd");h.create("div",{innerHTML:i18n("(Hold %s to copy)",b),className:"inlineBlock dndCopyHint"},a)}});var a=s.manager(),
b=[];if(a.source===c.dndContainer)l.forEach(a.nodes,function(a){(a=c._getRowObjectForDomNode(a))&&b.push(a.item)}),a.sourceItems=b}),d.after(c.dndContainer,"onMouseMove",function(){if(c.dndContainer.isDragging){var a=s.manager(),b=c.dndContainer.current,h=c.dndContainer.before;if(c.lastCurrentDom!==b||c.lastBefore!==h)c.lastCurrentDom=b,c.lastBefore=h,(b=c._getRowObjectForDomNode(b))&&c.canDropOnItem&&!c.canDropOnItem(a.sourceItems,b.item)&&a.canDrop(!1)}}),c.dndStartSubscription=u.subscribe("/dnd/start",
function(){c.canDropOnItem&&setTimeout(function(){var a=s.manager(),h=[],d=[];l.forEach(c.rowObjectList,function(n){n.item&&n.domNode&&(b.remove(n.domNode,"invalidDropTarget"),b.remove(n.domNode,"validDropTarget"),c.canDropOnItem(a.sourceItems,n.item)?h.push(n.domNode):d.push(n.domNode))});0<d.length&&(l.forEach(h,function(a){b.add(a,"validDropTarget")}),l.forEach(d,function(a){b.add(a,"invalidDropTarget")}))},1)});var n=[];if(j.isArray(a))n=c._initializeRowObjects(a),a=c.getDisplayData(n),c.totalRecords=
a.totalRecords,n=a.records;else{if(void 0!==a.totalRecords&&0<=a.totalRecords)c.totalRecords=a.totalRecords;n=c._initializeRowObjects(a.records);if(!c.serverSideProcessing)a=c.getDisplayData(n),c.totalRecords=a.totalRecords,n=a.records}c._initializeRowObjectCollections(n);l.forEach(n,function(a){c.createRow(a);c.expandRoots&&c._expand(a)});h.place(c.tbody,c.tfootAttach,"before");c.showFooter();l.forEach(c.expandedNodeList,function(a){if(a=c.rowObjects[a])a.domNode||!a.parent?c._expand(a):a.expanded=
!0});try{c._checkHeaderFooterLocks()}catch(e){}c.onDisplayTable()},_initializeRowObjects:function(a,b){var c=this,h=[];l.forEach(a,function(a){var d=c.createTreeNode(a,b);h.push(d);d.children=c._initializeRowObjects(c.getItemChildren(a),d)});return h},_initializeRowObjectCollections:function(a){var b=this;b.rowObjects={};b.rowObjectList=[];l.forEach(a,function(a){b._populateForRowObjectRecursive(a)})},_populateForRowObject:function(a){this.rowObjects[a.id]=a;this.rowObjectList.push(a)},_populateForRowObjectRecursive:function(a){var b=
this;b._populateForRowObject(a);l.forEach(a.children,function(a){b._populateForRowObjectRecursive(a)})},createTreeNode:function(a,b){var c;c=0;var h=this.getTreeNodeId(a),d=this.hasChildren(a);b&&(h=b.id+"/"+h,c=b.level+1);c={id:h,level:c,expanded:!1,item:a,parent:b,children:[],domNode:null,hasChildren:d,retrievedChildren:!1};b&&b.children.push(c);return c},getTreeNodeId:function(a){return a[this.idAttribute]},getDisplayData:function(a){var b={},a=this.filter(a);this.sort(a);var c=a.length;if(!this.hidePagination){var h=
(this.pageNumber-1)*this.rowsPerPage;if(c<=h&&0<h)console.error("Page number out of range: Start index "+h+" is higher than "+c),this.pageNumber=Math.ceil(c/this.rowsPerPage),h=(this.pageNumber-1)*this.rowsPerPage;a=a.slice(h,h+this.rowsPerPage)}b.records=a;b.totalRecords=c;return b},getItems:function(){var a=[];l.forEach(this.rowObjectList,function(b){!1!==b.visible&&a.push(b.item)});return a},getItemChildren:function(a){return a.children},getAllRowObjectDescendants:function(a){var b=this,c=[];l.forEach(a.children,
function(a){c.push(a);c=c.concat(b.getAllRowObjectDescendants(a))});return c},setItemChildren:function(a,b){a.children=b},_getRowObjectForItem:function(a){var b;l.forEach(this.rowObjectList,function(c){c.item===a&&(b=c)});return b},_getRowObjectForDomNode:function(a){var b;l.forEach(this.rowObjectList,function(c){c.domNode===a&&(b=c)});return b},_checkExpandCollapse:function(a){a.expanded?this._collapse(a):this._expand(a)},expand:function(a,b){var c=this,h=c._getRowObjectForItem(a);h&&(c._expand(h,
b),b&&l.forEach(c.getItemChildren(a),function(a){c.expand(a,!0)}))},_expand:function(a,b){a.expanded||(this._toggle(a,b),this._checkHeaderFooterLocks())},collapse:function(a){(a=this._getRowObjectForItem(a))&&this._collapse(a)},_collapse:function(a){a.expanded&&(this._toggle(a),this._checkHeaderFooterLocks())},_expandAllParents:function(a){a.parent&&this._expandAllParents(a.parent);this._expand(a)},_collapseAll:function(){var a=this;l.forEach(a.getItems(),function(b){a.collapse(b)})},_addExpandCollapseLinks:function(){var b=
this;h.empty(b.expandCollapseAttach);var c=h.create("a",{innerHTML:i18n("Expand All"),style:"margin-"+(a.isBodyLtr()?"right":"left")+":10px;",className:b.expandCollapseAllLinkClass});c.onclick=function(){l.forEach(b.getItems(),function(a){b.expand(a,!0)})};var d=h.create("a",{innerHTML:i18n("Collapse All"),className:b.expandCollapseAllLinkClass});a.isBodyLtr()?q.set(d,"float","none"):q.set(d,"float","left");d.onclick=function(){b._collapseAll()};h.place(c,b.expandCollapseAttach);h.place(d,b.expandCollapseAttach)},
_toggle:function(a,c){var h=this;a.expanded?(l.forEach(a.children,function(a){h.hideRow(a)}),b.contains(a.domNode,"collapsedRow")||(b.add(a.domNode,"collapsedRow"),a.hasChildren&&l.forEach(a.collapseDoms,function(a){b.add(a,h.expandImageClass);b.remove(a,h.collapseImageClass)})),-1!==h.expandedNodeList.indexOf(a.id)&&util.removeFromArray(h.expandedNodeList,a.id)):h.hasAllChildren(a)?(l.forEach(a.children,function(a){if(!a.domNode&&(h.createRow(a),a.expanded))a.expanded=!1,a.visible=!0,h._expand(a);
a.visible&&h.unhideRow(a);l.forEach(h.expandedNodeList,function(b){if(a.id===b)a.expanded=!1,h._expand(a)})}),a.domNode&&b.contains(a.domNode,"collapsedRow")&&(b.remove(a.domNode,"collapsedRow"),a.hasChildren&&l.forEach(a.collapseDoms,function(a){b.add(a,h.collapseImageClass);b.remove(a,h.expandImageClass)})),-1===h.expandedNodeList.indexOf(a.id)&&h.expandedNodeList.push(a.id)):h.getNewChildren(a,c);a.expanded=!a.expanded;h.saveCurrentSettings()},hideRow:function(a){var c=this;null!==a.domNode&&(b.contains(a.domNode,
"hidden")||b.add(a.domNode,"hidden"));l.forEach(a.children,function(a){c.hideRow(a)})},unhideRow:function(a){var c=this;a.domNode||c.createRow(a);b.contains(a.domNode,"hidden")&&b.remove(a.domNode,"hidden");a.expanded?(b.contains(a.domNode,"collapsedRow")&&b.remove(a.domNode,"collapsedRow"),l.forEach(a.children,function(a){a.visible&&c.unhideRow(a)})):b.contains(a.domNode,"collapsedRow")||b.add(a.domNode,"collapsedRow")},createRow:function(a,d){var e=this,r=!0,o,f,s,j;if(d)s=d.insertSorted,j=d.insertFiltered;
o=h.create("tr");a.matchesFilters&&b.add(o,"matchesFilters");e.applyRowStyle(a.item,o);e.own(n(o,"click",function(){e.selectRow(o)}),n(o,"dblclick",function(){e._toggle(a)}));b.add(o,"collapsedRow");e.draggable&&(e.canDragItem(a.item)?(b.add(o,"dojoDndItem"),h.create("td",{innerHTML:"::","class":"dojoDndHandle"},o)):h.create("td",{innerHTML:""},o));var t=0;l.forEach(e.columns,function(d){if(0===t){f=h.create("td");o.appendChild(f);var s=h.create("div",{"class":"cellWrapper"},f);d["class"]&&b.add(f,
d["class"]);void 0!==d.style&&q.set(f,d.style);var j="",v=s;if(r&&!d.beforeExpander||d.alwaysShowExpandArrow)v=h.create("div");void 0!==d.field&&(j=a.item[d.field]);void 0!==d.formatter&&(j=d.formatter(a.item,j,f));if(null!==j)if(j instanceof A)j.placeAt(v);else if("object"===typeof j&&1===j.nodeType&&"object"===typeof j.style&&"object"===typeof j.ownerDocument)v.appendChild(j);else if(void 0!==j&&"object"!==typeof j)v.innerHTML=B.encode(""+j);var x="";if("string"===typeof j)x=j;else if(x=a.item.name,
void 0===x&&a.item.serviceData)x=a.item.serviceData.name;c.set(v,"dir",util.getResolvedBTD(x));c.set(v,"align",util.getUIDirAlign());if(r&&!d.beforeExpander||d.alwaysShowExpandArrow){b.add(v,"inlineBlock expandableCellContent");d=h.create("div",{"class":"inlineBlock collapseSpace"},s);if(!a.collapseDoms)a.collapseDoms=[];a.collapseDoms.push(d);j=e.expandImageClass;if(0<a.children.length||e.getChildUrl&&!1!==a.hasChildren){if(a.expanded)b.remove(o,"collapsedRow"),j=e.collapseImageClass;b.add(d,"linkPointer "+
j);e.own(n(d,"click",function(b){e._checkExpandCollapse(a);k.stop(b)}))}else if(0!==a.level&&e.shouldShowCollapseDom(a.parent)&&0>a.parent.collapseDoms[0].className.indexOf("linkPointer"))x=a.parent.collapseDoms[0],j=e.collapseImageClass,b.remove(o,"collapsedRow"),b.add(x,"linkPointer "+j),e.own(n(x,"click",function(b){e._checkExpandCollapse(a.parent);k.stop(b)}));s.appendChild(d);0<a.level&&q.set(s,{paddingLeft:a.level*e.rowPadding+"px"});s.appendChild(v);r=!1}1<f.colSpan&&(t=f.colSpan-1)}else t--});
a.domNode=o;var v=function(a){return!a.expanded||0===a.children.length?a:v(a.children[a.children.length-1])},x=a.parent;x||(x={children:e.getTopLevelRowObjects()});x.hasChildren=!0;(0===x.children.length||-1===l.indexOf(x.children,a))&&x.children.push(a);if(s)x.children=e.sort(x.children);if(j)x.children=e.filter(x.children);s=function(b){var c=b.children,h=l.indexOf(c,a);if(0===h)return b;if(-1===h)h=c.length;return v(c[h-1])}(x).domNode;e.draggable?e.dndContainer.insertNodes(!1,[o],!1,s):s?h.place(o,
s,"after"):e.tbody.firstChild?h.place(o,e.tbody.firstChild,"before"):h.place(o,e.tbody);e.serverSideProcessing?a.visible=!0:!1===a.visible&&e.hideRow(a);return o},selectRow:function(a){if(this.selectedRow!==a)this.unselectRow(),b.add(a,"selected"),this.selectedRow=a;this.onRowSelect(this._getRowObjectForDomNode(a).item,a)},unselectRow:function(){if(this.selectedRow)b.remove(this.selectedRow,"selected"),this.selectedRow=null},canDragItem:function(){return!0},onRowSelect:function(){},onDrop:function(){},
onDndStart:function(){},onDisplayTable:function(){},applyRowStyle:function(){},_createImg:function(a,d,n){var e=h.create("img",{src:this._blankGif});n&&c.set(e,n);d.appendChild(e);b.add(d,"inlineBlock");a&&b.add(e,a);return e},destroy:function(){this.dndContainer&&this.dndContainer.destroy();this.dndStartSubscription&&this.dndStartSubscription.remove();this.perPageSelect&&this.perPageSelect.destroy();this.pageBox&&this.pageBox.destroy();this.selectStore&&this.selectStore.destroy();this.filterWidget&&
this.filterWidget.destroy();this.tableDataDeferred&&this.tableDataDeferred.cancel();this.domNode&&l.forEach(z.findWidgets(this.domNode),function(a){a.destroyRecursive?a.destroyRecursive():a.destroy()});this.inherited(arguments)},print:function(){var a=this,b=function(){window.print()};if(a.hidePagination)b();else{var c=function(b,c,h){var d=b[c];b[c]=h;return a.hasOwnProperty(c)?function(){b[c]=d}:function(){delete b[c]}},h=[],d=function(){l.forEach(h,function(a){a()});a.loadTable()};try{h.push(c(a,
"hidePagination",!0)),h.push(c(a,"rowsPerPage",99999)),h.push(c(a,"tableConfigKey",void 0)),a.loadTable(),a.tableDataDeferred?a.tableDataDeferred.addCallback(b):b()}finally{a.tableDataDeferred?a.tableDataDeferred.addBoth(d):d()}}},hasChildren:function(a){var b=!0;!1===a.children&&(b=!1);return b},hasAllChildren:function(a){if(!a.hasChildren||!a.retrievedChildren&&0<a.children.length)a.retrievedChildren=!0;return a.retrievedChildren},getNewChildren:function(a,c){var h=this;if(h.getChildUrl){var d=
h.getChildUrl(a.item);if(d){var n;h.getChildFilters&&(n=h.getChildFilters(a.item));n=h.getFilterData(n);var r;if(h.getChildOutputType)r=h.getChildOutputType(a.item);else if(h.queryData)r=h.queryData;r&&(n=j.mixin(n,r));b.add(a.domNode,"loadingImage");e.get({url:d,content:n,handleAs:"json",load:function(d){h._emptyRow(a);a.children=h._initializeRowObjects(d,a);h.setItemChildren(a.item,d);l.forEach(a.children,function(a){h._populateForRowObjectRecursive(a);a.visible=!0});a.retrievedChildren=!0;h.serverSideProcessing||
(h.sort(a.children),h.filter(a.children));0<d.length?(a.hasChildren=!0,l.forEach(a.collapseDoms,function(a){q.set(a,"visibility","visible")}),a.expanded=!1,h.expand(a.item,c)):(a.hasChildren=!1,l.forEach(a.collapseDoms,function(a){q.set(a,"visibility","hidden")}));b.remove(a.domNode,"loadingImage")},error:function(a){h.showError(a)}})}}},shouldShowCollapseDom:function(a){return!!a&&!!a.collapseDoms&&0<a.collapseDoms.length&&a.hasChildren&&l.some(a.children,function(a){return!!a.visible})},_destroyWidget:function(a){a&&
(a.destroyRecursive?a.destroyRecursive():a.destroy&&a.destroy())},attachHeaderFooterLockingEvents:function(){var a=this;if(window&&11!==util.getIE()&&a.allowHeaderLocking){var b;b=n(window,"scroll",function(){try{a._checkHeaderFooterLocks()}catch(c){b.remove()}});n(window,"resize",function(){try{a._headerLocked&&(a._unlockHeaderAndCellSize(),a._lockHeaderAndCellSize()),a._footerLocked&&(a._unlockFooter(),a._lockFooter())}catch(c){b.remove()}})}},_checkHeaderFooterLocks:function(){var c=x.getBox(),
h=a.position(this.tableContainerAttach),d=h.y,h=d+h.h;0>d&&0<h?(b.contains(this.theadNode,"thead-fixed-position")||this._lockHeaderAndCellSize(),90>h?q.set(this.theadNode,"top",h-90+"px"):q.set(this.theadNode,"top","")):b.contains(this.theadNode,"thead-fixed-position")&&this._unlockHeaderAndCellSize();h>c.h&&d<c.h?(b.contains(this.tfootAttach,"tfoot-fixed-position")||this._lockFooter(),c=c.h-d,95>c?q.set(this.tfootAttach,"bottom","-"+(95-c)+"px"):q.set(this.tfootAttach,"bottom","")):b.contains(this.tfootAttach,
"tfoot-fixed-position")&&this._unlockFooter()},_lockHeaderAndCellSize:function(){var c=this;if(11!==util.getIE()&&c.allowHeaderLocking){var d=a.position(c.tableContainerAttach);q.set(c.theadNode,"width",d.w+"px");var n=a.position(c.theadNode);c.tbody&&t("tr:first-child > td",c.tbody).forEach(function(b){b=a.position(b);h.create("td",{className:"table-sizer-cell",style:{width:b.w+"px",height:n.h+"px"}},c.tbodySizerAttach);h.create("td",{className:"table-sizer-cell",style:{width:b.w+"px"}},c.theadSizerAttach)});
b.add(c.theadNode,"thead-fixed-position");c._headerLocked=!0}},_unlockHeaderAndCellSize:function(){b.remove(this.theadNode,"thead-fixed-position");q.set(this.theadNode,"width","");h.empty(this.tbodySizerAttach);h.empty(this.theadSizerAttach);this._headerLocked=!1},_lockFooter:function(){if(11!==util.getIE()&&this.allowHeaderLocking){var c=a.position(this.tableAttach);q.set(this.tfootAttach,"width",c.w-1+"px");t("tfoot > tr:first-child > td:first-child",this.tableAttach).forEach(function(a){q.set(a,
"min-width",c.w-5+"px")});b.add(this.tfootAttach,"tfoot-fixed-position");var h=a.position(this.tfootAttach);q.set(this.footerSizerAttach,"height",h.h+"px");this._footerLocked=!0}},_unlockFooter:function(){t("tfoot > tr:first-child > td:first-child",this.tableAttach).forEach(function(a){q.set(a,"min-width","")});b.remove(this.tfootAttach,"tfoot-fixed-position");q.set(this.footerSizerAttach,"height","");q.set(this.tfootAttach,"width","");this._footerLocked=!1}})})},"dijit/_Contained":function(){define("dijit/_Contained",
["dojo/_base/declare","./registry"],function(l,m){return l("dijit._Contained",null,{_getSibling:function(k){var j=this.domNode;do j=j[k+"Sibling"];while(j&&1!=j.nodeType);return j&&m.byNode(j)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var k=this.getParent();return!k||!k.getIndexOfChild?-1:k.getIndexOfChild(this)}})})},"deploy/widgets/resourceTemplate/ResourceTemplateEditManager":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/on,dojo/dom-construct,dijit/Tooltip,js/webext/widgets/TwoPaneListManager,deploy/widgets/resourceTemplate/EditResourceTemplate,deploy/widgets/resourceTemplate/ResourceTemplateResourceTree,deploy/widgets/property/PropDefs".split(","),
function(l,m,k,j,f,e,d,c,b,a){return m([d],{postCreate:function(){this.inherited(arguments);this.showList()},showList:function(){var a=this;a.addEntry({id:"resources",label:i18n("Resources"),action:function(){a.addHeading(i18n("Resources"));a.showResourceTree()}});a.addEntry({id:"basic",label:i18n("Basic Settings"),action:function(){a.addHeading(i18n("Basic Settings"));a.showBasicSettings()}});a.addEntry({id:"basic",label:i18n("Property Definitions"),action:function(){a.addHeading(i18n("Property Definitions"));
a.showPropertyDefinitions()}})},addHeading:function(a){f.create("div",{innerHTML:a,"class":"containerLabel",style:{padding:"10px"}},this.detailAttach)},addDescription:function(a){f.create("div",{innerHTML:a,style:{marginBottom:"10px"}},this.detailAttach)},showBasicSettings:function(){(new c({resourceTemplate:this.resourceTemplate,readOnly:!this.resourceTemplate.security["Edit Basic Settings"],callback:function(a){a&&navBar.setHash("#resourceTemplate/"+a.id,!1,!0)}})).placeAt(this.detailAttach)},showResourceTree:function(){(new b({resourceTemplate:this.resourceTemplate})).placeAt(this.detailAttach)},
showPropertyDefinitions:function(){(new a({propSheetDefId:this.resourceTemplate.propSheetDef.id})).placeAt(this.detailAttach)}})})},"deploy/widgets/snapshot/EditSnapshot":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/array,dojo/_base/declare,js/webext/widgets/Alert,js/webext/widgets/ColumnForm".split(","),function(l,m,k,j,f,e){return j("deploy.widgets.snapshot.EditSnapshot",[m,l],{templateString:'<div class="editSnapshot">  <div data-dojo-attach-point="formAttach"></div></div>',
postCreate:function(){this.inherited(arguments);var d=this;this.versionPickers=[];this.existingValues={};if(this.snapshot)this.existingValues=this.snapshot;this.form=new e({submitUrl:bootstrap.restUrl+"deploy/snapshot",postSubmit:function(c){navBar.setHash("snapshot/"+c.id+"/versions",!1,!0);void 0!==d.callback&&d.callback()},addData:function(c){c.applicationId=d.application.id;if(d.snapshot)c.existingId=d.snapshot.id;c.versions=[];k.forEach(d.versionPickers,function(b){k.forEach(b.versions,function(a){c.versions.push(a.id)})})},
onError:function(c){c.responseText&&new f({message:util.escape(c.responseText)})},onCancel:function(){void 0!==d.callback&&d.callback()},readOnly:this.readOnly,showButtons:!d.readOnly,cancelLabel:void 0===d.snapshot?i18n("Cancel"):void 0});this.form.addField({name:"name",label:i18n("Name"),required:!0,type:"Text",value:this.existingValues.name});this.form.addField({name:"description",label:i18n("Description"),type:"Text",value:this.existingValues.description});this.form.placeAt(this.formAttach)}})})},
"dijit/_FocusMixin":function(){define("dijit/_FocusMixin",["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(l,m,k,j){j.extend(m,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return k("dijit._FocusMixin",null,{_focusManager:l})})},"deploy/widgets/snapshot/SnapshotEnvironmentList":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dijit/registry,dojo/dnd/Source,dojo/dom-class,dojo/dom-construct,dojo/on,deploy/widgets/Formatters,deploy/widgets/application/ApplicationEnvironmentList,deploy/widgets/snapshot/SnapshotEnvironmentSummary".split(","),
function(l,m,k,j,f,e,d,c,b,a,h){return m([a],{postCreate:function(){this.savingCount=0;this.showInactive=!1;this.environmentSummaries=[];this.setupScroll({query:{outputType:["BASIC","SECURITY","LINKED"],orderField:"order"},url:bootstrap.restUrl+"deploy/snapshot/"+this.snapshot.id+"/environments",scrollNode:this.dndAttach,bottomOffset:200,noItemsLabel:i18n("No Environments Found!")});this._postCreate()},loadCompliancies:function(){},createEnvironmentSummary:function(a){var b=this,a=new h({draggable:!0,
showDelete:!0,application:b.application,snapshot:b.snapshot,environment:a,onApprovalChange:function(){b.snapshotTasks.refresh()}});b.dndAttach&&a.placeAt(b.dndAttach);return a},buildFilter:function(){var a=this,h="",n=function(b,c){b&&(h=b.get("value"),setTimeout(function(){if(h===b.get("value")){var d=null;if(c&&c.query&&""!==h)d=c.query,k.mixin(d,{outputType:["BASIC","SECURITY","LINKED"],orderField:"order",filterType_name:"like",filterClass_name:"String",filterValue_name:h});a.searchItem(h,{searchAttr:c?
c.searchAttr:"name",query:d});a._dontSaveOrder=""===h?!1:!0}else n(b,c)},500))};this.filterTextBox=this.createFilter({type:"TEXT",placeHolder:i18n("Search by Name"),className:"environment-list-search-box environment-list-name-search-box inline-block",style:{},onChange:function(b){""!==b&&n(a.filterTextBox,{query:{filterFields:["name"]}})}});d.place(this.filterTextBox.domNode,this.filterAttach);c(this.filterTextBox,"keyUp",function(){n(a.filterTextBox,{query:{filterFields:["name"]}})});d.create("span",
{innerHTML:i18n("or")},this.filterAttach);this.filterBlueprintSelect=this.createFilter({type:"TableFilterSelect",allowNone:!0,className:"environment-list-search-box inline-block",placeHolder:i18n("Search by Blueprint"),url:bootstrap.restUrl+"deploy/application/"+this.application.id+"/blueprints/all",formatDropDownLabel:b.environmentBlueprintDropDownFormatter,onChange:function(b,c){var h={},h=c&&c.integrationProviderId?{filterFields:["application.id","externalEnvironment.externalBlueprintName"],"filterType_externalEnvironment.externalBlueprintName":"like",
"filterValue_externalEnvironment.externalBlueprintName":c?c.name:"","filterClass_externalEnvironment.externalBlueprintName":"String",outputType:["BASIC","SECURITY","LINKED"],orderField:"order"}:{filterFields:["application.id","blueprint.name"],"filterType_blueprint.name":"like","filterValue_blueprint.name":c?c.name:"","filterClass_blueprint.name":"String",outputType:["BASIC","SECURITY","LINKED"],orderField:"order"};n(a.filterBlueprintSelect,{query:h})},style:{}});d.place(this.filterBlueprintSelect.domNode,
this.filterAttach);c(this.filterTextBox,"focus",function(){a.filterBlueprintSelect&&a.filterBlueprintSelect.dropDown.set("value","",void 0,void 0,"")});c(this.filterBlueprintSelect,"focus",function(){a.filterTextBox&&""!==a.filterTextBox.get("value")&&(a.filterTextBox.set("value",""),n(a.filterTextBox,"name"))});this.onHitTop(this.dndAttach,function(){e.add(a.domNode,"fixed-top")},function(){e.remove(a.domNode,"fixed-top")},60)}})})},"deploy/widgets/dashboard/CurrentActivity":function(){define("dojo/_base/declare,dijit/_Widget,dijit/_TemplatedMixin,dojo/aspect,dojo/dom-construct,dojo/on,dojo/_base/xhr,js/webext/widgets/table/TreeTable,js/webext/widgets/Alert,js/webext/widgets/GenericConfirm,deploy/widgets/Formatters".split(","),
function(l,m,k,j,f,e,d,c,b,a,h){return l([m,k],{templateString:'<div class="currentActivity with-description-text"><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var a=this,b=bootstrap.restUrl+"workflow/currentActivity",d=[{name:i18n("Type"),formatter:function(a){var b="";"application"===a.processRequestType?b=i18n("Application"):"component"===a.processRequestType?b=i18n("Component"):"generic"===a.processRequestType&&(b=i18n("Generic"));return b},
orderField:"type",filterField:"status",filterType:"select",filterOptions:[{label:i18n("Application"),value:"Application"},{label:i18n("Component"),value:"Component"},{label:i18n("Generic"),value:"Generic"}],getRawValue:function(a){var b="";"application"===a.processRequestType?b=i18n("Application"):"component"===a.processRequestType?b=i18n("Component"):"generic"===a.processRequestType&&(b=i18n("Generic"));return b}},{name:i18n("Component, Application, or Generic"),formatter:function(a){var b="";"application"===
a.processRequestType?b=h.applicationLinkFormatter(a.application):"component"===a.processRequestType?b=h.componentLinkFormatter(a.component):"generic"===a.processRequestType&&(b=h.genericProcessLinkFormatter(a.process));return b},orderField:"componentApplication",filterField:"componentApplication",filterType:"text",getRawValue:function(a){var b="";if("application"===a.processRequestType)b=a.application.name;else if("component"===a.processRequestType)b=a.component.name;else if("generic"===a.processRequestType)b=
a.process.name;return b}},{name:i18n("Resource or Environment"),formatter:function(a){var b="";if("application"===a.processRequestType)b=h.environmentLinkFormatter(a.environment);else if("component"===a.processRequestType||"generic"===a.processRequestType)b=h.resourcePathFormatter(a.resource);return b},orderField:"resourceEnvironment",filterField:"resourceEnvironment",filterType:"text",getRawValue:function(a){var b="";if("application"===a.processRequestType)b=a.environment.name;else if("component"===
a.processRequestType||"generic"===a.processRequestType)b=a.resource.name;return b}},{name:i18n("Process"),formatter:function(a){var b="";"application"===a.processRequestType?b=h.applicationProcessLinkFormatter(a.applicationProcess):"component"===a.processRequestType?b=h.componentProcessLinkFormatter(a.componentProcess):"generic"===a.processRequestType&&(b=h.genericProcessLinkFormatter(a.process));return b},orderField:"process",filterField:"process",filterType:"text",getRawValue:function(a){var b=
"";if("application"===a.processRequestType)b=a.applicationProcess.name;else if("component"===a.processRequestType)b=a.componentProcess.name;else if("generic"===a.processRequestType)b=a.process.name;return b}},{name:i18n("Started On"),field:"startTime",formatter:util.tableDateFormatter,orderField:"startTime",getRawValue:function(a){return new Date(a.startTime)}},{name:i18n("By"),field:"userName",orderField:"userName"},{name:i18n("Status"),formatter:function(a,b,c){return h.activityStatusFormatter(a,
b,c)}},{name:i18n("Actions"),parentWidget:this,formatter:this.actionsFormatter}];this.grid=new c({url:b,serverSideProcessing:!1,hideFooter:!1,hidePagination:!0,noDataMessage:i18n("No activity found."),tableConfigKey:"currentActivity",orderField:"startDate",sortType:"desc",columns:d,getChildUrl:function(a){return bootstrap.restUrl+"workflow/currentActivity?parentRequestId="+a.id},hasChildren:function(a){return"application"===a.processRequestType}});this.grid.placeAt(this.gridAttach);j.after(this.grid,
"showTable",function(b){if(a.activityCountNode)a.activityCountNode.innerHTML="("+b.length+")"},!0)},destroy:function(){this.inherited(arguments);this.grid.destroy()},actionsFormatter:function(c){var h=document.createElement("div"),n=this.parentWidget;"component"===c.processRequestType?f.create("a",{href:"#componentProcessRequest/"+c.id,innerHTML:i18n("Details"),"class":"actionsLink"},h):"application"===c.processRequestType?f.create("a",{href:"#applicationProcessRequest/"+c.id,innerHTML:i18n("Details"),
"class":"actionsLink"},h):"generic"===c.processRequestType&&f.create("a",{href:"#processRequest/"+c.id,innerHTML:i18n("Details"),"class":"actionsLink"},h);if(c.executable){if(c.paused){var s=f.create("a",{innerHTML:i18n("Resume"),"class":"actionsLink linkPointer"},h);e(s,"click",function(){n.grid.block();d.put({url:bootstrap.restUrl+"workflow/"+(c.traceId||c.workflowTraceId)+"/resume",handleAs:"json",load:function(){n.grid.unblock();n.grid.refresh()},error:function(){new b({message:i18n("Could not resume the process.")});
n.grid.unblock();n.grid.refresh()}})})}else s=f.create("a",{innerHTML:i18n("Pause"),"class":"actionsLink linkPointer"},h),e(s,"click",function(){n.grid.block();d.put({url:bootstrap.restUrl+"workflow/"+(c.traceId||c.workflowTraceId)+"/pause",handleAs:"json",load:function(){n.grid.unblock();n.grid.refresh()},error:function(){new b({message:i18n("Could not pause the process.")});n.grid.unblock();n.grid.refresh()}})});"EXECUTING"===c.state&&(s=f.create("a",{innerHTML:i18n("Cancel"),"class":"actionsLink linkPointer"},
h),e(s,"click",function(){new a({message:i18n("Are you sure you want to cancel this process request?"),action:function(){n.grid.block();d.put({url:bootstrap.restUrl+"workflow/"+(c.traceId||c.workflowTraceId)+"/cancel",handleAs:"json",load:function(){n.grid.unblock();n.grid.refresh()},error:function(){new b({message:i18n("Could not cancel the process.")});n.grid.unblock();n.grid.refresh()}})}})}))}return h}})})},"deploy/widgets/application/wizard/EnvironmentForm":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/ComboBox,dijit/Tooltip,dojo/_base/declare,dojo/_base/lang,dojo/_base/array,dojo/dom-attr,dojo/dom-class,dojo/dom-style,dojo/dom-construct,dojo/on,dojo/query,js/webext/widgets/Alert,js/webext/widgets/ColumnForm,js/webext/widgets/color/Color,deploy/widgets/application/wizard/EnvironmentModelHelper,deploy/widgets/application/wizard/EnvironmentTemplateOption,deploy/widgets/ModelWidgetList".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u){return f([m,l],{templateString:'<div data-dojo-attach-point="environmentFormAttach" class="environment-form">  <div data-dojo-attach-point="environmentTemplateAttach">    <div class="env-tmpl-dropdown">      <span class="env-tmpl-dropdown-label">'+i18n("Environment template")+'</span>      <span data-dojo-attach-point="selectAttach"></span>      <div data-dojo-attach-point="templateSelectTooltip" class="labelsAndValues-helpCell title-helpCell inlineBlock"></div>    </div>    <div data-dojo-attach-point="environmentTmplDescriptionAttach" class="environment-tmpl-description"></div>  </div>  <div>    <div data-dojo-attach-point="columnFormAttach"></div>    <div data-dojo-attach-point="createEnvironmentAttach">        <div class="create-environment-label">            <div class="icon-button add-button"></div> Create Environment        </div>        <div data-dojo-attach-point="createEnvironmentWidgetAttach" class="create-env-widget"></div>    </div>    <div class="pageAlerts">      <div data-dojo-attach-point="noEnvironmentSelectedAttach" class="pageAlert" style="display: none;">'+
i18n("No environment is currently selected.")+'      </div>    </div>  </div>  <div style="height: 1px;"></div></div>',postCreate:function(){var a=this;this.inherited(arguments);this.modelHelper=new t(this.sharedData);this.environment=null;var b=this.sharedData.environments.query({selected:!0});if(b&&0<b.length)this.environment=b[0];this.sharedData.environmentTemplates.query().forEach(function(a){var b=r.getColorOrConvert(a.color);!b.standard&&b.fallback&&(b=r.getColor(b.fallback));a.label='<div style="border-left-width:thick; border-left-style:solid; border-left-color:'+
b.value+';">&nbsp;&nbsp;&nbsp;'+a.name+"</div>"});this.templateSelect=(new k({store:this.sharedData.environmentTemplates,labelAttr:"label",labelType:"html",searchAttr:"name",autoComplete:!1,selectOnClick:!0,onChange:function(b){b=a.sharedData.environmentTemplates.query({name:b})[0];a.environment.set("template",b)}})).placeAt(this.selectAttach);b="<div class='wizard-environment-page-tooltip'>"+i18n("Environment templates are defined for each application template. An environment template contains  a resource  template and can contain environment properties and deployment approval processes.  The resource template defines the resource tree, which determines the structure of its resources. Resources include the computers that you deploy components to and the agents and components themselves.")+
"</div>";new j({connectId:[this.templateSelectTooltip],label:b,showDelay:100,position:["below","after","above","before"]});this._reflectSelectedEnvironment();this._updateEnvironmentWatchers();this.sharedData.environments.query().observe(function(b,c,h){if(-1!==h)a.environment=b,a._updateEnvironmentWatchers(),a._reflectSelectedEnvironment();if(0===a.sharedData.environments.query({selected:!0}).length)a.environment=null,a._reflectSelectedEnvironment()})},_reflectSelectedEnvironment:function(){var b=
this;this.environment?(this.environmentTmplDescriptionAttach.textContent=this.environment.get("template").description,a.set(this.noEnvironmentSelectedAttach,"display","none"),a.set(this.createEnvironmentAttach,"display","none"),a.set(this.environmentTemplateAttach,"display",""),this.templateSelect.set("value",this.environment.get("template").name),h.empty(this.createEnvironmentWidgetAttach),this._reflectSelectedEnvironmentTemplate()):(a.set(this.noEnvironmentSelectedAttach,"display",""),a.set(this.createEnvironmentAttach,
"display","none"),a.set(this.environmentTemplateAttach,"display","none"),h.empty(this.columnFormAttach),0===this.sharedData.environments.query().length&&(a.set(this.noEnvironmentSelectedAttach,"display","none"),a.set(this.createEnvironmentAttach,"display",""),(new u({model:b.sharedData.environmentTemplates,widgetFactory:function(c){return new w({template:c,onSelected:function(c){a.set(b.createEnvironmentAttach,"display","none");b.modelHelper.addEnvironment(c,!0);h.empty(b.createEnvironmentWidgetAttach)}})}})).placeAt(this.createEnvironmentWidgetAttach)))},
_updateEnvironmentWatchers:function(){var a=this;this.sharedData.environments.query().forEach(function(b){b.watch("selected",function(c,h,d){if(!0===d&&(!a.environment||b.get("uniqId")!==a.environment.get("uniqId")))a.environment=b,a._reflectSelectedEnvironment()});b.watch("template",function(c,h,d){b===a.environment&&h!==d&&a._reflectSelectedEnvironmentTemplate(d)})})},_reflectSelectedEnvironmentTemplate:function(){var a=this;h.empty(this.columnFormAttach);this.envForm=new s({showButtons:!1});this.envForm.formContainer.labelStyle.width=
"300px";this.envForm.placeAt(this.columnFormAttach);this.envForm.addField({name:"name",label:i18n("Name"),required:!0,type:"Text",value:this.environment?this.environment.name:"",onChange:function(b){a.environment.set("name",b)}});this.envForm.addField({name:"description",label:i18n("Description"),type:"Text",value:this.environment?this.environment.description:"",onChange:function(b){a.environment.set("description",b)}});h.place("<div class='env-prop-label'>"+i18n("Environment Properties")+"</div>",
this.envForm.formContainer.fieldAttach);this._havePropDefs()&&this.environment.get("props").query().forEach(function(a){var b=a.get("propDef"),c=util.clone(b);c.name="template/"+b.name;b.pattern&&(c.description+=i18n(" Required Pattern: %s",b.pattern));c.onChange=function(b,c){"MULTI_SELECT"===a.propDef.type?a.set("currentValue",b.join(",")):"HTTP_SELECT"===a.propDef.type?(a.set("currentValue",c.value),a.set("currentHttpSelectLabel",c.label)):a.set("currentValue",b)};"HTTP_MULTI_SELECT"===c.type&&
util.updateWebextMultiSelectData(c,a,"currentValue","currentHttpSelectLabel",!0);c.value=a.get("currentValue");c.defaultLabel=a.get("currentHttpSelectLabel");this.envForm.addField(c)},this)},_havePropDefs:function(){var a=this.environment.get("template").propDefs;return a&&0<a.length}})})},"deploy/widgets/scripts/PostProcessingLibrary":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/on,deploy/widgets/scripts/EditScript,js/webext/widgets/Dialog,js/webext/widgets/Alert,js/webext/widgets/GenericConfirm,js/webext/widgets/Table".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o){return j("deploy.widgets.scripts.PostProcessingLibrary",[m,l],{templateString:'<div class="scriptList"><div class="listTopButtons" data-dojo-attach-point="buttonTopAttach"></div><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var a=this,b=bootstrap.restUrl+"script/postprocessing",c=[{name:i18n("Name"),field:"name",orderField:"name",filterField:"name",filterType:"text",getRawValue:function(a){return a.name}},
{name:i18n("Description"),field:"description"},{name:i18n("Actions"),formatter:this.actionsFormatter,parentWidget:this}];this.grid=new o({url:b,serverSideProcessing:!1,noDataMessage:i18n("No scripts founds"),tableConfigKey:"postProcessScriptList",columns:c});this.grid.placeAt(this.gridAttach);b={label:i18n("Create Script"),showTitle:!1,onClick:function(){a.showEditScriptDialog()}};b=new k(b);e.add(b.domNode,"idxButtonSpecial");b.placeAt(this.buttonTopAttach)},destroy:function(){this.inherited(arguments);
this.grid.destroy()},actionsFormatter:function(a){var b=this.parentWidget,h=document.createElement("div"),e=d.create("a",{"class":"actionsLink linkPointer",innerHTML:i18n("Copy")},h);c(e,"click",function(){b.showEditScriptDialog(void 0,a)});e=d.create("a",{"class":"actionsLink linkPointer",innerHTML:i18n("Edit")},h);c(e,"click",function(){b.showEditScriptDialog(a)});e=d.create("a",{"class":"actionsLink linkPointer",innerHTML:i18n("Delete")},h);c(e,"click",function(){b.confirmDelete(a)});return h},
showEditScriptDialog:function(c,h){var d=this,e=new a({title:i18n("Edit Script"),closable:!0,draggable:!0});(new b({script:c,source:h,callback:function(){e.hide();e.destroy();d.grid.refresh()}})).placeAt(e.containerNode);e.show()},confirmDelete:function(a){var b=this;new q({message:i18n("Are you sure you want to delete %s?",a.name),action:function(){b.grid.block();f.del({url:bootstrap.restUrl+"script/postprocessing/"+a.id,handleAs:"json",load:function(){b.grid.unblock();b.grid.refresh()}})}})}})})},
"dijit/_Container":function(){define("dijit/_Container",["dojo/_base/array","dojo/_base/declare","dojo/dom-construct"],function(l,m,k){return m("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode)this.containerNode=this.domNode},addChild:function(j,f){var e=this.containerNode;if(f&&"number"==typeof f){var d=this.getChildren();if(d&&d.length>=f)e=d[f-1].domNode,f="after"}k.place(j.domNode,e,f);this._started&&!j._started&&j.startup()},removeChild:function(j){"number"==
typeof j&&(j=this.getChildren()[j]);if(j)(j=j.domNode)&&j.parentNode&&j.parentNode.removeChild(j)},hasChildren:function(){return 0<this.getChildren().length},_getSiblingOfChild:function(j,f){var e=this.getChildren(),d=l.indexOf(this.getChildren(),j);return e[d+f]},getIndexOfChild:function(j){return l.indexOf(this.getChildren(),j)}})})},"deploy/widgets/filter/TagFilter":function(){define(["dijit/form/TextBox","dojo/_base/declare","dojo/_base/array"],function(l,m,k){return m([l],{postCreate:function(){this.inherited(arguments);
if(!this.type||"like"===this.type)this._filter=this._filterLike;else if("eq"===this.type)this._filter=this._filterExact;else throw"Unknown type for TagFilter: "+this.type;},getRawValue:function(j){return k.map(j.tags,function(f){return f.name.toLowerCase()})},filterPass:function(j,f){return this._filter(this.getRawValue(j),f)},_getValuesAttr:function(){var j=this.get("value").trim().toLowerCase(),f,e=[];j?(f=j.match(/"[^"]+"/g),k.forEach(f,function(d){j=j.replace(d,"");d=d.replace('"',"").replace('"',
"").trim();""!==d&&e.push(d)}),k.forEach(j.trim().split(" "),function(d){d=d.trim();""!==d&&e.push(d)})):e=null;return e},_filterLike:function(j,f){var e=!1;k.forEach(f,function(d){-1!==k.indexOf(j,d)&&(e=!0)});return e},_filterExact:function(j,f){var e=!0;k.forEach(f,function(d){-1===k.indexOf(j,d)&&(e=!1)});return e}})})},"dojo/keys":function(){define("dojo/keys",["./_base/kernel","./sniff"],function(l,m){return l.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:m("webkit")?
91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,
F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:m("mac")&&!m("air")?m("safari")?91:224:17}})},"deploy/widgets/property/EditPropValue":function(){define(["dijit/_TemplatedMixin","dijit/_Widget","dojo/_base/declare","js/webext/widgets/ColumnForm"],function(l,m,k,j){return k("deploy.widgets.property.EditPropValue",[m,l],{templateString:'<div class="editPropValue">  <div data-dojo-attach-point="formAttach"></div></div>',
propSheetVersion:null,postCreate:function(){this.inherited(arguments);var f=this;this.existingValues={};if(this.propValue)this.existingValues.name=this.propValue.name,this.existingValues.value=this.propValue.value,this.existingValues.description=this.propValue.description,this.existingValues.secure=this.propValue.secure;var e;this.propSheetPath?(e=bootstrap.baseUrl+"property/propSheet/"+util.vc.encodeVersionedPath(this.propSheetPath)+".-1/propValues",this.propValue&&(e+="/"+encodeURIComponent(this.propValue.name))):
this.saveUrl?e=this.saveUrl:(e=bootstrap.baseUrl+"property/propSheet/"+this.propSheetId+"/propValues",this.propValue&&(e+="/"+encodeURIComponent(this.propValue.name)));this.form=new j({submitUrl:e,version:f.propSheetVersion,addData:function(d){d.propSheetId=f.propSheetId;if(f.propValue)d.existingId=f.propValue.id;if(void 0===d.value)d.value="";f.addData(d)},onError:function(d){void 0!==f.callback&&f.callback(d)},postSubmit:function(){void 0!==f.callback&&f.callback(!0)},onCancel:function(){void 0!==
f.callback&&f.callback()}});this.form.addField({name:"name",label:i18n("Name"),required:!0,readOnly:void 0!==this.propValue,type:"Text",value:this.existingValues.name});this.form.addField({name:"description",label:i18n("Description"),type:"Text",value:this.existingValues.description});this.form.addField({name:"secure",label:i18n("Secure"),type:"Checkbox",value:this.existingValues.secure,onChange:function(d){var c=f.form.getValue("value");f.form.removeField("value");f.form.addField({name:"value",label:i18n("Value"),
type:d?"Secure":"Text",value:c})}});this.form.addField({name:"value",label:i18n("Value"),type:this.existingValues.secure?"Secure":"Text Area",value:this.existingValues.value});this.form.placeAt(this.formAttach)}})})},"deploy/widgets/security/role/EditRole":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,js/webext/widgets/ColumnForm".split(","),function(l,m,k,j,f,e){return j([m,l],{templateString:'<div class="editUser">  <div data-dojo-attach-point="formAttach"></div></div>',
postCreate:function(){this.inherited(arguments);var d=this;this.existingValues={};if(this.role)this.existingValues=this.role;this.form=new e({submitUrl:bootstrap.baseUrl+"security/role"+(this.role?"/"+this.role.id:""),submitMethod:this.role?"PUT":"POST",cancelLabel:null,postSubmit:function(c){void 0!==d.callback&&d.callback(!0,c.id)},onCancel:function(){void 0!==d.callback&&d.callback()}});this.form.addField({name:"name",label:i18n("Name"),required:!0,type:"Text",value:this.existingValues.name});
this.form.placeAt(this.formAttach)}})})},"deploy/widgets/Security":function(){define(["dojo/_base/kernel","dojox/html/entities"],function(l){l.provide("deploy.widgets.Security");security={general:{editBasicSettings:"Edit Basic Settings"},agent:{addToAgentPool:"Add to Agent Pool",createResources:"Create Resources",manageVersionImports:"Manage Version Imports"},application:{runComponentProcesses:"Run Component Processes",manageSnapshots:"Manage Snapshots"},component:{manageVersions:"Manage Versions"},
resource:{mapToEnvironments:"Map to Environments",resourceBasicSettings:"Basic Settings (Resources)",resourceProperties:"Manage Properties (Resources)",resourceTeams:"Manage Teams (Resources)",manageImpersonation:"Manage Impersonation",resourceManageChildren:"Manage Resource Children"},system:{createComponents:"Create Components",createComponentsFromTemplate:"Create Components From Template",createComponentTemplates:"Create Component Templates",createApplications:"Create Applications",createApplicationsFromTemplate:"Create Applications From Template",
createApplicationTemplates:"Create Application Templates",createEnvironments:"Create Environments",createEnvironmentsFromTemplate:"Create Environments From Template",createEnvironmentTemplates:"Create Environment Templates",createResources:"Create Resources",createResourceTemplates:"Create Resource Templates",createAgentPools:"Create Agent Pools",createProcess:"Create Processes",createManageResourceRoles:"Manage Resource Roles",manageSecurity:"Manage Security",managePlugins:"Manage Plugins"},resourceTypes:{ui:"20000000000000000000000000000200",
system:"20000000000000000000000000000201"}}})},"dojox/calendar/HorizontalRenderer":function(){require({cache:{"url:dojox/calendar/templates/HorizontalRenderer.html":'<div class="dojoxCalendarEvent dojoxCalendarHorizontal" onselectstart="return false;">\n\t<div class="bg" ></div>\n\t<div style="position:absolute;left:2px;bottom:2px" data-dojo-attach-point="beforeIcon" class="beforeIcon">\u25c4</div>\t\n\t<div data-dojo-attach-point="labelContainer" class="labels">\t\t\n\t\t<span data-dojo-attach-point="startTimeLabel" class="startTime"></span>\n\t\t<span data-dojo-attach-point="summaryLabel" class="summary"></span>\n\t\t<span  data-dojo-attach-point="endTimeLabel" class="endTime"></span>\n\t</div>\n\t<div style="position:absolute;right:2px;bottom:2px" data-dojo-attach-point="afterIcon" class="afterIcon">\u25ba</div>\n\t<div data-dojo-attach-point="moveHandle" class="handle moveHandle" ></div>\n\t<div data-dojo-attach-point="resizeStartHandle" class="handle resizeStartHandle"></div>\n\t<div data-dojo-attach-point="resizeEndHandle" class="handle resizeEndHandle" ></div>\t\n</div>\n'}});
define("dojox/calendar/HorizontalRenderer","dojo/_base/declare,dojo/dom-style,dijit/_WidgetBase,dijit/_TemplatedMixin,dojox/calendar/_RendererMixin,dojo/text!./templates/HorizontalRenderer.html".split(","),function(l,m,k,j,f,e){return l("dojox.calendar.HorizontalRenderer",[k,j,f],{templateString:e,_orientation:"horizontal",visibilityLimits:{resizeStartHandle:50,resizeEndHandle:-1,summaryLabel:15,startTimeLabel:32,endTimeLabel:30},_displayValueMap:{beforeIcon:"inline",afterIcon:"inline"},_displayValue:"inline",
arrowPadding:12,_isElementVisible:function(d,c,b,a){var h;h=this.isLeftToRight();"startTimeLabel"==d&&(this.labelContainer&&(h&&b||!h&&c)?m.set(this.labelContainer,"marginRight",this.arrowPadding+"px"):m.set(this.labelContainer,"marginRight",0),this.labelContainer&&(!h&&b||h&&c)?m.set(this.labelContainer,"marginLeft",this.arrowPadding+"px"):m.set(this.labelContainer,"marginLeft",0));switch(d){case "startTimeLabel":h=this.item.startTime;if(this.item.allDay||this.owner.isStartOfDay(h))return!1;break;
case "endTimeLabel":if(h=this.item.endTime,this.item.allDay||this.owner.isStartOfDay(h))return!1}return this.inherited(arguments)},getDisplayValue:function(d){return(d=this._displayValueMap[d])?d:this._displayValue},postCreate:function(){this.inherited(arguments);this._applyAttributes()}})})},"dijit/layout/_LayoutWidget":function(){define("dijit/layout/_LayoutWidget","dojo/_base/lang,../_Widget,../_Container,../_Contained,../Viewport,dojo/_base/declare,dojo/dom-class,dojo/dom-geometry,dojo/dom-style".split(","),
function(l,m,k,j,f,e,d,c,b){return e("dijit.layout._LayoutWidget",[m,k,j],{baseClass:"dijitLayoutContainer",isLayoutContainer:!0,buildRendering:function(){this.inherited(arguments);d.add(this.domNode,"dijitContainer")},startup:function(){if(!this._started){this.inherited(arguments);var a=this.getParent&&this.getParent();if(!a||!a.isLayoutContainer)this.resize(),this.own(f.on("resize",l.hitch(this,"resize")))}},resize:function(a,h){var d=this.domNode;a&&c.setMarginBox(d,a);var e=h||{};l.mixin(e,a||
{});if(!("h"in e)||!("w"in e))e=l.mixin(c.getMarginBox(d),e);var n=b.getComputedStyle(d),f=c.getMarginExtents(d,n),r=c.getBorderExtents(d,n),e=this._borderBox={w:e.w-(f.w+r.w),h:e.h-(f.h+r.h)},f=c.getPadExtents(d,n);this._contentBox={l:b.toPixelValue(d,n.paddingLeft),t:b.toPixelValue(d,n.paddingTop),w:e.w-f.w,h:e.h-f.h};this.layout()},layout:function(){},_setupChild:function(a){d.add(a.domNode,this.baseClass+"-child "+(a.baseClass?this.baseClass+"-"+a.baseClass:""))},addChild:function(a,b){this.inherited(arguments);
this._started&&this._setupChild(a)},removeChild:function(a){d.remove(a.domNode,this.baseClass+"-child"+(a.baseClass?" "+this.baseClass+"-"+a.baseClass:""));this.inherited(arguments)}})})},"js/webext/widgets/GenericConfirm":function(){define("js/webext/widgets/GenericConfirm","dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dojo/_base/kernel,dojo/aspect,dojo/dom-class,dojo/dom-construct,dojox/html/entities,dijit/_WidgetBase,dijit/form/Button,dijit/form/TextBox,js/webext/widgets/Dialog".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q){return m([b],{messages:null,inputFieldArray:null,confirmLabel:null,cancelLabel:null,hasInput:!1,forceRawMessages:!1,postCreate:function(){var b=this;b.inherited(arguments);b.inputFieldArray=[];b.cancelLabel=i18n("Cancel");b.confirmLabel=i18n("OK");if(b.message&&null===b.messages)b.messages=[],b.messages.push(b.message);var n=new q({title:i18n("Confirmation"),closable:!0,draggable:!0,destroyOnHide:!0,execute:function(){b.action();n.hide()}});e.add(n.containerNode,
"webext-generic-confirm");b.own(n);f.after(n,"onHide",k.hitch(b,"destroy"));f.after(n,"onCancel",k.hitch(b,"cancelAction"));l.forEach(b.messages,function(a){b.forceRawMessages?j.deprecated("forceRawMessages is intended to support legacy code, but is discouraged, and may not be supported in the future."):a=c.encode(a);d.create("div",{className:"confirm-message",innerHTML:a||"&nbsp;"},n.containerNode);b.hasInput&&(a=new h({}),n.own(a),a.placeAt(n.containerNode),b.inputFieldArray.push(a));d.create("div",
{className:"clear"},n.containerNode)});var s=d.create("div");if(b.hasInput||b.showUnderField||void 0===b.showUnderField)s.className="underField";var r=new a({label:b.confirmLabel,showTitle:!1,onClick:function(){n.execute()}});n.own(r);r.placeAt(s);e.add(r.domNode,"idxButtonSpecial");r=new a({label:b.cancelLabel,showTitle:!1,onClick:function(){n.onCancel()}});n.own(r);r.placeAt(s);n.containerNode.appendChild(s);n.show()},getInput:function(){var a=[];l.forEach(this.inputFieldArray,function(b){a.push(b.attr("value"))});
this.inputFieldArray=[];return a},action:function(){},cancelAction:function(){}})})},"deploy/widgets/resourceRole/ResourceRoleList":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dojo/_base/declare,dojo/_base/xhr,dojo/dom-construct,dojo/on,deploy/widgets/Formatters,deploy/widgets/resourceRole/EditResourceRole,js/webext/widgets/Alert,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/Table".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o){return j("deploy.widgets.resourceRole.ResourceRoleList",
[m,l],{templateString:'<div class="componentList"><div data-dojo-attach-point="buttonAttach"></div><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var a=this,b=bootstrap.restUrl+"resource/resourceRole/userDefinedRoles",h=[{name:i18n("Name"),formatter:c.resourceRoleLinkFormatter,orderField:"name",filterField:"name",filterType:"text"},{name:i18n("Description"),field:"description"},{name:i18n("Actions"),formatter:this.actionsFormatter,parentWidget:this}];
this.grid=new o({url:b,serverSideProcessing:!1,noDataMessage:i18n("No resources roles have been created yet."),tableConfigKey:"resourceRoleList",columns:h});this.grid.placeAt(this.gridAttach);config.data.permissions[security.system.createManageResourceRoles]&&(new k({label:i18n("Create Role"),showTitle:!1,onClick:function(){a.showCreateResourceRole()}})).placeAt(this.buttonAttach)},destroy:function(){this.inherited(arguments);this.grid.destroy()},actionsFormatter:function(a){var b=this.parentWidget,
c=document.createElement("div");if(config.data.permissions[security.system.createManageResourceRoles]){e.create("a",{innerHTML:i18n("Edit"),"class":"actionsLink",href:"#resourceRole/"+a.id+"/edit"},c);var h=e.create("a",{innerHTML:i18n("Delete"),"class":"actionsLink linkPointer"},c);d(h,"click",function(){b.showDeleteConfirm(a)})}return c},showDeleteConfirm:function(b){var c=this;new q({message:i18n('Are you sure you want to delete "%s"?',b.name.escape()),action:function(){f.del({url:bootstrap.restUrl+
"resource/resourceRole/"+b.id,load:function(){c.grid.refresh()},error:function(b){(new a({messages:[i18n("Error deleting resource role:"),"",util.escape(b.responseText)]})).startup()}})}})},showCreateResourceRole:function(){var a=this,c=i18n("Create a Role"),d=new h({title:c,closable:!0,draggable:!0});(new b({callback:function(){d.hide();d.destroy();a.grid.refresh()}})).placeAt(d.containerNode);d.show()}})})},"dojox/widget/Selection":function(){define("dojox/widget/Selection",["dojo/_base/declare",
"dojo/_base/array","dojo/_base/lang","dojo/Stateful"],function(l,m,k,j){return l("dojox.widget.Selection",j,{constructor:function(){this.selectedItems=[]},selectionMode:"single",_setSelectionModeAttr:function(f){"none"!=f&&"single"!=f&&"multiple"!=f&&(f="single");if(f!=this.selectionMode)this.selectionMode=f,"none"==f?this.set("selectedItems",null):"single"==f&&this.set("selectedItem",this.selectedItem)},selectedItem:null,_setSelectedItemAttr:function(f){this.selectedItem!=f&&(this._set("selectedItem",
f),this.set("selectedItems",f?[f]:null))},selectedItems:null,_setSelectedItemsAttr:function(f){var e=this.selectedItems;this.selectedItems=f;this.selectedItem=null;null!=e&&0<e.length&&this.updateRenderers(e,!0);if(this.selectedItems&&0<this.selectedItems.length)this.selectedItem=this.selectedItems[0],this.updateRenderers(this.selectedItems,!0)},_getSelectedItemsAttr:function(){return null==this.selectedItems?[]:this.selectedItems.concat()},isItemSelected:function(f){return null==this.selectedItems||
0==this.selectedItems.length?!1:m.some(this.selectedItems,k.hitch(this,function(e){return this.getIdentity(e)==this.getIdentity(f)}))},getIdentity:function(){},setItemSelected:function(f,e){if(!("none"==this.selectionMode||null==f)){var d=this.get("selectedItems");this.get("selectedItems");if("single"==this.selectionMode)e?this.set("selectedItem",f):this.isItemSelected(f)&&this.set("selectedItems",null);else if(e)this.isItemSelected(f)||(null==d?d=[f]:d.unshift(f),this.set("selectedItems",d));else{var c=
m.filter(d,function(b){return b.id!=f.id});null==c||c.length==d.length||this.set("selectedItems",c)}}},selectFromEvent:function(f,e,d,c){if("none"==this.selectionMode)return!1;var b,a=this.get("selectedItem"),h=e?this.isItemSelected(e):!1;null==e?!f.ctrlKey&&null!=this.selectedItem&&(this.set("selectedItem",null),b=!0):"multiple"==this.selectionMode?(f.ctrlKey?this.setItemSelected(e,!h):this.set("selectedItem",e),b=!0):f.ctrlKey?(this.set("selectedItem",h?null:e),b=!0):h||(this.set("selectedItem",
e),b=!0);c&&b&&this.dispatchChange(a,this.get("selectedItem"),d,f);return b},dispatchChange:function(f,e,d,c){this.onChange({oldValue:f,newValue:e,renderer:d,triggerEvent:c})},onChange:function(){}})})},"dojox/main":function(){define("dojox/main",["dojo/_base/kernel"],function(l){return l.dojox})},"deploy/widgets/workflow/activity/ComponentManualTaskActivity":function(){define("dojo/_base/array,dojo/_base/xhr,dojo/_base/declare,dojo/on,deploy/widgets/workflow/activity/BaseActivity,deploy/widgets/property/PropDefs,js/webext/widgets/RestSelect,./TaskApprovalSelector".split(","),
function(l,m,k,j,f,e,d,c){return k([f],{postCreate:function(){var b=this;this.inherited(arguments);config.data.extraFormDelegates.push({name:"TaskApprovalSelector",delegateFunction:function(a){var h=!1;if(null!==a.selector)h=a.form.initialized=!0;return new c({noneLabel:a.noneLabel,name:a.name,addRow:b.addRow,form:a.form,number:a.number,restUrl:a.restUrl,preloading:h,selector:a.selector,approvalType:a.approvalType})}});this.initialized||this.editProperties()},getLabel:function(){var b=i18n("Manual Task");
this.initialized&&(b+="\n"+this.data.name);return b},editProperties:function(b){var a=this;a.selectors=[];a.data.roleRestrictionData?(l.forEach(a.data.roleRestrictionData.roleRestrictions,function(b){a.selectors.push(b)}),a.approvalType=a.data.roleRestrictionData.contextType):a.data.roleRestrictionData={roleRestrictions:[]};if(!a.approvalType)a.approvalType="ANY";var c=a.createPropertyDialog(),f=a.createPropertyForm({dialog:c,validateFields:function(b){return a.validateName(b.name)},onSubmit:function(d){b&&
b();a.initialized=!0;a.data.name=d.name;a.data.templateName=d.templateName;a.updateLabel();a.data.taskDefinitionId=d.taskDefinitionId;a.data.roleRestrictionData.roleRestrictions=[];l.forEach(a.form.selectors,function(b){b.roleId&&a.data.roleRestrictionData.roleRestrictions.push(b)});a.selectors=a.data.roleRestrictionData.roleRestrictions;a.data.roleRestrictionData.contextType=d.approvalType;if("ANY"===a.data.roleRestrictionData.contextType)a.data.roleRestrictionData.contextType=null;a.approvalType=
a.data.roleRestrictionData.contextType;a.data.propDefs=d.propDefs;l.forEach(a.data.propDefs,function(a){a.resolveHttpValuesUrl="rest/process/"+appState.componentProcess.id+"/"+d.name+"/propDefs/resolveHttpValues/"+a.name});c.hide();f.destroy();c.destroy()},readOnly:a.readOnly});f.addField({name:"name",label:i18n("Name"),type:"Text",required:!0,value:a.data.name});var o=new d({restUrl:bootstrap.restUrl+"notification/notificationEntry/templateNames",getLabel:function(a){return i18n(a)},getValue:function(a){return a},
allowNone:!1,value:a.data.templateName||"TaskCreated",disabled:a.readOnly});f.addField({name:"templateName",label:i18n("Notification Template"),required:!0,widget:o});o=new e({propDefs:a.data.propDefs||[],propSheetDef:{resolveHttpValuesUrl:"rest/process/"+appState.componentProcess.id+"/"+a.data.name+"/propDefs/resolveHttpValues"}});f.addField({widget:o,label:i18n("Properties"),name:"propDefs"});f.addField({name:"approvalType",label:i18n("Who can approve this task"),type:"Select",value:a.approvalType,
allowedValues:[{label:i18n("Any User"),value:"ANY"},{label:i18n("Role Member By Environment"),value:"ENVIRONMENT"},{label:i18n("Role Member By Application"),value:"APPLICATION"},{label:i18n("Role Member By Component"),value:"COMPONENT"}],onChange:function(b){a.populateForm(b)}});a.form=f;a.form.selectors=a.selectors;a.populateForm(a.approvalType);f.placeAt(c.containerNode);c.show()},populateForm:function(b){this.removeAllSelectors();if(this.approvalType===b)this.form.selectors=this.selectors;"ANY"!==
b&&("ENVIRONMENT"===b?this.addSelectorData("/security/resourceType/Environment/resourceRoles",i18n("Environment")):"APPLICATION"===b?this.addSelectorData("/security/resourceType/Application/resourceRoles",i18n("Application")):"COMPONENT"===b&&this.addSelectorData("/security/resourceType/Component/resourceRoles",i18n("Component")))},addRow:function(b,a,c,d,e){b.addField({name:"selector",label:"",type:"TaskApprovalSelector",form:b,number:a,selector:c,restUrl:d,approvalType:e})},removeAllSelectors:function(){for(;this.form.hasField("selector");)this.form.removeField("selector");
this.form.selectors=[]},addSelectorData:function(b,a){var c=this,d=0;l.forEach(c.form.selectors,function(e){c.addRow(c.form,d,e,b,a);d++});c.addRow(c.form,d,null,b,a)}})})},"deploy/widgets/environment/EnvironmentRequestHistory":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/dom-construct,dojo/on,deploy/widgets/Formatters,js/webext/widgets/table/TreeTable".split(","),function(l,m,k,j,f,e,d){return k("deploy.widgets.environment.EnvironmentRequestHistory",[m,l],{templateString:'<div class="environmentRequestHistory"><div data-dojo-attach-point="gridAttach"></div></div>',
postCreate:function(){this.inherited(arguments);var c=[{name:i18n("Process"),formatter:function(b){b.applicationProcess.application=b.application;return e.applicationProcessLinkFormatter(b.applicationProcess)}},{name:i18n("Snapshot"),formatter:function(b){return e.snapshotLinkFormatter(b.snapshot)}},{name:i18n("Scheduled For"),field:"calendarEntry.scheduledDate",formatter:function(b){return util.dateFormatShort(b.entry.scheduledDate)},orderField:"calendarEntry.scheduledDate"},{name:i18n("Status"),
formatter:function(b,a,c){return e.requestStatusFormatter(b,a,c)}},{name:i18n("Actions"),formatter:function(b){var a=document.createElement("div"),c=document.createElement("a");c.className="actionsLink";c.innerHTML=i18n("View Request");c.href="#applicationProcessRequest/"+b.id;a.appendChild(c);return a}}];this.grid=new d({url:bootstrap.restUrl+"deploy/applicationProcessRequest/table",baseFilters:[{name:"environment.id",type:"eq",className:"UUID",values:[appState.environment.id]}],columns:c,orderField:"calendarEntry.scheduledDate",
sortType:"desc",tableConfigKey:"environmentProcessHistory"+appState.environment.id,noDataMessage:i18n("No process history found for this environment."),hideExpandCollapse:!0,hidePagination:!1,queryData:{outputType:["BASIC","LINKED"]}});this.grid.placeAt(this.gridAttach)},destroy:function(){this.inherited(arguments);this.grid.destroy()}})})},"deploy/widgets/workflow/activity/ApplicationManualTaskActivity":function(){define("dojo/_base/array,dojo/_base/xhr,dojo/_base/declare,dojo/on,deploy/widgets/workflow/activity/BaseActivity,deploy/widgets/property/PropDefs,js/webext/widgets/RestSelect,./TaskApprovalSelector".split(","),
function(l,m,k,j,f,e,d,c){return k("deploy.widgets.workflow.activity.ApplicationManualTaskActivity",[f],{postCreate:function(){var b=this;this.inherited(arguments);config.data.extraFormDelegates.push({name:"TaskApprovalSelector",delegateFunction:function(a){var d=!1;if(null!==a.selector)d=a.form.initialized=!0;return new c({noneLabel:a.noneLabel,name:a.name,addRow:b.addRow,form:a.form,number:a.number,restUrl:a.restUrl,preloading:d,selector:a.selector,approvalType:a.approvalType})}});this.initialized||
this.editProperties()},getLabel:function(){var b=i18n("Manual Task");this.initialized&&(b+="\n"+this.data.name);return b},editProperties:function(b){var a=this;a.selectors=[];a.data.roleRestrictionData?(l.forEach(a.data.roleRestrictionData.roleRestrictions,function(b){a.selectors.push(b)}),a.approvalType=a.data.roleRestrictionData.contextType):a.data.roleRestrictionData={roleRestrictions:[]};if(!a.approvalType)a.approvalType="ANY";var c=a.createPropertyDialog(),f=a.createPropertyForm({dialog:c,validateFields:function(b){return a.validateName(b.name)},
onSubmit:function(d){b&&b();a.initialized=!0;a.data.name=d.name;a.data.templateName=d.templateName;a.updateLabel();a.data.taskDefinitionId=d.taskDefinitionId;a.data.roleRestrictionData.roleRestrictions=[];l.forEach(a.form.selectors,function(b){b.roleId&&a.data.roleRestrictionData.roleRestrictions.push(b)});a.selectors=a.data.roleRestrictionData.roleRestrictions;a.data.roleRestrictionData.contextType=d.approvalType;if("ANY"===a.data.roleRestrictionData.contextType)a.data.roleRestrictionData.contextType=
null;a.approvalType=a.data.roleRestrictionData.contextType;a.data.propDefs=d.propDefs;l.forEach(a.data.propDefs,function(a){a.resolveHttpValuesUrl="rest/process/"+appState.applicationProcess.id+"/"+d.name+"/propDefs/resolveHttpValues/"+a.name});c.hide();f.destroy();c.destroy()},readOnly:a.readOnly});f.addField({name:"name",label:i18n("Name"),type:"Text",required:!0,value:a.data.name});var o=new d({restUrl:bootstrap.restUrl+"notification/notificationEntry/templateNames",getLabel:function(a){return i18n(a)},
getValue:function(a){return a},allowNone:!1,value:a.data.templateName||"TaskCreated",disabled:a.readOnly});f.addField({name:"templateName",label:i18n("Notification Template"),required:!0,widget:o});o=new e({propDefs:a.data.propDefs||[],propSheetDef:{resolveHttpValuesUrl:"rest/process/"+appState.applicationProcess.id+"/"+a.data.name+"/propDefs/resolveHttpValues"}});f.addField({widget:o,label:i18n("Properties"),name:"propDefs"});f.addField({name:"approvalType",label:i18n("Who can approve this task"),
type:"Select",value:a.approvalType,allowedValues:[{label:i18n("Any User"),value:"ANY"},{label:i18n("Role Member By Environment"),value:"ENVIRONMENT"},{label:i18n("Role Member By Application"),value:"APPLICATION"}],onChange:function(b){a.populateForm(b)}});a.form=f;a.form.selectors=a.selectors;a.populateForm(a.approvalType);f.placeAt(c.containerNode);c.show()},populateForm:function(b){this.removeAllSelectors();if(this.approvalType===b)this.form.selectors=this.selectors;"ANY"!==b&&("ENVIRONMENT"===
b?this.addSelectorData("/security/resourceType/Environment/resourceRoles",i18n("Environment")):"APPLICATION"===b&&this.addSelectorData("/security/resourceType/Application/resourceRoles",i18n("Application")))},addRow:function(b,a,c,d,e){b.addField({name:"selector",label:"",type:"TaskApprovalSelector",form:b,number:a,selector:c,restUrl:d,approvalType:e})},removeAllSelectors:function(){for(;this.form.hasField("selector");)this.form.removeField("selector");this.form.selectors=[]},addSelectorData:function(b,
a){var c=this,d=0;l.forEach(c.form.selectors,function(e){c.addRow(c.form,d,e,b,a);d++});c.addRow(c.form,d,null,b,a)}})})},"dojox/calendar/ColumnView":function(){require({cache:{"url:dojox/calendar/templates/ColumnView.html":'<div data-dojo-attach-events="keydown:_onKeyDown">\n\t\n\t<div data-dojo-attach-point="header" class="dojoxCalendarHeader">\n\t\t<div class="dojoxCalendarYearColumnHeader" data-dojo-attach-point="yearColumnHeader">\n\t\t\t<table cellspacing="0" cellpadding="0"><tr><td><span data-dojo-attach-point="yearColumnHeaderContent"></span></td></tr></table>\t\t\n\t\t</div>\n\t\t<div data-dojo-attach-point="columnHeader" class="dojoxCalendarColumnHeader">\n\t\t\t<table data-dojo-attach-point="columnHeaderTable" class="dojoxCalendarColumnHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t\t</div>\n\t</div>\n\t\n\t<div data-dojo-attach-point="secondarySheetNode"></div>\n\t\n\t<div data-dojo-attach-point="scrollContainer" class="dojoxCalendarScrollContainer">\n\t\t<div data-dojo-attach-point="sheetContainer" style="position:relative;left:0;right:0;margin:0;padding:0">\n\t\t\t<div data-dojo-attach-point="rowHeader" class="dojoxCalendarRowHeader">\n\t\t\t\t<table data-dojo-attach-point="rowHeaderTable" class="dojoxCalendarRowHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t\t\t</div>\n\t\t\t<div data-dojo-attach-point="grid" class="dojoxCalendarGrid">\n\t\t\t\t<table data-dojo-attach-point="gridTable" class="dojoxCalendarGridTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t\t\t</div>\n\t\t\t<div data-dojo-attach-point="itemContainer" class="dojoxCalendarContainer" data-dojo-attach-event="mousedown:_onGridMouseDown,mouseup:_onGridMouseUp,ondblclick:_onGridDoubleClick,touchstart:_onGridTouchStart,touchmove:_onGridTouchMove,touchend:_onGridTouchEnd">\n\t\t\t\t<table data-dojo-attach-point="itemContainerTable" class="dojoxCalendarContainerTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t\t\t</div>\n\t\t</div> \n\t</div>\n\t\n\t<div data-dojo-attach-point="vScrollBar" class="dojoxCalendarVScrollBar">\n\t\t<div data-dojo-attach-point="vScrollBarContent" style="visibility:hidden;position:relative;width:1px;height:1px;" ></div>\n\t</div>\n\t\n</div>\n'}});
define("dojox/calendar/ColumnView","dojo/_base/declare,dojo/_base/event,dojo/_base/lang,dojo/_base/sniff,dojo/_base/fx,dojo/dom,dojo/dom-class,dojo/dom-style,dojo/dom-geometry,dojo/dom-construct,dojo/on,dojo/date,dojo/date/locale,dojo/query,dojox/html/metrics,./SimpleColumnView,dojo/text!./templates/ColumnView.html,./ColumnViewSecondarySheet".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w){return l("dojox.calendar.ColumnView",r,{templateString:t,baseClass:"dojoxCalendarColumnView",secondarySheetClass:w,
secondarySheetProps:null,headerPadding:3,buildRendering:function(){this.inherited(arguments);if(this.secondarySheetNode)this.secondarySheet=new this.secondarySheetClass(k.mixin({owner:this},this.secondarySheetProps),this.secondarySheetNode),this.secondarySheetNode=this.secondarySheet.domNode},destroy:function(a){this.secondarySheet&&this.secondarySheet.destroy(a);this.inherited(arguments)},_setVisibility:function(a){this.inherited(arguments);this.secondarySheet&&this.secondarySheet._setVisibility(a)},
invalidateLayout:function(){this._layoutRenderers(this.renderData);this.secondarySheet&&this.secondarySheet._layoutRenderers(this.secondarySheet.renderData)},onRowHeaderClick:function(){},resizeSecondarySheet:function(a){if(this.secondarySheetNode){var d=b.getMarginBox(this.header).h;c.set(this.secondarySheetNode,"height",a+"px");this.secondarySheet._resizeHandler(null,!0);a=a+d+this.headerPadding+"px";c.set(this.scrollContainer,"top",a);this.vScrollBar&&c.set(this.vScrollBar,"top",a)}},updateRenderers:function(a,
b){this.inherited(arguments);this.secondarySheet&&this.secondarySheet.updateRenderers(a,b)},_setItemsAttr:function(a){this.inherited(arguments);this.secondarySheet&&this.secondarySheet.set("items",a)},_setStartDateAttr:function(a){this.inherited(arguments);this.secondarySheet&&this.secondarySheet.set("startDate",a)},_setColumnCountAttr:function(a){this.inherited(arguments);this.secondarySheet&&this.secondarySheet.set("columnCount",a)},_setHorizontalRendererAttr:function(a){this.secondarySheet&&this.secondarySheet.set("horizontalRenderer",
a)},_getHorizontalRendererAttr:function(){if(this.secondarySheet)return this.secondarySheet.get("horizontalRenderer")},_setExpandRendererAttr:function(a){this.secondarySheet&&this.secondarySheet.set("expandRenderer",a)},_getExpandRendererAttr:function(){if(this.secondarySheet)return this.secondarySheet.get("expandRenderer")},_setTextDirAttr:function(a){this.secondarySheet.set("textDir",a);this._set("textDir",a)},_defaultItemToRendererKindFunc:function(a){return a.allDay?null:"vertical"},getSecondarySheet:function(){return this.secondarySheet},
_onGridTouchStart:function(a){this.inherited(arguments);this._doEndItemEditing(this.secondarySheet,"touch")},_onGridMouseDown:function(a){this.inherited(arguments);this._doEndItemEditing(this.secondarySheet,"mouse")},_configureScrollBar:function(a){this.inherited(arguments);if(this.secondarySheetNode){var b=this.isLeftToRight()?!0:"right"==this.scrollBarRTLPosition;c.set(this.secondarySheetNode,b?"right":"left",a.scrollbarWidth+"px");c.set(this.secondarySheetNode,b?"left":"right","0")}},_refreshItemsRendering:function(){this.inherited(arguments);
if(this.secondarySheet){var a=this.secondarySheet.renderData;this.secondarySheet._computeVisibleItems(a);this.secondarySheet._layoutRenderers(a)}},_layoutRenderers:function(a){if(!this.secondarySheet._domReady)this.secondarySheet._domReady=!0,this.secondarySheet._layoutRenderers(this.secondarySheet.renderData);this.inherited(arguments)},invalidateRendering:function(){this.secondarySheet&&this.secondarySheet.invalidateRendering();this.inherited(arguments)}})})},"deploy/widgets/navigation/LoadingIndicator":function(){define("dojo/_base/declare,dojo/dom-construct,dojo/dom-class,dojo/query,dojo/topic,dijit/_WidgetBase".split(","),
function(l,m,k,j,f,e){return l("deploy.widgets.navigation.LoadingIndicator",[e],{topLevelLoadingIcon:null,postCreate:function(){this.topLevelLoadingIcon=m.create("span",{"class":"top-level-loading-image"},j(".topLevelTabs .tabManager")[0]);f.subscribe("NavigationBar/loading",this.startLoadingIndicators.bind(this));f.subscribe("NavigationBar/doneLoading",this.stopLoadingIndicators.bind(this))},startLoadingIndicators:function(){dojo.fadeIn({node:this.topLevelLoadingIcon,duration:700}).play();k.add(document.body,
"busy")},stopLoadingIndicators:function(){0===navBar.stateCallTracking.pendingCalls.length&&(dojo.fadeOut({node:this.topLevelLoadingIcon,duration:700}).play(),k.remove(document.body,"busy"))}})})},"deploy/widgets/environment/EnvironmentSummary":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dijit/popup,dijit/TooltipDialog,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/dom-attr,dojo/dom-style,dojo/dom-geometry,dojo/on,dojo/mouse,deploy/widgets/Formatters,deploy/widgets/application/RunApplicationProcess,deploy/widgets/environment/EditEnvironment,js/webext/widgets/color/Color,js/webext/widgets/ColumnForm,js/webext/widgets/Dialog,js/webext/widgets/RestSelect,js/webext/widgets/table/TreeTable,js/webext/widgets/form/MenuButton,deploy/widgets/environment/CreateEnvironmentDialog,deploy/widgets/environment/EditLandscaperBlueprintProperties".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u,x,v,y,A,z,B){return e([m,l],{templateString:'<div class="environment-summary environmentSummary"><div class="environment-summary-highlight left" data-dojo-attach-point="highlightAttachLeft"></div><div class="environment-summary-highlight right" data-dojo-attach-point="highlightAttachRight"></div><div class="environment-summary-wrapper"><div class="environmentContainer environment-information-container no-double-click-select" data-dojo-attach-point="environmentContainer"><div class="environment-compliancy" data-dojo-attach-point="compliancyBackgroundAttach"><div data-dojo-attach-point="compliancyAttach" class="environment-compliancy-wrapper"></div></div><div class="environment-inner-container"><div data-dojo-attach-point="latestSnapshotAttach" class="inlineBlock environment-latest-snapshot"></div><div data-dojo-attach-point="blueprintAttach" class="inline-block external-blueprint"></div></div></div><div class="environment-name-container" data-dojo-attach-point="nameContainerAttach"><div class="environment-summary-buttons" data-dojo-attach-point="buttonsAttach"><div data-dojo-attach-point="executeAttach" class="inlineBlock button-container request-process"></div><div data-dojo-attach-point="snapshotAttach" class="inlineBlock button-container create-snapshot"></div><div data-dojo-attach-point="actionsAttach" class="inlineBlock button-container environment-actions environmentActions"></div></div><div data-dojo-attach-point="nameAttach" class="environment-name"></div></div><div class="clear"></div><div data-dojo-attach-point="detailsAttach" class="environment-details"><div data-dojo-attach-point="gridAttach"></div></div></div></div>',
postCreate:function(){this.inherited(arguments);var a=this;if(this.environment.security.execute){var c=b.create("div",{className:"environment-summary-button",title:i18n("Request Process")},this.executeAttach);b.create("div",{className:"general-icon executeIcon"},c);o(c,"click",function(){a.showDeployDialog()})}appState.application&&appState.application.extendedSecurity&&appState.application.extendedSecurity[security.application.manageSnapshots]&&(c=b.create("div",{className:"environment-summary-button",
title:i18n("Create Snapshot")},this.snapshotAttach),b.create("div",{className:"general-icon snapshotIcon"},c),o(c,"click",function(){a.showNewSnapshotDialog()}));c=[{label:i18n("Compare"),onClick:function(){a.showCompareDialog()}}];appState.application&&appState.application.security&&appState.application.security["Manage Environments"]&&c.push({label:i18n("Copy"),onClick:function(){a.showCopyDialog()}});this.environment.security["Edit Basic Settings"]&&c.push({label:i18n("Edit"),onClick:function(){a.showEditDialog()}});
var d=this.environment.extEnvironment&&0<this.environment.extEnvironment.length;appState.application&&appState.application.security&&appState.application.security["Manage Environments"]&&d&&c.push({label:i18n("Update from Blueprint..."),onClick:function(){a.showUpdateFromBlueprintDialog()}});this.environment.security.Delete&&c.push({label:i18n("Delete"),onClick:function(){a.confirmDelete()}});(new A({options:c,title:i18n("More..."),iconClass:"general-icon more-actions-icon"})).placeAt(this.actionsAttach);
b.create("div",{innerHTML:i18n("Snapshot:")+"&nbsp;",className:"snapshot-label"},this.latestSnapshotAttach);this.environment.latestSnapshot?b.create("a",{innerHTML:this.environment.latestSnapshot.name.escape(),href:"#snapshot/"+this.environment.latestSnapshot.id},this.latestSnapshotAttach):b.create("div",{innerHTML:i18n("None")},this.latestSnapshotAttach);this._postCreate()},_postCreate:function(){var d=this,e=b.create("div",{className:"expand-node-container"},this.nameContainerAttach);b.create("div",
{"class":"expandNode inline-block"},e);o(e,"click",function(){d.toggleExpand()});o(this.nameContainerAttach,"dblclick",function(){d.toggleExpand()});o(this.environmentContainer,"dblclick",function(){d.toggleExpand()});var r=w.getColorOrConvert(this.environment.color);!r.standard&&r.fallback&&(r=w.getColor(r.fallback));var e=r.value,f=util.getTint(e,0.25);h.set(this.detailsAttach,"borderColor",e);h.set(this.detailsAttach,"borderRightColor",f);r.light&&c.add(this.domNode,"light-colored-environment");
util.isDarkColor(e)&&c.add(this.domNode,"dark-colored-environment");h.set(this.nameContainerAttach,"backgroundColor",e);h.set(this.highlightAttachLeft,"backgroundColor",e);h.set(this.highlightAttachRight,"backgroundColor",f);h.set(this.environmentContainer,"backgroundColor",f);h.set(this.compliancyBackgroundAttach,"backgroundColor",util.getTint(e,0.8));(r=this.actionsAttach||this.previewAttach)&&h.set(r,"borderRightColor",f);var f=this.environment.description,s=b.create("a",{innerHTML:this.environment.name.escape(),
href:"#environment/"+this.environment.id,className:"environment-name-label",title:this.environment.name+(""===f?"":" - ("+f+")")},this.nameAttach);a.set(this.nameAttach,"alt","Environment: "+this.environment.name);var j=this.environment.extEnvironment&&0<this.environment.extEnvironment.length,r=this.environment.blueprint;j&&(e=b.create("div",{className:"inline-block cloud-container",style:{backgroundColor:e}},this.nameAttach,"first"),b.create("div",{className:"general-icon cloud-icon"},e),c.add(this.nameAttach,
"cloud-environment"));if(j||r)e=j?this.environment.extEnvironment[0]:null,b.create("div",{innerHTML:i18n("Blueprint:")},this.blueprintAttach),e?b.create("a",{innerHTML:e.externalBlueprintName.escape(),href:e.externalBlueprintUrl},this.blueprintAttach):b.create("div",{innerHTML:this.environment.blueprint.name.escape(),className:"no-link"},this.blueprintAttach),c.add(this.latestSnapshotAttach,"blueprint-environment");var t=b.create("a",{innerHTML:this.environment.name.escape(),href:"#environment/"+
this.environment.id,className:"environment-name-label-overflow hidden",title:this.environment.name+(""===f?"":" - ("+f+")")},this.nameAttach),v=null,x=!1,z=0;o(d.domNode,n.enter,function(){if(d.nameContainerAttach&&d.buttonsAttach){var a=q.position(d.nameContainerAttach),b=q.position(s),n=q.position(d.buttonsAttach);if(a&&b){var e=b.w,r=a.w-n.w-15;j?r-=25:e+=20;if(r<e){var f=1,k=25,y=1;document&&(o(document,"keydown",function(a){a.shiftKey&&(y=5)}),o(document,"keyup",function(){y=1}));v&&clearInterval(v);
c.remove(t,"hidden");v=setInterval(function(){1>k?(f>e+80&&!j||f>e+100&&j?(f=-1,x=!1):(h.set(s,"marginLeft",-1*f+"px"),f+=y,1>f&&-1<f&&(k=50)),j&&f>e-r+100?(x=!0,z=e+100-f):f>e-r+80&&(x=!0,z=e+80-f)):k--},15)}}}});o(d.domNode,n.leave,function(){v&&(clearInterval(v),x&&h.set(s,"marginLeft",z+"px"),setTimeout(function(){h.set(s,"marginLeft","");c.add(d.nameAttach,"reset-environment-name")},50),setTimeout(function(){c.remove(d.nameAttach,"reset-environment-name")},300));x=!1;z=0;c.add(t,"hidden")});
if(this.draggable)c.add(this.domNode,"dojoDndItem"),c.add(this.nameAttach,"dojoDndHandle"),this.domNode.draggable=!1},toggleExpand:function(){this.expanded?this.collapseEnvironment():this.expandEnvironment()},expandEnvironment:function(){c.add(this.domNode,"expanded");this.showInventoryGrid();this.expanded=!0},collapseEnvironment:function(){c.remove(this.domNode,"expanded");this.expanded=!1},showInventoryGrid:function(){var a;if(!this.grid)a=s.inventoryGridColumnsFormatter(function(a,d,h,e){var r=
function(h){o(h,"click",function(){var h=new x({closable:!0,draggable:!0}),n=function(){h&&h.hide()};b.create("span",{innerHTML:i18n("Inventory For")+"&nbsp;"},h.titleNode);var e=b.create("a",{href:"#component/"+a.component.id,innerHTML:a.component.name.escape()},h.titleNode);o(e,"click",n);(new y({getData:function(){return[a].concat(d)},serverSideProcessing:!1,columns:s.inventoryGridColumnsFormatter(null,n,!0),hideExpandCollapse:!0})).placeAt(h.containerNode);n=(new k({label:i18n("Close"),onClick:n})).placeAt(h.containerNode,
"last");c.add(n.domNode,"underField");h.show()})},q=s.moreVersionsLinkFormatter(d.length,h);r(q);var t=!1,v=new f({content:s.versionPopupFormatter(d,!1,r),onMouseLeave:function(){j.close(v);t=!1},className:"inventory-popup"});r(v.connectorNode);o(q,n.enter,function(){j.open({popup:v,around:q})});var z=function(){j.close(v)};o(q,"click",z);o(v.domNode,"click",z);o(v.connectorNode,"click",z);o(v.domNode,n.enter,function(){t=!0});o(e,n.leave,function(){setTimeout(function(){t||(z(),t=!1)},100)})}),this.grid=
new y({url:bootstrap.restUrl+"deploy/environment/"+this.environment.id+"/latestDesiredInventory/true",serverSideProcessing:!1,columns:a,orderField:"name",sortType:"desc",tableConfigKey:"environmentSummary",noDataMessage:i18n("No components have been installed to this environment."),hideExpandCollapse:!0}),this.grid.placeAt(this.gridAttach)},destroy:function(){this.inherited(arguments);this.grid&&this.grid.destroy()},showDeployDialog:function(){var a,b=new x({title:i18n("Run Process on %s",util.escape(this.environment.name)),
closable:!0,draggable:!0,onCancel:function(){a.destroy()}});a=new r({application:this.application,environment:this.environment,callback:function(){b.hide();b.destroy();a.destroy()}});a.placeAt(b.containerNode);b.show()},showCompareDialog:function(){var a=this,b=new x({title:i18n("Compare %s",this.environment.name.escape()),closable:!0,draggable:!0}),c=new u({onSubmit:function(c){b.hide();b.destroy();navBar.setHash("environmentComparison/"+a.environment.id+"/"+c.environmentId)},onCancel:function(){b.hide();
b.destroy()}}),d=new v({restUrl:bootstrap.restUrl+"deploy/application/"+this.application.id+"/environments/false",isValid:function(b){return b.id!==a.environment.id},allowNone:!1});c.addField({name:"environmentId",label:i18n("Environment"),required:!0,widget:d});c.placeAt(b.containerNode);b.show()},confirmDelete:function(){var a=this,c=new x({title:i18n("Confirmation")}),h=new u({onSubmit:function(b){d.del({url:bootstrap.restUrl+"deploy/environment/"+a.environment.id,content:b,handleAs:"json",load:function(){if(void 0!==
a.onDelete)a.onDelete()}});c.hide();c.destroy()},onCancel:function(){c.hide();c.destroy()},saveLabel:i18n("Delete")}),n=this.environment.extEnvironment&&0<this.environment.extEnvironment.length,e;(n||this.environment.instanceId)&&h.addField({type:"Checkbox",label:i18n("Delete Cloud Instances"),description:i18n("When checked, any instances in the cloud provider this environment is associated with will be deleted as well."),name:"deleteCloudInstances",value:!0,onChange:function(a){e&&e.widget&&e.widget.set("disabled",
a)}});e=h.addField({type:"Checkbox",label:i18n("Delete Attached Resources"),description:i18n("When checked, all base resources in this environment will be deleted, as well as their children."),name:"deleteAttachedResources",value:!(!this.environment.instanceId&&!n),readOnly:!!n});b.create("div",{innerHTML:i18n("Are you sure you want to delete environment %s?",this.environment.name.escape()),style:{}},c.containerNode);h.placeAt(c.containerNode);c.show()},showCopyDialog:function(){var a=this,b=new x({title:i18n("Copy %s",
util.escape(this.environment.name)),closable:!0,draggable:!0});(new t({source:this.environment,application:appState.application,callback:function(){b.hide();b.destroy();if(void 0!==a.onCopy)a.onCopy()}})).placeAt(b.containerNode);b.show()},showEditDialog:function(){var a=this;d.get({url:bootstrap.restUrl+"deploy/environment/"+this.environment.id,handleAs:"json",load:function(b){var c=new x({title:i18n("Edit %s",util.escape(b.name)),closable:!0,draggable:!0});(new t({environment:b,application:appState.application,
callback:function(){c.hide();c.destroy();if(void 0!==a.onEdit)a.onEdit()}})).placeAt(c.containerNode);c.show()}})},showUpdateFromBlueprintDialog:function(){var a=new z({title:i18n("Update %s from Blueprint",util.escape(this.environment.name)),closable:!0,draggable:!0}),b=appState.application;(new B({environment:this.environment,dialog:a,application:b,callback:function(){a.hide();a.destroy();navBar.setHash("application/"+b.id,!1,!0)}})).placeAt(a.containerNode);a.show()},showNewSnapshotDialog:function(){var a=
new x({title:i18n("Create Snapshot"),closable:!0,draggable:!0}),b=new u({submitUrl:bootstrap.restUrl+"deploy/snapshot/fromEnvironment/"+this.environment.id,onCancel:function(){a.hide();a.destroy()},postSubmit:function(b){a.hide();a.destroy();navBar.setHash("snapshot/"+b.id,!1,!0)}});b.addField({name:"name",label:i18n("Name"),required:!0,type:"Text"});b.addField({name:"description",label:i18n("Description"),type:"Text"});b.placeAt(a.containerNode);a.show()}})})},"deploy/widgets/approval/TasksForUser":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/dom-construct,dojo/on,deploy/widgets/approval/TaskResponseDialog,js/webext/widgets/table/TreeTable".split(","),
function(l,m,k,j,f,e,d){return k("deploy.widgets.approval.TasksForUser",[m,l],{templateString:'<div class="tasksForUser"><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var c=this,b=bootstrap.restUrl+"approval/task/tasksForUser",a=[{name:i18n("Name"),field:"name",filterField:"name",filterType:"text",orderField:"name",getRawValue:function(a){return a.name}},{name:i18n("Started"),field:"startDate",formatter:util.tableDateFormatter,orderField:"dateStarted",
getRawValue:function(a){return new Date(a.startDate)}},{name:i18n("Description"),orderField:"description",filterField:"description",filterType:"text",formatter:this.descriptionFormatter,getRawValue:function(a){return c.getDescriptionFromRow(a)}},{name:i18n("Requester"),formatter:this.requestedByFormatter},{name:i18n("Snapshot/Version"),formatter:this.versionFormatter},{name:i18n("Environment/Resource"),formatter:this.destinationFormatter},{name:i18n("Target"),formatter:this.targetFormatter},{name:i18n("Actions"),
formatter:this.actionsFormatter,parentWidget:this}];this.grid=new d({serverSideProcessing:!1,url:b,noDataMessage:i18n("No work items found."),tableConfigKey:"tasksForUser",orderField:"dateStarted",sortType:"desc",columns:a,hidePagination:!1,hideExpandCollapse:!0});this.grid.parentWidget=this;this.grid.placeAt(this.gridAttach)},requestedByFormatter:function(c){var b=document.createElement("div");if(c.applicationProcessRequest)b.innerHTML=c.applicationProcessRequest.userName?c.applicationProcessRequest.userName.escape():
"";else if(c.componentProcessRequest)b.innerHTML=c.componentProcessRequest.userName?c.componentProcessRequest.userName.escape():"";return b},getDescriptionFromRow:function(c){var b="";c.applicationProcessRequest?b=c.applicationProcessRequest.description?c.applicationProcessRequest.description.escape():"":c.componentProcessRequest&&(b=c.componentProcessRequest.description?c.componentProcessRequest.description.escape():"");return b},descriptionFormatter:function(c){var b=document.createElement("div");
if(c.applicationProcessRequest)b.innerHTML=c.applicationProcessRequest.description?c.applicationProcessRequest.description.escape():"";else if(c.componentProcessRequest)b.innerHTML=c.componentProcessRequest.description?c.componentProcessRequest.description.escape():"";return b},versionFormatter:function(c){var b=document.createElement("div");if(c.applicationProcessRequest){if(c.applicationProcessRequest.snapshot){var a=document.createElement("a");a.href="#snapshot/"+c.applicationProcessRequest.snapshot.id;
a.innerHTML=c.applicationProcessRequest.snapshot.name.escape();b.appendChild(a)}}else if(c.componentProcessRequest&&c.componentProcessRequest.version)a=document.createElement("a"),a.href="#version/"+c.componentProcessRequest.version.id,a.innerHTML=c.componentProcessRequest.version.name.escape(),b.appendChild(a);return b},destinationFormatter:function(c){var b=document.createElement("div");if(c.applicationProcessRequest){var a=document.createElement("a");a.href="#environment/"+c.applicationProcessRequest.environment.id;
a.innerHTML=c.applicationProcessRequest.environment.name.escape();b.appendChild(a)}else if(c.componentProcessRequest)a=document.createElement("a"),a.href="#resource/"+c.componentProcessRequest.resource.id,a.innerHTML=c.componentProcessRequest.resource.name.escape(),b.appendChild(a);return b},targetFormatter:function(c){var b=document.createElement("div");if("approval"===c.type)switch(c.approvalType){case "APPLICATION":var a=document.createElement("a");a.href="#application/"+c.application.id;a.innerHTML=
c.application.name.escape();b.appendChild(a);break;case "EACH_COMPONENT":a=document.createElement("a");a.href="#component/"+c.component.id;a.innerHTML=c.component.name.escape();b.appendChild(a);break;case "ENVIRONMENT":a=document.createElement("a"),a.href="#environment/"+c.environment.id,a.innerHTML=c.environment.name.escape(),b.appendChild(a)}else if("componentTask"===c.type)if(c.applicationProcessRequest)a=document.createElement("a"),a.href="#applicationProcessRequest/"+c.applicationProcessRequest.id,
a.innerHTML=i18n("Application Process Request"),b.appendChild(a);else{if(c.componentProcessRequest)a=document.createElement("a"),a.href="#componentProcessRequest/"+c.componentProcessRequest.id,a.innerHTML=i18n("Component Process Request"),b.appendChild(a)}else if("applicationTask"===c.type)a=document.createElement("a"),a.href="#applicationProcessRequest/"+c.applicationProcessRequest.id,a.innerHTML=i18n("Application Process Request"),b.appendChild(a);return b},actionsFormatter:function(c){var b=this.parentWidget,
a=document.createElement("div");if(c.applicationProcessRequest){var d=document.createElement("a");d.innerHTML=i18n("View Request");d.className="actionsLink";d.href="#applicationProcessRequest/"+c.applicationProcessRequest.id;a.appendChild(d)}if(c.componentProcessRequest)d=document.createElement("a"),d.innerHTML=i18n("View Request"),d.className="actionsLink",d.href="#componentProcessRequest/"+c.componentProcessRequest.id,a.appendChild(d);d=j.create("a",{innerHTML:i18n("Respond"),className:"linkPointer actionsLink"},
a);f(d,"click",function(){b.showApprovalDialog(c)});return a},showApprovalDialog:function(c){var b=this;new e({task:c,callback:function(){b.grid.block();setTimeout(function(){b.grid.unblock();b.grid.refresh()},1500)}})}})})},"deploy/widgets/application/wizard/EnvironmentOption":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/Tooltip,dojo/_base/declare,dojo/_base/lang,dojo/dom-attr,dojo/dom-class,dojo/dom-style,dojo/on,js/webext/widgets/color/Color".split(","),function(l,m,k,j,f,e,d,c,
b,a){return j([m,l],{templateString:'<div data-dojo-attach-point="environmentOptionAttach" class="environment-option">  <span class="environment-option-content">    <span data-dojo-attach-point="nameContainerAttach" class="environment-name-container">      <div class="horizontal-spacer"></div>      <span data-dojo-attach-point="nameAttach" class="environment-name"></span>    </span>    <span data-dojo-attach-point="requiredPropertiesAttach" class="required-property-wrapper">      <span class="environment-req-props">'+
i18n("REQUIRED property")+'      </span>      <span data-dojo-attach-point="propStatusIconAttach" class="propStatusIcon"></span>    </span>  </span></div>',onSelected:null,postCreate:function(){var a=this;this.inherited(arguments);new k({connectId:[this.propStatusIconAttach],position:["after","above","below","before"],getContent:function(a){return a.classList.contains("complete")?i18n("The environment contains all required property values"):i18n("The environment does not contains all required property values")}});
this._reflectName(this.environment.get("name"));this.environment.watch("name",function(b,c,d){a._reflectName(d)});this._reflectHasRequiredProperties();this._reflectTemplate(this.environment.get("template"));this.environment.watch("template",function(b,c,d){a._reflectTemplate(d)});this._reflectSelected(this.environment.get("selected"));this.environment.watch("selected",function(b,c,d){a._reflectSelected(d)});b(this,"click",this._onSelected)},_onSelected:function(){this.environment.set("selected",!0);
if(this.onSelected)this.onSelected(this.environment)},_reflectTemplate:function(a){var b=this;this.environment.get("props").query().forEach(function(a){a.watch("currentValue",function(){b._reflectProperty(a)})});this._reflectColor(a.color);this._reflectHasRequiredProperties(a.propDefs)},_reflectColor:function(b){b=a.getColorOrConvert(b);!b.standard&&b.fallback&&(b=a.getColor(b.fallback));c.set(this.environmentOptionAttach,"borderLeftWidth","thick");c.set(this.environmentOptionAttach,"borderLeftStyle",
"solid");c.set(this.environmentOptionAttach,"borderLeftColor",b.value)},_reflectName:function(a){this.nameAttach.textContent=i18n(a)},_reflectHasRequiredProperties:function(){var a=this;this.requiredPropertiesAttach.style.display="none";d.add(this.nameContainerAttach,"full-length");this.environment.get("props").query().some(function(b){if(!0===b.get("propDef").required)a.requiredPropertiesAttach.style.display="",d.remove(a.nameContainerAttach,"full-length"),d.add(a.nameContainerAttach,"partial-length");
return!0===b.required});this._reflectValidation()},_reflectProperty:function(){this._reflectValidation()},_reflectValidation:function(){var a=this,b=!1,b=this.environment.get("props").query().some(function(b){if(""!==b.error)return d.remove(a.propStatusIconAttach,"complete"),d.add(a.propStatusIconAttach,"empty"),!0});!1===b&&(d.remove(this.propStatusIconAttach,"empty"),d.add(this.propStatusIconAttach,"complete"))},_reflectSelected:function(a){!0===a?d.add(this.environmentOptionAttach,"selected"):
d.remove(this.environmentOptionAttach,"selected")}})})},"js/util/infiniteScroll/_InfiniteScrollJsonRestMixin":function(){define("js/util/infiniteScroll/_InfiniteScrollJsonRestMixin","dojo/_base/declare,js/util/infiniteScroll/_InfiniteScrollMixin,dojo/store/JsonRest,dojo/dom-class,dojo/dom-construct,dojo/on,dijit/form/TextBox,js/webext/widgets/FormDelegates".split(","),function(l,m,k,j,f,e,d,c){return l([m],{store:null,url:null,idAttribute:"id",itemsPerPage:15,noItemsLabel:null,onLoadMoreItems:function(){},
onPreLoad:function(){},onPostLoad:function(){},onNoItemsFound:function(){},clearList:function(){},displayLoadingContainer:function(b,a,c){var d=this;if(this.loadingMoreAttachPoint){if(!this._loadingMoreContainer)this._loadingMoreContainer=f.create("div",{className:"infinite-scroll-loading-more-container"},this.loadingMoreAttachPoint),e(this._loadingMoreContainer,"click",function(){d.loadMoreItems(function(){d.notLoadingMore=!0})}),j.add(this.loadingMoreAttachPoint,"hidden");f.empty(this._loadingMoreContainer);
a?f.create("div",{className:"infinite-scroll-loading-more-container-text",innerHTML:i18n("Loading...")},this._loadingMoreContainer):c?f.create("div",{className:"infinite-scroll-loading-more-container-text",innerHTML:d.noItemsLabel||i18n("No items found")},this._loadingMoreContainer):f.create("div",{className:"infinite-scroll-loading-more-container-text linkPointer",innerHTML:i18n("Scroll up or click to load more items")},this._loadingMoreContainer);b?j.remove(this.loadingMoreAttachPoint,"hidden"):
j.add(this.loadingMoreAttachPoint,"hidden")}},setupScroll:function(b){if(b.store)this.store=b.store;else if(!this.store&&b.url)this.url=b.url,this.createStore();if(b.query)this.query=b.query;if(b.scrollNode)this.scrollNode=b.scrollNode;if(b.scrollContainer)this.scrollContainer=b.scrollNode;if(b.bottomOffset)this.bottomOffset=b.bottomOffset;if(b.noItemsLabel)this.noItemsLabel=b.noItemsLabel;this._store={total:-1};b.initialLoad&&this.loadMoreItems();this.addScrollListener();this.displayLoadingContainer(!0,
!0)},createStore:function(){this.store=new k({target:this.url,idAttribute:this.idAttribute||"id"})},onScrollBottom:function(b){this.loadMoreItems(b)},searchItem:function(b,a){var c=this,d=a.searchAttr||"name";a.reset&&(b="");c._query=null;if(a.query)c._query=a.query;else if(b){c._query={name:b};if(a.outputType)c._query.outputType=a.outputType;if(a.orderField)c._query.orderField=a.orderField}else c._query=c.query;c.options={};c.options[d]=b;if(!c._isSearching&&c._previousSearch!==b)c._isSearching=
!0,c.resetIndex(),c.displayLoadingContainer(!0,!0),c.clearList(),c.loadMoreItems(function(){c.notLoadingMore=!0;c._isSearching=!1}),c._previousSearch=b},createFilter:function(b){var a=null;if(b.type){var d=(new c).getDelegate(b.type);if(d){var e=b.className;b.className&&delete b.className;a=new d(b);a.domNode&&e&&j.add(a.domNode,e)}}return a},resetIndex:function(){this._store.startIndex=0;this._store.endIndex=this.itemsPerPage-1;this.searchOptions={start:0}},incrementIndex:function(){this.searchOptions=
{start:this._store.startIndex};this._store.startIndex=this._store.endIndex+1;this._store.endIndex=this._store.startIndex+this.itemsPerPage-1},loadMoreItems:function(b){var a=this;this._store.endIndex||this.resetIndex();this.store.headers={Range:"items="+a._store.startIndex+"-"+a._store.endIndex};this.onPreLoad();try{var c=a.store.query(a._query||a.query);if(-1===this._store.total||this._store.startIndex<=this._store.total)a.incrementIndex(),a.displayLoadingContainer(!0,!0),c.then(function(d){c.total.then(function(c){var h=
a._store.startIndex<=c;a._store.total=c;a.onLoadMoreItems(d,c,h);a.displayLoadingContainer(h);0===c&&(a.displayLoadingContainer(!0,!1,!0),a.onNoItemsFound());a.onPostLoad();setTimeout(function(){b&&b()},100)})})}catch(d){b&&b()}}})})},"deploy/widgets/lock/LockList":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/_base/xhr,dojo/dom-construct,dojo/on,deploy/widgets/Formatters,js/webext/widgets/Alert,js/webext/widgets/GenericConfirm,js/webext/widgets/table/TreeTable".split(","),
function(l,m,k,j,f,e,d,c,b,a){return k("deploy.widgets.lock.LockList",[m,l],{templateString:'<div class="lockList"><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var b=this,c=bootstrap.restUrl+"lock/lock",o=[{name:i18n("Name"),formatter:function(a){return a.lockName},orderField:"name",filterField:"name",filterType:"text",getRawValue:function(a){return a.lockName}},{name:i18n("Type"),formatter:function(a){var b="";a.applicationProcessRequest?
b=i18n("Application"):a.componentProcessRequest&&(b=i18n("Component"));return b},orderField:"type",filterField:"status",filterType:"select",filterOptions:[{label:i18n("Application"),value:"Application"},{label:i18n("Component"),value:"Component"}],getRawValue:function(a){var b="";a.applicationProcessRequest?b=i18n("Application"):a.componentProcessRequest&&(b=i18n("Component"));return b}},{name:i18n("Component/Application"),formatter:function(a){var b="";a.applicationProcessRequest?b=d.applicationLinkFormatter(a.applicationProcessRequest.application):
a.componentProcessRequest&&(b=d.componentLinkFormatter(a.componentProcessRequest.component));return b},orderField:"componentApplication",filterField:"componentApplication",filterType:"text",getRawValue:function(a){var b="";if(a.applicationProcessRequest)b=a.applicationProcessRequest.application.name;else if(a.componentProcessRequest)b=a.componentProcessRequest.component.name;return b}},{name:i18n("Resource/Environment"),formatter:function(a){var b="";a.applicationProcessRequest?b=d.environmentLinkFormatter(a.applicationProcessRequest.environment):
a.componentProcessRequest&&(b=d.resourcePathFormatter(a.componentProcessRequest.resource));return b},orderField:"resourceEnvironment",filterField:"resourceEnvironment",filterType:"text",getRawValue:function(a){var b="";if(a.applicationProcessRequest)b=a.applicationProcessRequest.environment.name;else if(a.componentProcessRequest)b=a.componentProcessRequest.resource.name;return b}},{name:i18n("Process"),formatter:function(a){var b="";a.applicationProcessRequest?b=d.applicationProcessLinkFormatter(a.applicationProcessRequest.applicationProcess):
a.componentProcessRequest&&(b=d.componentProcessLinkFormatter(a.componentProcessRequest.componentProcess));return b},orderField:"process",filterField:"process",filterType:"text",getRawValue:function(a){var b="";if(a.applicationProcessRequest)b=a.applicationProcessRequest.applicationProcess.name;else if(a.componentProcessRequest)b=a.componentProcessRequest.componentProcess.name;return b}},{name:i18n("Actions"),formatter:function(a){var c=f.create("div"),d="";a.applicationProcessRequest?d="#applicationProcessRequest/"+
a.applicationProcessRequest.id:a.componentProcessRequest&&(d="#componentProcessRequest/"+a.componentProcessRequest.id);f.create("a",{innerHTML:i18n("View Request"),"class":"actionsLink",href:d},c);d=f.create("a",{innerHTML:i18n("Release"),"class":"actionsLink linkPointer"},c);e(d,"click",function(){b.confirmRelease(a)});return c}}];this.grid=new a({url:c,serverSideProcessing:!1,columns:o,tableConfigKey:"lockList",noDataMessage:i18n("No locks are currently in use."),hideExpandCollapse:!0,hidePagination:!1});
this.grid.placeAt(this.gridAttach)},destroy:function(){this.inherited(arguments);this.grid.destroy()},confirmRelease:function(a){var d=this;new b({message:i18n("Are you sure you want to release this lock?"),action:function(){d.grid.block();j.del({url:bootstrap.restUrl+"lock/lock/"+a.id,handleAs:"json",load:function(){d.grid.unblock();d.grid.refresh()},error:function(a){new c({messages:[i18n("Error releasing lock:"),"",util.escape(a.responseText)]});d.grid.unblock();d.grid.refresh()}})}})}})})},"deploy/widgets/Formatters":function(){define("dojo/_base/array,dojo/dom-construct,dojo/dom-class,dojo/dom-style,dojo/mouse,dojo/on,dijit/form/Button,dijit/Tooltip,dijit/TooltipDialog,dijit/popup,deploy/widgets/tag/TagDisplay,js/webext/widgets/Dialog,js/webext/widgets/table/TreeTable".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o){return{applicationLinkFormatter:function(a){var b="";if(a)a.deleted?b=i18n("%s (Deleted)",a.name):!a.security||a.security.read?(b=document.createElement("a"),b.innerHTML=a.name.escape(),b.href="#application/"+a.id):b=a.name;return b},applicationTemplateLinkFormatter:function(a){var b="";if(a)!a.security||a.security.read?(b=document.createElement("a"),b.innerHTML=a.name.escape(),b.href="#applicationTemplate/"+a.id+"/-1"):b=a.name.escape();return b},environmentLinkFormatter:function(a){var b=
"";if(a)!a.security||a.security.read?(b=document.createElement("a"),b.innerHTML=a.name.escape(),b.href="#environment/"+a.id):b=a.name.escape();return b},environmentBlueprintDropDownFormatter:function(a,b){"landscaper"===b.source&&m.create("div",{"class":"inlineBlock general-icon cloud-icon dark-cloud-icon"},a,"first")},applicationProcessDropDownFormatter:function(a,b){"patternApplicationProcess"===b.metadataType&&m.create("div",{"class":"inlineBlock general-icon cloud-icon dark-cloud-icon"},a,"first")},
applicationProcessLinkFormatter:function(a){var b=m.create("div"),c=m.create("a",{},b);if(a)if(c.innerHTML=a.name.escape(),"patternApplicationProcess"===a.metadataType){if(a.blueprint)c.href=a.blueprint.url;m.create("div",{"class":"inlineBlock general-icon cloud-icon dark-cloud-icon"},c,"first")}else if(c.className="actionsLink",c.href="#applicationProcess/"+a.id+"/"+a.version,a.applicationTemplate)c=m.create("span"),c.innerHTML="("+a.applicationTemplate.name.escape()+")",b.appendChild(c);return b},
applicationTemplateProcessLinkFormatter:function(a){var b=m.create("div"),c=m.create("a",{},b);c.innerHTML=a.name.escape();c.className="actionsLink";c.href="#applicationProcess/"+a.id+"/"+a.version;return b},genericProcessLinkFormatter:function(a){var b="";if(a)!a.security||a.security.read?(b=document.createElement("a"),b.innerHTML=a.name.escape(),b.href="#process/"+a.id+"/"+a.version):b=a.name.escape();return b},snapshotLinkFormatter:function(a){var b=m.create("div");a&&(m.create("a",{innerHTML:a.name.escape(),
"class":"actionsLink",href:"#snapshot/"+a.id},b),(a.versionsLocked||a.configLocked)&&m.create("span",{innerHTML:i18n("(Locked)")},b));return b},componentLinkFormatter:function(a){var b="";if(a)a.deleted?(b=document.createElement("div"),b.innerHTML=i18n("%s (Deleted)",a.name.escape())):!a.security||a.security.read?(b=document.createElement("a"),b.innerHTML=a.name.escape(),b.href="#component/"+a.id):(b=document.createElement("div"),b.innerHTML=a.name.escape());return b},componentTemplateLinkFormatter:function(a){var b=
"";if(a)!a.security||a.security.read?(b=document.createElement("a"),b.innerHTML=a.name.escape(),b.href="#componentTemplate/"+a.id+"/"+a.version):b=a.name.escape();return b},componentProcessLinkFormatter:function(a){var b=document.createElement("div");if(a){var c=document.createElement("a");c.className="actionsLink";c.innerHTML=a.name.escape();c.href="#componentProcess/"+a.id+"/"+(a.version||"-1");b.appendChild(c);if(a.componentTemplate)c=document.createElement("span"),c.innerHTML="("+a.componentTemplate.name.escape()+
")",b.appendChild(c)}return b},componentTemplateProcessLinkFormatter:function(a){var b=document.createElement("a");if(a)b.innerHTML=a.name.escape(),b.href="#componentProcess/"+a.id+"/"+a.version;return b},versionLinkFormatter:function(a,b){var c=document.createElement("div");if(a){if(!a.component||!a.component.security||a.component.security.read){var d=m.create("a",{innerHTML:a.name.escape(),href:"#version/"+a.id,className:"linkPointer"},c);b&&e(d,"click",function(a){b(a)})}else m.create("span",{innerHTML:name},
c);a.archived&&m.create("span",{innerHTML:i18n(" (archived)"),"class":"actionsLink"},c)}return c},versionPopupFormatter:function(a,b,c){var d=this,h=m.create("div",{className:"inventory-popup-contents"}),e=b?6:5;l.forEach(a,function(a,c){if(!b&&c<e){var n=d.versionLinkFormatter(a.version||a);j.set(n,"display","block");h.appendChild(n)}else b=!1});c&&(a=m.create("a",{innerHTML:5<a.length?i18n("%s More...",a.length-5):i18n("View All"),className:"linkPointer",style:"display: block;"},h),c(a));return h},
moreVersionsLinkFormatter:function(a,b){return m.create("a",{innerHTML:i18n("(+ %s more)",a),title:i18n("Click to view all"),className:"linkPointer",style:"margin-left: 5px;"},b)},versionTypeFormatter:function(a){var b=m.create("div");if(a.type){a=a.type;switch(a){case "FULL":a=i18n("Full");break;case "INCREMENTAL":a=i18n("Incremental")}m.create("span",{innerHTML:a},b)}return b},inventoryGridColumnsFormatter:function(a,b,c){var d=this,h=[];a&&(h=[{name:i18n("Component"),orderField:"component",filterField:"component",
filterType:"text",getRawValue:function(a){return a.component.name},formatter:function(a){return d.componentLinkFormatter(a.component)}}]);h=h.concat([{name:i18n("Version"),orderField:"version",filterField:"version",filterType:"text",getRawValue:function(a){return a.version.name},formatter:function(c,h,e){var h=m.create("div"),f=d.versionLinkFormatter(c.version,b);h.appendChild(f);c.additionalVersions&&0<c.additionalVersions.length&&a&&(k.add(f,"inlineBlock"),a(c,c.additionalVersions,h,e));return h}},
{name:i18n("Date Created"),orderField:"date",filterField:"date",filterType:"date",getRawValue:function(a){return a.date},formatter:function(a){return util.dateFormatShort(a.date)}}]);c&&(h=h.concat([{name:i18n("Type"),formatter:function(a){return d.versionTypeFormatter(a.version)}}]));return h=h.concat([{name:i18n("Snapshot"),orderField:"snapshot",filterField:"snapshot",filterType:"text",getRawValue:function(a){var b="";if(a.snapshot)b=a.snapshot.name;return b},formatter:function(a){return d.snapshotLinkFormatter(a.snapshot)}},
{name:i18n("Properties"),formatter:function(a){var c=document.createElement("a");if(void 0!==a.propVersion)c.innerHTML=i18n("Version %s",a.propVersion),c.href="#environmentPropSheet/"+a.environment.id+"/"+a.component.id+"/"+a.propVersion,b&&e(c,"click",function(){b()});return c}},{name:i18n("Status"),orderField:"status",filterField:"status",filterType:"text",getRawValue:function(a){return a.status.name},formatter:function(a,b,c){return d.statusFormatter(a.status,b,c)}},{name:i18n("Compliancy"),field:"status",
formatter:function(a,b,d){var h=a.compliancy.desiredCount,e=a.compliancy.correctCount;(a=a.additionalVersions)&&!c&&l.forEach(a,function(a){if(a.compliancy)a=a.compliancy,h+=a.desiredCount,e+=a.correctCount});a="";h===e?(a=i18n("Compliant (%s/%s)",""+e,""+h),k.add(d,"success-state-color")):(a=i18n("Noncompliant (%s/%s)",""+e,""+h),k.add(d,"failed-state-color"));d.style.textAlign="center";if(!c){var d=m.create("div",{className:"inlineBlock environment-compliancy"}),b=100*(e/h),n=100-b;m.create("div",
{className:"successMeter success-state-color",style:{width:b+"%"}},d);m.create("div",{className:"failMeter failed-state-color",style:{width:n+"%"}},d);m.create("span",{innerHTML:a},d);a=d}return a}},{name:i18n("Actions"),formatter:function(a){var c="";if(a.deploymentRequestId)c=document.createElement("a"),c.innerHTML=i18n("View Request"),c.href="#deploymentRequest/"+a.deploymentRequestId,b&&e(c,"click",function(){b()});return c}}])},resourceLinkFormatter:function(a){var b=document.createElement("div");
if(a){m.place(this.getResourceIcon(a),b);var c=a.security&&!a.security.read;a.role&&"Agent Placeholder"===a.role.name&&(c=!0);var d=this.resourceNameFormatter(a);c?b.appendChild(d):(c=document.createElement("a"),c.appendChild(d),c.href="#resource/"+a.id,b.appendChild(c))}(a.agent||a.agentPool||a.prototype)&&m.place(this.resourceParentFormatter(a),b);return b},resourceNonLinkFormatter:function(a,b){var d=document.createElement("div");a&&(m.place(this.getResourceIcon(a),d),m.place(this.resourceNameFormatter(a),
d),b&&a.description&&(e(d,f.enter,function(){c.show(util.escape(a.description),this)}),e(d,f.leave,function(){c.hide(this)})));return d},resourceNameFormatter:function(a){return a.componentTag?(new h({readOnly:!0,tags:[a.componentTag],style:{marginLeft:"-15px"}})).domNode:m.create("span",{innerHTML:a.name.escape()})},resourcePathFormatter:function(a){var b=document.createElement("div");if(a){var c=a.security&&!a.security.read;a.role&&"Agent Placeholder"===a.role.name&&(c=!0);c?m.create("span",{innerHTML:a.path.replace(/\//g,
" / ").escape()},b):(c=document.createElement("a"),c.innerHTML=a.path.replace(/\//g," / ").escape(),c.href="#resource/"+a.id,b.appendChild(c))}(a.agent||a.agentPool||a.prototype)&&m.place(this.resourceParentFormatter(a),b);return b},resourceLinkFormatterWithPath:function(a){var b=document.createElement("div");if(a){m.place(this.getResourceIcon(a),b);if(!a.security||a.security.read){var c=document.createElement("a");c.innerHTML=a.name.escape();c.href="#resource/"+a.id;b.appendChild(c);l.forEach(a.roles,
function(a){var c=document.createElement("div");c.innerHTML=a.name.escape();c.style.backgroundColor=a.color;c.className="roleLabel";b.appendChild(c)})}else m.create("span",{innerHTML:a.name.escape()},b);if(a.parent){c=this.resourceLinkFormatterWithPath(a.parent);k.add(c,"inlineBlock");var d=m.create("span",{innerHTML:"&nbsp;/&nbsp;"});m.place(d,b,"first");m.place(c,b,"first")}}(a.agent||a.agentPool||a.prototype)&&m.place(this.resourceParentFormatter(a),b);return b},resourceInventoryFormatter:function(c,
h,r){var j=this,w=m.create("div"),u=c.versions||c.version,x=function(a,b,d){var h=!c.component||!c.component.security||c.component.security.read,h=h&&r,e=a.name.escape();a.archived&&(e+=i18n(" %s (archived)",a.name.escape()));m.create(h?"a":"div",{innerHTML:e,className:h?"linkPointer":"",href:h?"#version/"+a.id:void 0,style:"display: "+(d?"inline-block;":"block;")},b)};if(u&&Array.isArray(u)){var v=u[0];v&&x(v,w,!0);if(1<u.length){var x=function(a){e(a,"click",function(){var a=new q({title:i18n("Inventory for %s",
c.name),closable:!0,draggable:!0}),b=[{name:i18n("Component"),formatter:function(a){var b="";a.component&&(b=j.componentLinkFormatter(a.component));return b}},{name:i18n("Version"),formatter:function(b){return j.versionLinkFormatter(b,function(){a.hide()})}},{name:i18n("Date Created"),formatter:function(a){return util.tableDateFormatter(null,a.created)}},{name:i18n("Type"),formatter:function(a){return j.versionTypeFormatter(a)}}];(new o({getData:function(){return c.versions||c.version},serverSideProcessing:!1,
hideExpandCollapse:!0,hideFooterLinks:!0,columns:b})).placeAt(a.containerNode);b=(new d({label:i18n("Close"),onClick:function(){a.hide()}})).placeAt(a.containerNode,"last");k.add(b.domNode,"underField");a.show()})},y=j.moreVersionsLinkFormatter(u.length-1,w);x(y);var l=!1,z=new b({content:j.versionPopupFormatter(u,!0,r?x:null),onMouseLeave:function(){a.close(z);l=!1},className:"inventory-popup"});x(z.connectorNode);e(y,f.enter,function(){a.open({popup:z,around:y})});var B=function(){a.close(z)};e(y,
"click",B);e(z.domNode,"click",B);e(z.connectorNode,"click",B);e(z.domNode,f.enter,function(){l=!0});e(h,f.leave,function(){setTimeout(function(){l||(B(),l=!1)},100)})}}return w},getResourceNameRawValue:function(a){var b;b=function(a){var c=a.name;a.parent&&(c=b(a.parent)+"/"+c);return c};return b(a)},resourceParentFormatter:function(a){var b=m.create("div",{"class":"inlineBlock"}),c=a.agent&&(!a.agent.security||a.agent.security.read),d=a.agentPool&&(!a.agentPool.security||a.agentPool.security.read),
h=a.prototype;(c||d||h)&&m.create("span",{innerHTML:"&nbsp;&nbsp;("},b);c?m.create("a",{href:"#agent/"+a.agent.id,innerHTML:i18n("View Agent")},b):d?m.create("a",{href:"#agentPool/"+a.agentPool.id,innerHTML:i18n("View Agent Pool")},b):h&&m.create("span",{innerHTML:i18n("Prototype")},b);(c||d||h)&&m.create("span",{innerHTML:")"},b);return b},getResourceIcon:function(a){return a=a.agent?"agentIcon":a.agentPool?"agentPoolIcon":a.componentTag?"componentIcon":a.role?"COMPONENT"===a.role.specialType?"componentIcon":
"DYNAMIC_GROUP"===a.role.specialType?"folderGearIcon":"AGENT_PLACEHOLDER"===a.role.specialType?"agentPlaceholderIcon":-1<a.role.name.indexOf("WebSphere")?"websphere-icon":"folderIcon":"folderIcon",this.createIcon(a)},createIcon:function(a,b){return m.create("div",{"class":"inlineBlock general-icon "+a,title:b||""})},resourceStatusFormatter:function(a,b,c){var d=document.createElement("div");d.style.textAlign="center";a.status&&("agent"===a.type||"agentPool"===a.type)?d=formatters.agentStatusFormatter(a,
b,c):k.add(c,"statusNotApplicable");return d},agentStatusFormatter:function(a,b,c){b=document.createElement("div");b.style.textAlign="center";"ONLINE"===a.status?(b.innerHTML=i18n("Online"),k.add(c,"connected-state-color")):"CONNECTING"===a.status?(b.innerHTML=i18n("Connecting"),k.add(c,"running-state-color")):"UPGRADE_REQUIRED"===a.status?(b.innerHTML=i18n("Upgrade Required"),k.add(c,"warning-state-color")):"UPGRADE_RECOMMND"===a.status?(b.innerHTML=i18n("Upgrade Recommended"),k.add(c,"running-state-color")):
"OFFLINE"===a.status?(b.innerHTML=i18n("Offline"),k.add(c,"disconnected-state-color")):"ERROR"===a.status?(b.innerHTML=i18n("Error"),k.add(c,"disconnected-state-color")):"INSTALLABLE"===a.status?(b.innerHTML=i18n("Installable"),k.add(c,"installable-state-color")):(b.innerHTML=i18n("N/A"),k.add(c,"gray-state-color"));return b},agentLinkFormatter:function(a){var b=document.createElement("div");if(a){var c=document.createElement("a");c.innerHTML=a.name.escape();c.href="#agent/"+a.id;b.appendChild(c)}return b},
relayLinkFormatter:function(a){var b=document.createElement("div");if(a){var c=document.createElement("a");c.innerHTML=a.name.escape();c.href="#relay/"+a.id;b.appendChild(c)}return b},agentPoolLinkFormatter:function(a){var b=document.createElement("div");if(a){var c=document.createElement("a");c.innerHTML=a.name.escape();c.href="#agentPool/"+a.id;b.appendChild(c)}return b},resourceRoleFormatter:function(a,b,c){b=i18n("All");c.style.textAlign="center";if(a)b=a.name.escape(),c.style.backgroundColor=
a.color;return b},resourceRoleLinkFormatter:function(a,b,c){c.style.backgroundColor=a.color;b=document.createElement("a");if(a)b.innerHTML=a.name.escape(),b.href="#resourceRole/"+a.id;return b},resourceTemplateLinkFormatter:function(a){var b=m.create("div");a&&m.create("a",{innerHTML:a.name.escape(),href:"#resourceTemplate/"+a.id},b);return b},processLinkFormatter:function(a){var b=document.createElement("div");if(a){var c=document.createElement("a");c.innerHTML=a.name.escape();c.href="#process/"+
a.id+"/"+a.version;b.appendChild(c)}return b},requestStatusFormatter:function(a,b,c){var d=i18n("Unknown");c.style.textAlign="center";a.failed?(k.add(c,"failed-state-color"),d=i18n("Failed")):a.rootTrace||a.state?d=this.activityStatusFormatter(a.rootTrace||a,b,c):!a.traceId&&"FAULTED"===a.result?(k.add(c,"failed-state-color"),d=i18n("Could Not Start")):a.approval?d=this.approvalStatusFormatter(a.approval,b,c):a.status?d=this.applicationProcessStatusFormatter(a.status,b,c):a.entry&&!a.entry.fired?
(k.add(c,"gray-state-color"),d=i18n("Scheduled")):a.entry&&a.entry.fired&&(k.add(c,"failed-state-color"),d=i18n("Cancelled"));return d},applicationProcessStatusFormatter:function(a,b,c){b=i18n("Unknown");c.style.textAlign="center";"FAILURE"===a?(b=i18n("Failed"),k.add(c,"failed-state-color")):"RUNNING"===a?(b=i18n("Executing"),k.add(c,"running-state-color")):"SUCCESS"===a?(b=i18n("Success"),k.add(c,"success-state-color")):"SCHEDULED"===a?(b=i18n("Scheduled"),k.add(c,"gray-state-color")):"CANCELLED"===
a?(b=i18n("Cancelled"),k.add(c,"grey-state-color")):"AWAITING_APPROVAL"===a?(b=i18n("Awaiting Approval"),k.add(c,"grey-state-color")):"APPROVAL_REJECTED"===a&&(b=i18n("Approval Rejected"),k.add(c,"failed-state-color"));return b},sourceConfigStatusFormatter:function(a,b,c){b=i18n("Unknown");c.style.textAlign="center";"FAILURE"===a.status?(b=i18n("Failed"),k.add(c,"failed-state-color")):"EXECUTING"===a.status?(b=i18n("Executing"),k.add(c,"running-state-color")):"SUCCESS"===a.status?(b=i18n("Success"),
k.add(c,"success-state-color")):"WAITING"===a.status?(b=i18n("Waiting"),k.add(c,"running-state-color")):"CANCELLED"===a.status&&(b=i18n("Cancelled"),k.add(c,"grey-state-color"));return b},activityStatusFormatter:function(a,b,c){var b=a.state,d=a.result,h="",e=util.getNamedProperty(a.properties,"_SYS_FAILURE_CAUGHT");void 0!==e&&"true"===e.value&&(d="FAULTED");c.style.textAlign="center";if("CLOSED"===b&&"SUCCEEDED"===d)a.metadata&&a.metadata.notNeeded?(k.add(c,"gray-state-color"),h=i18n("Not Needed")):
(k.add(c,"success-state-color"),h=i18n("Success"));else if("CLOSED"===b&&"CANCELED"===d)k.add(c,"gray-state-color"),h=i18n("Canceled");else if("EXECUTING"===b)a.paused?(k.add(c,"gray-state-color"),h=i18n("Paused")):(k.add(c,"running-state-color"),h=i18n("Running"));else if("CLOSED"===b&&"FAULTED"===d||"FAULTING"===b)k.add(c,"failed-state-color"),h=i18n("Failed");return h},approvalStatusFormatter:function(a,b,c){b="";c.style.textAlign="center";a.failed?(b=i18n("Approval Failed"),k.add(c,"failed-state-color")):
a.finished?(b=i18n("Approved"),k.add(c,"success-state-color")):a.cancelled?(b=i18n("Approval Cancelled"),k.add(c,"gray-state-color")):(b=i18n("Approval In Progress"),k.add(c,"running-state-color"));return b},statusFormatter:function(a,b,c){b="";if(a)b=formatters.statusTranslator(a.name),c.style.backgroundColor=a.color,c.style.textAlign="center",c.style.color=util.isDarkColor(a.color)?"#FFF":"#000";return b},conditionFormatter:function(a){var b="";if(a&&(b={backgroundColor:a.color},k.add(a,"statusBox"),
util.isDarkColor(a.color)))b.color="#FFF";return b},conditionAttachBoxFormatter:function(a){var b="";if(a&&(b={backgroundColor:a.color},util.isDarkColor(a.color)))b.color="#FFF";return b},conditionXButtonFormatter:function(a,b){var c="";b&&a&&(c=m.create("div",{"class":"linkPointer environmentStatusButton"},a));return c},statusTranslator:function(a){return"Active"===a?i18n("Active"):a},artifactFormatter:function(a){var b=document.createElement("div",{"class":"inlineBlock"});a&&m.place(this.getArtifactIcon(a),
b);m.create("span",{innerHTML:a.name.escape()},b);return b},booleanTranslator:function(a){var b=null;return b=a?i18n("true"):i18n("false")},zosArtifactFormatter:function(a){var b=document.createElement("div",{"class":"inlineBlock"});a&&m.place(this.getNoIcon(a),b);m.create("span",{innerHTML:a.name.escape()},b);return b},getNoIcon:function(){var a=this.createIcon("dijitIcon dijitTreeIcon dijitLeaf");return a=m.create("span")},getArtifactIcon:function(a){return a="file"===a.type?"artifactIcon dijitIcon dijitTreeIcon dijitLeaf":
"folderIcon",this.createIcon(a)}}})},"dijit/form/_ComboBoxMenuMixin":function(){define("dijit/form/_ComboBoxMenuMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/i18n","dojo/i18n!./nls/ComboBox"],function(l,m,k,j){return m("dijit.form._ComboBoxMenuMixin",null,{_messages:null,postMixInProperties:function(){this.inherited(arguments);this._messages=j.getLocalization("dijit.form","ComboBox",this.lang)},buildRendering:function(){this.inherited(arguments);this.previousButton.innerHTML=
this._messages.previousMessage;this.nextButton.innerHTML=this._messages.nextMessage},_setValueAttr:function(f){this.value=f;this.onChange(f)},onClick:function(f){if(f==this.previousButton)this._setSelectedAttr(null),this.onPage(-1);else if(f==this.nextButton)this._setSelectedAttr(null),this.onPage(1);else this.onChange(f)},onChange:function(){},onPage:function(){},onClose:function(){this._setSelectedAttr(null)},_createOption:function(f,e){var d=this._createMenuItem(),c=e(f);c.html?d.innerHTML=c.label:
d.appendChild(d.ownerDocument.createTextNode(c.label));if(""==d.innerHTML)d.innerHTML="&#160;";this.applyTextDir(d,d.innerText||d.textContent||"");return d},createOptions:function(f,e,d){this.items=f;this.previousButton.style.display=0==e.start?"none":"";k.set(this.previousButton,"id",this.id+"_prev");l.forEach(f,function(b,a){var c=this._createOption(b,d);c.setAttribute("item",a);k.set(c,"id",this.id+a);this.nextButton.parentNode.insertBefore(c,this.nextButton)},this);var c=!1;f.total&&!f.total.then&&
-1!=f.total?e.start+e.count<f.total?c=!0:e.start+e.count>f.total&&e.count==f.length&&(c=!0):e.count==f.length&&(c=!0);this.nextButton.style.display=c?"":"none";k.set(this.nextButton,"id",this.id+"_next")},clearResultList:function(){for(var f=this.containerNode;2<f.childNodes.length;)f.removeChild(f.childNodes[f.childNodes.length-2]);this._setSelectedAttr(null)},highlightFirstOption:function(){this.selectFirstNode()},highlightLastOption:function(){this.selectLastNode()},selectFirstNode:function(){this.inherited(arguments);
this.getHighlightedOption()==this.previousButton&&this.selectNextNode()},selectLastNode:function(){this.inherited(arguments);this.getHighlightedOption()==this.nextButton&&this.selectPreviousNode()},getHighlightedOption:function(){return this.selected}})})},"url:dojox/calendar/templates/SimpleColumnView.html":'<div data-dojo-attach-events="keydown:_onKeyDown">\t\n\t<div data-dojo-attach-point="header" class="dojoxCalendarHeader">\n\t\t<div class="dojoxCalendarYearColumnHeader" data-dojo-attach-point="yearColumnHeader">\n\t\t\t<table><tr><td><span data-dojo-attach-point="yearColumnHeaderContent"></span></td></tr></table>\t\t\n\t\t</div>\n\t\t<div data-dojo-attach-point="columnHeader" class="dojoxCalendarColumnHeader">\n\t\t\t<table data-dojo-attach-point="columnHeaderTable" class="dojoxCalendarColumnHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t\t</div>\n\t</div>\t\n\t<div data-dojo-attach-point="vScrollBar" class="dojoxCalendarVScrollBar">\n\t\t<div data-dojo-attach-point="vScrollBarContent" style="visibility:hidden;position:relative; width:1px; height:1px;" ></div>\n\t</div>\t\n\t<div data-dojo-attach-point="scrollContainer" class="dojoxCalendarScrollContainer">\n\t\t<div data-dojo-attach-point="sheetContainer" style="position:relative;left:0;right:0;margin:0;padding:0">\n\t\t\t<div data-dojo-attach-point="rowHeader" class="dojoxCalendarRowHeader">\n\t\t\t\t<table data-dojo-attach-point="rowHeaderTable" class="dojoxCalendarRowHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t\t\t</div>\n\t\t\t<div data-dojo-attach-point="grid" class="dojoxCalendarGrid">\n\t\t\t\t<table data-dojo-attach-point="gridTable" class="dojoxCalendarGridTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t\t\t</div>\n\t\t\t<div data-dojo-attach-point="itemContainer" class="dojoxCalendarContainer" data-dojo-attach-event="mousedown:_onGridMouseDown,mouseup:_onGridMouseUp,ondblclick:_onGridDoubleClick,touchstart:_onGridTouchStart,touchmove:_onGridTouchMove,touchend:_onGridTouchEnd">\n\t\t\t\t<table data-dojo-attach-point="itemContainerTable" class="dojoxCalendarContainerTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t\t\t</div>\n\t\t</div> \n\t</div>\n</div>\n\n',
"deploy/widgets/security/resourceRole/EditResourceRole":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,js/webext/widgets/ColumnForm".split(","),function(l,m,k,j,f,e){return j([m,l],{templateString:'<div class="editUser">  <div data-dojo-attach-point="formAttach"></div></div>',postCreate:function(){this.inherited(arguments);var d=this;this.existingValues={};if(this.resourceRole)this.existingValues=this.resourceRole;this.form=new e({submitUrl:bootstrap.baseUrl+
"security/resourceRole"+(this.resourceRole?"/"+this.resourceRole.id:""),submitMethod:this.resourceRole?"PUT":"POST",cancelLabel:null,addData:function(c){c.resourceType=d.resourceType.id},postSubmit:function(c){void 0!==d.callback&&d.callback(!0,c.id)},onCancel:function(){void 0!==d.callback&&d.callback()}});this.form.addField({name:"name",label:i18n("Name"),required:!0,type:"Text",value:this.existingValues.name});this.form.addField({name:"description",label:i18n("Description"),required:!1,type:"Text",
value:this.existingValues.description});this.form.placeAt(this.formAttach)}})})},"dijit/form/ToggleButton":function(){define("dijit/form/ToggleButton",["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(l,m,k,j){return l("dijit.form.ToggleButton",[k,j],{baseClass:"dijitToggleButton",setChecked:function(f){m.deprecated("setChecked("+f+") is deprecated. Use set('checked',"+f+") instead.","","2.0");this.set("checked",f)}})})},"url:dijit/templates/MenuSeparator.html":'<tr class="dijitMenuSeparator" role="separator">\n\t<td class="dijitMenuSeparatorIconCell">\n\t\t<div class="dijitMenuSeparatorTop"></div>\n\t\t<div class="dijitMenuSeparatorBottom"></div>\n\t</td>\n\t<td colspan="3" class="dijitMenuSeparatorLabelCell">\n\t\t<div class="dijitMenuSeparatorTop dijitMenuSeparatorLabel"></div>\n\t\t<div class="dijitMenuSeparatorBottom"></div>\n\t</td>\n</tr>',
"dijit/MenuItem":function(){require({cache:{"url:dijit/templates/MenuItem.html":'<tr class="dijitReset dijitMenuItem" data-dojo-attach-point="focusNode" role="menuitem" tabIndex="-1">\n\t<td class="dijitReset dijitMenuItemIconCell" role="presentation">\n\t\t<img src="${_blankGif}" alt="" class="dijitIcon dijitMenuItemIcon" data-dojo-attach-point="iconNode"/>\n\t</td>\n\t<td class="dijitReset dijitMenuItemLabel" colspan="2" data-dojo-attach-point="containerNode"></td>\n\t<td class="dijitReset dijitMenuItemAccelKey" style="display: none" data-dojo-attach-point="accelKeyNode"></td>\n\t<td class="dijitReset dijitMenuArrowCell" role="presentation">\n\t\t<div data-dojo-attach-point="arrowWrapper" style="visibility: hidden">\n\t\t\t<img src="${_blankGif}" alt="" class="dijitMenuExpand"/>\n\t\t\t<span class="dijitMenuExpandA11y">+</span>\n\t\t</div>\n\t</td>\n</tr>\n'}});
define("dijit/MenuItem","dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-class,dojo/_base/kernel,dojo/sniff,./_Widget,./_TemplatedMixin,./_Contained,./_CssStateMixin,dojo/text!./templates/MenuItem.html".split(","),function(l,m,k,j,f,e,d,c,b,a,h){return l("dijit.MenuItem",[d,c,b,a],{templateString:h,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(a){this.containerNode.innerHTML=a;this._set("label",a);"auto"===this.textDir&&this.applyTextDir(this.focusNode,this.label)},iconClass:"dijitNoIcon",
_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:!1,_fillContent:function(a){a&&!("label"in this.params)&&this.set("label",a.innerHTML)},buildRendering:function(){this.inherited(arguments);var a=this.id+"_text";k.set(this.containerNode,"id",a);this.accelKeyNode&&(k.set(this.accelKeyNode,"id",this.id+"_accel"),a+=" "+this.id+"_accel");this.domNode.setAttribute("aria-labelledby",a);m.setSelectable(this.domNode,!1)},onClick:function(){},focus:function(){try{8==e("ie")&&this.containerNode.focus(),
this.focusNode.focus()}catch(a){}},_onFocus:function(){this._setSelected(!0);this.getParent()._onItemFocus(this);this.inherited(arguments)},_setSelected:function(a){j.toggle(this.domNode,"dijitMenuItemSelected",a)},setLabel:function(a){f.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",a)},setDisabled:function(a){f.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",a)},
_setDisabledAttr:function(a){this.focusNode.setAttribute("aria-disabled",a?"true":"false");this._set("disabled",a)},_setAccelKeyAttr:function(a){this.accelKeyNode.style.display=a?"":"none";this.accelKeyNode.innerHTML=a;k.set(this.containerNode,"colSpan",a?"1":"2");this._set("accelKey",a)},_setTextDirAttr:function(a){if(!this._created||this.textDir!=a)this._set("textDir",a),this.applyTextDir(this.focusNode,this.label)}})})},"dijit/_WidgetBase":function(){define("dijit/_WidgetBase","require,dojo/_base/array,dojo/aspect,dojo/_base/config,dojo/_base/connect,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dojo/has,dojo/_base/kernel,dojo/_base/lang,dojo/on,dojo/ready,dojo/Stateful,dojo/topic,dojo/_base/window,./Destroyable,./registry".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u,x,v,y){function A(a){return function(b){c[b?"set":"remove"](this.domNode,a,b);this._set(a,b)}}o.add("dijit-legacy-requires",!n.isAsync);o("dijit-legacy-requires")&&t(0,function(){l(["dijit/_base/manager"])});var z={};return e("dijit._WidgetBase",[w,v],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:A("lang"),dir:"",_setDirAttr:A("dir"),textDir:"","class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,
domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",a)},attributeMap:{},_blankGif:j.blankGif||l.toUrl("dojo/resources/blank.gif"),postscript:function(a,b){this.create(a,b)},create:function(a,b){this.srcNodeRef=d.byId(b);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&"string"==typeof this.srcNodeRef.id)this.id=this.srcNodeRef.id;if(a)this.params=a,s.mixin(this,a);this.postMixInProperties();if(!this.id)this.id=y.getUniqueId(this.declaredClass.replace(/\./g,
"_")),this.params&&delete this.params.id;this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:x.doc);this.ownerDocumentBody=x.body(this.ownerDocument);y.add(this);this.buildRendering();var c;if(this.domNode){this._applyAttributes();var h=this.srcNodeRef;h&&h.parentNode&&this.domNode!==h&&(h.parentNode.replaceChild(this.domNode,h),c=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();c&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var a=
this.constructor,b=a._setterAttrs;if(!b){var b=a._setterAttrs=[],c;for(c in this.attributeMap)b.push(c);var a=a.prototype,d;for(d in a)d in this.attributeMap||"_set"+d.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()})+"Attr"in a&&b.push(d)}var h={},e;for(e in this.params||{})h[e]=this[e];m.forEach(b,function(a){a in h||this[a]&&this.set(a,this[a])},this);for(e in h)this.set(e,h[e])},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode)this.domNode=
this.srcNodeRef||this.ownerDocument.createElement("div");if(this.baseClass){var a=this.baseClass.split(" ");this.isLeftToRight()||(a=a.concat(m.map(a,function(a){return a+"Rtl"})));b.add(this.domNode,a)}},postCreate:function(){},startup:function(){if(!this._started)this._started=!0,m.forEach(this.getChildren(),function(a){if(!a._started&&!a._destroyed&&s.isFunction(a.startup))a.startup(),a._started=!0})},destroyRecursive:function(a){this._beingDestroyed=!0;this.destroyDescendants(a);this.destroy(a)},
destroy:function(a){function b(c){c.destroyRecursive?c.destroyRecursive(a):c.destroy&&c.destroy(a)}this._beingDestroyed=!0;this.uninitialize();m.forEach(this._connects,s.hitch(this,"disconnect"));m.forEach(this._supportingWidgets,b);this.domNode&&m.forEach(y.findWidgets(this.domNode,this.containerNode),b);this.destroyRendering(a);y.remove(this.id);this._destroyed=!0},destroyRendering:function(b){this.bgIframe&&(this.bgIframe.destroy(b),delete this.bgIframe);this.domNode&&(b?c.remove(this.domNode,
"widgetId"):a.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(b||a.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(a){m.forEach(this.getChildren(),function(b){b.destroyRecursive&&b.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(a){var b=this.domNode;s.isObject(a)?q.set(b,a):b.style.cssText=b.style.cssText?b.style.cssText+("; "+a):a;this._set("style",a)},_attrToDom:function(a,d,h){h=3<=arguments.length?h:this.attributeMap[a];
m.forEach(s.isArray(h)?h:[h],function(h){var e=this[h.node||h||"domNode"];switch(h.type||"attribute"){case "attribute":s.isFunction(d)&&(d=s.hitch(this,d));h=h.attribute?h.attribute:/^on[A-Z][a-zA-Z]*$/.test(a)?a.toLowerCase():a;e.tagName?c.set(e,h,d):e.set(h,d);break;case "innerText":e.innerHTML="";e.appendChild(this.ownerDocument.createTextNode(d));break;case "innerHTML":e.innerHTML=d;break;case "class":b.replace(e,d,this[a])}},this)},get:function(a){var b=this._getAttrNames(a);return this[b.g]?
this[b.g]():this[a]},set:function(a,b){if("object"===typeof a){for(var c in a)this.set(c,a[c]);return this}c=this._getAttrNames(a);var d=this[c.s];if(s.isFunction(d))var h=d.apply(this,Array.prototype.slice.call(arguments,1));else{var d=this.focusNode&&!s.isFunction(this.focusNode)?"focusNode":"domNode",e=this[d].tagName,f;if(!(f=z[e])){f=this[d];var n={},o;for(o in f)n[o.toLowerCase()]=!0;f=z[e]=n}o=a in this.attributeMap?this.attributeMap[a]:c.s in this?this[c.s]:c.l in f&&"function"!=typeof b||
/^aria-|^data-|^role$/.test(a)?d:null;null!=o&&this._attrToDom(a,b,o);this._set(a,b)}return h||this},_attrPairNames:{},_getAttrNames:function(a){var b=this._attrPairNames;if(b[a])return b[a];var c=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()});return b[a]={n:a+"Node",s:"_set"+c+"Attr",g:"_get"+c+"Attr",l:c.toLowerCase()}},_set:function(a,b){var c=this[a];this[a]=b;this._created&&b!==c&&(this._watchCallbacks&&this._watchCallbacks(a,c,b),this.emit("attrmodified-"+
a,{detail:{prevValue:c,newValue:b}}))},emit:function(a,b,c){b=b||{};if(void 0===b.bubbles)b.bubbles=!0;if(void 0===b.cancelable)b.cancelable=!0;if(!b.detail)b.detail={};b.detail.widget=this;var d,h=this["on"+a];h&&(d=h.apply(this,c?c:[b]));this._started&&!this._beingDestroyed&&r.emit(this.domNode,a.toLowerCase(),b);return d},on:function(a,b){var c=this._onMap(a);return c?k.after(this,c,b,!0):this.own(r(this.domNode,a,b))[0]},_onMap:function(a){var b=this.constructor,c=b._onMap;if(!c){var c=b._onMap=
{},d;for(d in b.prototype)/^on/.test(d)&&(c[d.replace(/^on/,"").toLowerCase()]=d)}return c["string"==typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?y.findWidgets(this.containerNode):[]},getParent:function(){return y.getEnclosingWidget(this.domNode.parentNode)},connect:function(a,b,c){return this.own(f.connect(a,b,this,c))[0]},disconnect:function(a){a.remove()},subscribe:function(a,b){return this.own(u.subscribe(a,
s.hitch(this,b)))[0]},unsubscribe:function(a){a.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir:h.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=q.get(this.domNode,"display")},placeAt:function(b,c){var h=!b.tagName&&y.byId(b);h&&h.addChild&&(!c||"number"===typeof c)?h.addChild(this,c):(h=h?h.containerNode&&!/after|before|replace/.test(c||"")?h.containerNode:h.domNode:d.byId(b,this.ownerDocument),a.place(this.domNode,h,c),!this._started&&(this.getParent()||
{})._started&&this.startup());return this},getTextDir:function(a,b){return b},applyTextDir:function(){},defer:function(a,b){var c=setTimeout(s.hitch(this,function(){c=null;this._destroyed||s.hitch(this,a)()}),b||0);return{remove:function(){c&&(clearTimeout(c),c=null);return null}}}})})},"deploy/widgets/report/ReportLists":function(){define("dijit/Tooltip,dijit/_TemplatedMixin,dijit/_Widget,dijit/form/ToggleButton,dojo/_base/declare,dojo/_base/xhr,dojo/dom-construct,dojo/dom-style,dojo/on,dojox/html/entities,js/webext/widgets/GenericConfirm,js/webext/widgets/PopDown,js/webext/widgets/Table".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o){return f("deploy.widgets.report.ReportLists",[k,m],{templateString:'<div class="report-definition-list noPrint"><div data-dojo-attach-point="headingSectionAttach"></div></div>',reportRestUrlBase:null,reportHashBase:null,hasReport:!1,headingSectionAttach:null,myRecentReportsTable:null,myReportsTable:null,sharedReportsTable:null,recentReportsButton:null,myReportsButton:null,sharedReportsButton:null,constructor:function(a){if(!a.reportRestUrlBase)this.reportRestUrlBase=
bootstrap.restUrl+"report/";this.reportHashBase="reports/"},getButtons:function(){return{recentReportsButton:this.recentReportsButton,myReportsButton:this.myReportsButton,sharedReportsButton:this.sharedReportsButton}},postCreate:function(){this.inherited(arguments);var h=this,e=function(a){c.set(a,{"margin-bottom":"0.5em"});c.set(a.domAttach,{padding:"0.5em 1em",border:"1px gray solid"});c.set(a.headerAttach,{"font-size":"14px","background-size":"14px, auto","padding-left":"16px"})},f={name:i18n("Report Name"),
field:"name",orderField:"name",filterField:"name",filterType:"text",getRawValue:function(a){return a.name},formatter:function(b){var c=a.encode(b.name),c=d.create("a",{href:"#"+h.getHashForReport(b),innerHTML:c});new l({connectId:c,label:a.encode(b.description||"<none>")});return c}},t={name:i18n("Description"),field:"description"},k={name:i18n("Type"),field:"type"},u={name:i18n("Shared"),field:"shared"},x={name:i18n("Owner"),field:"owner"},v={name:i18n("Created"),field:"created",orderField:"created",
getRawValue:function(a){return a.created},formatter:function(a){return a.created&&util.dateFormatShort(a.created)}},y={name:i18n("Actions"),formatter:function(a){var c=d.create("span"),e=d.create("a",{"class":"linkPointer",innerHTML:i18n("Delete")},c);b(e,"click",function(){h.deleteReport(a)});return c}},m=h.hasReport?i18n("Recent Reports"):"<b>"+i18n("Recent Reports")+"</b>";h.recentReportsButton=new j({label:m,checked:!h.hasReport});h.recentReportsButton.placeAt(h.headingSectionAttach);h.myReportsButton=
new j({label:i18n("My Reports")});h.myReportsButton.placeAt(h.headingSectionAttach);h.sharedReportsButton=new j({label:i18n("Shared Reports")});h.sharedReportsButton.placeAt(h.headingSectionAttach);var z=new q({collapsed:h.hasReport});e(z);z.placeAt(h.headingSectionAttach);this.myRecentReportsTable=new o({url:h.reportRestUrlBase+"recent",serverSideProcessing:!1,columns:[f,t,k,u,x,v],noDataMessage:i18n("No recent reports found."),orderField:null,hidePagination:!0});d.create("div",{"class":"innerContainerLabel",
innerHTML:i18n("Recent Reports")},z.domAttach);this.myRecentReportsTable.placeAt(z.domAttach);var B=new q({collapsed:!0});e(B);B.placeAt(h.headingSectionAttach);this.myReportsTable=new o({url:h.reportRestUrlBase+"mine",serverSideProcessing:!1,columns:[f,t,k,u,v,y],noDataMessage:i18n("No shared reports found."),orderField:"name"});d.create("div",{"class":"innerContainerLabel",innerHTML:i18n("My Reports")},B.domAttach);this.myReportsTable.placeAt(B.domAttach);var D=new q({collapsed:!0});e(D);D.placeAt(h.headingSectionAttach);
this.sharedReportsTable=new o({url:h.reportRestUrlBase+"shared",serverSideProcessing:!1,columns:[f,t,k,x,v],noDataMessage:i18n("No shared reports found."),orderField:"name"});d.create("div",{"class":"innerContainerLabel",innerHTML:i18n("Shared Reports")},D.domAttach);this.sharedReportsTable.placeAt(D.domAttach);h.recentReportsButton.onChange=function(){z.toggle();this.get("checked")?this.set("label","<b>"+i18n("Recent Reports")+"</b>"):this.set("label",i18n("Recent Reports"))};h.myReportsButton.onChange=
function(){B.toggle();this.get("checked")?this.set("label","<b>"+i18n("My Reports")+"</b>"):this.set("label",i18n("My Reports"))};h.sharedReportsButton.onChange=function(){D.toggle();this.get("checked")?this.set("label","<b>"+i18n("Shared Reports")+"</b>"):this.set("label",i18n("Shared Reports"))}},getHashForReport:function(a){return a.shared?this.reportHashBase+"shared/"+a.name:this.reportHashBase+a.name},destroy:function(){this.inherited(arguments);this.myRecentReportsTable.destroy();this.myReportsTable.destroy();
this.sharedReportsTable.destroy();this.recentReportsButton.destroy();this.myReportsButton.destroy();this.sharedReportsButton.destroy()},actionsFormatter:function(a){var b=document.createElement("a");b.href="#applicationProcessRequest/"+a.applicationRequestId;b.innerHTML=i18n("View Request");return b},deleteReport:function(b){var c=this,d=a.encode(b.name);new h({message:i18n("Are you sure you wish to delete %s?",d),action:function(){e.del({url:c.reportRestUrlBase+b.name,sync:!0,load:function(){c.refresh()}})}})},
refresh:function(){this.myRecentReportsTable.refresh();this.myReportsTable.refresh();this.sharedReportsTable.refresh()}})})},"dojo/store/JsonRest":function(){define(["../_base/xhr","../_base/lang","../json","../_base/declare","./util/QueryResults"],function(l,m,k,j,f){return j("dojo.store.JsonRest",null,{constructor:function(e){this.headers={};j.safeMixin(this,e)},headers:{},target:"",idProperty:"id",get:function(e,d){var d=d||{},c=m.mixin({Accept:this.accepts},this.headers,d.headers||d);return l("GET",
{url:this.target+e,handleAs:"json",headers:c})},accepts:"application/javascript, application/json",getIdentity:function(e){return e[this.idProperty]},put:function(e,d){var d=d||{},c="id"in d?d.id:this.getIdentity(e),b="undefined"!=typeof c;return l(b&&!d.incremental?"PUT":"POST",{url:b?this.target+c:this.target,postData:k.stringify(e),handleAs:"json",headers:m.mixin({"Content-Type":"application/json",Accept:this.accepts,"If-Match":!0===d.overwrite?"*":null,"If-None-Match":!1===d.overwrite?"*":null},
this.headers,d.headers)})},add:function(e,d){d=d||{};d.overwrite=!1;return this.put(e,d)},remove:function(e,d){d=d||{};return l("DELETE",{url:this.target+e,headers:m.mixin({},this.headers,d.headers)})},query:function(e,d){var d=d||{},c=m.mixin({Accept:this.accepts},this.headers,d.headers);if(0<=d.start||0<=d.count)c.Range=c["X-Range"]="items="+(d.start||"0")+"-"+("count"in d&&Infinity!=d.count?d.count+(d.start||0)-1:"");var b=-1<this.target.indexOf("?");e&&"object"==typeof e&&(e=(e=l.objectToQuery(e))?
(b?"&":"?")+e:"");if(d&&d.sort){for(var a=this.sortParam,e=e+((e||b?"&":"?")+(a?a+"=":"sort(")),b=0;b<d.sort.length;b++)var h=d.sort[b],e=e+((0<b?",":"")+(h.descending?"-":"+")+encodeURIComponent(h.attribute));a||(e+=")")}var q=l("GET",{url:this.target+(e||""),handleAs:"json",headers:c});q.total=q.then(function(){var a=q.ioArgs.xhr.getResponseHeader("Content-Range");return a&&(a=a.match(/\/(.*)/))&&+a[1]});return f(q)}})})},"deploy/widgets/workflow/activity/ApplyConfigurationActivity":function(){define(["dojo/_base/array",
"dojo/_base/declare","dojo/on","deploy/widgets/workflow/activity/BaseActivity","js/webext/widgets/RestSelect"],function(l,m,k,j,f){return m("deploy.widgets.workflow.activity.ApplyConfigurationActivity",[j],{postCreate:function(){this.inherited(arguments);if(!this.initialized)this.data.name=util.randomString(30),this.editProperties()},getLabel:function(){var e="";if(this.initialized){var d=this.getChildChildData();if(d.component&&d.component.deleted)e+=d.name+"\n"+i18n("(Deleted Component)")+")";else{var c=
i18n("Apply Config (%s)",d.componentName),e=e+d.name;e!==c&&(e+="\n"+c)}}else e+=i18n("Apply Configuration");return e},editProperties:function(e){var d=this;this.getChildData();var c=this.getChildChildData(),b,a=d.createPropertyDialog(),h=d.createPropertyForm({dialog:a,validateFields:function(a){return d.validateName(a.name)},onSubmit:function(c){e&&e();d.initialized=!0;d.data={name:d.data.name,type:"componentEnvironmentIterator"};d.data.component=b.get("item");d.data.componentName=d.data.component.name;
if(c.tagId&&""!==c.tagId)d.data.tagId=c.tagId;else if(d.data.tagId)d.data.tagId=void 0;d.data.runOnlyOnFirst=c.runOnlyOnFirst;d.data.maxIteration=c.maxIteration;d.data.failFast=c.failFast;d.data.preconditionScript=c.preconditionScript;var f={};l.forEach(d.extraPropertyNames,function(a){var b=a.substring(2);f[b]=c[a]});d.data.children=[{name:util.randomString(30),type:"configurationDiff",componentName:d.data.component.name,children:[{name:c.name,type:"componentProcess",componentName:d.data.component.name,
componentProcessName:c.componentProcessName,allowFailure:c.allowFailure,properties:f}]}];d.updateLabel();a.hide();h.destroy();a.destroy()},readOnly:d.readOnly});h.addField({name:"name",label:i18n("Name"),type:"Text",required:!0,value:c.name});b=h.addField({name:"component",label:i18n("Component"),required:!0,type:"ApplicationComponentSelect",applicationId:d.graphEditor.application.id,value:!d.data.component?void 0:d.data.component.id,readOnly:d.readOnly,onSetItem:function(a,b){d.showFieldsForComponent(h,
b)}}).widget;h.addField({name:"tagId",label:i18n("Limit to Resource Tag"),type:"TagDropDown",objectType:"Resource",value:d.data.tagId,readOnly:d.readOnly});h.addField({name:"maxIteration",label:i18n("Max # of concurrent jobs."),type:"Text",textDir:"ltr",required:!0,value:d.data.maxIteration||-1,description:i18n("The max number of concurrent component processes to run at any time. Use -1 for unlimited.")});h.addField({name:"failFast",label:i18n("Fail Fast"),type:"Checkbox",description:i18n("When this is checked, this step will not start any more component processes if one fails."),
value:d.data.failFast});h.addField({name:"runOnlyOnFirst",label:i18n("Run on First Online Resource Only"),type:"Checkbox",description:i18n("When this is checked, this step will only use one resource. It will not run on all resources."),value:d.data.runOnlyOnFirst});h.addField({name:"preconditionScript",label:i18n("Precondition"),type:"Text Area",textDir:"ltr",description:i18n("A script to determine whether this step should run. Must evaluate to true or false if not left blank."),value:d.data.preconditionScript});
h.placeAt(a.containerNode);a.show()},showFieldsForComponent:function(e,d){var c=this;e.removeField("componentProcessName");e.removeField("allowFailure");e.removeField("componentProcessLabel");if(d){this.getChildData();var b=this.getChildChildData(),a=e.getValue("name");(!a||this.selectedComponent&&a===i18n("Apply Config (%s)",this.selectedComponent.name))&&e.setValue("name",i18n("Apply Config (%s)",d.name));this.selectedComponent=d;l.forEach(this.extraPropertyNames,function(a){c.removePropertyField(e,
a)});this.extraPropertyNames=[];var h;if(c.data.component&&c.data.component.id===d.id)h=b.componentProcessName;a=new f({restUrl:bootstrap.restUrl+"deploy/component/"+d.id+"/fullProcesses/false",getLabel:function(a){var b=a.name;a.componentTemplate&&(b+=i18n(" (Template)"));return b},isValid:function(a){return!a.takesVersion},getValue:function(a){return a.name},onChange:function(a,d){l.forEach(c.extraPropertyNames,function(a){c.removePropertyField(e,a)});c.extraPropertyNames=[];d&&l.forEach(d.unfilledProperties,
function(a){var d="p_"+a.name,h=a.value,f=!1;b.properties&&b.properties[a.name]&&(h=b.properties[a.name],f=!0);a={name:d,type:a.type,description:a.description?a.description.escape():a.description,required:a.required,value:h,label:a.label,allowedValues:a.allowedValues};c.extraPropertyNames.push(d);c.addPropertyField(e,a,f,"allowFailure")})},allowNone:!1,value:h,disabled:c.readOnly});e.addField({name:"componentProcessName",label:i18n("Component Process"),required:!0,description:i18n("The process to run."),
widget:a},"tagId");e.addField({name:"componentProcessLabel",label:"",type:"Label",value:i18n("Note: Only processes set as Operational (No Version Needed) or Configuration Deployment can be used here.")},"tagId");(config.data.systemConfiguration.enableAllowFailure||b.allowFailure)&&e.addField({name:"allowFailure",label:i18n("Ignore Failure"),description:i18n("When checked, this step will always be considered successful."),type:"Checkbox",value:b.allowFailure},"tagId")}}})})},"dijit/popup":function(){define("dijit/popup",
"dojo/_base/array,dojo/aspect,dojo/_base/connect,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dojo/_base/event,dojo/has,dojo/keys,dojo/_base/lang,dojo/on,./place,./BackgroundIframe,./main".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t){function w(){this._popupWrapper&&(d.destroy(this._popupWrapper),delete this._popupWrapper)}j=j(null,{_stack:[],_beginZIndex:1E3,_idGen:1,_createWrapper:function(a){var b=a._popupWrapper,c=a.domNode;if(!b)b=d.create("div",
{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":a["aria-label"]||a.label||a.name||a.id},a.ownerDocumentBody),b.appendChild(c),c=c.style,c.display="",c.visibility="",c.position="",c.top="0px",a._popupWrapper=b,m.after(a,"destroy",w,!0);return b},moveOffScreen:function(a){a=this._createWrapper(a);b.set(a,{visibility:"hidden",top:"-9999px",display:""})},hide:function(a){a=this._createWrapper(a);b.set(a,"display","none")},getTopPopup:function(){for(var a=this._stack,b=a.length-
1;0<b&&a[b].parent===a[b-1].widget;b--);return a[b]},open:function(b){for(var d=this._stack,j=b.popup,t=b.orient||["below","below-alt","above","above-alt"],w=b.parent?b.parent.isLeftToRight():c.isBodyLtr(j.ownerDocument),z=b.around,l=b.around&&b.around.id?b.around.id+"_dropdown":"popup_"+this._idGen++;d.length&&(!b.parent||!f.isDescendant(b.parent.domNode,d[d.length-1].widget.domNode));)this.close(d[d.length-1].widget);var m=this._createWrapper(j);e.set(m,{id:l,style:{zIndex:this._beginZIndex+d.length},
"class":"dijitPopup "+(j.baseClass||j["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:b.parent?b.parent.id:""});if(h("bgIframe")&&!j.bgIframe)j.bgIframe=new r(m);t=z?s.around(m,z,t,w,j.orient?o.hitch(j,"orient"):null):s.at(m,b,"R"==t?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],b.padding);m.style.display="";m.style.visibility="visible";j.domNode.style.visibility="visible";w=[];w.push(n(m,k._keypress,o.hitch(this,function(c){if(c.charOrCode==q.ESCAPE&&b.onCancel)a.stop(c),b.onCancel();else if(c.charOrCode===
q.TAB&&(a.stop(c),(c=this.getTopPopup())&&c.onCancel))c.onCancel()})));j.onCancel&&b.onCancel&&w.push(j.on("cancel",b.onCancel));w.push(j.on(j.onExecute?"execute":"change",o.hitch(this,function(){var a=this.getTopPopup();if(a&&a.onExecute)a.onExecute()})));d.push({widget:j,parent:b.parent,onExecute:b.onExecute,onCancel:b.onCancel,onClose:b.onClose,handlers:w});if(j.onOpen)j.onOpen(t);return t},close:function(a){for(var b=this._stack;a&&l.some(b,function(b){return b.widget==a})||!a&&b.length;){var c=
b.pop(),d=c.widget,h=c.onClose;if(d.onClose)d.onClose();for(var e;e=c.handlers.pop();)e.remove();d&&d.domNode&&this.hide(d);h&&h()}}});return t.popup=new j})},"dijit/Dialog":function(){require({cache:{"url:dijit/templates/Dialog.html":'<div class="dijitDialog" role="dialog" aria-labelledby="${id}_title">\n\t<div data-dojo-attach-point="titleBar" class="dijitDialogTitleBar">\n\t\t<span data-dojo-attach-point="titleNode" class="dijitDialogTitle" id="${id}_title"\n\t\t\t\trole="heading" level="1"></span>\n\t\t<span data-dojo-attach-point="closeButtonNode" class="dijitDialogCloseIcon" data-dojo-attach-event="ondijitclick: onCancel" title="${buttonCancel}" role="button" tabIndex="-1">\n\t\t\t<span data-dojo-attach-point="closeText" class="closeText" title="${buttonCancel}">x</span>\n\t\t</span>\n\t</div>\n\t<div data-dojo-attach-point="containerNode" class="dijitDialogPaneContent"></div>\n</div>\n'}});
define("dijit/Dialog","require,dojo/_base/array,dojo/_base/connect,dojo/_base/declare,dojo/_base/Deferred,dojo/dom,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/_base/event,dojo/_base/fx,dojo/i18n,dojo/keys,dojo/_base/lang,dojo/on,dojo/ready,dojo/sniff,dojo/window,dojo/dnd/Moveable,dojo/dnd/TimedMoveable,./focus,./_base/manager,./_Widget,./_TemplatedMixin,./_CssStateMixin,./form/_FormMixin,./_DialogMixin,./DialogUnderlay,./layout/ContentPane,dojo/text!./templates/Dialog.html,./main,dojo/i18n!./nls/common".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u,x,v,y,A,z,B,D,G,C,S,K,L){var y=j("dijit._DialogBase",[z,D,G,B],{templateString:K,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:[{node:"titleNode",type:"innerHTML"},{node:"titleBar",type:"attribute"}],open:!1,duration:y.defaultDuration,refocus:!0,autofocus:!0,_firstFocusItem:null,_lastFocusItem:null,doLayout:!1,draggable:!0,_setDraggableAttr:function(a){this._set("draggable",a)},"aria-describedby":"",maxRatio:0.9,
postMixInProperties:function(){var a=q.getLocalization("dijit","common");n.mixin(this,a);this.inherited(arguments)},postCreate:function(){b.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);this.connect(this,"onExecute","hide");this.connect(this,"onCancel","hide");this._modalconnects=[]},onLoad:function(){this._position();this.autofocus&&I.isTop(this)&&(this._getFocusItems(this.domNode),v.focus(this._firstFocusItem));
this.inherited(arguments)},_endDrag:function(){var a=c.position(this.domNode),b=w.getBox(this.ownerDocument);a.y=Math.min(Math.max(a.y,0),b.h-a.h);a.x=Math.min(Math.max(a.x,0),b.w-a.w);this._relativePosition=a;this._position()},_setup:function(){var a=this.domNode;this.titleBar&&this.draggable?(this._moveable=new (6==t("ie")?x:u)(a,{handle:this.titleBar}),this.connect(this._moveable,"onMoveStop","_endDrag")):d.add(a,"dijitDialogFixed");this.underlayAttrs={dialogId:this.id,"class":m.map(this["class"].split(/\s/),
function(a){return a+"_underlay"}).join(" "),ownerDocument:this.ownerDocument}},_size:function(){this._checkIfSingleChild();if(this._singleChild){if("undefined"!=typeof this._singleChildOriginalStyle)this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle,delete this._singleChildOriginalStyle}else b.set(this.containerNode,{width:"auto",height:"auto"});var a=c.position(this.domNode),d=w.getBox(this.ownerDocument);d.w*=this.maxRatio;d.h*=this.maxRatio;if(a.w>=d.w||a.h>=d.h){var h=c.position(this.containerNode),
e=Math.min(a.w,d.w)-(a.w-h.w),a=Math.min(a.h,d.h)-(a.h-h.h);if(this._singleChild&&this._singleChild.resize){if("undefined"==typeof this._singleChildOriginalStyle)this._singleChildOriginalStyle=this._singleChild.domNode.style.cssText;this._singleChild.resize({w:e,h:a})}else b.set(this.containerNode,{width:e+"px",height:a+"px",overflow:"auto",position:"relative"})}else this._singleChild&&this._singleChild.resize&&this._singleChild.resize()},_position:function(){if(!d.contains(this.ownerDocumentBody,
"dojoMove")){var a=this.domNode,h=w.getBox(this.ownerDocument),e=this._relativePosition,f=e?null:c.position(a);b.set(a,{left:Math.floor(h.l+(e?e.x:(h.w-f.w)/2))+"px",top:Math.floor(h.t+(e?e.y:(h.h-f.h)/2))+"px"})}},_onKey:function(b){if(b.charOrCode){var c=b.target;b.charOrCode===o.TAB&&this._getFocusItems(this.domNode);var h=this._firstFocusItem==this._lastFocusItem;if(c==this._firstFocusItem&&b.shiftKey&&b.charOrCode===o.TAB)h||v.focus(this._lastFocusItem),a.stop(b);else if(c==this._lastFocusItem&&
b.charOrCode===o.TAB&&!b.shiftKey)h||v.focus(this._firstFocusItem),a.stop(b);else{for(;c;){if(c==this.domNode||d.contains(c,"dijitPopup"))if(b.charOrCode==o.ESCAPE)this.onCancel();else return;c=c.parentNode}if(b.charOrCode!==o.TAB)a.stop(b);else if(!t("opera"))try{this._firstFocusItem.focus()}catch(e){}}}},show:function(){if(!this.open){this._started||this.startup();if(!this._alreadyInitialized)this._setup(),this._alreadyInitialized=!0;this._fadeOutDeferred&&this._fadeOutDeferred.cancel();var a=w.get(this.ownerDocument);
this._modalconnects.push(s(a,"scroll",n.hitch(this,"resize")));this._modalconnects.push(s(this.domNode,k._keypress,n.hitch(this,"_onKey")));b.set(this.domNode,{opacity:0,display:""});this._set("open",!0);this._onShow();this._size();this._position();var c;this._fadeInDeferred=new f(n.hitch(this,function(){c.stop();delete this._fadeInDeferred}));c=h.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:n.hitch(this,function(){I.show(this,this.underlayAttrs)}),onEnd:n.hitch(this,function(){this.autofocus&&
I.isTop(this)&&(this._getFocusItems(this.domNode),v.focus(this._firstFocusItem));this._fadeInDeferred.resolve(!0);delete this._fadeInDeferred})}).play();return this._fadeInDeferred}},hide:function(){if(this._alreadyInitialized&&this.open){this._fadeInDeferred&&this._fadeInDeferred.cancel();var a;this._fadeOutDeferred=new f(n.hitch(this,function(){a.stop();delete this._fadeOutDeferred}));this._fadeOutDeferred.then(n.hitch(this,"onHide"));a=h.fadeOut({node:this.domNode,duration:this.duration,onEnd:n.hitch(this,
function(){this.domNode.style.display="none";I.hide(this);this._fadeOutDeferred.resolve(!0);delete this._fadeOutDeferred})}).play();if(this._scrollConnected)this._scrollConnected=!1;for(var b;b=this._modalconnects.pop();)b.remove();this._relativePosition&&delete this._relativePosition;this._set("open",!1);return this._fadeOutDeferred}},resize:function(){"none"!=this.domNode.style.display&&(C._singleton&&C._singleton.layout(),t("touch")||this._position(),this._size())},destroy:function(){this._fadeInDeferred&&
this._fadeInDeferred.cancel();this._fadeOutDeferred&&this._fadeOutDeferred.cancel();this._moveable&&this._moveable.destroy();for(var a;a=this._modalconnects.pop();)a.remove();I.hide(this);this.inherited(arguments)}}),M=j("dijit.Dialog",[S,y],{});M._DialogBase=y;var I=M._DialogLevelManager={_beginZIndex:950,show:function(a,c){J[J.length-1].focus=v.curNode;var d=C._singleton;!d||d._destroyed?d=L._underlay=C._singleton=new C(c):d.set(a.underlayAttrs);var h=J[J.length-1].dialog?J[J.length-1].zIndex+2:
M._DialogLevelManager._beginZIndex;1==J.length&&d.show();b.set(C._singleton.domNode,"zIndex",h-1);b.set(a.domNode,"zIndex",h);J.push({dialog:a,underlayAttrs:c,zIndex:h})},hide:function(a){if(J[J.length-1].dialog==a){J.pop();var c=J[J.length-1];C._singleton._destroyed||(1==J.length?C._singleton.hide():(b.set(C._singleton.domNode,"zIndex",c.zIndex-1),C._singleton.set(c.underlayAttrs)));if(a.refocus){a=c.focus;if(c.dialog&&(!a||!e.isDescendant(a,c.dialog.domNode)))c.dialog._getFocusItems(c.dialog.domNode),
a=c.dialog._firstFocusItem;if(a)try{a.focus()}catch(d){}}}else c=m.indexOf(m.map(J,function(a){return a.dialog}),a),-1!=c&&J.splice(c,1)},isTop:function(a){return J[J.length-1].dialog==a}},J=M._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];t("dijit-legacy-requires")&&r(0,function(){l(["dijit/TooltipDialog"])});return M})},"deploy/widgets/log/LiveLogViewer":function(){define("dijit/_Widget,dijit/form/Button,dojo/DeferredList,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/dom-style,dojo/on,dojo/window,dojox/html/entities,deploy/widgets/log/Blocker,js/util/blocker/_BlockerMixin,js/webext/widgets/Dialog,js/webext/widgets/Pager".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r){return f("deploy.widgets.log.LiveLogViewer",[n,l,s],{autoRefresh:!0,lines:null,linesOfInterest:null,pagerControls:null,logText:null,headerContainer:null,linesContainer:null,displayedLines:0,downloadButtonName:"Download Log",postCreate:function(){this.inherited(arguments);this.lines=[];this.linesOfInterest={};this.displayedLines=0;this.dialogLinerWidget=new o;this.dialogLiner=this.dialogLinerWidget.domNode;d.add(this.dialogLiner,"log-viewer-dialog");this.header&&
this.header.placeAt(this.containerNode);if(this.paddingTop)this.containerNode.style.paddingTop=this.paddingTop;this.dialogLinerWidget.placeAt(this.containerNode)},show:function(){var d=this,e=h.getBox();b.set(d.dialogLiner,{minHeight:0.75*e.h+"px",minWidth:0.75*e.w+"px"});e=c.create("div",{"class":"logContainer"},d.dialogLiner);d.linesContainer=c.create("div",{"class":"linesContainer"},e);d.logText=c.create("div",{"class":"logText"},e);e=c.create("div",{"class":"logButtons"},d.dialogLiner);(new m({label:i18n(this.downloadButtonName),
showTitle:!1,onClick:function(){d.downloadLog()}})).placeAt(e);d.pagerControls=new r({totalItems:0,startItem:0,itemsPerPage:1E3,totalPages:0});d.pagerControls.placeAt(e);a(d.pagerControls,"pageChange",function(){d.showLogText()});d.showLogText();d.dialogLinerWidget.block();this.inherited(arguments)},downloadLog:function(){util.downloadFile(this.url+"?fileDownload=true")},showLogText:function(){var a=this,b=[];if(a.propsUrl){var c=e.get({url:a.propsUrl,handleAs:"json",load:function(b){a.linesOfInterest=
{};b&&b.outputProps&&(b=util.getNamedPropertyValue(b.outputProps,"LOI"))&&j.forEach(b.split(","),function(b){a.linesOfInterest[b]=!0})}});b.push(c)}else a.linesOfInterest={};c=e.get({url:a.url,load:function(b){var c=b.split("\r\n"),b=[],d=0,h;a.lines=[];for(d=0;d<c.length;d++)h=c[d].split("\r"),b=b.concat(h);for(d=0;d<b.length;d++)c=b[d].split("\n"),a.lines=a.lines.concat(c);a.pagerControls.setTotalItems(a.lines.length)}});b.push(c);(new k(b)).addBoth(function(){a.updateLogText()})},hide:function(){this.inherited(arguments);
this.refreshTimer&&clearTimeout(this.refreshTimer)},updateLogText:function(){var a=this,d=a.logText.scrollTop;0<a.displayedLines&&(a.displayedLines--,a.logText.removeChild(a.logText.lastChild),a.linesContainer.removeChild(a.linesContainer.lastChild));var h=a.pagerControls.startItem,e=h+a.pagerControls.itemsPerPage-1;if(a.displayedLines<h||a.displayedLines>e)c.empty(a.linesContainer),c.empty(a.logText),a.displayedLines=Math.max(h-1,0);for(var h=[a.linesContainer.innerHTML],f=[a.logText.innerHTML];a.displayedLines<
Math.min(e,a.lines.length);a.displayedLines++){var o=a.displayedLines+1,n=a.linesOfInterest[o],r=" ";a.lines[a.displayedLines]&&""!==a.lines[a.displayedLines]&&(r=a.lines[a.displayedLines]);var r=a._escapeXml(r),q="monospace";n&&(q+=" log-viewer-line-of-interest");h.push(a._createDivStringWithInnerHtml(q,o));f.push(a._createDivStringWithInnerHtml(q,r))}a.linesContainer.innerHTML=h.join("");a.logText.innerHTML=f.join("");b.set(a.logText,"height",a.logText.scrollHeight);setTimeout(function(){a.logText.scrollTop=
d},1);if(a.autoRefresh&&!a.refreshTimer)a.refreshTimer=setTimeout(function(){a.refreshTimer=null;a.showLogText()},5E3);a.dialogLinerWidget.unblock()},_escapeXml:function(a){return q.encode(a).replace(" ","&nbsp;")},_createDivStringWithInnerHtml:function(a,b){return"<div class='"+a+"'>"+b+"</div>"}})})},"deploy/widgets/process/ProcessChangelog":function(){define(["dijit/_TemplatedMixin","dijit/_Widget","dojo/_base/declare","js/webext/widgets/Table"],function(l,m,k,j){return k("deploy.widgets.process.ProcessChangelog",
[m,l],{templateString:'<div class="processChangelog"><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var f=bootstrap.restUrl+"process/"+this.process.id+"/changelog",e=[{name:i18n("Version"),field:"version",orderField:"version",getRawValue:function(d){return d.version}},{name:i18n("User"),field:"committer",orderField:"committer",filterField:"committer",filterType:"text",getRawValue:function(d){return d.committer}},{name:i18n("Date"),field:"commitTime",
formatter:util.tableDateFormatter,orderField:"date",getRawValue:function(d){return new Date(d.commitTime)}},{name:i18n("Comment"),field:"comment"}];this.grid=new j({url:f,serverSideProcessing:!1,orderField:"version",sortType:"desc",columns:e});this.grid.placeAt(this.gridAttach)},destroy:function(){this.inherited(arguments);this.grid.destroy()}})})},"deploy/widgets/deploymentRequest/NoncompliancyByVersion":function(){define(["dijit/_TemplatedMixin","dijit/_Widget","dojo/_base/declare","js/webext/widgets/table/TreeTable",
"deploy/widgets/Formatters"],function(l,m,k,j,f){return k("deploy.widgets.deploymentRequest.NoncompliancyByVersion",[m,l],{templateString:'<div class="noncompliancyByVersion"><div data-dojo-attach-point="treeAttach"></div></div>',postCreate:function(){this.inherited(arguments);var e=[{name:i18n("Component/Resource"),formatter:function(d){return d.version?f.componentLinkFormatter(d.version.component):d.security.read?util.getOnClickLink("resource/"+d.id,d.name):d.name.escape()},getRawValue:function(d){return d.name},
field:"name"},{name:i18n("Version"),formatter:function(d){if(d.version)return f.versionLinkFormatter(d.version)}},{name:i18n("# Resources Missing"),formatter:function(d){var c;if(d.version)c=d.children.length;return c}}];this.tree=new j({url:bootstrap.restUrl+"deploy/deploymentRequest/"+appState.deploymentRequest.id+"/noncompliancyByVersion",columns:e,serverSideProcessing:!1,orderField:"name",tableConfigKey:"versionNoncompliancyList"});this.tree.placeAt(this.treeAttach)},destroy:function(){this.inherited(arguments);
this.tree.destroy()}})})},"url:dijit/form/templates/ComboButton.html":'<table class="dijit dijitReset dijitInline dijitLeft"\n\tcellspacing=\'0\' cellpadding=\'0\' role="presentation"\n\t><tbody role="presentation"><tr role="presentation"\n\t\t><td class="dijitReset dijitStretch dijitButtonNode" data-dojo-attach-point="buttonNode" data-dojo-attach-event="ondijitclick:_onClick,onkeypress:_onButtonKeyPress"\n\t\t><div id="${id}_button" class="dijitReset dijitButtonContents"\n\t\t\tdata-dojo-attach-point="titleNode"\n\t\t\trole="button" aria-labelledby="${id}_label"\n\t\t\t><div class="dijitReset dijitInline dijitIcon" data-dojo-attach-point="iconNode" role="presentation"></div\n\t\t\t><div class="dijitReset dijitInline dijitButtonText" id="${id}_label" data-dojo-attach-point="containerNode" role="presentation"></div\n\t\t></div\n\t\t></td\n\t\t><td id="${id}_arrow" class=\'dijitReset dijitRight dijitButtonNode dijitArrowButton\'\n\t\t\tdata-dojo-attach-point="_popupStateNode,focusNode,_buttonNode"\n\t\t\tdata-dojo-attach-event="onkeypress:_onArrowKeyPress"\n\t\t\ttitle="${optionsTitle}"\n\t\t\trole="button" aria-haspopup="true"\n\t\t\t><div class="dijitReset dijitArrowButtonInner" role="presentation"></div\n\t\t\t><div class="dijitReset dijitArrowButtonChar" role="presentation">&#9660;</div\n\t\t></td\n\t\t><td style="display:none !important;"\n\t\t\t><input ${!nameAttrSetting} type="${type}" value="${value}" data-dojo-attach-point="valueNode" role="presentation"\n\t\t/></td></tr></tbody\n></table>\n',
"dojo/aspect":function(){define([],function(){function l(c,b,a,d){var e=c[b],f="around"==b,n;if(f){var s=a(function(){return e.advice(this,arguments)});n={remove:function(){s&&(s=c=a=null)},advice:function(a,b){return s?s.apply(a,b):e.advice(a,b)}}}else n={remove:function(){if(n.advice){var d=n.previous,h=n.next;if(!h&&!d)delete c[b];else if(d?d.next=h:c[b]=h,h)h.previous=d;c=a=n.advice=null}},id:j++,advice:a,receiveArguments:d};if(e&&!f)if("after"==b){for(;e.next&&(e=e.next););e.next=n;n.previous=
e}else{if("before"==b)c[b]=n,n.next=e,e.previous=n}else c[b]=n;return n}function m(c){return function(b,a,d,e){var f=b[a],n;if(!f||f.target!=b){b[a]=n=function(){for(var a=j,b=arguments,c=n.before;c;)b=c.advice.apply(this,b)||b,c=c.next;if(n.around)var d=n.around.advice(this,b);for(c=n.after;c&&c.id<a;){if(c.receiveArguments)var h=c.advice.apply(this,b),d=h===k?d:h;else d=c.advice.call(this,d,b);c=c.next}return d};if(f)n.around={advice:function(a,b){return f.apply(a,b)}};n.target=b}b=l(n||f,c,d,e);
d=null;return b}}var k,j=0,f=m("after"),e=m("before"),d=m("around");return{before:e,around:d,after:f}})},"dijit/TooltipDialog":function(){require({cache:{"url:dijit/templates/TooltipDialog.html":'<div role="alertdialog" tabIndex="-1">\n\t<div class="dijitTooltipContainer" role="presentation">\n\t\t<div class="dijitTooltipContents dijitTooltipFocusNode" data-dojo-attach-point="containerNode"></div>\n\t</div>\n\t<div class="dijitTooltipConnector" role="presentation" data-dojo-attach-point="connectorNode"></div>\n</div>\n'}});
define("dijit/TooltipDialog","dojo/_base/declare,dojo/dom-class,dojo/_base/event,dojo/keys,dojo/_base/lang,./focus,./layout/ContentPane,./_DialogMixin,./form/_FormMixin,./_TemplatedMixin,dojo/text!./templates/TooltipDialog.html,./main".split(","),function(l,m,k,j,f,e,d,c,b,a,h){return l("dijit.TooltipDialog",[d,a,b,c],{title:"",doLayout:!1,autofocus:!0,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:h,_setTitleAttr:function(a){this.containerNode.title=a;this._set("title",
a)},postCreate:function(){this.inherited(arguments);this.connect(this.containerNode,"onkeypress","_onKey")},orient:function(a,b,c){a={"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[b+"-"+c];m.replace(this.domNode,
a,this._currentOrientClass||"");this._currentOrientClass=a},focus:function(){this._getFocusItems(this.containerNode);e.focus(this._firstFocusItem)},onOpen:function(a){this.orient(this.domNode,a.aroundCorner,a.corner);var b=a.aroundNodePos;if("M"==a.corner.charAt(0)&&"M"==a.aroundCorner.charAt(0))this.connectorNode.style.top=b.y+(b.h-this.connectorNode.offsetHeight>>1)-a.y+"px",this.connectorNode.style.left="";else if("M"==a.corner.charAt(1)&&"M"==a.aroundCorner.charAt(1))this.connectorNode.style.left=
b.x+(b.w-this.connectorNode.offsetWidth>>1)-a.x+"px";this._onShow()},onClose:function(){this.onHide()},_onKey:function(a){var b=a.target;a.charOrCode===j.TAB&&this._getFocusItems(this.containerNode);var c=this._firstFocusItem==this._lastFocusItem;a.charOrCode==j.ESCAPE?(this.defer("onCancel"),k.stop(a)):b==this._firstFocusItem&&a.shiftKey&&a.charOrCode===j.TAB?(c||e.focus(this._lastFocusItem),k.stop(a)):b==this._lastFocusItem&&a.charOrCode===j.TAB&&!a.shiftKey?(c||e.focus(this._firstFocusItem),k.stop(a)):
a.charOrCode===j.TAB&&a.stopPropagation()}})})},"dijit/form/_SearchMixin":function(){define("dijit/form/_SearchMixin","dojo/data/util/filter,dojo/_base/declare,dojo/_base/event,dojo/keys,dojo/_base/lang,dojo/query,dojo/sniff,dojo/string,dojo/when,../registry".split(","),function(l,m,k,j,f,e,d,c,b,a){return m("dijit.form._SearchMixin",null,{pageSize:Infinity,store:null,fetchProperties:{},query:{},searchDelay:200,searchAttr:"name",queryExpr:"${0}*",ignoreCase:!0,_abortQuery:function(){if(this.searchTimer)this.searchTimer=
this.searchTimer.remove();if(this._queryDeferHandle)this._queryDeferHandle=this._queryDeferHandle.remove();if(this._fetchHandle){if(this._fetchHandle.abort)this._cancelingQuery=!0,this._fetchHandle.abort(),this._cancelingQuery=!1;if(this._fetchHandle.cancel)this._cancelingQuery=!0,this._fetchHandle.cancel(),this._cancelingQuery=!1;this._fetchHandle=null}},_processInput:function(a){if(!this.disabled&&!this.readOnly){var b=a.charOrCode;if(!("type"in a&&"key"==a.type.substring(0,3)&&(a.altKey||(a.ctrlKey||
a.metaKey)&&"x"!=b&&"v"!=b||b==j.SHIFT))){this._prev_key_backspace=a=!1;switch(b){case j.DELETE:case j.BACKSPACE:a=this._maskValidSubsetError=this._prev_key_backspace=!0;break;default:a="string"==typeof b||229==b}if(a)if(this.store)this.searchTimer=this.defer("_startSearchFromInput",1);else this.onSearch()}}},onSearch:function(){},_startSearchFromInput:function(){this._startSearch(this.focusNode.value.replace(/([\\\*\?])/g,"\\$1"))},_startSearch:function(a){this._abortQuery();var d=this,e=f.clone(this.query),
n={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:!0}},s=c.substitute(this.queryExpr,[a]),r,j=function(){var a=d._fetchHandle=d.store.query(e,n);!d.disabled&&!(d.readOnly||r!==d._lastQuery)&&b(a,function(c){d._fetchHandle=null;!d.disabled&&!d.readOnly&&r===d._lastQuery&&b(a.total,function(a){c.total=a;var b=d.pageSize;if(isNaN(b)||b>c.total)b=c.total;c.nextPage=function(a){n.direction=a=!1!==a;n.count=b;if(a){if(n.start+=c.length,n.start>=c.total)n.count=0}else if(n.start-=
b,0>n.start)n.count=Math.max(b+n.start,0),n.start=0;0>=n.count?(c.length=0,d.onSearch(c,e,n)):j()};d.onSearch(c,e,n)})},function(a){d._fetchHandle=null;d._cancelingQuery||console.error(d.declaredClass+" "+a.toString())})};f.mixin(n,this.fetchProperties);this.store._oldAPI?r=s:(r=l.patternToRegExp(s,this.ignoreCase),r.toString=function(){return s});this._lastQuery=e[this.searchAttr]=r;this._queryDeferHandle=this.defer(j,this.searchDelay)},constructor:function(){this.query={};this.fetchProperties={}},
postMixInProperties:function(){if(!this.store){var b=this.list;if(b)this.store=a.byId(b)}this.inherited(arguments)}})})},"deploy/widgets/version/VersionSelectionDialog":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dojo/_base/declare,dojo/dom-construct,dojo/dom-class,dojo/on,dojo/aspect,js/webext/widgets/Dialog,deploy/widgets/application/VersionSelection".split(","),function(l,m,k,j,f,e,d,c,b,a){return j("deploy.widgets.version.VersionSelectionDialog",[m,l],{templateString:'<div class="versionSelector">  <div data-dojo-attach-point="textAttach">    <div data-dojo-attach-point="selectedAttach" class="inlineBlock"></div>     (<div data-dojo-attach-point="linkAttach" class="linkPointer inlineBlock"></div>)  </div>  <div data-dojo-attach-point="dialogAttach"></div></div>',
postCreate:function(){var a=this;this.selectedAttach.innerHTML=i18n("%s selected",0);this.linkAttach.innerHTML=i18n("Choose Versions");d(this.linkAttach,"click",function(){a.versionDialog?a.showDialog():a.createVersionDialog()})},createVersionDialog:function(){var d=this;this.versionDialog=new b({title:i18n("Component Versions"),closable:!0,draggable:!0});e.add(this.versionDialog.domNode,"version-selection-dialog");this.dialogDiv=f.create("div",{},this.versionDialog.containerNode);var q=f.create("div",
{"class":"underField",style:"margin-top: 15px;"});this.versionSelection=new a({applicationProcess:d.applicationProcess,environment:d.environment});c.after(this.versionSelection,"_changeCount",function(){d.selectedAttach.innerHTML=i18n("%s selected",d.versionSelection.getCount())});var o=new k({label:i18n("OK"),onClick:function(){d.versionDialog.hide()}});e.add(o.domNode,"idxButtonSpecial");o.placeAt(q);this.versionSelection.placeAt(this.dialogDiv);f.place(q,this.dialogDiv);this.showDialog()},showDialog:function(){this.versionDialog.show()},
_getValueAttr:function(){var a="";this.versionSelection&&(a=this.versionSelection.get("value"));return a},destroy:function(){this.versionDialog&&this.versionDialog.destroyRecursive();this.inherited(arguments)}})})},"deploy/widgets/environment/EnvironmentConditions":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/array,dojo/_base/declare,dojo/dom-class,deploy/widgets/environment/EnvironmentCondition,deploy/widgets/Formatters,js/webext/widgets/RestSelect".split(","),function(l,m,k,
j,f,e,d,c){return j("deploy.widgets.environment.EnvironmentConditions",[m,l],{templateString:'<div class="environmentSummary inlineBlock"><table><tr><td style="width: 110px;"><div data-dojo-attach-point="infoAttach" class="environmentSummaryBox" style="text-align:center;font-size: 11pt;font-weight: bold;"></td><td style="min-width: 300px; vertical-align: top;"><div data-dojo-attach-point="conditionAttach"></div><div style="margin-top: 3px;" data-dojo-attach-point="newConditionAttach"></div></td></tr></table></div>',
postCreate:function(){this.inherited(arguments);var b=this;if(this.application)b.readOnly=!this.application.security["Manage Environments"];else if(this.applicationTemplate)b.readOnly=this.applicationTemplate.version===this.applicationTemplate.versionCount?!this.applicationTemplate.security["Manage Environment Templates"]:!0;if(this.application&&this.applicationTemplate&&this.environment.templateId)b.readOnly=!0;var a=document.createElement("span");a.innerHTML=this.environment.name.escape();this.infoAttach.appendChild(a);
this.conditions=[];k.forEach(b.environment.conditions,function(a){a=new e({statuses:a,readOnly:b.readOnly,parent:b});a.placeAt(b.conditionAttach);b.conditions.push(a)});if(b.readOnly)b.conditions.length&&f.add(b.conditions[b.conditions.length-1].orAttach,"hidden");else{var h=new c({restUrl:bootstrap.restUrl+"deploy/status/versionStatuses",getValue:function(a){return a.name},getStyle:function(a){return d.conditionFormatter(a)},noneLabel:i18n("Add a new condition..."),onChange:function(a,c){if(c){var d=
new e({statuses:[c],readOnly:b.readOnly,parent:b});d.placeAt(b.conditionAttach);b.conditions.push(d);h.setValue("")}}});h.placeAt(this.newConditionAttach)}},removeCondition:function(b){util.removeFromArray(this.conditions,b);b.destroy()},getValue:function(){var b={environmentId:this.environment.id,conditions:[]};k.forEach(this.conditions,function(a){b.conditions.push(a.getValue())});return b}})})},"dijit/place":function(){define("dijit/place","dojo/_base/array,dojo/dom-geometry,dojo/dom-style,dojo/_base/kernel,dojo/_base/window,dojo/window,./main".split(","),
function(l,m,k,j,f,e,d){function c(b,a,c,d){var o=e.getBox(b.ownerDocument);(!b.parentNode||"body"!=(""+b.parentNode.tagName).toLowerCase())&&f.body(b.ownerDocument).appendChild(b);var n=null;l.some(a,function(a){var e=a.corner,f=a.pos,s=0,j={w:{L:o.l+o.w-f.x,R:f.x-o.l,M:o.w}[e.charAt(1)],h:{T:o.t+o.h-f.y,B:f.y-o.t,M:o.h}[e.charAt(0)]},v=b.style;v.left=v.right="auto";c&&(s=c(b,a.aroundCorner,e,j,d),s="undefined"==typeof s?0:s);var k=b.style,l=k.display,z=k.visibility;if("none"==k.display)k.visibility=
"hidden",k.display="";v=m.position(b);k.display=l;k.visibility=z;l={L:f.x,R:f.x-v.w,M:Math.max(o.l,Math.min(o.l+o.w,f.x+(v.w>>1))-v.w)}[e.charAt(1)];z={T:f.y,B:f.y-v.h,M:Math.max(o.t,Math.min(o.t+o.h,f.y+(v.h>>1))-v.h)}[e.charAt(0)];f=Math.max(o.l,l);k=Math.max(o.t,z);l=Math.min(o.l+o.w,l+v.w);z=Math.min(o.t+o.h,z+v.h);l-=f;z-=k;s+=v.w-l+(v.h-z);if(null==n||s<n.overflow)n={corner:e,aroundCorner:a.aroundCorner,x:f,y:k,w:l,h:z,overflow:s,spaceAvailable:j};return!s});n.overflow&&c&&c(b,n.aroundCorner,
n.corner,n.spaceAvailable,d);var a=m.isBodyLtr(b.ownerDocument),s=b.style;s.top=n.y+"px";s[a?"left":"right"]=(a?n.x:o.w-n.x-n.w)+"px";s[a?"right":"left"]="auto";return n}return d.place={at:function(b,a,d,e){d=l.map(d,function(b){var c={corner:b,pos:{x:a.x,y:a.y}};e&&(c.pos.x+="L"==b.charAt(1)?e.x:-e.x,c.pos.y+="T"==b.charAt(0)?e.y:-e.y);return c});return c(b,d)},around:function(b,a,d,e,f){function n(a,b){B.push({aroundCorner:a,corner:b,pos:{x:{L:v,R:v+A,M:v+(A>>1)}[a.charAt(1)],y:{T:y,B:y+z,M:y+(z>>
1)}[a.charAt(0)]}})}var s="string"==typeof a||"offsetWidth"in a?m.position(a,!0):a;if(a.parentNode)for(var r="absolute"==k.getComputedStyle(a).position,a=a.parentNode;a&&1==a.nodeType&&"BODY"!=a.nodeName;){var t=m.position(a,!0),w=k.getComputedStyle(a);/relative|absolute/.test(w.position)&&(r=!1);if(!r&&/hidden|auto|scroll/.test(w.overflow)){var u=Math.min(s.y+s.h,t.y+t.h),x=Math.min(s.x+s.w,t.x+t.w);s.x=Math.max(s.x,t.x);s.y=Math.max(s.y,t.y);s.h=u-s.y;s.w=x-s.x}"absolute"==w.position&&(r=!0);a=
a.parentNode}var v=s.x,y=s.y,A="w"in s?s.w:s.w=s.width,z="h"in s?s.h:(j.deprecated("place.around: dijit/place.__Rectangle: { x:"+v+", y:"+y+", height:"+s.height+", width:"+A+" } has been deprecated.  Please use { x:"+v+", y:"+y+", h:"+s.height+", w:"+A+" }","","2.0"),s.h=s.height),B=[];l.forEach(d,function(a){var b=e;switch(a){case "above-centered":n("TM","BM");break;case "below-centered":n("BM","TM");break;case "after-centered":b=!b;case "before-centered":n(b?"ML":"MR",b?"MR":"ML");break;case "after":b=
!b;case "before":n(b?"TL":"TR",b?"TR":"TL");n(b?"BL":"BR",b?"BR":"BL");break;case "below-alt":b=!b;case "below":n(b?"BL":"BR",b?"TL":"TR");n(b?"BR":"BL",b?"TR":"TL");break;case "above-alt":b=!b;case "above":n(b?"TL":"TR",b?"BL":"BR");n(b?"TR":"TL",b?"BR":"BL");break;default:n(a.aroundCorner,a.corner)}});b=c(b,B,f,{w:A,h:z});b.aroundNodePos=s;return b}}})},"js/webext/widgets/ColumnForm":function(){define("js/webext/widgets/ColumnForm","dijit/_TemplatedMixin,dijit/_WidgetBase,dijit/form/Button,dojo/_base/declare,dojo/_base/array,dojo/_base/xhr,dojo/_base/lang,dojo/dom-construct,dojo/dom-class,dojo/io-query,dojo/json,dojo/on,js/util/blocker/_BlockerMixin,js/webext/widgets/FormDelegates,js/webext/widgets/FieldList,js/webext/widgets/Dialog,js/webext/widgets/Alert,dojox/string/BidiComplex".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w){return j([m,l,o],{templateString:'<div>  <div class="columnForm">    <form data-dojo-attach-point="nativeFormAttach">      <div data-dojo-attach-point="formAttach"></div>    </form>  </div>  <div class="clear"></div></div>',submitMethod:"PUT",submitFormat:"JSON",readOnly:!1,saveLabel:"",cancelLabel:"",showButtons:!0,version:null,constructor:function(){this.saveLabel=i18n("Save");this.cancelLabel=i18n("Cancel");this.hasRequired=this.showingFields=!1;this.helpNodes=
[]},postCreate:function(){var a=this;this.inherited(arguments);this.delegates=new n;a.extraFormDelegates&&f.forEach(a.extraFormDelegates,function(b){a.delegates.addDelegate(b.name,b.delegateFunction)});this.formContainer=new s;this.own(this.formContainer);f.forEach(this.fieldsArray,function(b){a.formContainer.insertField(b.widget,null,b.description,b.tooltipIcon);a.showingFields=!0});this.started=!0;this.formContainer.placeAt(this.formAttach);q(this.nativeFormAttach,"submit",function(a){a.preventDefault()});
if(this.showingFields&&this.hasRequired){var d=c.create("div");d.innerHTML=i18n('All fields marked with<span class="required">*</span> are required.');d.className="underFieldText";this.formAttach.appendChild(d)}if(this.showButtons){a.buttonsAttach=c.create("div");a.buttonsAttach.style.marginTop="15px";a.buttonsAttach.className="underField";if(!this.readOnly)this.saveButton=new k({label:this.saveLabel,type:"submit"}),b.add(this.saveButton.domNode,"idxButtonSpecial"),this.saveButton.placeAt(a.buttonsAttach),
q(this.nativeFormAttach,"submit",function(){a.submitForm()});this.cancelLabel&&(new k({label:this.cancelLabel,onClick:function(){a.onCancel()}})).placeAt(a.buttonsAttach);this.formAttach.appendChild(a.buttonsAttach)}f.forEach(this.fields,function(b){a.addField(b)})},onCancel:function(){},destroy:function(){this.inherited(arguments)},filter:function(){return!0},addField:function(a,b){if(void 0===this.fields)this.fields={};if(void 0===this.fieldsArray)this.fieldsArray=[];if(void 0===a.widget&&void 0===
this.delegates.getDelegate(a.type))console.error("Field: "+a.name+": There is no form delegate for type "+a.type);else{if(a.translate&&!a.translated){a.translated=!0;if(a.placeholder)a.placeholder=i18n(a.placeholder);if(a.label)a.label=i18n(a.label.escapeHTML());if(a.description)a.description=i18n(a.description.escapeHTML());a.allowedValues&&f.forEach(a.allowedValues,function(a){a.label=i18n(a.label)})}a.readOnly=a.readOnly||this.readOnly;if(!a.label&&""!==a.label&&a.name)a.label=a.name.escapeHTML();
if(!this.filter(a))return;if(void 0===a.widget){if(a.widget=this.delegates.getDelegate(a.type)(a),null===a.widget)return}else{if(a.label)a.widget.label=a.label.escapeHTML();if(a.name)a.widget.name=a.name.escapeHTML()}if(a.attachPoint)a.widget.attachPoint=a.attachPoint;a.placeholder&&a.widget.set("placeholder",a.placeholder);if(a.bidiDynamicSTT&&util.getBaseTextDir())a.widget.focusNode.dir="ltr",w.attachInput(a.widget.focusNode,a.bidiDynamicSTT);this.own(a.widget);if(void 0!==a.style)void 0!==a.widget.set?
a.widget.set("style",a.style):a.widget.style=a.style;if(a.required)a.widget.label&&(a.widget.label+='<span class="required">*</span>'),this.hasRequired=!0;this.fields[a.name]=a;var c=this.fieldsArray.length;if(void 0!==b){var d=0;f.forEach(this.fieldsArray,function(a){if(a.name===b||a.widget===b)c=d;d++});this.fieldsArray.splice(c,0,a);if(this.started)this.formContainer.insertField(a.widget,c,a.description,a.name,a.tooltipIcon),this.showingFields=!0}else if(this.fieldsArray.push(a),this.started)this.formContainer.insertField(a.widget,
void 0,a.description,a.name,a.tooltipIcon),this.showingFields=!0}return a},removeField:function(a){var b=null,c=null,d=0;f.forEach(this.fieldsArray,function(h){if(h.name===a||h.widget===a)b=d,c=h;d++});null!==b?(util.removeFromArray(this.fieldsArray,c),this.fields[c.name]=void 0,this.formContainer.removeField(b)):console.error(a+" not found in form fields.")},hasField:function(a){var b=!1;f.forEach(this.fieldsArray,function(c){if(c.name===a||c.widget===a)b=!0});return b},getValue:function(a){var b=
null,c=null;f.forEach(this.fieldsArray,function(c){if(c.name===a||c.widget===a)b=c});null!==b&&(c=this.getValueByField(b));return c},setValue:function(a,b){var c=null;f.forEach(this.fieldsArray,function(b){if(b.name===a||b.widget===a)c=b});null!==c&&c.widget&&c.widget.set("value",b)},submitForm:function(){this.isBlocked()||this._submitForm()},_submitForm:function(){this.block();var a=this.validateRequired(),d=this.getData();if(void 0!==this.validateFields){var h=this.validateFields(d);f.forEach(h,
function(b){a.push(b)})}if(0===a.length)void 0!==this.preSubmit&&this.preSubmit(d),void 0!==this.onSubmit?(this.onSubmit(d),void 0!==this.postSubmit&&this.postSubmit(d)):this.submitOverXhr(d);else{var e=new r({title:i18n("Field Validation"),closable:!0,draggable:!1}),d=c.create("div");d.innerHTML=i18n("Please correct the following errors before submitting this form:");e.containerNode.appendChild(d);f.forEach(a,function(a){var b=c.create("div");b.innerHTML=(""+a).escape();e.containerNode.appendChild(b)});
d=new k({label:i18n("Close"),onClick:function(){this.parentWidget.destroy()}});b.add(d.domNode,"underField");d.parentWidget=e;d.placeAt(e.containerNode);e.show();this.unblock()}},submitOverXhr:function(a){var b=this;if("PUT"===this.submitMethod||"POST"===this.submitMethod){var c,a=b.formatData(a);"JSON"===this.submitFormat?c="application/json":"Query"===this.submitFormat&&(c="application/x-www-form-urlencoded");var d={};d["Content-Type"]=c;if(b.version)d.version=b.version;c={url:this.submitUrl,handleAs:"json",
putData:a,headers:d,load:function(a,c){void 0!==b.postSubmit&&b.postSubmit(a,c);b.unblock()},error:function(a){if(void 0!==b.onError)b.onError(a);b.unblock()}};"PUT"===this.submitMethod?e.put(c):"POST"===this.submitMethod&&e.post(c)}else"GET"===this.submitMethod&&e.get({url:this.submitUrl,handleAs:"json",load:function(a,c){void 0!==b.postSubmit&&b.postSubmit(a,c);b.unblock()},error:function(a){if(void 0!==b.onError)b.onError(a);b.unblock()}})},getData:function(){var a=this,b={};f.forEach(this.fieldsArray,
function(c){var d=a.getValueByField(c);void 0!==d&&null!==d&&(b[c.name]="string"===typeof d?w.stripSpecialCharacters(d):d);if("HTTP_SELECT"===c.type||"HTTP_MULTI_SELECT"===c.type)b[c.name+"/HTTP_SELECT_LABEL"]=a.getHttpSelectedLabelByField(c)});this.addData&&this.addData(b);return b},formatData:function(b){var c="";"JSON"===this.submitFormat?c=h.stringify(b):"Query"===this.submitFormat?c=a.objectToQuery(b):console.error("Unsupported submit format: "+this.submitFormat);return c},validateRequired:function(){var a=
this,b=[];f.forEach(this.fieldsArray,function(c){if(c.required){var h=a.getValueByField(c);d.isString(h)&&(h=h.trim());if("Checkbox"===c.type)"true"!==h&&b.push(c);else if(null===h||void 0===h||0===h.length)c.label?b.push(i18n("%s is a required field.",c.label)):b.push(i18n("%s is a required field.",c.name))}c.widget&&c.widget.getValidationMessages&&f.forEach(c.widget.getValidationMessages(),function(a){b.push(a)})});return b},getValueByField:function(a){var b=a.widget.get("value");if("Checkbox"===
a.type||"CHECKBOX"===a.type)b=!1===a.widget.get("checked")?"false":"true";if("Multi-Select"===a.type||"MULTI_SELECT"===a.type||"HTTP_MULTI_SELECT"===a.type)b&&(b=b.join(","));return b},getHttpSelectedLabelByField:function(a){var b=null;if("HTTP_SELECT"===a.type){if(a=a.widget.get("item"))b=a.label}else"HTTP_MULTI_SELECT"===a.type&&a.widget.items&&(b=f.map(a.widget.items,function(a){return a.label}).join(","));return b},onError:function(a){(new t({message:a.responseText})).startup()}})})},"deploy/widgets/security/authorization/EditAuthorizationRealm":function(){define(["dijit/_TemplatedMixin",
"dijit/_Widget","dojo/_base/array","dojo/_base/declare","js/webext/widgets/ColumnForm"],function(l,m,k,j,f){return j("deploy.widgets.security.authorization.EditAuthorizationRealm",[m,l],{templateString:'<div class="editAuthorizationRealm">  <div data-dojo-attach-point="formAttach"></div></div>',postCreate:function(){this.inherited(arguments);var e=this;this.existingValues={properties:{}};if(this.authorizationRealm)this.existingValues=this.authorizationRealm;this.extraPropertyNames=[];this.form=new f({submitUrl:bootstrap.baseUrl+
"security/authorizationRealm"+(this.authorizationRealm?"/"+this.authorizationRealm.id:""),submitMethod:this.authorizationRealm?"PUT":"POST",postSubmit:function(){void 0!==e.callback&&e.callback(!0)},addData:function(d){if(e.authorizationRealm)d.existingId=e.authorizationRealm.id;d.properties={};k.forEach(e.extraPropertyNames,function(c){var b="property/"+c;d.properties[c]=d[b];delete d[b]});d.properties["group-mapper"]="00000000000000000000000000000000"},onCancel:function(){void 0!==e.callback&&e.callback()}});
this.form.addField({name:"name",label:i18n("Name"),required:!0,type:"Text",value:this.existingValues.name});this.form.addField({name:"description",label:i18n("Description"),type:"Text",value:this.existingValues.description});this.form.addField({name:"authorizationModuleClassName",label:i18n("Type"),value:this.existingValues.authorizationModuleClassName,type:"Select",required:!0,onChange:function(d){e.typeChanged(d)},allowedValues:[{label:i18n("LDAP or Active Directory"),value:"com.urbancode.security.authorization.ldap.LdapAuthorizationModule"},
{label:i18n("Internal Storage"),value:"com.urbancode.security.authorization.internal.InternalAuthorizationModule"},{label:i18n("SSO"),value:"com.urbancode.security.authorization.sso.SingleSignOnAuthorizationModule"}]});this.typeChanged(this.existingValues.authorizationModuleClassName||"com.urbancode.security.authorization.ldap.LdapAuthorizationModule");this.form.placeAt(this.formAttach)},typeChanged:function(e){var d=this;k.forEach(this.extraPropertyNames,function(b){d.form.hasField("property/"+b)&&
d.form.removeField("property/"+b);d.form.hasField(b)&&d.form.removeField(b)});this.extraPropertyNames=[];if("com.urbancode.security.authorization.ldap.LdapAuthorizationModule"===e){d.form.addField({name:"searchTypeLabel",label:"",type:"Label",value:i18n("Specify how to search LDAP. (See documentation for examples.)")});this.extraPropertyNames.push("searchTypeLabel");d.form.addField({name:"_searchInsertPoint",type:"Invisible"});this.extraPropertyNames.push("_searchInsertPoint");var e=function(b){d.form.hasField("property/group-base")&&
(d.form.removeField("property/group-base"),d.form.removeField("property/group-search"),d.form.removeField("property/group-name"),d.form.removeField("property/group-search-subtree"));d.form.hasField("property/group-attribute")&&d.form.removeField("property/group-attribute");"userAttribute"===b?(d.form.addField({type:"Invisible",name:"property/group-base",value:""}),d.form.addField({type:"Invisible",name:"property/group-search",value:""}),d.form.addField({type:"Invisible",name:"property/group-name",
value:""}),d.form.addField({type:"Invisible",name:"property/group-search-subtree",value:""}),d.form.addField({name:"property/group-attribute",label:i18n("User Group Attribute"),description:i18n("The name of the attribute that contains group names in the user directory entry."),type:"Text",required:!0,textDir:"ltr",placeholder:"cn",value:d.existingValues.properties["group-attribute"]},"_searchInsertPoint")):"roleSearch"===b&&(d.form.addField({type:"Invisible",name:"property/group-attribute",value:""}),
d.form.addField({name:"property/group-base",label:i18n("Group Search Base"),description:i18n("The base directory to execute group searches in."),required:!0,type:"Text",textDir:"ltr",placeholder:"ou=groups,dc=mydomain,dc=com",value:d.existingValues.properties["group-base"]},"_searchInsertPoint"),d.form.addField({name:"property/group-search",label:i18n("Group Search Filter"),description:i18n("The LDAP filter expression to use when searching for group entries. The username will be put in place of {1} in the search pattern and the full user DN will be put in place of {0}."),
required:!0,type:"Text",textDir:"ltr",placeholder:"member={0}",value:d.existingValues.properties["group-search"]},"_searchInsertPoint"),d.form.addField({name:"property/group-name",label:i18n("Group Name"),description:i18n("The name of the entry that contains the user's group names in the directory entries returned by the group search. If this is not specified, no group search will take place."),required:!0,type:"Text",placeholder:"cn",value:d.existingValues.properties["group-name"]},"_searchInsertPoint"),
d.form.addField({name:"property/group-search-subtree",label:i18n("Search Group Subtree"),description:i18n("Search the full subtree for the groups, as opposed to a single-level search only covering groups directly inside the specified search base."),type:"Checkbox",value:d.existingValues.properties["group-search-subtree"]||!0},"_searchInsertPoint"))},c;d.existingValues.properties["group-base"]?c="roleSearch":d.existingValues.properties["group-attribute"]&&(c="userAttribute");d.form.addField({name:"groupSearchType",
type:"Radio",label:"",value:c,required:!0,allowedValues:[{label:i18n("Roles in LDAP reference their members; look up group membership by searching for roles."),value:"roleSearch"},{label:i18n("User roles are defined as an attribute on that user; look up group membership using this attribute."),value:"userAttribute"}],onChange:e},"_searchInsertPoint");e(c);d.extraPropertyNames.push("groupSearchType");d.extraPropertyNames.push("group-attribute");d.extraPropertyNames.push("group-base");d.extraPropertyNames.push("group-search");
d.extraPropertyNames.push("group-name");d.extraPropertyNames.push("group-search-subtree")}else"com.urbancode.security.authorization.sso.SingleSignOnAuthorizationModule"===e&&(d.form.addField({name:"property/groups-header",label:i18n("Groups Header"),description:i18n("The header name that denotes the user groups to which user will be added."),type:"Text",placeholder:i18n("Group"),value:d.existingValues.properties["groups-header"]}),this.extraPropertyNames.push("groups-header"),d.form.addField({name:"property/groups-delim",
label:i18n("Groups Delimiter"),description:i18n("A string that acts as the delimiter between groups that are passed in the headers. For example, if the user should be added to groups GROUP1 and GROUP2, and the header value was GROUP=GROUP1;GROUP=GROUP2 the delimiter would be ; Note: special regex characters such as + must be escaped with one backslash &Backslash;"),type:"Text",textDir:"ltr",placeholder:",",value:d.existingValues.properties["groups-delim"]}),this.extraPropertyNames.push("groups-delim"),
d.form.addField({name:"property/groups-regex",label:i18n("Groups Regex"),description:i18n("The regular expression to find the groups in the header value. If a capturing group is specified, only the first will be caught (per delimited string). If no capturing group is specified with parentheses, then the whole delimited string will be captured."),type:"Text",textDir:"ltr",value:d.existingValues.properties["groups-regex"]}),this.extraPropertyNames.push("groups-regex"))}})})},"dojo/_base/window":function(){define("dojo/_base/window",
["./kernel","./lang","../sniff"],function(l,m,k){var j={global:l.global,doc:this.document||null,body:function(f){f=f||l.doc;return f.body||f.getElementsByTagName("body")[0]},setContext:function(f,e){l.global=j.global=f;l.doc=j.doc=e},withGlobal:function(f,e,d,c){var b=l.global;try{return l.global=j.global=f,j.withDoc.call(null,f.document,e,d,c)}finally{l.global=j.global=b}},withDoc:function(f,e,d,c){var b=j.doc,a=k("quirks"),h=k("ie"),q,o,n;try{l.doc=j.doc=f;l.isQuirks=k.add("quirks","BackCompat"==
l.doc.compatMode,!0,!0);if(k("ie")&&(n=f.parentWindow)&&n.navigator)q=parseFloat(n.navigator.appVersion.split("MSIE ")[1])||void 0,(o=f.documentMode)&&5!=o&&Math.floor(q)!=o&&(q=o),l.isIE=k.add("ie",q,!0,!0);d&&"string"==typeof e&&(e=d[e]);return e.apply(d,c||[])}finally{l.doc=j.doc=b,l.isQuirks=k.add("quirks",a,!0,!0),l.isIE=k.add("ie",h,!0,!0)}}};m.mixin(l,j);return j})},"dojo/_base/html":function(){define("./kernel,../dom,../dom-style,../dom-attr,../dom-prop,../dom-class,../dom-construct,../dom-geometry".split(","),
function(l,m,k,j,f,e,d,c){l.byId=m.byId;l.isDescendant=m.isDescendant;l.setSelectable=m.setSelectable;l.getAttr=j.get;l.setAttr=j.set;l.hasAttr=j.has;l.removeAttr=j.remove;l.getNodeProp=j.getNodeProp;l.attr=function(b,a,c){return 2==arguments.length?j["string"==typeof a?"get":"set"](b,a):j.set(b,a,c)};l.hasClass=e.contains;l.addClass=e.add;l.removeClass=e.remove;l.toggleClass=e.toggle;l.replaceClass=e.replace;l._toDom=l.toDom=d.toDom;l.place=d.place;l.create=d.create;l.empty=function(b){d.empty(b)};
l._destroyElement=l.destroy=function(b){d.destroy(b)};l._getPadExtents=l.getPadExtents=c.getPadExtents;l._getBorderExtents=l.getBorderExtents=c.getBorderExtents;l._getPadBorderExtents=l.getPadBorderExtents=c.getPadBorderExtents;l._getMarginExtents=l.getMarginExtents=c.getMarginExtents;l._getMarginSize=l.getMarginSize=c.getMarginSize;l._getMarginBox=l.getMarginBox=c.getMarginBox;l.setMarginBox=c.setMarginBox;l._getContentBox=l.getContentBox=c.getContentBox;l.setContentSize=c.setContentSize;l._isBodyLtr=
l.isBodyLtr=c.isBodyLtr;l._docScroll=l.docScroll=c.docScroll;l._getIeDocumentElementOffset=l.getIeDocumentElementOffset=c.getIeDocumentElementOffset;l._fixIeBiDiScrollLeft=l.fixIeBiDiScrollLeft=c.fixIeBiDiScrollLeft;l.position=c.position;l.marginBox=function(b,a){return a?c.setMarginBox(b,a):c.getMarginBox(b)};l.contentBox=function(b,a){return a?c.setContentSize(b,a):c.getContentBox(b)};l.coords=function(b,a){l.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");var b=m.byId(b),
d=k.getComputedStyle(b),d=c.getMarginBox(b,d),e=c.position(b,a);d.x=e.x;d.y=e.y;return d};l.getProp=f.get;l.setProp=f.set;l.prop=function(b,a,c){return 2==arguments.length?f["string"==typeof a?"get":"set"](b,a):f.set(b,a,c)};l.getStyle=k.get;l.setStyle=k.set;l.getComputedStyle=k.getComputedStyle;l.__toPixelValue=l.toPixelValue=k.toPixelValue;l.style=function(b,a,c){switch(arguments.length){case 1:return k.get(b);case 2:return k["string"==typeof a?"get":"set"](b,a)}return k.set(b,a,c)};return l})},
"dojo/_base/event":function(){define("dojo/_base/event",["./kernel","../on","../has","../dom-geometry"],function(l,m,k,j){if(m._fixEvent){var f=m._fixEvent;m._fixEvent=function(d,c){(d=f(d,c))&&j.normalizeEvent(d);return d}}var e={fix:function(d,c){return m._fixEvent?m._fixEvent(d,c):d},stop:function(d){k("dom-addeventlistener")||d&&d.preventDefault?(d.preventDefault(),d.stopPropagation()):(d=d||window.event,d.cancelBubble=!0,m._preventDefault.call(d))}};l.fixEvent=e.fix;l.stopEvent=e.stop;return e})},
"deploy/widgets/componentTemplate/ComponentTemplateComponents":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dijit/form/CheckBox,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/on,deploy/widgets/component/EditComponent,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/table/TreeTable".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o,n){return e("deploy.widgets.componentTemplate.ComponentTemplateComponents",
[m,l],{templateString:'<div class="componentList"><div class="listTopButtons" data-dojo-attach-point="buttonTopAttach"></div><div data-dojo-attach-point="gridAttach"></div><div data-dojo-attach-point="activeBoxAttach" style="margin: 2px;"></div></div>',postCreate:function(){this.inherited(arguments);var a=this,b=bootstrap.restUrl+"deploy/component/",d=[{name:i18n("Name"),formatter:this.componentFormatter,orderField:"name",filterField:"name",filterType:"text",getRawValue:function(a){return a.name}},
{name:i18n("Template Version"),formatter:function(a){a=a.templateVersion;-1===a&&(a=i18n("Latest Version"));return a},orderField:"templateVersion",getRawValue:function(a){var b=a.templateVersion;-1===a.templateVersion&&(b=1E6);return b}},{name:i18n("Description"),field:"description"},{name:i18n("Created"),field:"created",formatter:util.tableDateFormatter,orderField:"dateCreated",getRawValue:function(a){return new Date(a.created)}},{name:i18n("By"),field:"user.name",orderField:"user.name",getRawValue:function(a){return a.user}},
{name:i18n("Actions"),formatter:this.actionsFormatter,parentWidget:this}],h={name:"active",type:"eq",className:"Boolean",values:[!0]},e=[h,{name:"templateId",type:"eq",className:"UUID",values:[a.componentTemplate.id]}];this.grid=new n({url:b,orderField:"name",serverSideProcessing:!0,noDataMessage:i18n("No components found."),tableConfigKey:"componentTemplateComponentList",columns:d,hidePagination:!1,hideExpandCollapse:!0,queryData:{outputType:["BASIC","LINKED","SECURITY"]},baseFilters:e});this.grid.placeAt(this.gridAttach);
if(config.data.systemConfiguration.enableInactiveLinks)(new j({checked:!1,value:"true",onChange:function(b){b?a.grid.baseFilters=f.filter(a.grid.baseFilters,function(a){return"active"!==a.name}):a.grid.baseFilters.push(h);a.grid.refresh()}})).placeAt(this.activeBoxAttach),b=document.createElement("div"),c.add(b,"inlineBlock"),b.style.position="relative",b.style.top="2px",b.style.left="2px",b.innerHTML=i18n("Show Inactive Components"),this.activeBoxAttach.appendChild(b);config.data.permissions[security.system.createComponentsFromTemplate]&&
(b={label:i18n("Create Component"),showTitle:!1,onClick:function(){a.showNewComponentDialog()}},b=new k(b),c.add(b.domNode,"idxButtonSpecial"),b.placeAt(this.buttonTopAttach))},destroy:function(){this.inherited(arguments);this.grid.destroy()},componentFormatter:function(a){var b=document.createElement("a");b.innerHTML=a.name.escape();b.href="#component/"+a.id;return b},actionsFormatter:function(c){var d=this.parentWidget,h=document.createElement("div");if(config.data.permissions[security.system.createComponents]){var e=
b.create("a",{"class":"actionsLink linkPointer",innerHTML:i18n("Copy")},h);a(e,"click",function(){d.showNewComponentDialog(c)})}c.security.Delete&&(e=b.create("a",{"class":"actionsLink linkPointer",innerHTML:i18n("Delete")},h),a(e,"click",function(){d.confirmDelete(c)}));return h},confirmDelete:function(a){var b=this;new o({message:i18n("Are you sure you want to delete component %s?",a.name.escape()),action:function(){b.grid.block();d.del({url:bootstrap.restUrl+"deploy/component/"+a.id,handleAs:"json",
load:function(){b.grid.unblock();b.grid.refresh()},error:function(a){(new q({title:i18n("Error deleting component"),content:util.escape(a.responseText),closable:!0,draggable:!0})).show();b.grid.unblock()}})}})},showNewComponentDialog:function(a){var b=new q({title:i18n("Create Component"),closable:!0,draggable:!0});(new h({source:a,componentTemplate:this.componentTemplate,callback:function(){b.hide();b.destroy()}})).placeAt(b.containerNode);b.show()}})})},"dijit/a11yclick":function(){define("dijit/a11yclick",
"dojo/on,dojo/_base/array,dojo/keys,dojo/_base/declare,dojo/has,dojo/_base/unload,dojo/_base/window".split(","),function(l,m,k,j,f,e,d){function c(a){return(a.keyCode===k.ENTER||a.keyCode===k.SPACE)&&!a.ctrlKey&&!a.shiftKey&&!a.altKey&&!a.metaKey}var b=null;f("dom-addeventlistener")?d.doc.addEventListener("keydown",function(a){b=a.target},!0):function(){var a=function(a){b=a.srcElement};d.doc.attachEvent("onkeydown",a);e.addOnWindowUnload(function(){d.doc.detachEvent("onkeydown",a)})}();return function(a,
d){if(/input|button/i.test(a.nodeName))return l(a,"click",d);var e=[l(a,"keydown",function(a){if(c(a))b=a.target,a.preventDefault()}),l(a,"keyup",function(a){c(a)&&a.target==b&&(b=null,l.emit(a.target,"click",{cancelable:!0,bubbles:!0}))}),l(a,"click",function(a){d.call(this,a)})];if(f("touch")){var o;e.push(l(a,"touchend",function(a){var b=a.target;o=setTimeout(function(){o=null;l.emit(b,"click",{cancelable:!0,bubbles:!0})},600)}),l(a,"click",function(){o&&clearTimeout(o)}))}return{remove:function(){m.forEach(e,
function(a){a.remove()});o&&(clearTimeout(o),o=null)}}}})},"deploy/widgets/property/PropertyComboBox":function(){define("dojo/_base/declare,dijit/form/ComboBox,dojo/_base/lang,dojo/dom-attr,dojo/dom-style,dojo/aspect,dojo/_base/array,dojo/_base/xhr,dojo/store/Memory".split(","),function(l,m,k,j,f,e,d,c,b){return l("deploy.widgets.property.PropertyComboBox",[m],{propertyBeginOptions:["${p:","${p?:"],propertyBegin:"${p:",propertyEnd:"}",autoComplete:!1,isTopLevel:!0,postCreate:function(){this.inherited(arguments);
this.setMemoryStore(this.cache[0]);f.set(this._buttonNode,"display","none")},_startSearch:function(a){this._getCaretPos(this.focusNode);var b=this._getCurrentProperty();b.inTag?(b=k.trim(b.current),this.checkContext(b),this.inherited(arguments,[b])):this.closeDropDown()},checkContext:function(a){var b=a.split(/\.|\//g);1<b.length&&(a=b[0]);var c=RegExp(a),b=d.filter(this.cache[0],function(a){return a.name.match(c)});if(2>=b.length&&this.isTopLevel)this.isTopLevel=!1,this.setMemoryStore(this.cache[1]);
else if(!this.isTopLevel&&2<b.length)this.isTopLevel=!0,this.setMemoryStore(this.cache[0])},_selectOption:function(a){this.closeDropDown();a&&this._announceOption(a);this._handleOnChange(this.value,!0);this.isTopLevel&&this.loadDropDown()},_announceOption:function(a){if(a){var b=this._getCaretPos(this.focusNode),c=this.focusNode.scrollTop,d=this.focusNode.scrollLeft,e;if(a===this.dropDown.nextButton||a===this.dropDown.previousButton)e=a.innerHTML,this.item=void 0,this.value="";else{b=this.dropDown.items[a.getAttribute("item")];
e=(this.store._oldAPI?this.store.getValue(b,this.searchAttr):b[this.searchAttr]).toString();var f=e.length,r=this._getCurrentProperty();if(!this.isTopLevel&&-1===r.after.lastIndexOf(this.propertyEnd,0)&&-1===e.lastIndexOf(this.propertyEnd))r.after=this.propertyEnd+r.after;e=r.before+e+r.after;this.set("item",b,!1,e);b=r.before.length+f}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);this.focusNode.setAttribute("aria-activedescendant",j.get(a,"id"));this._autoCompleteText(e);
this._setCaretPos(this.focusNode,b);this.focusNode.scrollTop=c;this.focusNode.scrollLeft=d}},_getCurrentProperty:function(){var a=this._getCaretPos(this.focusNode),b=this.focusNode.value,c=-1,d;for(d=0;d<this.propertyBeginOptions.length;d++){var e=b.indexOf(this.propertyBeginOptions[d]);if(-1!==e&&(-1===c||e<c))c=e,this.propertyBegin=this.propertyBeginOptions[d]}var e=-1,f={before:b,after:"",current:"",inTag:!1};if(-1===c)f.before=b,f.current="",f.after="";for(;-1!==c;)if(c<a)if(e=b.indexOf(this.propertyEnd,
c),-1===e){f.before=b.substr(0,c+this.propertyBegin.length);f.current=b.substr(c+this.propertyBegin.length);f.after="";f.inTag=!0;break}else if(e>=a){a=c+this.propertyBegin.length;f.before=b.substr(0,a);f.current=b.substr(a,e-a);f.after=b.substr(e);f.inTag=!0;break}else{c=-1;for(d=0;d<this.propertyBeginOptions.length;d++){var r=b.indexOf(this.propertyBeginOptions[d],e);if(-1!==r&&(-1===c||r<c))c=r,this.propertyBegin=this.propertyBeginOptions[d]}f.inTag=!1}else{f.before=b;f.current="";f.after="";f.inTag=
!1;break}return f},setMemoryStore:function(a){a&&!this.store?this.store=new b({data:a,idProperty:"name"}):a?this.store.setData(a):this.store.setData([])}})})},"dojo/dnd/Moveable":function(){define("../_base/array,../_base/declare,../_base/event,../_base/lang,../dom,../dom-class,../Evented,../on,../topic,../touch,./common,./Mover,../_base/window".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o){return m("dojo.dnd.Moveable",[d],{handle:"",delay:0,skip:!1,constructor:function(b,d){this.node=f.byId(b);
d||(d={});this.handle=d.handle?f.byId(d.handle):null;if(!this.handle)this.handle=this.node;this.delay=0<d.delay?d.delay:0;this.skip=d.skip;this.mover=d.mover?d.mover:q;this.events=[c(this.handle,a.press,j.hitch(this,"onMouseDown")),c(this.handle,"dragstart",j.hitch(this,"onSelectStart")),c(this.handle,"selectstart",j.hitch(this,"onSelectStart"))]},markupFactory:function(a,b,c){return new c(b,a)},destroy:function(){l.forEach(this.events,function(a){a.remove()});this.events=this.node=this.handle=null},
onMouseDown:function(b){if(!this.skip||!h.isFormElement(b)){if(this.delay)this.events.push(c(this.handle,a.move,j.hitch(this,"onMouseMove")),c(this.handle,a.release,j.hitch(this,"onMouseUp"))),this._lastX=b.pageX,this._lastY=b.pageY;else this.onDragDetected(b);k.stop(b)}},onMouseMove:function(a){if(Math.abs(a.pageX-this._lastX)>this.delay||Math.abs(a.pageY-this._lastY)>this.delay)this.onMouseUp(a),this.onDragDetected(a);k.stop(a)},onMouseUp:function(a){for(var b=0;2>b;++b)this.events.pop().remove();
k.stop(a)},onSelectStart:function(a){(!this.skip||!h.isFormElement(a))&&k.stop(a)},onDragDetected:function(a){new this.mover(this.node,a,this)},onMoveStart:function(a){b.publish("/dnd/move/start",a);e.add(o.body(),"dojoMove");e.add(this.node,"dojoMoveItem")},onMoveStop:function(a){b.publish("/dnd/move/stop",a);e.remove(o.body(),"dojoMove");e.remove(this.node,"dojoMoveItem")},onFirstMove:function(){},onMove:function(a,b){this.onMoving(a,b);var c=a.node.style;c.left=b.l+"px";c.top=b.t+"px";this.onMoved(a,
b)},onMoving:function(){},onMoved:function(){}})})},"deploy/widgets/version/EditVersion":function(){define(["dijit/_TemplatedMixin","dijit/_Widget","dojo/_base/declare","js/webext/widgets/ColumnForm"],function(l,m,k,j){return k("deploy.widgets.version.EditVersion",[m,l],{templateString:'<div class="editVersion">  <div data-dojo-attach-point="formAttach"></div></div>',postCreate:function(){this.inherited(arguments);var f=this;this.existingValues={};if(this.version)this.existingValues=this.version;
this.form=new j({submitUrl:bootstrap.restUrl+"deploy/version",readOnly:f.readOnly,showButtons:!f.readOnly,postSubmit:function(e){navBar.setHash("version/"+e.id,!1,!0);void 0!==f.callback&&f.callback()},addData:function(e){e.properties={};e.componentId=f.component.id;if(f.version)e.existingId=f.version.id},onCancel:function(){void 0!==f.callback&&f.callback()}});this.form.addField({name:"name",label:i18n("Name"),required:!0,readOnly:void 0!==this.version,type:"Text",value:this.existingValues.name,
disabled:!0});this.form.addField({name:"description",label:i18n("Description"),type:"Text",value:this.existingValues.description});this.form.addField({name:"type",label:i18n("Type"),type:"Select",value:this.existingValues.type,allowedValues:[{label:i18n("Full"),value:"FULL"},{label:i18n("Incremental"),value:"INCREMENTAL"}]});this.form.placeAt(this.formAttach)}})})},"dojo/dom-style":function(){define("dojo/dom-style",["./sniff","./dom"],function(l,m){function k(b,c,d){c=c.toLowerCase();if(l("ie")){if("auto"==
d){if("height"==c)return b.offsetHeight;if("width"==c)return b.offsetWidth}if("fontweight"==c)switch(d){case 700:return"bold";default:return"normal"}}c in a||(a[c]=h.test(c));return a[c]?e(b,d):d}var j,f={};j=l("webkit")?function(a){var b;if(1==a.nodeType){var c=a.ownerDocument.defaultView;b=c.getComputedStyle(a,null);if(!b&&a.style)a.style.display="",b=c.getComputedStyle(a,null)}return b||{}}:l("ie")&&(9>l("ie")||l("quirks"))?function(a){return 1==a.nodeType&&a.currentStyle?a.currentStyle:{}}:function(a){return 1==
a.nodeType?a.ownerDocument.defaultView.getComputedStyle(a,null):{}};f.getComputedStyle=j;var e;e=l("ie")?function(a,b){if(!b)return 0;if("medium"==b)return 4;if(b.slice&&"px"==b.slice(-2))return parseFloat(b);var c=a.style,d=a.runtimeStyle,h=c.left,e=d.left;d.left=a.currentStyle.left;try{c.left=b,b=c.pixelLeft}catch(f){b=0}c.left=h;d.left=e;return b}:function(a,b){return parseFloat(b)||0};f.toPixelValue=e;var d=function(a,b){try{return a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(c){return b?
{}:null}},c=9>l("ie")||10>l("ie")&&l("quirks")?function(a){try{return d(a).Opacity/100}catch(b){return 1}}:function(a){return j(a).opacity},b=9>l("ie")||10>l("ie")&&l("quirks")?function(a,c){var h=100*c,e=1==c;a.style.zoom=e?"":1;if(d(a))d(a,1).Opacity=h;else{if(e)return c;a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity="+h+")"}d(a,1).Enabled=!e;if("tr"==a.tagName.toLowerCase())for(h=a.firstChild;h;h=h.nextSibling)"td"==h.tagName.toLowerCase()&&b(h,c);return c}:function(a,b){return a.style.opacity=
b},a={left:!0,top:!0},h=/margin|padding|width|height|max|min|offset/,q=l("ie")?"styleFloat":"cssFloat",o={cssFloat:q,styleFloat:q,"float":q};f.get=function(a,b){var d=m.byId(a),h=arguments.length;if(2==h&&"opacity"==b)return c(d);var b=o[b]||b,e=f.getComputedStyle(d);return 1==h?e:k(d,b,e[b]||d.style[b])};f.set=function(a,c,d){var h=m.byId(a),e=arguments.length,q="opacity"==c,c=o[c]||c;if(3==e)return q?b(h,d):h.style[c]=d;for(var j in c)f.set(a,j,c[j]);return f.getComputedStyle(h)};return f})},"deploy/widgets/workflow/activity/FinishActivity":function(){define(["dojo/_base/declare",
"deploy/widgets/workflow/activity/BaseActivity"],function(l,m){return l("deploy.widgets.workflow.activity.FinishActivity",[m],{postCreate:function(){this.inherited(arguments);if(!this.initialized)this.data.name=util.randomString(30),this.initialized=!0},getLabel:function(){return i18n("Finish")},getStyle:function(){return"utilityStyle"},canEdit:function(){return!1},canDelete:function(){return!0},canCopy:function(){return!1}})})},"dojo/ready":function(){define(["./_base/kernel","./has","require","./domReady",
"./_base/lang"],function(l,m,k,j,f){var e=0,d,c=[],b=0,a=function(){if(e&&!b&&c.length){b=1;var h=c.shift();try{h()}finally{b=0}b=0;c.length&&d(a)}};k.on&&k.on("idle",a);d=function(){(k.idle?k.idle():1)&&a()};var m=l.ready=l.addOnLoad=function(a,b,h){var e=f._toArray(arguments);"number"!=typeof a?(h=b,b=a,a=1E3):e.shift();h=h?f.hitch.apply(l,e):function(){b()};h.priority=a;for(e=0;e<c.length&&a>=c[e].priority;e++);c.splice(e,0,h);d()},h=l.config.addOnLoad;if(h)m[f.isArray(h)?"apply":"call"](l,h);
l.config.parseOnLoad&&!l.isAsync&&m(99,function(){l.parser||(l.deprecated("Add explicit require(['dojo/parser']);","","2.0"),k(["dojo/parser"]))});j(function(){e=1;l._postLoad=l.config.afterOnLoad=!0;c.length&&d(a)});return m})},"deploy/widgets/tag/TagSelector":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/json,dojo/store/Memory,dojo/_base/xhr,dojo/dom-style,dijit/form/ComboBox,js/webext/widgets/Alert,js/webext/widgets/Dialog,js/webext/widgets/ColumnForm,dojo/cookie".split(","),
function(l,m,k,j,f,e,d,c,b,a,h){return k([m,l],{templateString:'<div class="tagSelector"><div data-dojo-attach-point="formAttach" style="max-height: 500px; overflow: visible;"></div></div>',postCreate:function(){this.inherited(arguments);var a=this;this.existingValues={color:"#ffffff"};if(!a.item.length&&a.item.id){var d=a.item.id;a.item=[];a.item.push(d)}var n=[];e.get({url:bootstrap.restUrl+"tag/type/"+a.objectType,sync:!0,handleAs:"json",load:function(a){n=a}});var s=new f({data:n});a.form=new h({postSubmit:function(){void 0!==
a.callback&&a.callback()},addData:function(b){b.url=bootstrap.restUrl+"tag/"+a.objectType;b.objectType=a.item.objectType;b.ids=a.item;return b},onCancel:function(){void 0!==a.callback&&a.callback()},onSubmit:function(a){e.put({url:a.url,sync:!0,putData:j.stringify(a),handleAs:"json",headers:{"Content-Type":"application/json"},error:function(a){new b({message:util.escape(a.responseText)})}})},validateFields:function(a){if(1>s.query({name:a.name}).length&&!a.color)return[i18n("You must select a color.")]}});
d=new c({store:s,searchAttr:"name",noDataMessage:i18n("No tags found."),autoComplete:!1,selectOnClick:!0,pageSize:"30",onChange:function(b){0<s.query({name:b}).length?a._removeOptionalForms():a._createOptionalForms()}});a.form.addField({name:"name",label:i18n("Name"),required:!0,widget:d});this._createOptionalForms();a.form.placeAt(a.formAttach)},_createOptionalForms:function(){if(!this.fDescription)this.fDescription=this.form.addField({name:"description",label:i18n("Description"),type:"Text"});if(!this.fColor)this.fColor=
this.form.addField({name:"color",label:i18n("Color"),type:"ColorPicker",value:this.existingValues.color})},_removeOptionalForms:function(){if(this.fDescription)this.form.removeField("description"),this.fDescription.widget.destroy(),this.fDescription=null}})})},"deploy/widgets/resourceRole/EditResourceRole":function(){define(["dijit/_TemplatedMixin","dijit/_Widget","dojo/_base/declare","js/webext/widgets/ColumnForm"],function(l,m,k,j){return k("deploy.widgets.resourceRole.EditResourceRole",[m,l],{templateString:'<div class="editResourceRole">  <div data-dojo-attach-point="formAttach"></div></div>',
postCreate:function(){this.inherited(arguments);var f=this,e="#ffffff",d,c,b;if(this.resourceRole)d=this.resourceRole.id,c=this.resourceRole.name,b=this.resourceRole.description,e=this.resourceRole.color;this.form=new j({submitUrl:bootstrap.restUrl+"resource/resourceRole",postSubmit:function(){void 0!==f.callback?f.callback():f.resourceRole&&navBar.setHash("resourceRole/"+f.resourceRole.id+"/resources",!1,!0)},addData:function(a){if(f.resourceRole)a.existingId=d},onCancel:function(){void 0!==f.callback&&
f.callback()}});this.form.addField({name:"name",label:i18n("Name"),required:!0,type:"Text",value:c});this.form.addField({name:"description",label:i18n("Description"),type:"Text",value:b});this.form.addField({name:"color",label:i18n("Color"),required:!0,type:"Color",value:e});this.form.placeAt(this.formAttach)}})})},"dijit/form/RangeBoundTextBox":function(){define("dijit/form/RangeBoundTextBox",["dojo/_base/declare","dojo/i18n","./MappedTextBox"],function(l,m,k){return l("dijit.form.RangeBoundTextBox",
k,{rangeMessage:"",rangeCheck:function(j,f){return("min"in f?0<=this.compare(j,f.min):!0)&&("max"in f?0>=this.compare(j,f.max):!0)},isInRange:function(){return this.rangeCheck(this.get("value"),this.constraints)},_isDefinitelyOutOfRange:function(){var j=this.get("value");if(null==j)return!1;var f=!1;if("min"in this.constraints)f=this.constraints.min,f=0>this.compare(j,"number"==typeof f&&0<=f&&0!=j?0:f);if(!f&&"max"in this.constraints)f=this.constraints.max,f=0<this.compare(j,"number"!=typeof f||
0<f?f:0);return f},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange()},isValid:function(j){return this.inherited(arguments)&&(this._isEmpty(this.textbox.value)&&!this.required||this.isInRange(j))},getErrorMessage:function(j){var f=this.get("value");return null!=f&&""!==f&&("number"!=typeof f||!isNaN(f))&&!this.isInRange(j)?this.rangeMessage:this.inherited(arguments)},postMixInProperties:function(){this.inherited(arguments);if(!this.rangeMessage)this.messages=
m.getLocalization("dijit.form","validate",this.lang),this.rangeMessage=this.messages.rangeMessage},applyTextDir:function(){}})})},"deploy/widgets/report/securityReportResource/SecurityReportResourceTable":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojox/html/entities","deploy/widgets/report/ReportTable"],function(l,m,k,j,f){return m("deploy.widgets.report.securityReportResource.SecurityReportResourceTable",[f],{reportRestUrlBase:null,reportResultTable:null,selectableColumns:!0,
constructor:function(){this.reportRestUrlBase=bootstrap.restUrl+"report/"},reportType:"com.urbancode.ds.subsys.report.domain.security_report.environment.SecurityReportResource",formatters:{multiNameFormatter:function(e,d){var c=k.create("div"),b=d?d.split(","):null;l.forEach(b,function(a,b){0!==b&&k.create("br",{},c);k.create("span",{innerHTML:j.encode(a)},c)});return c}},getReportResultLayout:function(){return[{name:i18n("Resource"),field:"resource",getRawValue:function(e){return e.resource},orderField:"resource"},
{formatter:this.formatters.multiNameFormatter,name:i18n("Create"),field:"Create Resources"},{formatter:this.formatters.multiNameFormatter,name:i18n("View"),field:"View Resources"},{formatter:this.formatters.multiNameFormatter,name:i18n("Delete"),field:"Delete"},{formatter:this.formatters.multiNameFormatter,name:i18n("Edit Basic Settings"),field:"Edit Basic Settings"},{formatter:this.formatters.multiNameFormatter,name:i18n("Map to Environments"),field:"Map to Environments"},{formatter:this.formatters.multiNameFormatter,
name:i18n("Manage Children"),field:"Manage Children"},{formatter:this.formatters.multiNameFormatter,name:i18n("Manage Properties"),field:"Manage Properties"},{formatter:this.formatters.multiNameFormatter,name:i18n("Manage Teams"),field:"Manage Teams"},{formatter:this.formatters.multiNameFormatter,name:i18n("Manage Impersonation"),field:"Manage Impersonation"}]}})})},"deploy/widgets/application/ApplicationEditManager":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/on,dojo/dom-construct,js/webext/widgets/TwoPaneListManager,deploy/widgets/application/EditApplication,deploy/widgets/application/ApplicationEnvironmentConditions,deploy/widgets/property/PropValues".split(","),
function(l,m,k,j,f,e,d,c,b){return m([e],{postCreate:function(){this.inherited(arguments);this.showList()},showList:function(){var a=this;a.addEntry({id:"basic",label:i18n("Basic Settings"),action:function(){a.addHeading(i18n("Basic Settings"));a.showBasicSettings()}});a.addEntry({id:"properties",label:i18n("Application Properties"),action:function(){a.addHeading(i18n("Application Properties"));a.showProperties()}});a.addEntry({id:"gates",label:i18n("Environment Gates"),action:function(){a.addHeading(i18n("Environment Gates"));
a.showGates()}})},addHeading:function(a){f.create("div",{innerHTML:a,"class":"containerLabel",style:{padding:"10px"}},this.detailAttach)},addDescription:function(a){f.create("div",{innerHTML:a,style:{marginBottom:"10px"}},this.detailAttach)},showBasicSettings:function(){(new d({application:appState.application,readOnly:!appState.application.security["Edit Basic Settings"]})).placeAt(this.detailAttach)},showProperties:function(){(new b({propSheet:appState.application.propSheet,readOnly:!appState.application.security["Manage Properties"]})).placeAt(this.detailAttach)},
showGates:function(){(new c({application:appState.application,applicationTemplate:appState.application.template})).placeAt(this.detailAttach)}})})},"dojo/dnd/Container":function(){define("../_base/array,../_base/declare,../_base/event,../_base/kernel,../_base/lang,../_base/window,../dom,../dom-class,../dom-construct,../Evented,../has,../on,../query,../ready,../touch,./common".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r){m=m("dojo.dnd.Container",a,{skipForm:!1,allowNested:!1,constructor:function(a,
b){this.node=d.byId(a);b||(b={});this.creator=b.creator||null;this.skipForm=b.skipForm;this.parent=b.dropParent&&d.byId(b.dropParent);this.map={};this.current=null;this.containerState="";c.add(this.node,"dojoDndContainer");(!b||!b._skipStartup)&&this.startup();this.events=[q(this.node,s.over,f.hitch(this,"onMouseOver")),q(this.node,s.out,f.hitch(this,"onMouseOut")),q(this.node,"dragstart",f.hitch(this,"onSelectStart")),q(this.node,"selectstart",f.hitch(this,"onSelectStart"))]},creator:function(){},
getItem:function(a){return this.map[a]},setItem:function(a,b){this.map[a]=b},delItem:function(a){delete this.map[a]},forInItems:function(a,b){var b=b||j.global,c=this.map,d=r._empty,h;for(h in c)h in d||a.call(b,c[h],h,this);return b},clearItems:function(){this.map={}},getAllNodes:function(){return o((this.allowNested?"":"> ")+".dojoDndItem",this.parent)},sync:function(){var a={};this.getAllNodes().forEach(function(b){if(b.id){var c=this.getItem(b.id);if(c){a[b.id]=c;return}}else b.id=r.getUniqueId();
var c=b.getAttribute("dndType"),d=b.getAttribute("dndData");a[b.id]={data:d||b.innerHTML,type:c?c.split(/\s*,\s*/):["text"]}},this);this.map=a;return this},insertNodes:function(a,b,c){if(this.parent.firstChild)if(b){if(!c)c=this.parent.firstChild}else{if(c)c=c.nextSibling}else c=null;var d;if(c)for(b=0;b<a.length;++b)d=this._normalizedCreator(a[b]),this.setItem(d.node.id,{data:d.data,type:d.type}),c.parentNode.insertBefore(d.node,c);else for(b=0;b<a.length;++b)d=this._normalizedCreator(a[b]),this.setItem(d.node.id,
{data:d.data,type:d.type}),this.parent.appendChild(d.node);return this},destroy:function(){l.forEach(this.events,function(a){a.remove()});this.clearItems();this.node=this.parent=this.current=null},markupFactory:function(a,b,c){a._skipStartup=!0;return new c(b,a)},startup:function(){if(!this.parent&&(this.parent=this.node,"table"==this.parent.tagName.toLowerCase())){var a=this.parent.getElementsByTagName("tbody");if(a&&a.length)this.parent=a[0]}this.defaultCreator=r._defaultCreator(this.parent);this.sync()},
onMouseOver:function(a){for(var b=a.relatedTarget;b&&!(b==this.node);)try{b=b.parentNode}catch(c){b=null}b||(this._changeState("Container","Over"),this.onOverEvent());b=this._getChildByEvent(a);if(this.current!=b)this.current&&this._removeItemClass(this.current,"Over"),b&&this._addItemClass(b,"Over"),this.current=b},onMouseOut:function(a){for(a=a.relatedTarget;a;){if(a==this.node)return;try{a=a.parentNode}catch(b){a=null}}if(this.current)this._removeItemClass(this.current,"Over"),this.current=null;
this._changeState("Container","");this.onOutEvent()},onSelectStart:function(a){(!this.skipForm||!r.isFormElement(a))&&k.stop(a)},onOverEvent:function(){},onOutEvent:function(){},_changeState:function(a,b){var d="dojoDnd"+a,h=a.toLowerCase()+"State";c.replace(this.node,d+b,d+this[h]);this[h]=b},_addItemClass:function(a,b){c.add(a,"dojoDndItem"+b)},_removeItemClass:function(a,b){c.remove(a,"dojoDndItem"+b)},_getChildByEvent:function(a){if(a=a.target)for(var b=a.parentNode;b;a=b,b=a.parentNode)if((b==
this.parent||this.allowNested)&&c.contains(a,"dojoDndItem"))return a;return null},_normalizedCreator:function(a,b){var d=(this.creator||this.defaultCreator).call(this,a,b);if(!f.isArray(d.type))d.type=["text"];if(!d.node.id)d.node.id=r.getUniqueId();c.add(d.node,"dojoDndItem");return d}});r._createNode=function(a){return!a?r._createSpan:function(c){return b.create(a,{innerHTML:c})}};r._createTrTd=function(a){var c=b.create("tr");b.create("td",{innerHTML:a},c);return c};r._createSpan=function(a){return b.create("span",
{innerHTML:a})};r._defaultCreatorNodes={ul:"li",ol:"li",div:"div",p:"div"};r._defaultCreator=function(a){var a=a.tagName.toLowerCase(),b="tbody"==a||"thead"==a?r._createTrTd:r._createNode(r._defaultCreatorNodes[a]);return function(a,c){var d=a&&f.isObject(a),h,e;d&&a.tagName&&a.nodeType&&a.getAttribute?(h=a.getAttribute("dndData")||a.innerHTML,d=(d=a.getAttribute("dndType"))?d.split(/\s*,\s*/):["text"],e=a):(h=d&&a.data?a.data:a,d=d&&a.type?a.type:["text"],e=("avatar"==c?r._createSpan:b)(""+h));if(!e.id)e.id=
r.getUniqueId();return{node:e,data:h,type:d}}};return m})},"deploy/widgets/workflow/activity/EnvironmentApprovalTaskActivity":function(){define("dojo/_base/array,dojo/_base/declare,dojo/on,deploy/widgets/workflow/activity/BaseActivity,deploy/widgets/property/PropDefs,js/webext/widgets/RestSelect".split(","),function(l,m,k,j,f,e){return m("deploy.widgets.workflow.activity.EnvironmentApprovalTaskActivity",[j],{postCreate:function(){this.inherited(arguments);if(appState.environment)this.approvalParent=
appState.environment;if(appState.environmentTemplate)this.approvalParent=appState.environmentTemplate;this.baseResolveHttpValuesUrl="rest/approval/approvalProcess/"+this.approvalParent.id+"/"+this.data.name+"/propDefs/resolveHttpValues/";if(!this.initialized)this.data.name=util.randomString(30),this.editProperties()},getLabel:function(){var d=i18n("Environment Approval");this.initialized&&(d=this.data.role?d+("\n"+this.data.role.name):d+("\n"+i18n("Deleted Role")));return d},editProperties:function(d){var c=
this,b=this.data.role,a=c.createPropertyDialog(),h=c.createPropertyForm({dialog:a,onSubmit:function(e){c.initialized=!0;d&&d();c.data.commentRequired=e.commentRequired;c.data.commentPrompt=void 0!==e.commentPrompt?e.commentPrompt:"";c.data.roleRestrictionData={};c.data.roleRestrictionData.contextType="ENVIRONMENT";c.data.roleRestrictionData.roleRestrictions=[{roleId:e.role}];c.data.role=b;c.data.templateName=e.templateName;c.data.propDefs=e.propDefs;l.forEach(c.data.propDefs,function(a){a.resolveHttpValuesUrl=
c.baseResolveHttpValuesUrl+a.name});a.hide();h.destroy();a.destroy();c.updateLabel()},readOnly:c.readOnly}),q=new e({restUrl:bootstrap.baseUrl+"security/role",value:this.data.role?this.data.role.id:void 0,onChange:function(a,c){b=c},allowNone:!1});h.addField({name:"role",label:i18n("Role"),required:!0,description:i18n("The role the approving user must have."),widget:q});q=new e({restUrl:bootstrap.restUrl+"notification/notificationEntry/templateNames",getLabel:function(a){return a},getValue:function(a){return a},
allowNone:!1,value:c.data.templateName||"ApprovalCreated",disabled:c.readOnly});h.addField({name:"templateName",label:i18n("Notification Template"),required:!0,widget:q});q=new f({propDefs:c.data.propDefs||[],propSheetDef:{resolveHttpValuesUrl:c.baseResolveHttpValuesUrl}});h.addField({widget:q,label:"Properties",name:"propDefs"});h.addField({name:"commentRequired",label:i18n("Require Comment"),type:"Checkbox",required:!1,description:i18n("Is a comment required for this approval request ?"),value:c.data.commentRequired});
h.addField({name:"commentPrompt",label:i18n("Comment Prompt"),type:"Text Area",require:!1,description:i18n("The comment that will be shown in the approval request."),value:c.data.commentPrompt});h.placeAt(a.containerNode);a.show()}})})},"deploy/widgets/application/wizard/EnvironmentPage":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/_Container,dojo/_base/declare,dojo/_base/array,dojo/on,dojo/query,dojo/request/xhr,dojo/store/Memory,dojo/store/Observable,deploy/widgets/TooltipTitle,deploy/widgets/application/wizard/EnvironmentOption,deploy/widgets/application/wizard/EnvironmentForm,deploy/widgets/application/wizard/AppWizEnvironment,deploy/widgets/application/wizard/EnvironmentControls,deploy/widgets/ModelWidgetList".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r){return j([m,l,k],{templateString:'<div class="environmentPage wizardFullPage">  <div data-dojo-attach-point="callToAction" class="callToAction">  </div>  <div data-dojo-attach-point="columnsAttach" class="columns">    <div class="created-environments-column">      <div data-dojo-attach-point="environmentControlsAttach" class="created-environments-controls"></div>      <div data-dojo-attach-point="createdEnvironmentsListAttach" class="created-environments-list"></div>    </div>    <div data-dojo-attach-point="environmentColumnFormAttach" class="create-environment-form-column">        <div data-dojo-attach-point="formAttach"></div>    </div>  </div>  <\!-- begin yes env permission no env tmpls --\>  <div class="pageAlerts">    <div data-dojo-attach-point="yesEnvPermNoEnvTmplAttach" class="pageAlert lowPriority">      <h1 class="msgtitle">'+
i18n("You cannot create environments for this application now.")+'      </h1>       <p class="description">'+i18n("The application template does not contain environment templates.")+'      </p>      <h2 class="solutionheader">'+i18n("Solutions")+'      </h2>      <ul class="listheader">          <li class="solutionoptions">'+i18n("You can create environments after you save this application. To create an environment, from within the application, click Environments > Create Environment. After you define the environment, define base resources by opening the environment and clicking Add Base Resources.")+
'          </li>          <li class="solutionoptions">'+i18n("You can request that environment templates be added to the application template.")+'          </li>          <li class="solutionoptions">'+i18n("If you expected to create environments during creation, confirm that you selected the correct application template.")+'          </li>      </ul>    </div>  </div>  <\!-- end yes env permission no env tmpls --\>  <\!-- begin no env permission no env tmpls --\>  <div class="pageAlerts">    <div data-dojo-attach-point="noEnvPermNoEnvTmplAttach" class="pageAlert lowPriority">      <h1 class="msgtitle">'+
i18n("You cannot create environments for this application now.")+'      </h1>       <p class="description">'+i18n("Your role does not have the permissions to create environments, and the application template does not contain environment templates.")+'      </p>      <h2 class="solutionheader">'+i18n("Solutions")+'      </h2>      <ul class="listheader">'+i18n("For permissions")+'          <li class="solutionoptions">'+i18n("You can ask administrator to grant your role the permissions that are required to create an environment while using this application template.")+
'          </li>          <li class="solutionoptions">'+i18n("You can request that environment templates be added to the application template.")+'          </li>      </ul>      <ul class="listheader">'+i18n("For environment templates (You must request permission to create an environment while using application templates.)")+'          <li class="solutionoptions">'+i18n("You can create environments after you save this application. To create an environment, from within the application, click Environments > Create Environment. After you define the environment, define base resources by opening the environment and clicking Add Base Resources.")+
'          </li>          <li class="solutionoptions">'+i18n("You can request that environment templates be added to the application template.")+'          </li>          <li class="solutionoptions">'+i18n("If you expected to create environments during creation, confirm that you selected the correct application template.")+'          </li>      </ul>    </div>  </div>  <\!-- end no env permission no env tmpls --\>  <\!-- begin no env permission yes env tmpls --\>  <div class="pageAlerts">    <div data-dojo-attach-point="noEnvPermYesEnvTmplAttach" class="pageAlert lowPriority">      <h1 class="msgtitle">'+
i18n("You cannot create environments for this application now.")+'      </h1>       <p class="description">'+i18n("Your role does not have the permissions that are needed to create environments during application creation.")+'      </p>      <h2 class="solutionheader">'+i18n("Solutions")+'      </h2>      <ul class="listheader">          <li class="solutionoptions">'+i18n("You can ask your administrator to grant your role the permissions that are required to create an environment while using this application template.")+
"          </li>      </ul>    </div>  </div>  <\!-- end no env permission yes env tmpls --\></div>",postCreate:function(){var a=this;this.inherited(arguments);(new h({titleText:i18n("Create the environments to use in this application"),tooltipText:"<div class='wizard-environment-page-tooltip'>"+i18n("An environment is a collection of resources to which you deploy the components of an application. If you deploy the application to multiple stages, such as development and production, create an environment for each stage.")+
"<br/><br/>"+i18n("During application creation, the environments that you create are based on only the displayed environment templates, and you  can create multiple environments that are based on these templates. After  you complete this wizard, if your role  has permission,  you can add more environments to the application.")+"<br/><br/>"+i18n("The environment template might contain  environment properties, which are a type of environment variable. If these properties are required, you must provide values for each property before you proceed.")+
"<br/><br/>"+i18n("You can duplicate an environment. For example, if two  quality assurance environments require several identical environment properties, you can duplicate the  environment after you provide the property values.")+"</div>"})).placeAt(this.callToAction);c.get(bootstrap.restUrl+"deploy/applicationTemplate/"+this.sharedData.template.id+"/"+this.sharedData.template.version+"/environmentTemplates?linked=true",{handleAs:"json",query:{extended:!0,linked:!0}}).then(function(b){var c=a.sharedData.environmentTemplates;
b.forEach(function(a){var b=c.getIdentity(a);a.hasOwnProperty("resourceTemplate")?c.get(b).set(a):c.remove(b)},this);a._initWidgets()})},_hasEnvironmentTemplates:function(){var a=!1;this.sharedData.environmentTemplates&&0<this.sharedData.environmentTemplates.query().length&&(a=!0);return a},_canCreateEnvironment:function(){var a=!1;config.data.permissions["Create Environments From Template"]&&(a=!0);return a},_onShow:function(){this._canCreateEnvironment()?this._hasEnvironmentTemplates()?(dojo.style(this.columnsAttach,
"display",""),dojo.style(this.noEnvPermNoEnvTmplAttach,"display","none"),dojo.style(this.noEnvPermYesEnvTmplAttach,"display","none"),dojo.style(this.yesEnvPermNoEnvTmplAttach,"display","none")):(dojo.style(this.callToAction,"display","none"),dojo.style(this.yesEnvPermNoEnvTmplAttach,"display",""),dojo.style(this.noEnvPermNoEnvTmplAttach,"display","none"),dojo.style(this.noEnvPermYesEnvTmplAttach,"display","none"),dojo.style(this.columnsAttach,"display","none")):(dojo.style(this.callToAction,"display",
"none"),this._hasEnvironmentTemplates()?(dojo.style(this.noEnvPermYesEnvTmplAttach,"display",""),dojo.style(this.noEnvPermNoEnvTmplAttach,"display","none"),dojo.style(this.yesEnvPermNoEnvTmplAttach,"display","none")):(dojo.style(this.noEnvPermNoEnvTmplAttach,"display",""),dojo.style(this.yesEnvPermNoEnvTmplAttach,"display","none"),dojo.style(this.noEnvPermYesEnvTmplAttach,"display","none")),dojo.style(this.columnsAttach,"display","none"))},_initWidgets:function(){var a=this;(new s({sharedData:a.sharedData})).placeAt(this.environmentControlsAttach);
(new r({model:a.sharedData.environments,widgetFactory:function(b){return new q({environment:b,onSelected:function(b){a.sharedData.environments.query({selected:!0}).forEach(function(a){a.get("uniqId")!==b.get("uniqId")&&a.set("selected",!1)})}})}})).placeAt(this.createdEnvironmentsListAttach);(new o({sharedData:this.sharedData})).placeAt(this.formAttach)},validate:function(){var a=i18n("Provide required property values in the following "),b=[],c=[];this.sharedData.environments.query().forEach(function(a){a.get("props").query().forEach(function(b){""!==
b.get("error")&&-1===f.indexOf(c,a.name)&&c.push(a.name)})});0<c.length&&(1===c.length?b.push(a+i18n("environment:")):b.push(a+i18n("environments:")),f.forEach(c,function(a){b.push(" - "+a)}));return b}})})},"dojo/dnd/common":function(){define(["../_base/connect","../_base/kernel","../_base/lang","../dom"],function(l,m,k,j){var f=k.getObject("dojo.dnd",!0);f.getCopyKeyState=l.isCopyKey;f._uniqueId=0;f.getUniqueId=function(){var e;do e=m._scopeName+"Unique"+ ++f._uniqueId;while(j.byId(e));return e};
f._empty={};f.isFormElement=function(e){e=e.target;if(3==e.nodeType)e=e.parentNode;return 0<=" button textarea input select option ".indexOf(" "+e.tagName.toLowerCase()+" ")};return f})},"dojox/calendar/time":function(){define("dojox/calendar/time",["dojo/_base/lang","dojo/date","dojo/cldr/supplemental","dojo/date/stamp"],function(l,m,k,j){var f={};f.newDate=function(e,d){var d=d||Date,c;if("number"==typeof e)return new d(f);if(e.getTime)return new d(e.getTime());if(e.toGregorian)return c=e.toGregorian(),
d!==Date&&(c=new d(c.getTime())),c;if("string"==typeof e)return c=j.fromISOString(e),null===c?c=new d(e):d!==Date&&(c=new d(c.getTime())),c};f.floorToDay=function(e,d,c){d||(e=f.newDate(e,c||Date));e.setHours(0,0,0,0);return e};f.floorToMonth=function(e,d,c){d||(e=f.newDate(e,c||Date));e.setDate(1);e.setHours(0,0,0,0);return e};f.floorToWeek=function(e,d,c,b,a){d=d||Date;c=c||m;b=void 0==b||0>b?k.getFirstDayOfWeek(a):b;a=e.getDay();return a==b?e:f.floorToDay(c.add(e,"day",a>b?-a+b:b-a),!0,d)};f.floor=
function(e,d,c,b,a){b=f.floorToDay(e,b,a);switch(d){case "week":return f.floorToWeek(b,firstDayOfWeek,dateModule,locale);case "minute":b.setHours(e.getHours());b.setMinutes(Math.floor(e.getMinutes()/c)*c);break;case "hour":b.setHours(Math.floor(e.getHours()/c)*c)}return b};f.isStartOfDay=function(e,d,c){c=c||m;return 0==c.compare(this.floorToDay(e,!1,d),e)};f.isToday=function(e,d){var c=new (d||Date);return e.getFullYear()==c.getFullYear()&&e.getMonth()==c.getMonth()&&e.getDate()==c.getDate()};return f})},
"dojo/data/ObjectStore":function(){define("../_base/lang,../Evented,../_base/declare,../_base/Deferred,../_base/array,../_base/connect,../regexp".split(","),function(l,m,k,j,f,e,d){function c(b){return"*"==b?".*":"?"==b?".":b}return k("dojo.data.ObjectStore",[m],{objectStore:null,constructor:function(b){this._dirtyObjects=[];if(b.labelAttribute)b.labelProperty=b.labelAttribute;l.mixin(this,b)},labelProperty:"label",getValue:function(b,a,c){return"function"===typeof b.get?b.get(a):a in b?b[a]:c},getValues:function(b,
a){var c=this.getValue(b,a);return c instanceof Array?c:void 0===c?[]:[c]},getAttributes:function(b){var a=[],c;for(c in b)b.hasOwnProperty(c)&&!("_"==c.charAt(0)&&"_"==c.charAt(1))&&a.push(c);return a},hasAttribute:function(b,a){return a in b},containsValue:function(b,a,c){return-1<f.indexOf(this.getValues(b,a),c)},isItem:function(b){return"object"==typeof b&&b&&!(b instanceof Date)},isItemLoaded:function(b){return b&&"function"!==typeof b.load},loadItem:function(b){var a;"function"===typeof b.item.load?
j.when(b.item.load(),function(c){a=c;var d=c instanceof Error?b.onError:b.onItem;d&&d.call(b.scope,c)}):b.onItem&&b.onItem.call(b.scope,b.item);return a},close:function(b){return b&&b.abort&&b.abort()},fetch:function(b){function a(a){b.onError&&b.onError.call(e,a,b)}var b=l.delegate(b,b&&b.queryOptions),h=this,e=b.scope||h,o=b.query;if("object"==typeof o){var o=l.delegate(o),n;for(n in o){var s=o[n];if("string"==typeof s)o[n]=RegExp("^"+d.escapeString(s,"*?\\").replace(/\\.|\*|\?/g,c)+"$",b.ignoreCase?
"mi":"m"),o[n].toString=function(a){return function(){return a}}(s)}}var r=this.objectStore.query(o,b);j.when(r.total,function(c){j.when(r,function(a){b.onBegin&&b.onBegin.call(e,c||a.length,b);if(b.onItem)for(var d=0;d<a.length;d++)b.onItem.call(e,a[d],b);b.onComplete&&b.onComplete.call(e,b.onItem?null:a,b);return a},a)},a);b.abort=function(){r.cancel&&r.cancel()};if(r.observe)this.observing&&this.observing.cancel(),this.observing=r.observe(function(a,b,c){if(-1==f.indexOf(h._dirtyObjects,a))if(-1==
b)h.onNew(a);else if(-1==c)h.onDelete(a);else for(var d in a)if(d!=h.objectStore.idProperty)h.onSet(a,d,null,a[d])},!0);this.onFetch(r);b.store=this;return b},getFeatures:function(){return{"dojo.data.api.Read":!!this.objectStore.get,"dojo.data.api.Identity":!0,"dojo.data.api.Write":!!this.objectStore.put,"dojo.data.api.Notification":!0}},getLabel:function(b){if(this.isItem(b))return this.getValue(b,this.labelProperty)},getLabelAttributes:function(){return[this.labelProperty]},getIdentity:function(b){return this.objectStore.getIdentity?
this.objectStore.getIdentity(b):b[this.objectStore.idProperty||"id"]},getIdentityAttributes:function(){return[this.objectStore.idProperty]},fetchItemByIdentity:function(b){var a;j.when(this.objectStore.get(b.identity),function(c){a=c;b.onItem.call(b.scope,c)},function(a){b.onError.call(b.scope,a)});return a},newItem:function(b,a){if(a){var c=this.getValue(a.parent,a.attribute,[]),c=c.concat([b]);b.__parent=c;this.setValue(a.parent,a.attribute,c)}this._dirtyObjects.push({object:b,save:!0});this.onNew(b);
return b},deleteItem:function(b){this.changing(b,!0);this.onDelete(b)},setValue:function(b,a,c){var d=b[a];this.changing(b);b[a]=c;this.onSet(b,a,d,c)},setValues:function(b,a,c){if(!l.isArray(c))throw Error("setValues expects to be passed an Array object as its value");this.setValue(b,a,c)},unsetAttribute:function(b,a){this.changing(b);var c=b[a];delete b[a];this.onSet(b,a,c,void 0)},changing:function(b,a){b.__isDirty=!0;for(var c=0;c<this._dirtyObjects.length;c++){var d=this._dirtyObjects[c];if(b==
d.object){if(a&&(d.object=!1,!this._saveNotNeeded))d.save=!0;return}}d=b instanceof Array?[]:{};for(c in b)b.hasOwnProperty(c)&&(d[c]=b[c]);this._dirtyObjects.push({object:!a&&b,old:d,save:!this._saveNotNeeded})},save:function(b){var b=b||{},a,c=[],d=[],f=this,n=this._dirtyObjects,s=n.length;try{e.connect(b,"onError",function(){if(!1!==b.revertOnError){var a=n;n=d;f.revert();f._dirtyObjects=a}else f._dirtyObjects=n.concat(d)});if(this.objectStore.transaction)var r=this.objectStore.transaction();for(var t=
0;t<n.length;t++){var k=n[t],l=k.object,x=k.old;delete l.__isDirty;l?a=this.objectStore.put(l,{overwrite:!!x}):"undefined"!=typeof x&&(a=this.objectStore.remove(this.getIdentity(x)));d.push(k);n.splice(t--,1);j.when(a,function(){--s||b.onComplete&&b.onComplete.call(b.scope,c)},function(a){s=-1;b.onError.call(b.scope,a)})}r&&r.commit()}catch(v){b.onError.call(b.scope,value)}},revert:function(){for(var b=this._dirtyObjects,a=b.length;0<a;){a--;var c=b[a],d=c.object,c=c.old;if(d&&c){for(var e in c)c.hasOwnProperty(e)&&
d[e]!==c[e]&&(this.onSet(d,e,d[e],c[e]),d[e]=c[e]);for(e in d)c.hasOwnProperty(e)||(this.onSet(d,e,d[e]),delete d[e])}else if(c)this.onNew(c);else this.onDelete(d);delete (d||c).__isDirty;b.splice(a,1)}},isDirty:function(b){return!b?!!this._dirtyObjects.length:b.__isDirty},onSet:function(){},onNew:function(){},onDelete:function(){},onFetch:function(){}})})},"deploy/widgets/component/ComponentFileComparison":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,deploy/widgets/component/ComponentFileTable".split(","),
function(l,m,k,j,f,e){return j("deploy.widgets.component.ComponentFileComparison",[m,l],{templateString:'<div class="componentFileComparison"><div data-dojo-attach-point="tableAttach"></div></div>',postCreate:function(){this.inherited(arguments);this.versionId=this.otherVersion;this.getVersion(this.versionId)},getVersion:function(d){var c=this;f.get({url:bootstrap.restUrl+"deploy/version/"+d,handleAs:"json",load:function(b){(new e({component:appState.component,version:c.version,otherVersion:b})).placeAt(c.tableAttach)}})},
destroy:function(){this.inherited(arguments);k.forEach(this.componentFileTables,function(d){d.destroy()})}})})},"deploy/widgets/DateRangeSelector":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Select,dijit/form/TextBox,dijit/popup,dojo/_base/declare,dojo/date,dojo/dom-construct,dojo/on,deploy/widgets/CustomDateRangeSelector".split(","),function(l,m,k,j,f,e,d,c,b,a){return e("deploy.widgets.DateRangeSelector",[m,l],{templateString:'<div class="date-range-selector"><div class="inlineBlock" data-dojo-attach-point="selectAttach"></div><div class="inlineBlock date-range-wrapper"><div data-dojo-attach-point="startDateSelected" class="inlineBlock selectedDate"></div><div data-dojo-attach-point="endDateSelected" class="inlineBlock selectedDate"></div></div><div id="customDateRangeDropDown" class="dateRangeDropDown" data-dojo-attach-point="dropDownAttach"></div></div>',
startDateSelected:null,endDateSelected:null,startDateText:null,endDateText:null,selectAttach:null,dropDownAttach:null,timeUnit:"TIME_UNIT_MONTH",rangeSelect:null,timeUnitSelect:null,startDate:null,endDate:null,customDateRangeSelector:null,value:"currentWeek",popup:null,constructor:function(a){this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);var a=this;a.rangeSelect=new k({name:"dateRange",options:[{label:i18n("Current Week"),value:"currentWeek"},{label:i18n("Prior Week"),
value:"priorWeek"},{label:i18n("Current Month"),value:"currentMonth",selected:!0},{label:i18n("Prior Month"),value:"priorMonth"},{label:i18n("Current Quarter"),value:"currentQuarter"},{label:i18n("Prior Quarter"),value:"priorQuarter"},{label:i18n("Current Year"),value:"currentYear"},{label:i18n("Prior Year"),value:"priorYear"},{label:i18n("Custom"),value:"custom"}],onChange:function(b){a.rangeSelectChanged(b)}});a.rangeSelect.placeAt(a.selectAttach);a.startDateText=new j({disabled:!0});a.startDateText.placeAt(a.startDateSelected);
a.endDateText=new j({disabled:!0});a.endDateText.placeAt(a.endDateSelected);a.setDisplayedValue();b(a,"blur",function(){a.popup&&a.popupFinished()})},destroy:function(){this.inherited(arguments);var a=this.timeUnitSelect;a&&a.destroy();(a=this.startDateSelect)&&a.destroy();(a=this.endDateSelect)&&a.destroy();(a=this.customDropDown)&&a.destroy();(a=this.rangeSelect)&&a.destroy()},rangeSelectChanged:function(a){this.value=a;if("currentWeek"===a||"priorWeek"===a||"currentMonth"===a||"priorMonth"===a)this.timeUnit=
"TIME_UNIT_DAY",this.setDisplayedValue();else if("currentQuarter"===a||"priorQuarter"===a)this.timeUnit="TIME_UNIT_WEEK",this.setDisplayedValue();else if("currentYear"===a||"priorYear"===a)this.timeUnit="TIME_UNIT_MONTH",this.setDisplayedValue();else if(!this.fromSetValue)this.rangeSelect.disabled=!0,this.showCustomDropDown();this.fromSetValue=!1},showCustomDropDown:function(){var b=this;c.empty(b.dropDownAttach);b.customDateRangeSelector=new a({startDate:b.startDate,endDate:b.endDate,timeUnit:b.timeUnit,
finished:function(){b.popupFinished()}});b.popup=f.open({parent:b,popup:b.customDateRangeSelector,around:b.dropDownAttach,onCancel:function(){b.popupFinished()},onExecute:function(){b.popupFinished()}})},popupFinished:function(){this.startDate=this.customDateRangeSelector.getStartDate();this.endDate=this.customDateRangeSelector.getEndDate();this.timeUnit=this.customDateRangeSelector.getTimeUnit();f.close(this.customDateRangeSelector);this.rangeSelect.disabled=!1;this.popup=null;this.setDisplayedValue()},
getStartDate:function(){return this.startDate},getEndDate:function(){return this.endDate},getTimeUnit:function(){return this.timeUnit},_setValueAttr:function(a){this.fromSetValue=!0;this.rangeSelect.set("value",a);f.close(this.customDateRangeSelector)},fromSetValue:!1,_getStartOfWeek:function(a){a.setDate(a.getDate()-a.getDay());return a},_getEndOfWeek:function(a){a.setDate(a.getDate()+(6-a.getDay()));return a},setDisplayedValue:function(){var a,b,c=new Date,e=new Date;switch(this.value){case "priorWeek":c=
d.add(c,"day",-7);e=d.add(e,"day",-7);c=this._getStartOfWeek(c);e=this._getEndOfWeek(e);a=c;b=e;break;case "currentWeek":c=this._getStartOfWeek(c);e=this._getEndOfWeek(e);a=c;b=e;break;case "currentMonth":c.setDate(1);e.setDate(d.getDaysInMonth(e));a=c;b=e;break;case "priorMonth":c.setDate(15);e.setDate(15);c=d.add(c,"month",-1);e=d.add(e,"month",-1);c.setDate(1);e.setDate(d.getDaysInMonth(e));a=c;b=e;break;case "currentYear":c.setMonth(0);c.setDate(1);e.setMonth(11);e.setDate(d.getDaysInMonth(e));
a=c;b=e;break;case "priorYear":c=d.add(c,"year",-1);e=d.add(e,"year",-1);c.setMonth(0);c.setDate(1);e.setMonth(11);e.setDate(d.getDaysInMonth(e));a=c;b=e;break;case "currentQuarter":c=this._getStartOfQuarter(c);e=this._getEndOfQuarter(e);a=c;b=e;break;case "priorQuarter":c.setDate(15);e.setDate(15);c=d.add(c,"month",-3);e=d.add(e,"month",-3);c=this._getStartOfQuarter(c);e=this._getEndOfQuarter(e);a=c;b=e;break;case "custom":a=this.startDate,b=this.endDate}this.startDateText.set("value",util.dayFormatShort(a));
this.endDateText.set("value",util.dayFormatShort(b))},_getStartOfQuarter:function(a){a.setDate(1);2>=a.getMonth()?a.setMonth(0):5>=a.getMonth()?a.setMonth(3):8>=a.getMonth()?a.setMonth(6):a.setMonth(9);return a},_getEndOfQuarter:function(a){a.setDate(1);2>=a.getMonth()?a.setMonth(2):5>=a.getMonth()?a.setMonth(5):8>=a.getMonth()?a.setMonth(8):a.setMonth(11);a.setDate(d.getDaysInMonth(a));return a}})})},"deploy/widgets/scripts/Editor":function(){define(["dijit/_TemplatedMixin","dijit/_Widget","dojo/_base/declare",
"dojo/dom-construct","dojo/on"],function(l,m,k,j){return k("deploy.widgets.scripts.Editor",[m,l],{templateString:'<div class="codeEditor"><div data-dojo-attach-point="toolbarAttach"></div><div data-dojo-attach-point="editorAttach"></div></div>',editorId:null,language:null,syntaxCheck:!1,_notInitializedMessage:"Editor not initialized! Did you call startup() ?",postCreate:function(){this.inherited(arguments);this.editorId=Math.random().toString(36).slice(2);this.editorDiv=j.create("div",{id:this.editorId,
"class":"editor"},this.editorAttach)},startup:function(){this.inherited(arguments);this.editor=ace.edit(this.editorId);this.setLanguage(this.language);this.existingValue&&(this.setValue(this.existingValue),this.editor.clearSelection(),this.editor.moveCursorTo(0));this.setSyntaxChecker(this.syntaxCheck||!1);this.colorTheme&&this.setColorTheme(this.colorTheme);this.fontSize&&this.setFontSize(this.fontSize);if(this.hasToolbar)throw"TODO";},setColorTheme:function(f){if(!this.editor)throw this._notInitializedMessage;
this.editor.setTheme("ace/theme/"+f)},isSyntaxCheckerOn:function(){if(!this.editor)throw this._notInitializedMessage;return this.editor.getSession().getUseWorker()},setSyntaxChecker:function(f){if(!this.editor)throw this._notInitializedMessage;return this.editor.getSession().setUseWorker(f)},setFontSize:function(f){if(!this.editor)throw this._notInitializedMessage;this.editor.setFontSize(f)},setLanguage:function(f){if(!this.editor)throw this._notInitializedMessage;this.editor.getSession().setMode("ace/mode/"+
f)},setValue:function(){if(!this.editor)throw this._notInitializedMessage;this.editor.setValue(this.existingValue)},getValue:function(){if(!this.editor)throw this._notInitializedMessage;return this.editor.getValue()},get:function(f){return"value"===f?this.getValue():this.inherited(arguments)}})})},"dojox/calendar/LabelRenderer":function(){require({cache:{"url:dojox/calendar/templates/LabelRenderer.html":'<div class="dojoxCalendarEvent dojoxCalendarLabel" onselectstart="return false;">\t\n\t<div class="labels">\n\t\t<span data-dojo-attach-point="startTimeLabel" class="startTime"></span>\n\t\t<span data-dojo-attach-point="summaryLabel" class="summary"></span>\n\t\t<span data-dojo-attach-point="endTimeLabel" class="endTime"></span>\n\t</div>\t\n\t<div data-dojo-attach-point="moveHandle" class="handle moveHandle" ></div>\n</div>\n'}});
define("dojox/calendar/LabelRenderer",["dojo/_base/declare","dijit/_WidgetBase","dijit/_TemplatedMixin","dojox/calendar/_RendererMixin","dojo/text!./templates/LabelRenderer.html"],function(l,m,k,j,f){return l("dojox.calendar.LabelRenderer",[m,k,j],{templateString:f,_orientation:"horizontal",resizeEnabled:!1,visibilityLimits:{resizeStartHandle:50,resizeEndHandle:-1,summaryLabel:15,startTimeLabel:45,endTimeLabel:30},_isElementVisible:function(e,d,c,b){switch(e){case "startTimeLabel":var a=this.item.startTime;
if(this.item.isAllDay||0==a.getHours()&&0==a.getMinutes()&&0==a.getSeconds()&&0==a.getMilliseconds())return!1}return this.inherited(arguments)},_displayValue:"inline",postCreate:function(){this.inherited(arguments);this._applyAttributes()}})})},"js/webext/widgets/TwoPaneListManager":function(){define("js/webext/widgets/TwoPaneListManager","dojo/_base/declare,dojo/_base/array,dojo/dom-class,dojo/dom-construct,dijit/_TemplatedMixin,dijit/_WidgetBase,dojo/dom-geometry".split(","),function(l,m,k,j,f,
e,d){return l([e,f],{templateString:'<div class="twoPaneManager twoPaneListManager"><div class="twoPaneContainer"><div class="twoPaneList" data-dojo-attach-point="listAttach"></div><div class="twoPaneDetail" data-dojo-attach-point="detailContainerAttach"><div class="twoPaneDetailTopBorder"></div><div class="twoPaneDetailPadding"><div data-dojo-attach-point="detailAttach"></div></div><div style="clear: both;"></div></div></div>',entries:[],detailWidgets:[],overrideListWidth:void 0,postCreate:function(){this.inherited(arguments);
if(this.overrideListWidth)d.isBodyLtr()?this.detailContainerAttach.style.marginLeft=this.overrideListWidth:this.detailContainerAttach.style.marginRight=this.overrideListWidth,this.listAttach.style.width=this.overrideListWidth;this.entries=[];this.detailWidgets=[]},addEntry:function(c){var b=this,a=j.create("div");a.className="twoPaneEntry";c.label?a.innerHTML=c.label:c.domNode?a.appendChild(c.domNode):c.widget&&c.widget.placeAt(a);a.onclick=function(){b.selectEntryByDiv(a)};j.create("div",{"class":"twoPaneArrow"},
a);c={div:a,action:c.action,id:c.id};this.listAttach.appendChild(a);this.entries.push(c);(1===this.entries.length&&void 0===this.defaultSelectionId||c.id&&this.defaultSelectionId===c.id)&&this.selectEntryByDiv(a)},selectEntryByDiv:function(c){var b=this;m.forEach(this.entries,function(a){a.div===c&&b._selectEntry(a)})},selectEntryById:function(c){var b=this;m.forEach(this.entries,function(a){a.id===c&&b._selectEntry(a)})},clearSelection:function(){this.clearDetail();this.selectedEntry&&k.remove(this.selectedEntry.div,
"twoPaneSelectedEntry");this.selectedEntry=null},_selectEntry:function(c){if(this.selectedEntry!==c)this.clearSelection(),this.selectedEntry=c,k.add(c.div,"twoPaneSelectedEntry"),void 0!==c.action&&c.action()},registerDetailWidget:function(c){this.detailWidgets.push(c)},clearDetail:function(){m.forEach(this.detailWidgets,function(c){c.destroy()});this.detailWidgets=[];j.empty(this.detailAttach)},clearList:function(){j.empty(this.listAttach);this.selectedEntry=void 0;this.entries=[]}})})},"deploy/widgets/rightPanel/RightPanel":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/_base/fx,dojo/fx,dojo/dom-class,dojo/dom-style,dojo/dom-construct,dojo/dom-geometry,dojo/on,dijit/Tooltip".split(","),
function(l,m,k,j,f,e,d,c,b,a,h){return k("deploy.widgets.rightPanel.RightPanel",[m,l],{templateString:'<div class="right-panel"><div class="panel-header"><div class="panel-close-button general-icon inlineBlock linkPointer" data-dojo-attach-point="closeAttach" title="'+i18n("Hide Panel")+'"></div><div class="rightPanel-tooltipTitle"><span class="containerLabel title-text" data-dojo-attach-point="titleAttach"></span><div data-dojo-attach-point="tooltip" class="labelsAndValues-helpCell title-helpCell inlineBlock"></div></div><div class="panel-subtitle" data-dojo-attach-point="subtitleAttach"></div><div class="panel-title-contents inlineBlock" data-dojo-attach-point="titleContentAttach"></div><div class="clear"></div></div><div class="panel-content" data-dojo-attach-point="contentAttach"></div></div>',
header:"",subheader:"",description:null,width:500,titleContent:null,content:null,panelHidden:!0,defaultSpeed:180,slowSpeed:1E3,postCreate:function(){this.inherited(arguments);this._buildPanel()},_buildPanel:function(){var b=this;this.titleAttach.innerHTML=this.header;this.subtitleAttach.innerHTML=this.subheader;this.description?(new h({connectId:[this.tooltip],label:this.description,showDelay:100,position:["after","above","below","before"]}),e.remove(this.tooltip,"tooltipHidden")):e.add(this.tooltip,
"tooltipHidden");this.titleContent&&c.place(this.titleContent,this.titleContentAttach);this.content&&c.place(this.content,this.contentAttach);this.contentClass&&e.add(this.contentAttach,this.contentClass);a(this.closeAttach,"click",function(a){b.panelHidden||b.hide(a.shiftKey)});this.panelHidden=!1;this.display?this.domNode.style.width=this.width+"px":(e.add(b.domNode,"hidden"),this.hide(0))},setHeader:function(a){this.titleAttach.innerHTML=a},setSubheader:function(a){this.subtitleAttach.innerHTML=
a},setContent:function(a){c.place(a,this.contentAttach)},show:function(a){if(this.panelHidden){this.panelHidden=!1;a=a||this.defaultSpeed;if("boolean"===typeof a)a=this.slowSpeed;e.remove(this.domNode,"hidden");f.slideTo({node:this.domNode,top:0,left:(b.getMarginBox(this.domNode).l-(this.width-100)).toString(),unit:"px",duration:a}).play();j.animateProperty({node:this.domNode,properties:{width:this.width},duration:a}).play();this.onShow(a)}else this.onShow()},onShow:function(){},hide:function(a){var c=
this;if(!this.panelHidden){this.panelHidden=!0;a=a||c.defaultSpeed;if("boolean"===typeof a)a=this.slowSpeed;f.slideTo({node:this.domNode,top:0,left:(b.getMarginBox(c.domNode).l+(c.width-100)).toString(),unit:"px",duration:a}).play();j.animateProperty({node:this.domNode,properties:{width:0},duration:a}).play();setTimeout(function(){e.add(c.domNode,"hidden")},a);c.onHide(a)}},onHide:function(){},placeAt:function(a){c.place(this.domNode,a)},isHidden:function(){return this.panelHidden}})})},"dojox/widget/_Invalidating":function(){define("dojox/widget/_Invalidating",
["dojo/_base/declare","dojo/_base/lang","dojo/Stateful"],function(l,m,k){return l("dojox.widget._Invalidating",k,{invalidatingProperties:null,invalidRendering:!1,postscript:function(j){this.inherited(arguments);if(this.invalidatingProperties)for(var f=this.invalidatingProperties,e=0;e<f.length;e++)this.watch(f[e],m.hitch(this,this.invalidateRendering)),j&&f[e]in j&&this.invalidateRendering()},addInvalidatingProperties:function(j){this.invalidatingProperties=this.invalidatingProperties?this.invalidatingProperties.concat(j):
j},invalidateRendering:function(){if(!this.invalidRendering)this.invalidRendering=!0,setTimeout(m.hitch(this,this.validateRendering),0)},validateRendering:function(){if(this.invalidRendering)this.refreshRendering(),this.invalidRendering=!1},refreshRendering:function(){}})})},"deploy/widgets/wizard/WizardDialog":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-class","js/webext/widgets/Dialog","deploy/widgets/wizard/_WizardWatcherMixin"],function(l,m,k,j,f){return l([j,f],{resizeOnWizardChange:!0,
postCreate:function(){this.inherited(arguments);k.add(this.domNode,"webext-wizardDialog");if(!1!==this.resizeOnWizardChange)this.resizeOnWizardChange=!0;if(void 0!==this.progressVisualization.call)this.progressVisualization=new this.progressVisualization({wizard:this.wizard});this.progressVisualization&&this.progressVisualization.placeAt(this.titleBar);this.resizeOnWizardChange&&this._wizardWatcherCallbacks.push(m.hitch(this,this.resize));this.wizard.resizeDom=this.domNode;this.wizard.placeAt(this.containerNode)},
show:function(){void 0!==this.progressVisualization&&this.progressVisualization.render();this.inherited(arguments)}})})},"js/webext/widgets/table/_TableHeaderFooterMixin":function(){define("js/webext/widgets/table/_TableHeaderFooterMixin","dojo/_base/declare,dojo/_base/array,dojo/dom-class,dojo/dom-construct,dojo/dom-style,dojo/keys,dojo/on,dojox/html/entities,dijit/form/Select,dijit/form/TextBox,dijit/Tooltip,dijit/_WidgetBase".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q){return l(null,{totalPages:void 0,
pageOptions:[10,25,50,100,250],prevPage:void 0,drawHeadings:function(){var a=this;j.empty(this.theadAttach);this.draggable&&j.create("th",{},this.theadAttach);m.forEach(this.columns,function(b){var e=j.create("th");b.style&&f.set(e,b.style);b.styleHeading&&f.set(e,b.styleHeading);if(void 0!==b.width)e.style.width=b.width;b["class"]&&k.add(e,b["class"]);if(b.headingFormatter){var r=b.headingFormatter(e);if(r instanceof q)r.placeAt(e);else if("object"===typeof r&&1===r.nodeType&&"object"===typeof r.style&&
"object"===typeof r.ownerDocument)e.appendChild(r);else if(void 0!==r&&"object"!==typeof r)e.innerHTML=c.encode(""+r)}else{var t=j.create("div",{style:{position:"relative"}}),r=j.create("span");r.innerHTML=c.encode(""+b.name);t.appendChild(r);b.description&&(r=a._createImg("helpImage",t),new h({connectId:[r],label:b.description,showDelay:200,position:["after","above","below","before"]}));if(b.orderField){k.add(e,"sortableColumn");t.tabIndex=0;var l=b.orderField===a.orderField||a.orderField instanceof
Array&&0<a.orderField.length&&b.orderField===a.orderField[0];if(l){if(a.sortImageContainer&&a.sortImageContainer.parentNode)a.sortImageContainer.parentNode.removeChild(a.sortImageContainer),a.sortImageContainer=void 0;var r=j.create("div",{"class":"sortImageWrapper"}),m=a._createImg("sortImage",r);k.toggle(m,"arrow_asc","asc"===a.sortType);k.toggle(m,"arrow_desc","desc"===a.sortType);m.alt="asc"===a.sortType?"ascending":"descending";r.appendChild(m);t.appendChild(r);a.sortImageContainer=r}var x=function(){if(a.sortImageContainer)a.sortImageContainer.parentNode.removeChild(a.sortImageContainer),
a.sortImageContainer=null;var c=j.create("div",{"class":"sortImageWrapper"},t),d=a._createImg("sortImage",c);c.appendChild(d);a.sortType=l&&"asc"===a.sortType?"desc":"asc";k.toggle(d,"arrow_asc","asc"===a.sortType);k.toggle(d,"arrow_desc","desc"===a.sortType);d.alt="asc"===a.sortType?"ascending":"descending";a.sortImageContainer=c;a.sortColumn=b;a.orderField=b.orderField;a.redraw();l=b.orderField===a.orderField||a.orderField instanceof Array&&0<a.orderField.length&&b.orderField===a.orderField[0]};
d(e,"click",x);d(e,"keypress",function(a){13===a.charOrCode&&x()})}e.appendChild(t)}a.theadAttach.appendChild(e)})},showFooter:function(){var a=this;a.totalPages=void 0!==a.totalRecords?Math.ceil(a.totalRecords/a.rowsPerPage):void 0;if(!this.hideFooter){j.empty(a.tfootAttach);var c=j.create("tr"),h=j.create("td");h.className="webextTableFooter";h.colSpan=a.columns.length;a.draggable&&h.colSpan++;var e=j.create("div");k.remove(this.tableAttach,"no-items-in-table");var q=j.create("div",{className:"numberOfItemsContainer"},
e),l=j.create("span",{},q);if(0===a.totalRecords&&void 0!==a.noDataMessage&&!a.hasFilterValues())l=j.create("tr",{"class":"noDataRow"},a.tfootAttach),l=j.create("td",{colSpan:h.colSpan},l),j.create("span",{innerHTML:a.noDataMessage},l),k.add(a.tableAttach,"no-items-in-table");else if(!a.hidePagination)if(1===this.totalRecords)l.innerHTML=i18n("%s record",this.totalRecords);else if(a.totalRecords)l.innerHTML=i18n("%s records",this.totalRecords);if(!a.hideFooterLinks){if(!a.hidePagination&&a.totalRecords)j.create("span",
{},q).innerHTML="-";l=j.create("a",{},q);k.add(l,"linkPointer");l.onclick=function(){a.refresh()};l.innerHTML=i18n("Refresh");this.hidePrintLink||(q=j.create("a",{"class":"linkPointer",innerHTML:util.i18n("Print")},q),d(q,"click",function(){a.print()}))}if(0!==a.totalRecords&&!this.hidePagination){q=j.create("div");q.className="perPage";var u=[];m.forEach(this.pageOptions,function(b){u.push({label:""+b,value:""+b,selected:a.rowsPerPage===b})});l=j.create("span");l.style.paddingTop="2px";l.innerHTML=
util.i18n("Rows");q.appendChild(l);e.appendChild(q);l=new b({options:u,onChange:function(b){b=Number(b);if(a.rowsPerPage!==b){var c=(a.pageNumber-1)*a.rowsPerPage+1;a.rowsPerPage=b;a.pageNumber=Math.ceil(c/a.rowsPerPage);a.loadTable()}}});f.set(l.domNode,"display","inline-Block");l.placeAt(q);a.own(l);q=a.createPageNumberContainer();e.appendChild(q)}h.appendChild(e);c.appendChild(h);a.tfootAttach.appendChild(c)}},createPageNumberContainer:function(){var b=this,c=j.create("div",{className:"pageNumbers inline-block"}),
d=1<this.pageNumber,h=b.createFirstLink(d),d=b.createPreviousLink(d);c.appendChild(h);c.appendChild(d);if(b.totalPages&&this.pageNumber>b.totalPages)this.pageNumber=b.totalPages;var e=new a({title:util.i18n("current page"),name:"page",value:this.pageNumber,onKeyPress:function(a){if(b._isEnterKeyPressed(a)&&(b.prevPage=b.pageNumber,a=parseInt(e.textbox.value,10),1<=a&&a!==b.pageNumber)){if(b.totalPages&&a>b.totalPages)a=b.totalPages;b.pageNumber=a;b.loadTable()}},onFocus:function(){e.textbox.select()}});
f.set(e.domNode,"width",10+10*(""+this.pageNumber).length+"px");e.placeAt(c);b.own(e);e.textbox.style.textAlign="center";h=j.create("span");if(b.totalPages)h.innerHTML="/ "+b.totalPages,c.appendChild(h);d=this.pageNumber<b.totalPages;h=b.totalPages?d:!1;d=b.createNextLink(b.totalPages?d:!0);h=b.createLastLink(h);c.appendChild(d);c.appendChild(h);return c},createFirstLink:function(a){var b=this;if(a){a=j.create("a",{"class":"linkPointer",tabindex:"0"});this._createImg("arrow_fastBackwards",a,{alt:util.i18n("first page")});
var c=function(){b.pageNumber=1;b.loadTable()};a.onclick=c;a.onkeyup=function(a){b._isEnterKeyPressed(a)&&c()}}else a=j.create("span"),this._createImg("arrow_fastBackwards_grey",a,{alt:util.i18n("first page disabled")});return a},createPreviousLink:function(a){var b=this;if(a){a=j.create("a",{"class":"linkPointer",tabindex:"0"});this._createImg("arrow_backwards",a,{alt:util.i18n("previous page")});var c=function(){b.prevPage=b.pageNumber;b.pageNumber--;b.loadTable()};a.onclick=c;a.onkeyup=function(a){b._isEnterKeyPressed(a)&&
c()}}else a=j.create("span"),this._createImg("arrow_backwards_grey",a,{alt:util.i18n("previous page disabled")});return a},createNextLink:function(a){var b=this;if(a){a=j.create("a",{"class":"linkPointer",tabindex:"0"});this._createImg("arrow_forward",a,{alt:util.i18n("next page")});var c=function(){b.prevPage=b.pageNumber;b.pageNumber++;b.loadTable()};a.onclick=c;a.onkeyup=function(a){b._isEnterKeyPressed(a)&&c()}}else a=j.create("span"),this._createImg("arrow_forward_grey",a,{alt:util.i18n("next page disabled")});
return a},createLastLink:function(a){var b=this;if(a){a=j.create("a",{"class":"linkPointer",tabindex:"0"});this._createImg("arrow_fastForward",a,{alt:util.i18n("last page")});var c=function(){b.pageNumber=b.totalPages;b.loadTable()};a.onclick=c;a.onkeyup=function(a){b._isEnterKeyPressed(a)&&c()}}else a=j.create("span"),this._createImg("arrow_fastForward_grey",a,{alt:util.i18n("last page disabled")});return a},_isEnterKeyPressed:function(a){return(a.charCode||a.keyCode)===e.ENTER}})})},"deploy/widgets/automationPlugin/AutomationPluginProcesses":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/array,dojo/_base/declare,deploy/widgets/Formatters,js/webext/widgets/Table".split(","),
function(l,m,k,j,f,e){return j("deploy.widgets.automationPlugin.AutomationPluginProcesses",[m,l],{templateString:'<div class="automationPluginProcesses"><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var d=bootstrap.restUrl+"plugin/automationPlugin/"+this.automationPlugin.id+"/processes",c=[{name:i18n("Component"),formatter:function(b){return f.componentLinkFormatter(b.component)},orderField:"component",filterField:"component",filterType:"text",
getRawValue:function(b){return b.component?b.component.name:""}},{name:i18n("Process"),formatter:function(b){return b.component?f.componentProcessLinkFormatter(b):b.componentTemplate?f.componentTemplateProcessLinkFormatter(b):f.genericProcessLinkFormatter(b)},orderField:"process",filterField:"process",filterType:"text",getRawValue:function(b){return b.name}},{name:i18n("Commands Used"),formatter:function(b){var a="";k.forEach(b.commandNames,function(b){0<a.length&&(a+=", ");a+=i18n(b)});return a},
field:"commandNames",filterField:"commandNames",filterType:"text",getRawValue:function(b){var a="";k.forEach(b.commandNames,function(b){0<a.length&&(a+=", ");a+=i18n(b)});return a}}];this.grid=new e({url:d,serverSideProcessing:!1,columns:c,tableConfigKey:"pluginProcessList",noDataMessage:i18n("This plugin is not used in any processes.")});this.grid.placeAt(this.gridAttach)},destroy:function(){this.inherited(arguments);this.grid.destroy()}})})},"deploy/widgets/report/ReportTable":function(){define("dijit/_Widget,dijit/form/Button,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/dom-construct,dojo/dom-class,dojo/dom-geometry,dojo/io-query,dojo/on,js/util/blocker/BlockingContainer,js/util/blocker/_BlockerMixin,js/webext/widgets/ColumnForm,js/webext/widgets/Dialog,js/webext/widgets/Table".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s){return j("deploy.widgets.report.ReportTable",[l,q],{reportRestUrlBase:null,reportTable:null,reportChart:null,nonEmptyCallback:null,requiredFields:[],reportType:null,columnFormatters:null,reportResultLayout:null,reportProperties:null,resultsUrl:null,reportResults:null,reportMetadata:null,constructor:function(a){this.reportRestUrlBase=bootstrap.restUrl+"report/";if(a)this.nonEmptyCallback=a.nonEmptyCallback},destroy:function(){this.inherited(arguments);this.reportTable&&
this.reportTable.destroy();if(this.reportChart)this.reportChart.destroy(),this.reportChart=null},showReport:function(b){var c=this;c.reportTable&&c.reportTable.destroy();(!b||!b.empty)&&e.empty(c.domNode);c.reportProperties=c.reportMetadata.properties;var d=[];if(0!==c.getReportResultLayout().length)c.reportResultLayout=c.getReportResultLayout();k.forEach(c.reportResultLayout,function(a){c.reportMetadata.hiddenColumns&&-1<c.reportMetadata.hiddenColumns.indexOf(a.field)||a.hidden?a.enabled=!1:(a.enabled=
!0,d.push(a))});!b||!b.refresh?c.reportTable=c.createTable():c.reportTable.columns=d;c.reportTable.drawHeadings();c.reportTable.placeAt(c.domNode);c.reportTable.showTable(c.reportResults);c.selectableColumns&&(b=e.create("td",{colspan:d.length},c.reportTable.filterAttach),b=e.create("a",{innerHTML:i18n("Select Columns"),className:"report-column-edit-button linkPointer"},b),a(b,"click",function(){c.showTableDialog()}))},showTableDialog:function(){var a=this;a.tableDisplayDialog=new n({title:i18n("Select Columns"),
closeable:!0,draggable:!0});var b=new o({saveLabel:i18n("OK"),onSubmit:function(b){a.reportMetadata.hiddenColumns=[];var c=a.getReportResultLayout();k.forEach(c,function(c){("false"===b[c.field]||c.hidden)&&a.reportMetadata.hiddenColumns.push(c.field)});var c=a.getDisplayConfig(),d=c.orderField,h=c.sortType;if(0>a.reportMetadata.hiddenColumns.indexOf(d)){var e=!1;k.forEach(a.reportMetadata.properties,function(a){if("orderField"===a.name)a.value=d,e=!0;else if("sortType"===a.name)a.value=h,e=!0});
e||(a.reportMetadata.properties.push({name:"orderField",value:d}),a.reportMetadata.properties.push({name:"sortType",value:h}))}a.showReport({refreshDisplay:!0});a.tableDisplayDialog.hide();a.tableDisplayDialog.destroy()},onCancel:function(){a.tableDisplayDialog.hide();a.tableDisplayDialog.destroy()}});k.forEach(a.reportResultLayout,function(a){a.hidden||b.addField({name:a.field,label:a.name,required:!1,type:"Checkbox",value:a.enabled})});b.placeAt(a.tableDisplayDialog.containerNode);a.tableDisplayDialog.show()},
renderReport:function(a){var b=this;b.resultsUrl=a;"com.urbancode.ds.subsys.report.domain.deployment_count.DeploymentCountReport"===b.reportType||"com.urbancode.ds.subsys.report.domain.deployment_count.DeploymentDurationSumReport"===b.reportType||"com.urbancode.ds.subsys.report.domain.deployment_count.DeploymentDurationAverageReport"===b.reportType?b.loadCountReport(function(){b.showReport({empty:!0})}):b.loadReport(function(){b.showReport()})},loadCountReport:function(a){var b=this;e.empty(b.domNode);
var c=new h;c.placeAt(b.domNode);e.create("div",{style:"width:100%;height:10em"},c.domNode);c.block();var d=function(a){var b=/[0-9]{4}-/,a=0===a.search(b)?a.replace(b,""):i18n(a);return i18n(a)};f.get({url:b.resultsUrl,handleAs:"json",load:function(h){b.reportResultLayout=[];b.reportMetadata=h.report[0];var f;"com.urbancode.ds.subsys.report.domain.deployment_count.DeploymentCountReport"===b.reportType?f="COUNT":"com.urbancode.ds.subsys.report.domain.deployment_count.DeploymentDurationSumReport"===
b.reportType?f="DURATION_SUM":"com.urbancode.ds.subsys.report.domain.deployment_count.DeploymentDurationAverageReport"===b.reportType&&(f="DURATION_AVERAGE");var o=h.items[0][0],n;for(n in o)if(o.hasOwnProperty(n)){var q={field:n,name:d(n)};if(q.field!==q.name)q.styleHeading={"white-space":"nowrap"};if("COUNT"!==f&&n!==i18n("Application")&&n!==i18n("Environment"))q.formatter=util.durationFormatter;q.hidden||b.reportResultLayout.push(q)}b.reportResults=h.items[0];b.reportMetadata.properties.push({name:"orderField",
value:"Application"});c.unblock();e.empty(c.domNode);var j;k.forEach(b.reportMetadata.properties,function(a){if("aggregation"===a.name)j=a.value});h.items[0].length&&(Highcharts.setOptions({lang:{resetZoom:i18n("Reset Zoom"),resetZoomTitle:i18n("Reset Zoom")}}),b.createChart(h.items[0],j,c.domNode));a()},error:function(){c.unblock();e.empty(c.domNode);b.showError()}})},showError:function(a){this.inherited(arguments);e.create("span",{style:"fontSize:medium"},this.domNode).innerHTML=a?"<br>"+a:"<br>"+
i18n("An error has occurred.")},loadReport:function(a){var b=this,c=new h;c.placeAt(b.domNode);e.create("div",{style:"width:100%;height:10em"},c.domNode);c.block();f.get({url:b.resultsUrl,handleAs:"json",load:function(d){c.unblock();b.reportResults=d.items[0];b.reportMetadata=d.report[0];a()},error:function(){c.unblock();e.empty(c.domNode);b.showError()}})},getDisplayConfig:function(){var a=null;this.reportMetadata&&this.reportResults&&this.reportTable&&(a={hiddenColumns:this.reportMetadata.hiddenColumns,
orderField:this.reportTable.orderField,sortType:this.reportTable.sortType});return a},createTable:function(){var a=this,b=a.reportResults,c=a.reportMetadata.properties,h,e,f=[];k.forEach(a.reportResultLayout,function(a){a.enabled&&(f.push(a),k.forEach(c,function(a){if("orderField"===a.name)h=a.value;else if("sortType"===a.name)e=a.value}))});var o=f.length?f[0].field:null,n=new s({data:b,columns:f,orderField:h||o||void 0,sortType:e,noDataMessage:i18n("No results found"),hideFooterLinks:!0,serverSideProcessing:!1,
style:"overflow-x: auto; padding-bottom: 40px;",baseTextDir:util.getBaseTextDir()});a.nonEmptyCallback&&a.nonEmptyCallback({reportLength:a.reportResults.length,csvUrl:a.reportRestUrlBase+"adHoc/csv?"+a.adHocQuery,printReport:function(){if(a.reportChart){var b=a.reportChart.chartWidth,c=a.reportChart.chartHeight;d.add(a.domNode,"print-view");a.reportChart.setSize(600,300,!1);setTimeout(function(){n.print();d.remove(a.domNode,"print-view");setTimeout(function(){a.reportChart.setSize(b,c,!1)},100)},
100)}else n.print()}});return n},refresh:function(){var a=this;a.loadReport(function(){a.reportTable.showTable(a.reportResults)})},renderAdHocReport:function(a){this.reportTable&&this.reportTable.destroy();e.empty(this.domNode);var c=a.report,d={},h=[];k.forEach(this.requiredFields,function(a){var b=!1;k.forEach(c.properties,function(c){c.name===a&&void 0!==c.value&&null!==c.value&&(b=!0)});b||h.push(a)});h.length?a.errorCallback(h):(k.forEach(c.properties,function(a){d[a.name]=a.value}),d.type=this.reportType,
d.hiddenColumns=c.hiddenColumns||[],this.adHocQuery=a=b.objectToQuery(d),this.renderReport(this.reportRestUrlBase+"adHoc?"+a))},setColumnFormatters:function(a){this.columnFormatters=a},setRequiredFields:function(a){this.requiredFields=a},getCurrentReportProperties:function(){return this.reportProperties},renderChart:function(){},actionsFormatter:function(a){var b=document.createElement("a");b.href="#applicationProcessRequest/"+a.applicationRequestId;b.innerHTML=i18n("View Request");return b},multiNameFormatter:function(){}})})},
"deploy/widgets/resource/ResourceSelector":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Select,dijit/form/Button,dojo/_base/declare,dojo/_base/array,dojo/_base/xhr,dojo/dom-construct,dojo/on,js/webext/widgets/Dialog,deploy/widgets/resource/ResourceSelectList".split(","),function(l,m,k,j,f,e,d,c,b,a,h){return f([m,l],{templateString:'<div class="resourceSelector">  <div class="inlineBlock resourceSelectorValue" data-dojo-attach-point="resourcePathAttach"></div>  <div class="inlineBlock" data-dojo-attach-point="buttonAttach"></div></div>',
returnEntireObject:!1,resourceSelectTitle:i18n("Select Resource"),radioSelect:!0,postCreate:function(){var a=this;(new j({label:i18n("Set"),onClick:function(){a.showResourceSelectorDialog()}})).placeAt(a.buttonAttach);this.selectResource(this.selectedResource)},showResourceSelectorDialog:function(){var b=this,c=new a({title:util.escape(b.resourceSelectTitle),closable:!0,draggable:!0,width:-100});(new h({gridRestUrl:this.url,childUrlBase:this.childUrlBase,tableConfigKey:this.tableConfigKey,radioSelect:this.radioSelect,
onCancel:function(){c.hide();c.destroy()},isSelectable:function(a){return b.isSelectable(a)},onSave:function(a){var d;e.forEach(a,function(a){d=a});b.selectResource(d);if(void 0!==b.onChange)b.onChange(b._getValueAttr());c.hide();c.destroy()}})).placeAt(c.containerNode);c.show()},isSelectable:function(){return!0},selectResource:function(a){this.resourcePathAttach.innerHTML=a?a.path.escape():i18n("None Selected");this.selectedResource=a},_getValueAttr:function(){var a;this.selectedResource&&(a=this.returnEntireObject?
this.selectedResource:this.selectedResource.id);return a},_setValueAttr:function(a){var b=this;a?d.get({url:bootstrap.restUrl+"resource/resource/"+a,handleAs:"json",load:function(a){b.selectResource(a)}}):b.selectResource(void 0)}})})},"js/webext/widgets/DialogMultiSelect":function(){define("js/webext/widgets/DialogMultiSelect","dojo/_base/declare,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/form/Button,dijit/form/CheckBox,dijit/form/TextBox,js/util/blocker/_BlockerMixin,js/webext/widgets/Dialog,dojo/_base/array,dojo/dom-class,dojo/dom-geometry,dojo/dom-construct,dojo/_base/lang,dojo/_base/xhr".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n){return l([m,k,d],{templateString:'<span class="dialogMultiSelect"><div data-dojo-attach-point="fieldAttach"></div></span>',noSelectionsLabel:null,disabled:!1,editButtonsDisplay:"",closeButtonDisplay:"",postCreate:function(){this.inherited(arguments);var a=this;this.selectedValues=[];this.set("value",this.value);this.fieldAttach.onclick=function(){a.showSelectDialog(a.selectedValues)};this.fieldAttach.className="dijitButtonNode";this.fieldAttach.style.padding=
"2px 5px";this.fieldAttach.style.border="1px solid #B5BCC7";this.fieldAttach.style.display="inline-block";this.disabled?this.editButtonsDisplay="none":this.closeButtonDisplay="none"},_getItemsAttr:function(){var a=this,c=[];b.forEach(this.selectedValues,function(d){b.forEach(a.restData,function(b){a.getValue(b)===d&&c.push(b)})});return c},_getValueAttr:function(){return this.selectedValues.join(",")},_setValueAttr:function(a){this.selectedValues=[];if(void 0!==a&&0<a.length)this.selectedValues=a.split(",");
this.fieldAttach.innerHTML=0===this.selectedValues.length?this.noSelectionsLabel||i18n("Any (None Selected)"):i18n("%s selected",this.selectedValues.length)},updateCheckboxDisplay:function(c,d){var h=[];b.forEach(c,function(a){a.checkbox.get("value")&&h.push(a)});a.remove(d.domNode,"partialSelect");c.length&&(c.length===h.length&&(d.set("label",i18n("Select None")),d.set("action","none")),0===h.length?(d.set("label",i18n("Select All")),d.set("action","all")):c.length>h.length&&(d.set("label",i18n("Select the rest")),
d.set("action","all"),a.add(d.domNode,"partialSelect")),d.set("value","none"===d.get("action")))},showSelectDialog:function(d){var r=this,t=[],k=[],l=o.clone(d),x=new c({title:"",closable:!0,draggable:!1,width:300}),v=document.createElement("div");a.add(v,"dialogMultiSelectDialog");var y=document.createElement("div");v.appendChild(y);var m=h.isBodyLtr()?{marginRight:"10px"}:{marginLeft:"10px"},m=q.create("div",{style:m},y);a.add(m,"inlineBlock");var z=new f({label:"Select All",action:"all",onClick:function(){"all"===
this.action?(z.set("label",i18n("Select None")),b.forEach(k,function(a){a.checkbox.set("value",!0)})):"none"===this.action&&(z.set("label",i18n("Select All")),b.forEach(k,function(a){a.checkbox.set("value",!1)}));r.updateCheckboxDisplay(k,z)},disabled:r.disabled});r.disabled||z.placeAt(m);var B=i18n("Enter text to filter..."),D=new e({placeholder:B,onKeyPress:function(c){if(13===c.charOrCode){var d=D.get("value").toLowerCase();0<d.length&&(k=[],b.forEach(t,function(b){-1<b.label.toLowerCase().indexOf(d)?
(a.remove(b.domNode,"hidden"),k.push(b)):(a.add(b.domNode,"hidden"),util.removeFromArray(k,b))}),r.updateCheckboxDisplay(k,z))}},onFocus:function(){D.get("value")===B&&D.set("value","");D.textbox.select()}});if(r.disabled)D.domNode.style.marginLeft="20px";D.placeAt(y);m=new j({label:i18n("Clear Filter"),onClick:function(){D.set("value","");r.filterTextSet=!0;b.forEach(t,function(b){a.remove(b.domNode,"hidden")});k=t;r.updateCheckboxDisplay(k,z)}});m.domNode.style.display=r.editButtonsDisplay;m.placeAt(y);
var G=document.createElement("div");G.style.overflowY="auto";G.style.maxHeight="200px";h.isBodyLtr()?G.style.paddingRight="30px":G.style.paddingLeft="30px";v.appendChild(G);y=document.createElement("div");y.style.position="relative";v.appendChild(y);var C=document.createElement("div");C.style.margin="5px";h.isBodyLtr()?C.style.marginLeft="26px":C.style.marginRight="26px";C.style.fontWeight="bold";C.innerHTML=i18n("%s selected",d.length);y.appendChild(C);d=new j({label:i18n("Clear Selection"),onClick:function(){b.forEach(t,
function(a){a.checkbox.set("value",!1)});r.updateCheckboxDisplay(k,z)}});d.domNode.style.display=r.editButtonsDisplay;d.placeAt(y);d=new j({label:i18n("OK"),onClick:function(){r.set("value",l.join(","));r.onClose();x.hide();x.destroy()}});d.domNode.style.display=r.editButtonsDisplay;d.placeAt(y);d=new j({label:i18n("Reset"),onClick:function(){x.hide();x.destroy();r.showSelectDialog([])}});d.domNode.style.display=r.editButtonsDisplay;d.placeAt(y);d=new j({label:i18n("Close"),onClick:function(){x.hide();
x.destroy()}});d.domNode.style.display=r.closeButtonDisplay;d.placeAt(y);n.get({url:this.url,handleAs:"json",load:function(a){a=r.processData(a);r.restData=a;r.checkBoxes=[];b.forEach(a,function(a){var c=r.getValue(a).escapeHTML(),a=r.getLabel(a).escapeHTML(),d=!1;-1<b.indexOf(l,c)&&(d=!0);var d=new f({onChange:function(a){a?l.push(c):util.removeFromArray(l,c);C.innerHTML=i18n("%s selected",l.length)},onClick:function(){r.updateCheckboxDisplay(k,z)},disabled:r.disabled,checked:d}),e=document.createElement("label");
d.placeAt(e);var n=document.createElement("div");n.className="inlineBlock";n.style.verticalAlign="middle";h.isBodyLtr()?n.style.paddingLeft="5px":n.style.paddingRight="5px";n.innerHTML=a;e.appendChild(n);G.appendChild(e);a={label:a,domNode:e,checkbox:d};t.push(a);k.push(a)});r.updateCheckboxDisplay(k,z)}});x.containerNode.appendChild(v);x.show()},getLabel:function(){return"getLabel() not specified"},getValue:function(){return"getValue() not specified"},onClose:function(){},processData:function(a){return a}})})},
"dijit/_base/wai":function(){define("dijit/_base/wai",["dojo/dom-attr","dojo/_base/lang","../main","../hccss"],function(l,m,k){m.mixin(k,{hasWaiRole:function(j,f){var e=this.getWaiRole(j);return f?-1<e.indexOf(f):0<e.length},getWaiRole:function(j){return m.trim((l.get(j,"role")||"").replace("wairole:",""))},setWaiRole:function(j,f){l.set(j,"role",f)},removeWaiRole:function(j,f){var e=l.get(j,"role");e&&(f?(e=m.trim((" "+e+" ").replace(" "+f+" "," ")),l.set(j,"role",e)):j.removeAttribute("role"))},
hasWaiState:function(j,f){return j.hasAttribute?j.hasAttribute("aria-"+f):!!j.getAttribute("aria-"+f)},getWaiState:function(j,f){return j.getAttribute("aria-"+f)||""},setWaiState:function(j,f,e){j.setAttribute("aria-"+f,e)},removeWaiState:function(j,f){j.removeAttribute("aria-"+f)}});return k})},"js/webext/widgets/table/_TableSelectableMixin":function(){define("js/webext/widgets/table/_TableSelectableMixin",["dojo/_base/declare","dojo/_base/array","dijit/form/CheckBox","dijit/form/RadioButton"],function(l,
m,k,j){return l(null,{lastSelectedRowObject:null,onSelectItem:function(){},onDeselectItem:function(){},isSelectable:function(){return!0},getSelectedItems:function(){var f=this,e=[];m.forEach(f.selectedItems,function(d){(d=f.rowObjects[d])&&d.visible&&e.push(d.item)});return e},selectItems:function(f){var e=this;m.forEach(f,function(d){d=e._getRowObjectForItem(d);d.parent&&e._expandAllParents(d.parent);d.selectCheckbox&&d.visible&&d.selectCheckbox.set("value",!0)})},deselectItems:function(f){var e=
this;m.forEach(f,function(d){d=e._getRowObjectForItem(d);d.parent&&e._expandAllParents(d.parent);d.selectCheckbox&&d.visible&&d.selectCheckbox.set("value",!1)})},deselectAll:function(){m.forEach(this.rowObjectList,function(f){f.selectCheckbox&&f.selectCheckbox.set("value",!1)})},initSelectableMixin:function(){var f=this;this.selectedItems=[];if(this.selectable&&(this.columns.unshift({name:"",width:"14px",beforeExpander:!0,headingFormatter:function(){if(!f.radioSelect)return f.selectAllCheckbox=new k,
f.selectAllCheckbox.on("change",function(e){m.forEach(f.rowObjectList,function(d){d.selectCheckbox&&(!1===e||d.visible)&&d.selectCheckbox.set("value",e)})}),f.selectAllCheckbox},formatter:function(e){var d=f._getRowObjectForItem(e);if(f.isSelectable(e)){var e=f._getRowObjectForItem(e),c=-1!==f.selectedItems.indexOf(d.id),b;b=f.radioSelect?new j({name:"treeSelect",value:e.id,checked:c}):new k({checked:c});b.on("click",function(a){if(b.get("checked")){if(a.shiftKey&&f.lastSelectedRowObject){var c=!1;
m.forEach(f.rowObjectList,function(a){if(a===d||a===f.lastSelectedRowObject)c=!c;var b=!a.parent||a.parent&&a.parent.expanded;c&&a.visible&&b&&f._setSelected(a,!0)})}f.lastSelectedRowObject=d}else f.lastSelectedRowObject=null});b.on("change",function(a){f._setSelected(d,a)});return e.selectCheckbox=b}}}),f.draggable))this.on("displayTable",function(){var e=[];m.forEach(f.selectedItems,function(d){var c=f.rowObjects[d];c&&c.visible&&e.push(d)});m.forEach(e,function(d){var c=f.rowObjects[d];util.removeFromArray(f.selectedItems,
d);c&&c.visible&&f._setSelected(c,!0)})})},setCheckboxState:function(f){this.selectAllCheckbox&&this.selectAllCheckbox.set("checked",f)},_setSelected:function(f,e){var d=this;e?-1===d.selectedItems.indexOf(f.id)&&(d.selectedItems.push(f.id),this.draggable&&(d.dndContainer._addItemClass(f.domNode,"Selected"),d.dndContainer.selection[f.domNode.id]=1),d.onSelectItem(f.item)):(util.removeFromArray(d.selectedItems,f.id),this.draggable&&(d.dndContainer._removeItemClass(f.domNode,"Selected"),delete d.dndContainer.selection[f.domNode.id]),
d.onDeselectItem(f.item));f.selectCheckbox&&f.selectCheckbox.set("value",e);d.cascadeSelectedState&&m.forEach(d.getAllRowObjectDescendants(f),function(c){d._setSelected(c,e)})}})})},"deploy/widgets/environmentComparison/EnvironmentFileComparison":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/dom-construct,deploy/widgets/component/ComponentFileTable".split(","),function(l,m,k,j,f,e,d){return j("deploy.widgets.component.EnvironmentFileComparison",
[m,l],{templateString:'<div class="environmentFileComparison"><div data-dojo-attach-point="tableAttach"></div></div>',postCreate:function(){this.inherited(arguments);var c=this;this.componentFileTables=[];f.get({url:bootstrap.restUrl+"deploy/component",content:{filterFields:["applications.id"],"filterValue_applications.id":c.application.id,"filterType_applications.id":"eq","filterClass_applications.id":"UUID",outputType:["BASIC","LINKED"]},handleAs:"json",load:function(b){if(b&&1>b.length){var a=
e.create("div",{innerHTML:i18n("No files found."),style:"margin:10px;"});e.place(a,c.tableAttach)}k.forEach(b,function(a){f.get({url:bootstrap.restUrl+"deploy/environment/"+c.environment1.id+"/compareFiles/"+c.environment2.id+"/"+a.id,handleAs:"json",load:function(b){0!==c.componentFileTables.length&&e.create("div",{"class":"hr",style:{marginTop:"15px"}},c.tableAttach);b.tooMany?(e.create("div",{"class":"containerLabel",innerHTML:i18n("File Difference Report for %s",a.name.escape())+"<br/><br/>"},
c.tableAttach),e.create("div",{innerHTML:i18n("One or both environments contain more than one version of component %s",a.name.escape()),style:{marginLeft:"40px"}},c.tableAttach)):b.environment1Version?b.environment2Version?(b=new d({component:a,version:b.environment1Version,otherVersion:b.environment2Version,title1:"Environment: "+c.environment1.name,title2:"Environment: "+c.environment2.name}),c.componentFileTables.push(b),b.placeAt(c.tableAttach)):(e.create("div",{"class":"containerLabel",innerHTML:i18n("File Difference Report for %s",
a.name.escape())+"<br/><br/>"},c.tableAttach),e.create("div",{innerHTML:i18n("No version of component %s has been deployed to %s.",a.name.escape(),c.environment2.name.escape()),style:{marginLeft:"40px"}},c.tableAttach)):(e.create("div",{"class":"containerLabel",innerHTML:i18n("File Difference Report for %s",a.name.escape())+"<br/><br/>"},c.tableAttach),e.create("div",{innerHTML:i18n("No version of component %s has been deployed to %s.",a.name.escape(),c.environment1.name.escape()),style:{marginLeft:"40px"}},
c.tableAttach))}})})}})},destroy:function(){this.inherited(arguments);k.forEach(this.componentFileTables,function(c){c.destroy()})}})})},"deploy/widgets/resourceTemplate/ApplyResourceTemplate":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,js/webext/widgets/ColumnForm,js/webext/widgets/Alert".split(","),function(l,m,k,j,f,e,d){return j([m,l],{templateString:'<div class="applyResourceTemplate">  <div data-dojo-attach-point="formAttach"></div></div>',
createNew:!1,postCreate:function(){this.inherited(arguments);var c=this;this.form=new e({submitUrl:this.createNew?bootstrap.restUrl+"resource/resource/addFromTemplate":bootstrap.restUrl+"resource/resource/applyTemplate",postSubmit:function(b){void 0!==c.callback&&c.callback(b)},addData:function(b){b.targetResourceId=c.resource.id},onError:function(b){b.responseText&&new d({message:util.escape(b.responseText)})},onCancel:function(){void 0!==c.callback&&c.callback()}});this.extraPropNames=[];this.createNew&&
this.form.addField({name:"name",label:i18n("New Resource Name"),description:i18n("The name of the new resource to be created based on the template."),type:"Text",required:!0});this.form.addField({name:"resourceTemplateId",label:i18n("Resource Template"),description:i18n("Choose the resource template to apply to this resource. Any resources which exist in the template will be copied to the resource which the template is applied to."),type:"TableFilterSelect",url:bootstrap.restUrl+"resource/resourceTemplate",
onChange:function(b){k.forEach(c.extraPropNames,function(a){c.form.removeField(a)});c.extraPropNames=[];b&&(c.form.block(),f.get({url:bootstrap.restUrl+"resource/resourceTemplate/"+b,handleAs:"json",load:function(a){c.form.unblock();k.forEach(a.propDefs,function(a){a.name="p_"+a.name;c.form.addField(a);c.extraPropNames.push(a.name)})},error:function(a){c.form.unblock();new d({message:util.escape(a.responseText)})}}))}});this.form.placeAt(this.formAttach)}})})},"dijit/form/_TextBoxMixin":function(){define("dijit/form/_TextBoxMixin",
"dojo/_base/array,dojo/_base/declare,dojo/dom,dojo/_base/event,dojo/keys,dojo/_base/lang,dojo/on,../main".split(","),function(l,m,k,j,f,e,d,c){var b=m("dijit.form._TextBoxMixin",null,{trim:!1,uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints)},_setValueAttr:function(a,b,c){var d;void 0!==a&&(d=this.filter(a),"string"!=typeof c&&(c=null!==d&&("number"!=typeof d||!isNaN(d))?this.filter(this.format(d,
this.constraints)):""));if(null!=c&&("number"!=typeof c||!isNaN(c))&&this.textbox.value!=c)this.textbox.value=c,this._set("displayedValue",this.get("displayedValue"));"auto"==this.textDir&&this.applyTextDir(this.focusNode,c);this.inherited(arguments,[d,b])},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},_setDisplayedValueAttr:function(a){null==a?a="":"string"!=typeof a&&(a=""+a);this.textbox.value=a;this._setValueAttr(this.get("value"),void 0);this._set("displayedValue",
this.get("displayedValue"));"auto"==this.textDir&&this.applyTextDir(this.focusNode,a)},format:function(a){return null==a?"":a.toString?a.toString():a},parse:function(a){return a},_refreshState:function(){},onInput:function(){},__skipInputEvent:!1,_onInput:function(a){"auto"==this.textDir&&this.applyTextDir(this.focusNode,this.focusNode.value);this._processInput(a)},_processInput:function(){this._refreshState();this._set("displayedValue",this.get("displayedValue"))},postCreate:function(){this.textbox.setAttribute("value",
this.textbox.value);this.inherited(arguments);this.own(d(this.textbox,"keydown, keypress, paste, cut, input, compositionend",e.hitch(this,function(a){var b;if("keydown"==a.type){b=a.keyCode;switch(b){case f.SHIFT:case f.ALT:case f.CTRL:case f.META:case f.CAPS_LOCK:case f.NUM_LOCK:case f.SCROLL_LOCK:return}if(!a.ctrlKey&&!a.metaKey&&!a.altKey){switch(b){case f.NUMPAD_0:case f.NUMPAD_1:case f.NUMPAD_2:case f.NUMPAD_3:case f.NUMPAD_4:case f.NUMPAD_5:case f.NUMPAD_6:case f.NUMPAD_7:case f.NUMPAD_8:case f.NUMPAD_9:case f.NUMPAD_MULTIPLY:case f.NUMPAD_PLUS:case f.NUMPAD_ENTER:case f.NUMPAD_MINUS:case f.NUMPAD_PERIOD:case f.NUMPAD_DIVIDE:return}if(65<=
b&&90>=b||48<=b&&57>=b||b==f.SPACE)return;b=!1;for(var c in f)if(f[c]===a.keyCode){b=!0;break}if(!b)return}}(b=32<=a.charCode?String.fromCharCode(a.charCode):a.charCode)||(b=65<=a.keyCode&&90>=a.keyCode||48<=a.keyCode&&57>=a.keyCode||a.keyCode==f.SPACE?String.fromCharCode(a.keyCode):a.keyCode);b||(b=229);if("keypress"==a.type){if("string"!=typeof b)return;if("a"<=b&&"z">=b||"A"<=b&&"Z">=b||"0"<=b&&"9">=b||" "===b)if(a.ctrlKey||a.metaKey||a.altKey)return}if("input"==a.type){if(this.__skipInputEvent){this.__skipInputEvent=
!1;return}}else this.__skipInputEvent=!0;var d={faux:!0},n;for(n in a)"layerX"!=n&&"layerY"!=n&&(c=a[n],"function"!=typeof c&&"undefined"!=typeof c&&(d[n]=c));e.mixin(d,{charOrCode:b,_wasConsumed:!1,preventDefault:function(){d._wasConsumed=!0;a.preventDefault()},stopPropagation:function(){a.stopPropagation()}});!1===this.onInput(d)&&(d.preventDefault(),d.stopPropagation());d._wasConsumed||this.defer(function(){this._onInput(d)})})))},_blankValue:"",filter:function(a){if(null===a)return this._blankValue;
if("string"!=typeof a)return a;this.trim&&(a=e.trim(a));this.uppercase&&(a=a.toUpperCase());this.lowercase&&(a=a.toLowerCase());this.propercase&&(a=a.replace(/[^\s]+/g,function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}));return a},_setBlurValue:function(){this._setValueAttr(this.get("value"),!0)},_onBlur:function(a){this.disabled||(this._setBlurValue(),this.inherited(arguments))},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd},_onFocus:function(a){if(!this.disabled&&
!this.readOnly){if(this.selectOnClick&&"mouse"==a)this._selectOnClickHandle=this.connect(this.domNode,"onmouseup",function(){this.disconnect(this._selectOnClickHandle);this._selectOnClickHandle=null;this._isTextSelected()||b.selectInputText(this.textbox)}),this.defer(function(){if(this._selectOnClickHandle)this.disconnect(this._selectOnClickHandle),this._selectOnClickHandle=null},500);this.inherited(arguments);this._refreshState()}},reset:function(){this.textbox.value="";this.inherited(arguments)},
_setTextDirAttr:function(a){if(!this._created||this.textDir!=a)this._set("textDir",a),this.applyTextDir(this.focusNode,this.focusNode.value)}});b._setSelectionRange=c._setSelectionRange=function(a,b,c){a.setSelectionRange&&a.setSelectionRange(b,c)};b.selectInputText=c.selectInputText=function(a,c,d){a=k.byId(a);isNaN(c)&&(c=0);isNaN(d)&&(d=a.value?a.value.length:0);try{a.focus(),b._setSelectionRange(a,c,d)}catch(e){}};return b})},"dojo/dom":function(){define(["./sniff","./_base/window"],function(l,
m){if(7>=l("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(k){}var j={};j.byId=l("ie")?function(e,d){if("string"!=typeof e)return e;var c=d||m.doc,b=e&&c.getElementById(e);if(b&&(b.attributes.id.value==e||b.id==e))return b;c=c.all[e];if(!c||c.nodeName)c=[c];for(var a=0;b=c[a++];)if(b.attributes&&b.attributes.id&&b.attributes.id.value==e||b.id==e)return b}:function(e,d){return("string"==typeof e?(d||m.doc).getElementById(e):e)||null};j.isDescendant=function(e,d){try{e=j.byId(e);
for(d=j.byId(d);e;){if(e==d)return!0;e=e.parentNode}}catch(c){}return!1};l.add("css-user-select",function(e,d,c){if(!c)return!1;var e=c.style,d=["Khtml","O","ms","Moz","Webkit"],c=d.length,b="userSelect";do if("undefined"!==typeof e[b])return b;while(c--&&(b=d[c]+"UserSelect"));return!1});var f=l("css-user-select");j.setSelectable=f?function(e,d){j.byId(e).style[f]=d?"":"none"}:function(e,d){var e=j.byId(e),c=e.getElementsByTagName("*"),b=c.length;if(d)for(e.removeAttribute("unselectable");b--;)c[b].removeAttribute("unselectable");
else for(e.setAttribute("unselectable","on");b--;)c[b].setAttribute("unselectable","on")};return j})},"dijit/form/_ToggleButtonMixin":function(){define("dijit/form/_ToggleButtonMixin",["dojo/_base/declare","dojo/dom-attr"],function(l,m){return l("dijit.form._ToggleButtonMixin",null,{checked:!1,_aria_attr:"aria-pressed",_onClick:function(k){var j=this.checked;this._set("checked",!j);var f=this.inherited(arguments);this.set("checked",f?this.checked:j);return f},_setCheckedAttr:function(k,j){this._set("checked",
k);var f=this.focusNode||this.domNode;this._created&&m.get(f,"checked")!=!!k&&m.set(f,"checked",!!k);f.setAttribute(this._aria_attr,""+k);this._handleOnChange(k,j)},postCreate:function(){this.inherited(arguments);var k=this.focusNode||this.domNode;this.checked&&k.setAttribute("checked","checked")},reset:function(){this._hasBeenBlurred=!1;this.set("checked",this.params.checked||!1)}})})},"idx/resources":function(){define("idx/resources","dojo/_base/lang,idx/main,dojo/i18n,./string,./util,dojo/i18n!./nls/base".split(","),
function(l,m,k,j){var f=l.getObject("resources",!0,m);f._legacyScopeMap={"":"idx/",".":"idx/",app:"idx/app/","app._Launcher":"idx/app/_Launcher","app.A11yPrologue":"idx/app/A11yPrologue","app.WorkspaceType":"idx/app/WorkspaceType","app.WorkspaceTab":"idx/app/WorkspaceTab",dialogs:"idx/dialogs",form:"idx/form/","form.buttons":"idx/form/buttons",grid:"idx/grid/","grid.prop":"idx/grid/","grid.prop.PropertyGrid":"idx/grid/PropertyGrid","grid.prop.PropertyFormatter":"idx/grid/PropertyGrid",layout:"idx/layout/",
"layout.BorderContainer":"idx/layout/BorderContainer",widget:"idx/widget/","widget.ModalDialog":"idx/widget/ModalDialog","widget.TypeAhead":"idx/widget/TypeAhead","widget.HoverHelp":"idx/widget/HoverHelp","widget.EditController":"idx/widget/EditController"};f._defaultResources={dateFormatOptions:{formatLength:"medium",fullYear:!0,selector:"date"},timeFormatOptions:{formatLength:"medium",selector:"time"},dateTimeFormatOptions:{formatLength:"medium",fullYear:!0},decimalFormatOptions:{type:"decimal"},
integerFormatOptions:{type:"decimal",fractional:!1,round:0},percentFormatOptions:{type:"percent",fractional:!0,places:2},currencyFormatOptions:{type:"currency"},labelFieldSeparator:":"};f._localResources=[];f._currentResources=[];f._scopeResources=[];f._normalizeScope=function(e){return!e||0==e.length?"idx/":f._legacyScopeMap[e]?f._legacyScopeMap[e]:e};f._getBundle=function(e,d,c){var c=k.normalizeLocale(c),b=e+"."+d,a=f._currentResources[c];a||(a=[],f._currentResources[c]=a);var h=f._localResources[c];
h||(h=[],f._localResources[c]=h);var j=a[b];if(!j){var o=h[b];o||((o=k.getLocalization(e,d,c))||(o={}),h[b]=o);j={};l.mixin(j,o);a[b]=j}return j};f.clearLocalOverrides=function(e){e=k.normalizeLocale(e);f._currentResources[e]=null;f._scopeResources[e]=null};f.clearOverrides=function(){f._currentResources=[];f._scopeResources=[]};f.install=function(e,d,c){var c=k.normalizeLocale(c),d=f._normalizeScope(d),b=d.lastIndexOf("/"),a="",h="";b==d.length-1?(h="base",a=d.substr(0,d.length-1)):0<=b&&(h=d.substr(b+
1),a=d.substr(0,b));b=f._getBundle(a,h,c);l.mixin(b,e);f._clearResourcesCache(c,d)};f.getResources=function(e,d){var d=k.normalizeLocale(d),e=f._normalizeScope(e),c=f._scopeResources[d];c||(c=[],f._scopeResources[d]=c);var b=c[e];if(b)return b;for(var b={},a=e.split("/"),h=0,j="",o="",h=0;h<a.length;h++){var n="base";h<a.length-1?(j=j+o+a[h],o="."):n=a[h];if(n=f._getBundle(j,n,d))for(var s in n)b[s]=n[s]}return c[e]=b};f.getStrings=function(e,d){return f.getResources(e,d)};f._clearResourcesCache=
function(e,d){e=k.normalizeLocale(e);if(f._scopeResources[e])if(d){var c=f._scopeResources[e];for(field in c)j.startsWith(field,d)&&(c[field]=null)}else f._scopeResources[e]=null};f.get=function(e,d,c){for(var c=k.normalizeLocale(c),d=f._normalizeScope(d),d=d.split("/"),b=0,b=0;b<d.length;b++){for(var a=0==b?d[d.length-1]:"base",h="",j="",o=0==b?d.length-b-1:d.length-b,n=0;n<o;n++)h=h+j+d[n],j=".";if((a=f._getBundle(h,a,c))&&e in a)return a[e]}return e in f._defaultResources?f._defaultResources[e]:
null};f.getLabelFieldSeparator=function(e,d){return f.get("labelFieldSeparator",e,d)};f.getDateFormatOptions=function(e,d){return f.get("dateFormatOptions",e,d)};f.getTimeFormatOptions=function(e,d){return f.get("timeFormatOptions",e,d)};f.getDateTimeFormatOptions=function(e,d){return f.get("dateTimeFormatOptions",e,d)};f.getDecimalFormatOptions=function(e,d){return f.get("decimalFormatOptions",e,d)};f.getIntegerFormatOptions=function(e,d){return f.get("integerFormatOptions",e,d)};f.getPercentFormatOptions=
function(e,d){return f.get("percentFormatOptions",e,d)};f.getCurrencyFormatOptions=function(e,d){return f.get("currencyFormatOptions",e,d)};return f})},"deploy/widgets/componentTemplate/ComponentTemplateEditManager":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/on,dojo/dom-construct,js/webext/widgets/TwoPaneListManager,deploy/widgets/componentTemplate/EditComponentTemplate,deploy/widgets/property/PropValues,deploy/widgets/property/PropDefs".split(","),function(l,m,k,j,
f,e,d,c,b){return m([e],{postCreate:function(){this.inherited(arguments);this.showList();void 0!==appState.goBack.id&&this.selectEntryById(appState.goBack.id)},showList:function(){var a=this;a.addEntry({id:"basic",label:i18n("Basic Settings"),action:function(){a.addHeading(i18n("Basic Settings"));a.showBasicSettings()}});a.addEntry({id:"properties",label:i18n("Properties"),action:function(){a.addHeading(i18n("Properties"));a.showProperties()}});a.addEntry({id:"componentProperties",label:i18n("Component Property Definitions"),
action:function(){a.addHeading(i18n("Component Property Definitions"));a.showComponentProperties()}});a.addEntry({id:"environmentProperties",label:i18n("Environment Property Definitions"),action:function(){a.addHeading(i18n("Environment Property Definitions"));a.showEnvironmentProperties()}});a.addEntry({id:"resourceProperties",label:i18n("Resource Property Definitions"),action:function(){a.addHeading(i18n("Resource Property Definitions"));a.showResourceProperties()}})},addHeading:function(a){f.create("div",
{innerHTML:a,"class":"containerLabel",style:{padding:"10px"}},this.detailAttach)},addDescription:function(a){f.create("div",{innerHTML:a,style:{marginBottom:"10px"}},this.detailAttach)},showBasicSettings:function(){(new d({componentTemplate:appState.componentTemplate,readOnly:!appState.componentTemplate.security.write})).placeAt(this.detailAttach)},showProperties:function(){var a=appState.componentTemplate.version!==appState.componentTemplate.versionCount;this.addDescription(i18n("Set custom properties here. These will be available as standard component properties to any component using this template."));
(new c({propValues:appState.componentTemplate.propValues,propSheetPath:"componentTemplates/"+appState.componentTemplate.id+"/propSheet",refreshHash:"componentTemplate/"+appState.componentTemplate.id+"/-1/configuration/properties",readOnly:!appState.componentTemplate.security["Manage Properties"]||a,headers:{componentTemplateVersion:appState.componentTemplate.version}})).placeAt(this.detailAttach)},showEnvironmentProperties:function(){this._showPropSheetDefTable("envPropDefs",i18n("Define properties here to be given values on each environment the component is used in."),
"componentTemplates/"+appState.componentTemplate.id+"/envPropSheetDef","componentTemplate/"+appState.componentTemplate.id+"/-1/configuration/environmentProperties",this.detailAttach)},showResourceProperties:function(){this._showPropSheetDefTable("resPropDefs",i18n("Define properties here to be given values on each component resource."),"componentTemplates/"+appState.componentTemplate.id+"/resPropSheetDef","componentTemplate/"+appState.componentTemplate.id+"/-1/configuration/resourceProperties",this.detailAttach)},
_showPropSheetDefTable:function(a,c,d,e,f){var j=appState.componentTemplate.version!==appState.componentTemplate.versionCount,r=null;j&&(r=appState.componentTemplate[a]);this.addDescription(c);(new b({propDefs:r,propSheetDefPath:d,readOnly:!appState.componentTemplate.security["Manage Properties"]||j,refreshHash:e,headers:{componentTemplateVersion:appState.componentTemplate.version}})).placeAt(f)},showComponentProperties:function(){var a=appState.componentTemplate.version!==appState.componentTemplate.versionCount,
c=null,d=null;a?c=appState.componentTemplate.propDefs:d="componentTemplates/"+appState.componentTemplate.id+"/propSheetDef";this.addDescription(i18n("Define properties here to be given values on each component using this template."));(new b({propDefs:c,propSheetDefPath:d,readOnly:!appState.componentTemplate.security["Manage Properties"]||a,refreshHash:"componentTemplate/"+appState.componentTemplate.id+"/-1/configuration/componentProperties",headers:{componentTemplateVersion:appState.componentTemplate.version}})).placeAt(this.detailAttach)}})})},
"deploy/widgets/workflow/activity/DesiredInventoryActivity":function(){define(["dojo/_base/declare","dojo/on","deploy/widgets/workflow/activity/BaseActivity","js/webext/widgets/RestSelect"],function(l,m,k,j){return l("deploy.widgets.workflow.activity.DesiredInventoryActivity",[k],{postCreate:function(){this.inherited(arguments);if(!this.initialized)this.data.name=util.randomString(30),this.editProperties()},getLabel:function(){var f="";if(this.initialized){if(this.data.children&&1===this.data.children.length){var e=
this.data.children[0];"addDesiredInventory"===e.type?f+=i18n("Inventory: Add Versions"):"removeDesiredInventory"===e.type&&("uninstallAllVersionsIterator"===this.data.type?"ALL_EXISTING"===this.data.selectionType?f+=i18n("Inventory: Remove All Existing"):"SELECTED"===this.data.selectionType&&(f+=i18n("Inventory: Remove Selected")):"uninstallVersionDiff"===this.data.type&&(f+=i18n("Inventory: Remove Undesired")));f+="\n"+i18n("%s on %s",e.status,e.component.name)}}else f+=i18n("Component Inventory Update");
return f},editProperties:function(f){var e=this,d,c=e.createPropertyDialog(),b=e.createPropertyForm({dialog:c,onSubmit:function(a){f&&f();e.initialized=!0;e.data={name:e.data.name};e.data.component=d.get("item");e.data.componentName=e.data.component.name;if(a.tagId&&""!==a.tagId)e.data.tagId=a.tagId;else if(e.data.tagId)e.data.tagId=void 0;if("addDesiredInventory"===a.type)e.data.type="allVersionsIterator",e.data.children=[{type:"addDesiredInventory",name:util.randomString(30),status:a.status,componentName:e.data.component.name,
component:d.get("item")}];else if("removeDesiredInventory"===a.type){e.data.status=a.status;if("uninstallAll"===a.iteratorType)e.data.type="uninstallAllVersionsIterator",e.data.selectionType="ALL_EXISTING";else if("uninstallSelected"===a.iteratorType)e.data.type="uninstallAllVersionsIterator",e.data.selectionType="SELECTED";else if("rollback"===a.iteratorType)e.data.type="uninstallVersionDiff",e.data.selectionType="UNDESIRED";e.data.children=[{type:"removeDesiredInventory",name:util.randomString(30),
status:a.status,componentName:e.data.component.name,component:d.get("item")}]}e.updateLabel();c.hide();b.destroy();c.destroy()},readOnly:e.readOnly});e.selectedComponent=e.data.component;d=b.addField({name:"component",label:i18n("Component"),required:!0,type:"ApplicationComponentSelect",applicationId:e.graphEditor.application.id,value:!e.data.component?void 0:e.data.component.id,disabled:e.readOnly,onSetItem:function(a,b){e.selectedComponent=b}}).widget;b.addField({name:"tagId",label:i18n("Limit to Resource Tag"),
type:"TagDropDown",objectType:"Resource",value:e.data.tagId,readOnly:e.readOnly});var a={};e.data.children&&1===e.data.children.length&&(a=e.data.children[0]);b.addField({name:"type",label:i18n("Action"),type:"Select",required:!0,value:a.type,allowedValues:[{label:i18n("Choose an Action"),value:""},{label:i18n("Add Desired Inventory"),value:"addDesiredInventory"},{label:i18n("Remove Desired Inventory"),value:"removeDesiredInventory"}],onChange:function(a){e.showTypeFields(a,b)}});a.type&&e.showTypeFields(a.type,
b);b.placeAt(c.containerNode);c.show()},showTypeFields:function(f,e){var d={};this.data.children&&1===this.data.children.length&&(d=this.data.children[0]);e.removeField("iteratorType");e.removeField("status");if("removeDesiredInventory"===f){var c;"uninstallAllVersionsIterator"===d.type&&"ALL_EXISTING"===d.selectionType?c="uninstallAll":"uninstallAllVersionsIterator"===d.type&&"SELECTED"===d.selectionType?c="uninstallSelected":"uninstallVersionDiff"===d.type&&"UNDESIRED"===d.selectionType&&(c="rollback");
e.addField({name:"iteratorType",label:i18n("For Which Versions?"),type:"Select",required:!0,value:c,allowedValues:[{label:i18n("All Existing (Complete Uninstall)"),value:"uninstallAll"},{label:i18n("All Selected (Manual Uninstall)"),value:"uninstallSelected"},{label:i18n("All Not in Snapshot (Rollback)"),value:"rollback"}]})}if("addDesiredInventory"===f||"removeDesiredInventory"===f)d=new j({restUrl:bootstrap.restUrl+"deploy/status/inventoryStatuses",getValue:function(b){return b.name},getStyle:function(b){return{backgroundColor:b.color}},
value:d.status,allowNone:!1}),e.addField({name:"status",label:i18n("Status"),required:!0,widget:d})}})})},"dijit/form/MappedTextBox":function(){define("dijit/form/MappedTextBox",["dojo/_base/declare","dojo/dom-construct","./ValidationTextBox"],function(l,m,k){return l("dijit.form.MappedTextBox",k,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting=""},_setNameAttr:null,serialize:function(j){return j.toString?j.toString():""},toString:function(){var j=this.filter(this.get("value"));
return null!=j?"string"==typeof j?j:this.serialize(j,this.constraints):""},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.valueNode=m.place("<input type='hidden'"+(this.name?' name="'+this.name.replace(/"/g,"&quot;")+'"':"")+"/>",this.textbox,"after")},reset:function(){this.valueNode.value="";this.inherited(arguments)}})})},"deploy/widgets/application/ApplicationEnvironmentList":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dijit/form/CheckBox,dijit/registry,dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dojo/_base/window,dojo/_base/xhr,dojo/dnd/Source,dojo/dom-class,dojo/dom-construct,dojo/dom-style,dojo/dom-attr,dojo/json,dojo/on,dojo/mouse,deploy/widgets/Formatters,deploy/widgets/environment/EnvironmentSummary,js/util/blocker/_BlockerMixin,js/util/infiniteScroll/_InfiniteScrollJsonRestMixin,js/webext/widgets/color/Color,deploy/widgets/environment/EditEnvironmentWizard,deploy/widgets/environment/EditEnvironmentWizardPane,deploy/widgets/environment/CreateEnvironmentDialog".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u,x,v,y,A,z,B,D){return d([m,l,v,y],{templateString:'<div class="applicationEnvironmentList application-environment-list"><div class="listTopButtons" data-dojo-attach-point="buttonAttach"><div class="environment-list-help-text"><span class="description-text" data-dojo-attach-point="descriptionAttach"></span><span class="description-text number-of-environments" data-dojo-attach-point="numberAttach"></span></div><div data-dojo-attach-point="savedAttach" class="hide-notification"></div><div data-dojo-attach-point="savedWarningAttach" class="hide-notification"></div></div><div class="application-environment-list-filter" data-dojo-attach-point="filterAttach"><div class="environments-expand-collapse-all"><a class="linkPointer" data-dojo-attach-point="expandAllLink">'+
i18n("Expand All")+'</a><a class="linkPointer" data-dojo-attach-point="collapseAllLink">'+i18n("Collapse All")+'</a></div></div><div data-dojo-attach-point="dndAttach" class="environment-list"></div><div data-dojo-attach-point="activeBoxAttach" style="margin: 3px;"></div><div data-dojo-attach-point="loadingMoreAttachPoint"></div></div>',postCreate:function(){this.inherited(arguments);var a=this;this.savingCount=0;this.showInactive=!1;this.environmentSummaries=[];config.data.systemConfiguration.enableInactiveLinks&&
((new j({checked:!1,value:"true",onChange:function(b){a.showInactive=b;a.showEnvironments()}})).placeAt(this.activeBoxAttach),o.create("div",{innerHTML:i18n("Show Inactive Environments"),"class":"inlineBlock",style:{position:"relative",top:"2px",left:"2px"}},this.activeBoxAttach));this.setupScroll({query:{filterFields:["application.id"],"filterType_application.id":"eq","filterValue_application.id":this.application.id,"filterClass_application.id":"UUID",outputType:["BASIC","SECURITY","LINKED"],orderField:"order"},
url:bootstrap.restUrl+"deploy/environment",scrollNode:a.dndAttach,bottomOffset:200,noItemsLabel:i18n("No Environments Found!")});this.showAddButton();this._postCreate()},_postCreate:function(){var a=this;this.showEnvironments();this.buildFilter();t(this.expandAllLink,"click",function(){a.expandCollapseAllEnvironments(!0)});t(this.collapseAllLink,"click",function(){a.expandCollapseAllEnvironments()});t(this.savedAttach,w.enter,function(){q.add(a.savedAttach,"hide-notification")});t(this.savedWarningAttach,
w.enter,function(){q.add(a.savedWarningAttach,"hide-notification")});s.set(this.descriptionAttach,"innerHTML",i18n("Drag environments by their names to re-order them."))},showAddButton:function(){var a=this;if(a.application.security["Manage Environments"]){var b=new k({label:i18n("Create Environment"),showTitle:!1,onClick:function(){a.showNewEnvironmentDialog()}});q.add(b.domNode,"idxButtonSpecial inlineBlock");b.placeAt(this.buttonAttach,"first");b=o.create("div",{className:"general-icon add-item-icon linkPointer",
title:i18n("Create Environment")},a.filterAttach);this.own(t(b,"click",function(){a.showNewEnvironmentDialog()}))}},showEnvironments:function(){this.resetIndex();this.clearList();this.environmentSummaries=[];this.environmentIds=[];this.block();this.loadMoreItems();this.unblock()},loadCompliancies:function(){var b=this;this.environmentIds&&a.post({url:bootstrap.restUrl+"deploy/environment/compliancies",postData:r.stringify({environmentIds:b.environmentIds}),headers:{"Content-Type":"application/json"},
handleAs:"json",load:function(a){e.forEach(b.environmentSummaries,function(c){if(c.environment&&c.environment.id){var d=c.environment.id;a[d]&&b._loadCompliancyForEnvironment(c,a[d])}})}})},_loadCompliancyForEnvironment:function(a,b){if(a.compliancyAttach){o.empty(a.compliancyAttach);var c=b.desiredCount,d=b.correctCount;if(0<c){o.create("div",{className:"successMeter",style:{width:100*(d/c)+"%"}},a.compliancyAttach);o.create("div",{className:"failMeter failed-state-color",style:{width:100-100*(d/
c)+"%"}},a.compliancyAttach);var h=o.create("div",{className:"compliancy-label"},a.latestSnapshotAttach,"before");o.create("div",{innerHTML:i18n("Compliancy")},h);o.create("div",{innerHTML:i18n("%s / %s",d,c)},h)}else h=A.getColorOrConvert(a.environment.color),!h.standard&&h.fallback&&(h=A.getColor(h.fallback)),h=h.value,a.compliancyAttach&&n.set(a.compliancyBackgroundAttach,"backgroundColor",h),o.create("span",{innerHTML:i18n("Compliancy: %s / %s",d,c)},a.compliancyAttach)}},onLoadMoreItems:function(a,
b){this._createEnvironmentSummaries(a);this.environmentSummaries&&this.domNode&&n.set(this.domNode,"minHeight",38*this.environmentSummaries.length+140+"px");this.filterTextBox&&this.filterTextBox.domNode&&q.remove(this.filterTextBox.domNode,"dijitTextBoxError");this.numberAttach&&s.set(this.numberAttach,"innerHTML",1===b?i18n("%s Environment",b):i18n("%s Environments",b));this.loadCompliancies();this.environmentIds=[]},onNoItemsFound:function(){this.filterTextBox&&""!==this.filterTextBox.get("value")&&
q.add(this.filterTextBox.domNode,"dijitTextBoxError")},clearList:function(){e.forEach(this.environmentSummaries,function(a){a.destroy()});this.environmentSummaries=[];this.environmentIds=[];this.notLoadingMore=!0},expandCollapseAllEnvironments:function(a){e.forEach(this.environmentSummaries,function(b){a?setTimeout(function(){b.expandEnvironment()},500):b.collapseEnvironment()})},_createEnvironmentSummaries:function(c){var d=this;e.forEach(c,function(a){var b=d.createEnvironmentSummary(a);d.environmentSummaries.push(b);
d.environmentIds.push(a.id);q.add(b.domNode,"initial-hide-environment");setTimeout(function(){b&&b.domNode&&q.remove(b.domNode,"initial-hide-environment")},225)});d.dndContainer?d.dndContainer.sync():(d.dndContainer=new h(d.dndAttach,{withHandles:!0,copyState:function(){return!1},onSelectStart:function(){}}),d.dndContainer.oldOnDrop=d.dndContainer.onDndDrop,d.dndContainer.onDndDrop=function(c,h,n,o){if(d.dndContainer===c&&d.dndContainer===o){this.oldOnDrop(c,h,n,o);b.body()&&q.remove(b.body(),"move-environment");
var j=[];e.forEach(this.getAllNodes(),function(a){a=f.byNode(a);j.push(a.environment.id)});!d._dontSaveOrder&&!d.snapshot?a.put({url:bootstrap.restUrl+"deploy/application/"+d.application.id+"/orderEnvironments",putData:r.stringify(j),handleAs:"json",load:function(){d.showSaved()}}):d.showSaved(!0)}})},createEnvironmentSummary:function(a){var b=this,c=new x({autoExpandInventory:b.autoExpandInventory,environment:a,application:b.application,draggable:!0,showDelete:!0,onSetActive:function(){b.showEnvironments()},
onDelete:function(){b.showEnvironments()},onCopy:function(){b.showEnvironments()},onEdit:function(){b.showEnvironments()}});b.dndAttach&&c.placeAt(b.dndAttach);o.create("span",{innerHTML:i18n("Loading Compliancy..."),style:{color:a.color}},c.compliancyAttach);return c},buildFilter:function(){var a=this,b="",d=function(h,e){h&&(b=h.get("value"),setTimeout(function(){if(h&&b===h.get("value")){var f=null;if(e&&e.query&&""!==b)f=e.query,c.mixin(f,{outputType:["BASIC","SECURITY","LINKED"],orderField:"order",
"filterType_application.id":"eq","filterValue_application.id":a.application.id,"filterClass_application.id":"UUID",filterType_name:"like",filterClass_name:"String",filterValue_name:b});a.searchItem(b,{searchAttr:e?e.searchAttr:"name",query:f});a._dontSaveOrder=""===b?!1:!0}else d(h,e)},500))};this.filterTextBox=this.createFilter({type:"TEXT",placeHolder:i18n("Search by Name"),className:"environment-list-search-box environment-list-name-search-box inline-block",style:{},onChange:function(b){""!==b&&
d(a.filterTextBox,{query:{filterFields:["application.id","name"]}})}});o.place(this.filterTextBox.domNode,this.filterAttach);t(this.filterTextBox,"keyUp",function(){d(a.filterTextBox,{query:{filterFields:["application.id","name"]}})});o.create("span",{innerHTML:i18n("or")},this.filterAttach);this.filterBlueprintSelect=this.createFilter({type:"TableFilterSelect",allowNone:!0,searchAttr:"name",className:"environment-list-search-box inline-block",placeHolder:i18n("Search by Blueprint"),url:bootstrap.restUrl+
"deploy/application/"+a.application.id+"/blueprints/all",formatDropDownLabel:u.environmentBlueprintDropDownFormatter,onChange:function(b,c){var h={},h=c&&c.integrationProviderId?{filterFields:["application.id","externalEnvironment.externalBlueprintName"],"filterType_externalEnvironment.externalBlueprintName":"like","filterValue_externalEnvironment.externalBlueprintName":c?c.name:"","filterClass_externalEnvironment.externalBlueprintName":"String",outputType:["BASIC","SECURITY","LINKED"],orderField:"order"}:
{filterFields:["application.id","blueprint.name"],"filterType_blueprint.name":"like","filterValue_blueprint.name":c?c.name:"","filterClass_blueprint.name":"String",outputType:["BASIC","SECURITY","LINKED"],orderField:"order"};d(a.filterBlueprintSelect,{query:h})},style:{}});o.place(this.filterBlueprintSelect.domNode,this.filterAttach);t(this.filterTextBox,"focus",function(){a.filterBlueprintSelect&&a.filterBlueprintSelect.dropDown.set("value","",void 0,void 0,"")});t(this.filterBlueprintSelect,"focus",
function(){a.filterTextBox&&""!==a.filterTextBox.get("value")&&(a.filterTextBox.set("value",""),d(a.filterTextBox,"name"))});this.onHitTop(this.dndAttach,function(){q.add(a.domNode,"fixed-top")},function(){q.remove(a.domNode,"fixed-top")},60)},showSaved:function(a){var b=this,c=a?b.savedWarningAttach:b.savedAttach;if(b.snapshot)c=b.savedWarningAttach;if(!this._saveMessage)this._saveMessage=o.create("div",{className:"saved-notification",innerHTML:'<div class="inline-block general-icon check-icon-large"></div>'+
i18n("Environment order saved.")},this.savedAttach),a=b.snapshot?i18n("Environment order is only saved on the Environments page!"):i18n("Environment order is only saved in full list view!"),o.create("div",{className:"saved-notification notification-warning",innerHTML:'<div class="inline-block general-icon warning-icon-large"></div>'+a},this.savedWarningAttach);this.savingCount++;q.remove(c,"hide-notification");setTimeout(function(){b.savingCount--;0<b.savingCount?b.savingCount--:q.add(c,"hide-notification")},
3E3)},destroy:function(){this.inherited(arguments);this.dndContainer&&this.dndContainer.destroy()},showNewEnvironmentDialog:function(){var a=new D({title:i18n("Create Environment"),closable:!0});a.show();var b=(new z({doneButtonLabel:i18n("Save"),hideDisabled:!0,cancelFunction:function(){a.hide();a.destroy()},style:"width: 650px;"})).placeAt(a.containerNode);a.wizard=b;(new B({dialog:a,application:this.application})).placeAt(b);b.startup()}})})},"deploy/widgets/environment/EditLandscaperEnvironmentWizardPane":function(){define(["dojo/_base/declare",
"dojox/widget/WizardPane","deploy/widgets/environment/EditLandscaperBlueprintProperties","dojo/dom-style"],function(l,m,k,j){return l([m],{postCreate:function(){this.inherited(arguments);var f=this;this.page=new k({environmentData:this.environmentData,dialog:this.dialog,blueprint:this.blueprint,callback:function(){f.dialog.hide();f.dialog.destroy();f.application&&navBar.setHash("#application/"+f.application.id,!1,!0)}});this.attachDoneFunction();this.addChild(this.page,0)},_doneFunction:function(){this.page.submitForm()},
attachDoneFunction:function(){this.doneFunction=this._doneFunction},detachDoneFunction:function(){this.doneFunction=null},getData:function(){return this.page.form.getData()},setData:function(f){this.page.environmentData=f},_onShow:function(){this.inherited(arguments);this.refreshWizardIcons()},refreshWizardIcons:function(){j.set(this.dialog.wizardIconNode1,"display","none");j.set(this.dialog.wizardIconNode2,"display","inline")}})})},"deploy/widgets/notification/NotificationSchemeEntries":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/on,deploy/widgets/notification/EditNotificationEntry,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/Table".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q){return j("deploy.widgets.notification.NotificationSchemeEntries",[m,l],{templateString:'<div class="notificationSchemeList"><div class="listTopButtons" data-dojo-attach-point="buttonAttach"></div><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var a=this,b=bootstrap.restUrl+"notification/notificationScheme/"+this.notificationScheme.id+"/entries",c=[{name:i18n("Type"),formatter:this.typeFormatter},{name:i18n("Role"),
formatter:this.roleFormatter},{name:i18n("Template"),field:"templateName"},{name:i18n("Actions"),formatter:this.actionsFormatter,parentWidget:this}];this.grid=new q({url:b,serverSideProcessing:!1,columns:c,tableConfigKey:"notificationEntryList",noDataMessage:i18n("This scheme has no notification entries.")});this.grid.placeAt(this.gridAttach);b=new k({label:i18n("Add Notification Entry"),showTitle:!1,onClick:function(){a.showNewEntryDialog()}});e.add(b.domNode,"idxButtonSpecial");b.placeAt(this.buttonAttach)},
destroy:function(){this.inherited(arguments);this.grid.destroy()},typeFormatter:function(a){var b="";switch(a.type){case "PROCESS_SUCCESS":b=i18n("Process Success");break;case "PROCESS_FAILURE":b=i18n("Process Failure");break;case "PROCESS_STARTED":b=i18n("Process Started");break;case "APPROVAL_COMPLETED":b=i18n("Approval Completed");break;case "APPROVAL_FAILED":b=i18n("Approval Failed")}return b},actionsFormatter:function(a){var b=this.parentWidget,h=document.createElement("div"),e=d.create("a",
{"class":"actionsLink linkPointer",innerHTML:i18n("Edit")},h);c(e,"click",function(){b.showEditEntryDialog(a)});e=d.create("a",{"class":"actionsLink linkPointer",innerHTML:i18n("Delete")},h);c(e,"click",function(){b.confirmDeletion(a)});return h},roleFormatter:function(a){var b=a.resourceTypeName,a=a.roleName;b||(b=i18n("Unknown"));a||(a=i18n("Unknown"));return i18n("%s / %s",b,a)},showNewEntryDialog:function(){var c=this,d=new a({title:i18n("Add Notification Entry"),closable:!0,draggable:!0});(new b({notificationScheme:c.notificationScheme,
roleOptions:c.roleOptions,callback:function(){d.hide();d.destroy();c.grid.refresh()}})).placeAt(d.containerNode);d.show()},showEditEntryDialog:function(c){var d=this,h=new a({title:i18n("Edit Notification Entry"),closable:!0,draggable:!0});(new b({notificationEntry:c,roleOptions:d.roleOptions,callback:function(){h.hide();h.destroy();d.grid.refresh()}})).placeAt(h.containerNode);h.show()},confirmDeletion:function(a){var b=this;new h({message:i18n("Are you sure you want to delete this notification entry?"),
action:function(){b.grid.block();f.del({url:bootstrap.restUrl+"notification/notificationEntry/"+a.id,handleAs:"json",load:function(){b.grid.unblock();b.grid.refresh()}})}})}})})},"deploy/widgets/navigation/Calendar":function(){define(["dojo/_base/kernel","dojox/html/entities"],function(l,m){l.provide("deploy.widgets.navigation.Calendar");config.data.tabSets.push({id:"calendarEntry",hashPattern:["calendarEntry","tab"],breadcrumbs:["home","topLevelTab","application"],selectedTopLevelTab:"calendar",
getDetailTitle:function(){return i18n("Scheduled Deployment Record")},getDetailFields:function(){var k=[{label:i18n("Application"),value:'<a href="#application/'+appState.application.id+'">'+m.encode(appState.application.name)+"</a>"},{label:i18n("Process"),value:'<a href="#applicationProcess/'+appState.applicationProcess.id+'">'+m.encode(appState.applicationProcess.name)+"</a>"}];appState.snapshot&&k.push({label:i18n("Snapshot"),value:'<a href="#snapshot/'+appState.snapshot.id+'">'+m.encode(appState.snapshot.name)+
"</a>"});k.push({label:i18n("Environment"),value:'<a href="#environment/'+appState.environment.id+'">'+m.encode(appState.environment.name)+"</a>"});k.push({label:i18n("Scheduled For"),value:util.dateFormatShort(appState.calendarEntry.scheduledDate)});return k},stateCalls:[{targetAppStateEntry:"calendarEntry",getUrl:function(k){return bootstrap.restUrl+"calendar/entry/"+k.calendarEntry},postGet:function(k,j){j.application=k.application;j.applicationProcess=k.applicationProcess;j.snapshot=k.snapshot;
j.environment=k.environment}}],defaultTab:"main",tabs:[{id:"main",label:i18n("Main"),view:"deploy/views/calendar/calendarEntryMain"},{id:"edit",label:i18n("Edit"),view:"deploy/views/calendar/editEntry"}]})})},"deploy/widgets/patterns/PatternPropertySelectionDialog":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dojo/_base/declare,dojo/dom-construct,dojo/dom-class,dojo/on,dojo/aspect,js/webext/widgets/Dialog,deploy/widgets/environment/EditLandscaperBlueprintProperties".split(","),
function(l,m,k,j,f,e,d,c,b,a){return j("deploy.widgets.patterns.PatternPropertySelectionDialog",[m,l],{templateString:'<div class="versionSelector">  <div data-dojo-attach-point="textAttach">    <div data-dojo-attach-point="selectedAttach" class="inlineBlock"></div>     (<div data-dojo-attach-point="linkAttach" class="linkPointer inlineBlock"></div>)  </div>  <div data-dojo-attach-point="dialogAttach"></div></div>',postCreate:function(){var c=this;this.linkAttach.innerHTML=i18n("Set Properties");
this.propertiesDialog=new b({title:i18n("Blueprint Properties"),closable:!0,draggable:!0});e.add(this.propertiesDialog.domNode,"property-selection-dialog");this.dialogDiv=f.create("div",{},this.propertiesDialog.containerNode);var j=f.create("div",{"class":"underField",style:"margin-top: 15px;"});this.propertySelection=new a({blueprint:c.applicationProcess.blueprint,environment:c.environment,dialog:c.propertiesDialog});var o=new k({label:i18n("OK"),onClick:function(){c.propertiesDialog.hide()}});e.add(o.domNode,
"idxButtonSpecial");o.placeAt(j);this.propertySelection.placeAt(this.dialogDiv);f.place(j,this.dialogDiv);d(this.linkAttach,"click",function(){c.showDialog()})},showDialog:function(){this.propertiesDialog.show()},_getValueAttr:function(){return this.propertySelection?this.propertySelection.getData():null},validate:function(){var a=[];this.propertySelection&&(a=this.propertySelection.validate());return a},validateCloudProperties:function(a){return this.propertySelection.validateCloudProperties(a)},
destroy:function(){this.propertiesDialog&&this.propertiesDialog.destroyRecursive();this.inherited(arguments)}})})},"deploy/widgets/security/resourceRole/ResourceRoleList":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dojo/_base/declare,dojo/_base/xhr,dojo/aspect,dojo/dom-class,dojo/dom-construct,dojo/on,deploy/widgets/security/resourceRole/EditResourceRole,js/webext/widgets/Alert,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/table/TreeTable".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n){return j("deploy.widgets.security.resourceRole.ResourceRoleList",[m,l],{templateString:'<div class="resourceRoleList"><div data-dojo-attach-point="buttonAttach"></div><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var a=this,b=bootstrap.baseUrl+"security/resourceType/"+a.resourceType.name+"/resourceRoles",c=[{name:i18n("Type"),field:"name",orderField:"name",filterField:"name",filterType:"text",getRawValue:function(a){return a.name}},
{name:i18n("Description"),field:"description",orderField:"description",filterField:"description",filterType:"text",getRawValue:function(a){return a.description}},{name:i18n("Actions"),formatter:this.actionsFormatter,parentWidget:this}],h=a.resourceType.name;a._hasSplicedIn=!1;a.grid=new n({url:b,processXhrResponse:function(b){if(!a._hasSplicedIn)b.splice(0,0,{name:i18n("Standard "+h),isStandard:!0}),a._hasSplicedIn=!0},serverSideProcessing:!1,columns:c,orderField:"name",tableConfigKey:"resourceRoleList",
hideExpandCollapse:!0,hidePagination:!1});a.grid.placeAt(a.gridAttach);e.before(a.grid,"refresh",function(){a._hasSplicedIn=!1});b=new k({label:i18n("Create Type"),showTitle:!1,onClick:function(){a.showEditResourceRoleDialog()}});d.add(b.domNode,"idxButtonSpecial");b.placeAt(this.buttonAttach)},destroy:function(){this.inherited(arguments);this.grid.destroy()},actionsFormatter:function(a){var d=this.parentWidget,h=document.createElement("div");if(!a.isStandard){var e=c.create("a",{innerHTML:i18n("Edit"),
"class":"actionsLink linkPointer"},h);b(e,"click",function(){d.showEditResourceRoleDialog(a)});e=c.create("a",{innerHTML:i18n("Delete"),"class":"actionsLink linkPointer"},h);b(e,"click",function(){d.confirmDeletion(a)})}return h},confirmDeletion:function(a){var b=this;new o({message:i18n("Are you sure you want to delete type '%s'?",a.name.escape()),action:function(){f.del({url:bootstrap.baseUrl+"security/resourceRole/"+a.id,load:function(){b.grid.refresh()},error:function(a){new h({message:util.escape(a.responseText)})}})}})},
showEditResourceRoleDialog:function(b){var c=this,d=new q({title:i18n("Create Type"),closable:!0,draggable:!0});(new a({resourceRole:b,resourceType:c.resourceType,callback:function(a){d.hide();d.destroy();a&&c.grid.refresh()}})).placeAt(d.containerNode);d.show()}})})},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(l,m,k){l._name="browser";m.mixin(l,{isBrowser:!0,isFF:k("ff"),isIE:k("ie"),isKhtml:k("khtml"),isWebKit:k("webkit"),isMozilla:k("mozilla"),isMoz:k("mozilla"),
isOpera:k("opera"),isSafari:k("safari"),isChrome:k("chrome"),isMac:k("mac"),isIos:k("ios"),isAndroid:k("android"),isWii:k("wii"),isQuirks:k("quirks"),isAir:k("air")});l.locale=l.locale||(k("ie")?navigator.userLanguage:navigator.language).toLowerCase();return k})},"deploy/widgets/security/authentication/AuthenticationRealmUsers":function(){define("dijit/_Widget,dijit/_TemplatedMixin,dijit/form/Button,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/on,deploy/widgets/security/EditUser,deploy/widgets/security/SetUserPassword,js/webext/widgets/Alert,js/webext/widgets/ColumnForm,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/Table".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s){return j([l,m],{templateString:' <div class="userList"><div data-dojo-attach-point="buttonAttach"></div><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var a=this,b=bootstrap.baseUrl+"security/authenticationRealm/"+this.authenticationRealm.id+"/users",c=[{name:i18n("User"),field:"name",orderField:"name",filterField:"name",filterType:"text",getRawValue:function(a){return a.name}},{name:i18n("Name"),field:"actualName",
orderField:"actualName",filterField:"actualName",filterType:"text",getRawValue:function(a){return a.actualName}},{name:i18n("Email"),field:"email",orderField:"email",filterField:"email",filterType:"text",getRawValue:function(a){return a.email}},{name:i18n("Actions"),formatter:this.actionsFormatter,parentWidget:this}];this.grid=new s({url:b,serverSideProcessing:!1,columns:c,tableConfigKey:"authenticationRealmUserList",noDataMessage:i18n("No users have been created yet.")});this.grid.placeAt(this.gridAttach);
this.authenticationRealm.readOnly?(b=new k({label:i18n("Import User"),showTitle:!1,onClick:function(){a.showImportUserDialog()}}),e.add(b.domNode,"idxButtonSpecial"),b.placeAt(this.buttonAttach),(new k({label:i18n("Update Users"),showTitle:!1,onClick:function(){a.showUpdateUsersDialog()}})).placeAt(this.buttonAttach)):(b=new k({label:i18n("Create User"),showTitle:!1,onClick:function(){a.showEditUserDialog()}}),e.add(b.domNode,"idxButtonSpecial"),b.placeAt(this.buttonAttach))},destroy:function(){this.inherited(arguments);
this.grid.destroy()},actionsFormatter:function(a){var b=this.parentWidget,h=document.createElement("div"),e=d.create("a",{className:"actionsLink linkPointer",innerHTML:i18n("Edit")},h);c(e,"click",function(){b.showEditUserDialog(a)});b.authenticationRealm.readOnly||(e=d.create("a",{className:"actionsLink linkPointer",innerHTML:i18n("Reset Password")},h),c(e,"click",function(){b.showSetUserPasswordDialog(a)}));"20000000000000000000000001000000"!==a.id&&(e=d.create("a",{className:"actionsLink linkPointer",
innerHTML:i18n("Remove")},h),c(e,"click",function(){b.confirmRemoval(a)}));a.isLockedOut&&(e=d.create("a",{innerHTML:i18n("Unlock User"),"class":"linkPointer actionsLink"},h),c(e,"click",function(){b.confirmUnlock(a)}));return h},confirmUnlock:function(a){var b=this;new n({message:i18n("Are you sure you want to unlock user '%s'?",a.name.escape()),action:function(){f.put({url:bootstrap.baseUrl+"security/user/"+a.id+"/unlock",load:function(){b.grid.refresh()},error:function(a){new h({message:util.escape(a.responseText)})}})}})},
confirmRemoval:function(a){var b=this,c='<div style="width: 500px;">'+i18n("Are you sure you want to delete user '%s'? This will remove the user from any groups and roles. This user may be re-added if this authentication realm is configured to create users automatically.",a.name.escape())+"</div>";new n({message:c,forceRawMessages:!0,action:function(){f.del({url:bootstrap.baseUrl+"security/user/"+a.id,load:function(){b.grid.refresh()},error:function(a){new h({message:util.escape(a.responseText)})}})}})},
showSetUserPasswordDialog:function(b){var c=new o({title:i18n("Reset User Password: %s",util.escape(b.name)),closable:!0,draggable:!0});(new a({user:b,callback:function(){c.hide();c.destroy()}})).placeAt(c.containerNode);c.show()},showEditUserDialog:function(a){var c=this,d=i18n("Create User");a&&(d=i18n("Edit User: %s",util.escape(a.name)));var h=new o({title:d,closable:!0,draggable:!0});(new b({realmId:c.authenticationRealm.id,readOnlyRealm:c.authenticationRealm.readOnly,user:a,importOnly:c.authenticationRealm.readOnly,
callback:function(a){h.hide();h.destroy();a&&c.grid.refresh()}})).placeAt(h.containerNode);h.show()},showImportUserDialog:function(){var a=this,b=new o({title:i18n("Import Users"),closable:!0,draggable:!0}),c=new q({onSubmit:function(c){f.put({url:bootstrap.baseUrl+"security/authenticationRealm/"+a.authenticationRealm.id+"/importUsers/"+util.encodeIgnoringSlash(c.name),handleAs:"json",load:function(c){new h({title:i18n("User Import"),message:i18n("Imported %s users using pattern %s",c.importedUsers.length,
c.namePattern)});b.hide();b.destroy();a.grid.refresh()},error:function(a){new h({message:i18n("Error importing users: %s",util.escape(a.responseText))});b.hide();b.destroy()},saveLabel:i18n("Import")})},onCancel:function(){b.hide();b.destroy()}});c.addField({name:"nameLabel",label:"",type:"Label",value:i18n("Enter a name or name pattern to search for. * can be used as a wildcard. (* alone will import all users)")});c.addField({name:"name",type:"Text",label:i18n("Username or Pattern"),required:!0});
c.placeAt(b.containerNode);b.show()},showUpdateUsersDialog:function(){var a=this,b=i18n("Update All Users"),c=new o({title:b,closable:!0,draggable:!0}),b=new q({submitUrl:bootstrap.baseUrl+"security/authenticationRealm/"+a.authenticationRealm.id+"/updateUsers",submitMethod:"PUT",addData:function(b){b.authenticationRealmId=a.authenticationRealm.id},saveLabel:i18n("Submit"),postSubmit:function(){c.hide();c.destroy();a.grid.refresh()},onCancel:function(){c.hide();c.destroy()}});b.addField({name:"label",
label:i18n("Confirm"),type:"Label",value:i18n("Are you sure you want to update all users from this realm?")});b.placeAt(c.containerNode);c.show()}})})},"deploy/widgets/configuration/Changelog":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/dom-geometry,dojo/dom-construct,dojo/on,js/webext/widgets/Dialog,js/webext/widgets/table/TreeTable".split(","),function(l,m,k,j,f,e,d,c,b,a){return j("deploy.widgets.configuration.Changelog",[m,l],
{templateString:'<div class="changelog"><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var b=this,j=[{name:i18n("Commit ID"),field:"commitId",orderField:"commitId",getRawValue:function(a){return a.commitId}},{name:i18n("User"),field:"committer",orderField:"committer",filterField:"committer",filterType:"text",getRawValue:function(a){return a.committer}},{name:i18n("Date"),field:"commitTime",formatter:util.tableDateFormatter,orderField:"date",
getRawValue:function(a){return new Date(a.commitTime)}},{name:i18n("Changes"),formatter:function(a){var n=d.create("div");k.forEach(a.friendlyPathsModified,function(j){var r=j.path;j.persistent&&"PropSheet"===j.persistent.className&&(r=i18n(r));r=d.create("div",{innerHTML:i18n("%s v.%s",util.escape(r),j.version)},n);j.persistent&&"PropSheet"===j.persistent.className&&(r=d.create("a",{innerHTML:i18n("(Changes)"),style:e.isBodyLtr()?{marginLeft:"5px"}:{marginRight:"5px"},"class":"linkPointer actionsLink"},
r),c(r,"click",function(){f.get({url:bootstrap.baseUrl+"property/propSheet/"+util.vc.encodeVersionedPath(j.persistent.path+"#"+(a.commitId-1))+"/compare/"+util.vc.encodeVersionedPath(j.persistent.path+"#"+a.commitId),handleAs:"json",load:function(a){b.showPropertyChanges(a)}})}))});k.forEach(a.friendlyPathsDeleted,function(a){d.create("div",{innerHTML:i18n("(Deleted) %s",util.escape(a.path))},n)});return n}}];this.grid=new a({url:this.url,serverSideProcessing:!1,columns:j,orderField:"date",sortType:"desc",
tableConfigKey:"changelogList",noDataMessage:i18n("No changes found.")});this.grid.placeAt(this.gridAttach)},destroy:function(){this.inherited(arguments);this.grid.destroy()},showPropertyChanges:function(c){var d=new b;(new a({style:{minWidth:"450px"},hidePrintLink:!0,data:c,serverSideProcessing:!1,tableConfigKey:"changelogList",noDataMessage:i18n("No changes found."),columns:[{name:i18n("Name"),field:"name"},{name:i18n("Before"),formatter:function(a){var b="";if(a.value)b=a.value.value;return b}},
{name:i18n("After"),formatter:function(a){var b="";if(a.otherValue)b=a.otherValue.value;return b}}]})).placeAt(d.containerNode);d.show()}})})},"dijit/form/_AutoCompleterMixin":function(){define("dijit/form/_AutoCompleterMixin","dojo/data/util/filter,dojo/_base/declare,dojo/dom-attr,dojo/_base/event,dojo/keys,dojo/_base/lang,dojo/query,dojo/regexp,dojo/sniff,dojo/string,./DataList,../registry,./_TextBoxMixin,./_SearchMixin".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o,n){return m("dijit.form._AutoCompleterMixin",
n,{item:null,autoComplete:!0,highlightMatch:"first",labelAttr:"",labelType:"text",maxHeight:-1,_stopClickEvents:!1,_getCaretPos:function(a){var c=0;if("number"==typeof a.selectionStart)c=a.selectionStart;else if(b("ie")){var d=a.ownerDocument.selection.createRange().duplicate(),a=a.createTextRange();d.move("character",0);a.move("character",0);try{a.setEndPoint("EndToEnd",d),c=(""+a.text).replace(/\r/g,"").length}catch(h){}}return c},_setCaretPos:function(a,b){b=parseInt(b);o.selectInputText(a,b,b)},
_setDisabledAttr:function(a){this.inherited(arguments);this.domNode.setAttribute("aria-disabled",a?"true":"false")},_onKey:function(a){if(!(32<=a.charCode)){var b=a.charCode||a.keyCode;if(!(b==f.ALT||b==f.CTRL||b==f.META||b==f.SHIFT)){var c=this.dropDown,d=null;this._abortQuery();this.inherited(arguments);if(!a.altKey&&!a.ctrlKey&&!a.metaKey)switch(this._opened&&(d=c.getHighlightedOption()),b){case f.PAGE_DOWN:case f.DOWN_ARROW:case f.PAGE_UP:case f.UP_ARROW:this._opened&&this._announceOption(d);
j.stop(a);break;case f.ENTER:if(d){if(d==c.nextButton){this._nextSearch(1);j.stop(a);break}else if(d==c.previousButton){this._nextSearch(-1);j.stop(a);break}j.stop(a)}else this._setBlurValue(),this._setCaretPos(this.focusNode,this.focusNode.value.length);case f.TAB:b=this.get("displayedValue");if(c&&(b==c._messages.previousMessage||b==c._messages.nextMessage))break;d&&this._selectOption(d);case f.ESCAPE:if(this._opened)this._lastQuery=null,this.closeDropDown()}}}},_autoCompleteText:function(a){var b=
this.focusNode;o.selectInputText(b,b.value.length);var c=this.ignoreCase?"toLowerCase":"substr";if(0==a[c](0).indexOf(this.focusNode.value[c](0))){if(c=this.autoComplete?this._getCaretPos(b):b.value.length,c+1>b.value.length)b.value=a,o.selectInputText(b,c)}else b.value=a,o.selectInputText(b)},_openResultList:function(a,b,c){var d=this.dropDown.getHighlightedOption();this.dropDown.clearResultList();!a.length&&0==c.start?this.closeDropDown():(this._nextSearch=this.dropDown.onPage=e.hitch(this,function(b){a.nextPage(-1!==
b);this.focus()}),this.dropDown.createOptions(a,c,e.hitch(this,"_getMenuLabelFromItem")),this._showResultList(),"direction"in c?(c.direction?this.dropDown.highlightFirstOption():c.direction||this.dropDown.highlightLastOption(),d&&this._announceOption(this.dropDown.getHighlightedOption())):this.autoComplete&&!this._prev_key_backspace&&!/^[*]+$/.test(b[this.searchAttr].toString())&&this._announceOption(this.dropDown.containerNode.firstChild.nextSibling))},_showResultList:function(){this.closeDropDown(!0);
this.openDropDown();this.domNode.setAttribute("aria-expanded","true")},loadDropDown:function(){this._startSearchAll()},isLoaded:function(){return!1},closeDropDown:function(){this._abortQuery();this._opened&&(this.inherited(arguments),this.domNode.setAttribute("aria-expanded","false"))},_setBlurValue:function(){var a=this.get("displayedValue"),b=this.dropDown;b&&(a==b._messages.previousMessage||a==b._messages.nextMessage)?this._setValueAttr(this._lastValueReported,!0):"undefined"==typeof this.item?
(this.item=null,this.set("displayedValue",a)):(this.value!=this._lastValueReported&&this._handleOnChange(this.value,!0),this._refreshState());this.focusNode.removeAttribute("aria-activedescendant")},_setItemAttr:function(a,b,c){var d="";a&&(c||(c=this.store._oldAPI?this.store.getValue(a,this.searchAttr):a[this.searchAttr]),d=this._getValueField()!=this.searchAttr?this.store.getIdentity(a):c);this.set("value",d,b,c,a)},_announceOption:function(a){if(a){var b;if(a==this.dropDown.nextButton||a==this.dropDown.previousButton)b=
a.innerHTML,this.item=void 0,this.value="";else{var c=this.dropDown.items[a.getAttribute("item")];b=(this.store._oldAPI?this.store.getValue(c,this.searchAttr):c[this.searchAttr]).toString();this.set("item",c,!1,b)}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);this.focusNode.setAttribute("aria-activedescendant",k.get(a,"id"));this._autoCompleteText(b)}},_selectOption:function(a){this.closeDropDown();a&&this._announceOption(a);this._setCaretPos(this.focusNode,this.focusNode.value.length);
this._handleOnChange(this.value,!0);this.focusNode.removeAttribute("aria-activedescendant")},_startSearchAll:function(){this._startSearch("")},_startSearchFromInput:function(){this.item=void 0;this.inherited(arguments)},_startSearch:function(a){if(!this.dropDown){var b=this.id+"_popup";this.dropDown=new (e.isString(this.dropDownClass)?e.getObject(this.dropDownClass,!1):this.dropDownClass)({onChange:e.hitch(this,this._selectOption),id:b,dir:this.dir,textDir:this.textDir})}this._lastInput=a;this.inherited(arguments)},
_getValueField:function(){return this.searchAttr},postMixInProperties:function(){this.inherited(arguments);if(!this.store&&(this.store=new h({},this.srcNodeRef),!("value"in this.params))){var a=this.item=this.store.fetchSelectedItem();if(a){var b=this._getValueField();this.value=this.store._oldAPI?this.store.getValue(a,b):a[b]}}},postCreate:function(){var a=d('label[for="'+this.id+'"]');if(a.length){if(!a[0].id)a[0].id=this.id+"_label";this.domNode.setAttribute("aria-labelledby",a[0].id)}this.inherited(arguments);
this.connect(this,"onSearch","_openResultList")},_getMenuLabelFromItem:function(a){var a=this.labelFunc(a,this.store),b=this.labelType;"none"!=this.highlightMatch&&"text"==this.labelType&&this._lastInput&&(a=this.doHighlight(a,this._lastInput),b="html");return{html:"html"==b,label:a}},doHighlight:function(a,b){var d=(this.ignoreCase?"i":"")+("all"==this.highlightMatch?"g":""),h=this.queryExpr.indexOf("${0}"),b=c.escapeString(b);return this._escapeHtml(a.replace(RegExp((0==h?"^":"")+"("+b+")"+(h==
this.queryExpr.length-4?"$":""),d),"\uffff$1\uffff")).replace(/\uFFFF([^\uFFFF]+)\uFFFF/g,'<span class="dijitComboBoxHighlightMatch">$1</span>')},_escapeHtml:function(a){return a=(""+a).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;")},reset:function(){this.item=null;this.inherited(arguments)},labelFunc:function(a,b){return(b._oldAPI?b.getValue(a,this.labelAttr||this.searchAttr):a[this.labelAttr||this.searchAttr]).toString()},_setValueAttr:function(a,b,c,
d){this._set("item",d||null);null==a&&(a="");this.inherited(arguments)},_setTextDirAttr:function(a){this.inherited(arguments);this.dropDown&&this.dropDown._set("textDir",a)}})})},"deploy/widgets/property/PropValues":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/on,deploy/widgets/property/EditPropValue,js/webext/widgets/Alert,js/webext/widgets/ColumnForm,js/webext/widgets/Dialog,js/webext/widgets/DomNode,js/webext/widgets/GenericConfirm,js/webext/widgets/table/TreeTable".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r){return f("deploy.widgets.property.PropValues",[m,l],{templateString:'<div class="propValues"><div class="versionLinks" data-dojo-attach-point="versionAttach"></div><div class="listTopButtons" data-dojo-attach-point="buttonTopAttach"></div><div data-dojo-attach-point="gridAttach"></div><div data-dojo-attach-point="formAttach"></div></div>',readOnly:!1,showDescription:!0,deleteHeaders:{},oldVersion:!1,data:null,postCreate:function(){this.inherited(arguments);
if(this.propSheet&&this.propSheet.versioned)this.propSheetPath=this.propSheet.path,this.propSheetVersionCount=this.propSheet.versionCount,this.propSheetVersion=this.propSheet.version;else if(this.propSheetPath&&!this.propSheetVersion)this.propSheetVersion=-1;this.generateUrls();if(this.propSheetVersion&&this.propSheetVersionCount){if(this.propSheetVersion<this.propSheetVersionCount)this.oldVersion=!0;this.showVersionLinks()}this.showTable()},generateUrls:function(){this.gridRestUrl=this.propSheetPath?
bootstrap.baseUrl+"property/propSheet/"+util.vc.encodeVersionedPath(this.propSheetPath)+"."+this.propSheetVersion:this.getUrl?this.getUrl:bootstrap.baseUrl+"property/propSheet/"+this.propSheetId;if(this.propSheetPath)this.saveAllUrl=bootstrap.baseUrl+"property/propSheet/"+util.vc.encodeVersionedPath(this.propSheetPath)+"."+this.propSheetVersion+"/allPropValues",this.saveBatchAllUrl=bootstrap.baseUrl+"property/propSheet/"+util.vc.encodeVersionedPath(this.propSheetPath)+"."+this.propSheetVersion+"/allPropValuesFromBatch";
else if(this.propSheetId)this.saveAllUrl=bootstrap.baseUrl+"property/propSheet/"+this.propSheetId+"/allPropValues"},destroy:function(){this.inherited(arguments);this.clearWidgets()},showVersionLinks:function(){var a=this;c.empty(this.versionAttach);if(this.propSheetVersion&&this.propSheetVersionCount){c.create("div",{innerHTML:i18n("Version %s of %s",this.propSheetVersion,this.propSheetVersionCount)},this.versionAttach);var d=c.create("div",{},this.versionAttach);if(1===this.propSheetVersion)c.create("div",
{className:"arrow_fastBackwards_grey inlineBlock"},d),c.create("span",{innerHTML:"&nbsp;&nbsp;"},d),c.create("div",{className:"arrow_backwards_grey inlineBlock"},d);else{var f=c.create("div",{className:"arrow_fastBackwards inlineBlock"},d);b(f,"click",function(){a.propSheetVersion=1;a.refresh()});c.create("span",{innerHTML:"&nbsp;&nbsp;"},d);f=c.create("div",{className:"arrow_backwards inlineBlock"},d);b(f,"click",function(){a.propSheetVersion--;a.refresh()})}c.create("span",{innerHTML:"&nbsp;&nbsp;&nbsp;"},
d);this.propSheetVersion===this.propSheetVersionCount?(c.create("div",{className:"arrow_forward_grey inlineBlock"},d),c.create("span",{innerHTML:"&nbsp;&nbsp;"},d),c.create("div",{className:"arrow_fastForward_grey inlineBlock"},d)):(f=c.create("div",{className:"arrow_forward inlineBlock"},d),b(f,"click",function(){a.propSheetVersion++;a.refresh()}),c.create("span",{innerHTML:"&nbsp;&nbsp;"},d),f=c.create("div",{className:"arrow_fastForward inlineBlock"},d),b(f,"click",function(){a.propSheetVersion=
a.propSheetVersionCount;a.refresh()}),this.readOnly||(c.create("span",{innerHTML:"&nbsp;&nbsp;"},d),d=c.create("a",{innerHTML:i18n("Reset Latest to This Version")},d),b(d,"click",function(){new s({message:i18n("Are you sure you want to reset to version %s?",a.propSheetVersion),action:function(){e.put({url:bootstrap.restUrl+"vc/persistent/"+util.vc.encodeVersionedPath(a.propSheetPath)+"."+a.propSheetVersion+"/setAsLatest",load:function(){a.propSheetVersionCount++;a.propSheetVersion=a.propSheetVersionCount;
a.refresh()},error:function(a){new h({message:i18n("Error: %s",util.escape(a.responseText))})}})}})})))}},refresh:function(){if(this.propSheetVersion&&this.propSheetVersionCount)this.oldVersion=this.propSheetVersion<this.propSheetVersionCount?!0:!1;this.showVersionLinks();this.generateUrls();this.grid?this.showTable():this.form&&this.showBatchEdit();this.showVersionLinks()},clearWidgets:function(){if(this.grid)this.grid.destroy(),this.buttonTopAttach&&c.empty(this.buttonTopAttach),this.gridAttach&&
c.empty(this.gridAttach),this.grid=void 0;if(this.form)this.form.destroy(),this.form=void 0},showTable:function(){var a=this;this.clearWidgets();var b=[{name:i18n("Name"),field:"name",orderField:"name",filterField:"name",filterType:"text",width:"170px",style:{"word-break":"break-all"},getRawValue:function(a){return a.name}},{name:i18n("Value"),orderField:"value",filterField:"value",filterType:"text",style:{"word-break":"break-all"},getRawValue:function(a){return a.value},formatter:function(a){for(var b=
c.create("div"),a=a.value.escape();-1<a.indexOf("\n");)a=a.replace("\n","<br />");b.innerHTML=a;return b}}];this.showDescription&&b.push({name:i18n("Description"),width:"200px",style:{"word-break":"break-all"},field:"description"});!this.readOnly&&!this.oldVersion&&b.push({name:i18n("Actions"),width:"70px",style:{"word-break":"break-all"},formatter:this.actionsFormatter,parentWidget:this});e.get({url:this.gridRestUrl,handleAs:"json",load:function(c){a.propSheetVersion=c.version;if(c.properties)c=
c.properties;a.grid=new r({data:a.propValues||c,hidePagination:!1,serverSideProcessing:!1,hideExpandCollapse:!0,columns:b,tableConfigKey:"propValueList",noDataMessage:i18n("No properties found.")});a.grid.placeAt(a.gridAttach)}});if(!this.readOnly){if(!this.oldVersion){var h={label:i18n("Add Property"),showTitle:!1,onClick:function(){a.showPropertyDialog()}},h=new k(h);d.add(h.domNode,"idxButtonSpecial");h.placeAt(this.buttonTopAttach)}h={label:i18n("Batch Edit"),showTitle:!1,onClick:function(){a.showBatchEdit()}};
(new k(h)).placeAt(this.buttonTopAttach)}},actionsFormatter:function(a){var d=this.parentWidget,f=c.create("div",{style:"word-break:normal;"});if(!d.readOnly&&!a.inherited){var n=c.create("a",{className:"actionsLink linkPointer",innerHTML:i18n("Edit")},f);b(n,"click",function(){d.showPropertyDialog(a)});n=c.create("a",{className:"actionsLink linkPointer",innerHTML:i18n("Delete")},f);b(n,"click",function(){new s({message:i18n('Are you sure you want to delete property "%s"?',a.name.escape()),action:function(){var b;
b=d.propSheetPath?bootstrap.baseUrl+"property/propSheet/"+util.vc.encodeVersionedPath(d.propSheetPath)+".-1/propValues/"+encodeURIComponent(a.name):d.deleteUrl?d.deleteUrl.replace("{propertyName}",encodeURIComponent(a.name)):bootstrap.baseUrl+"property/propSheet/"+d.propSheetId+"/propValues/"+encodeURIComponent(a.name);if(d.propSheetVersion)d.deleteHeaders.version=d.propSheetVersion;e.del({url:b,headers:d.deleteHeaders,load:function(){if(d.refreshHash)navBar.setHash(d.refreshHash,!1,!0);else{if(d.propSheetVersion&&
(d.propSheetVersionCount&&d.propSheetVersionCount++,d.propSheetVersion++,d.propSheet))d.propSheet.version=d.propSheetVersion,d.propSheet.versionCount=d.propSheetVersionCount;d.refresh()}},error:function(a){if(a.responseText){if(409===a.status&&new h({message:i18n("Modifications have occured since you loaded this page, please refresh.")}),d.refreshHash&&navBar.setHash(d.refreshHash,!0,!1),d.grid)d.grid.refresh=function(){navBar.setHash(d.refreshHash,!1,!0)}}else this.inherited(arguments)}})}})})}if(a.inherited)f.innerHTML=
i18n("(Inherited)");return f},showPropertyDialog:function(b){var c=this,d=new o({title:i18n("Edit Property"),closable:!0,draggable:!0});(new a({propValue:b,propSheetVersion:this.propSheetVersion,propSheetPath:this.propSheetPath,propSheetId:this.propSheetId,saveUrl:this.saveUrl,addData:this.addData,callback:function(a){if(a)if(399<a.status){if(409===a.status?new h({message:i18n("Modifications have occured since you loaded this page please refresh.")}):a.responseText&&new h({message:util.escape(a.responseText)}),
c.refreshHash&&navBar.setHash(c.refreshHash,!0,!1),c.grid&&c.refreshHash)c.grid.refresh=function(){navBar.setHash(c.refreshHash,!1,!0)}}else if(d.hide(),d.destroy(),c.refreshHash)navBar.setHash(c.refreshHash,!1,!0);else{if(c.propSheetVersion&&(c.propSheetVersion++,c.propSheetVersionCount&&c.propSheetVersionCount++,c.propSheet))c.propSheet.version=c.propSheetVersion,c.propSheet.versionCount=c.propSheetVersionCount;c.refresh()}else d.hide(),d.destroy()}})).placeAt(d.containerNode);d.show()},showBatchEdit:function(){var a=
this;this.clearWidgets();this.form=new q({submitUrl:this.saveBatchAllUrl,version:this.propSheetVersion,addData:this.addData,onError:function(b){409===b.status?new h({message:i18n("Modifications have occured since you loaded this page, please refresh.")}):new h({message:util.escape(b.responseText)});a.refreshHash&&navBar.setHash(a.refreshHash,!0,!1)},postSubmit:function(){if(a.refreshHash)navBar.setHash(a.refreshHash,!1,!0);else{if(a.propSheetVersion&&(a.propSheetVersion++,a.propSheetVersionCount&&
a.propSheetVersionCount++,a.propSheet))a.propSheet.version=a.propSheetVersion,a.propSheet.versionCount=a.propSheetVersionCount;new h({message:i18n("Saved changes successfully")});a.refresh()}},getData:function(){var a=this,b={};j.forEach(this.fieldsArray,function(c){var d=a.getValueByField(c);void 0!==d&&null!==d&&("properties"===c.name&&d.replace(/\\n/g,"\n"),b[c.name]=d)});this.addData&&this.addData(b);return b},readOnly:a.readOnly||a.oldVersion,cancelLabel:null});a.form.placeAt(a.formAttach);var b=
document.createElement("a");b.onclick=function(){a.showTable()};b.innerHTML=i18n("Use Table Mode");b.className="linkPointer";var c=new n;c.domAttach.appendChild(b);a.form.addField({name:"_switchLink",label:"",widget:c});e.get({url:this.gridRestUrl,handleAs:"json",load:function(b){if(b.version)b=b.properties;var c="";j.forEach(b,function(a){c+=a.name.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\=/g,"\\=").replace(/:/g,"\\:").replace(/ /g,"\\ ")+"="+a.value.replace(/\\/g,"\\\\").replace(/\n/g,
"\\n").replace(/\=/g,"\\=").replace(/:/g,"\\:")+"\n"});a.form.addField({name:"properties",label:i18n("Properties"),description:i18n("Edit properties as a batch. Backslash, equals, and colon characters (\\, =, :) should be escaped with a backslash when used in this field."),required:!0,type:"Text Area",style:{width:"300px",height:"200px"},value:c})}})},addData:function(){}})})},"dojo/number":function(){define("dojo/number",["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],
function(l,m,k,j,f){var e={};l.setObject("dojo.number",e);e.format=function(c,b){var b=l.mixin({},b||{}),a=m.normalizeLocale(b.locale),a=m.getLocalization("dojo.cldr","number",a);b.customs=a;a=b.pattern||a[(b.type||"decimal")+"Format"];return isNaN(c)||Infinity==Math.abs(c)?null:e._applyPattern(c,a,b)};e._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;e._applyPattern=function(c,b,a){var a=a||{},d=a.customs.group,f=a.customs.decimal,b=b.split(";"),o=b[0],b=b[0>c?1:0]||"-"+o;if(-1!=b.indexOf("%"))c*=100;else if(-1!=
b.indexOf("\u2030"))c*=1E3;else if(-1!=b.indexOf("\u00a4"))d=a.customs.currencyGroup||d,f=a.customs.currencyDecimal||f,b=b.replace(/\u00a4{1,3}/,function(b){return a[["symbol","currency","displayName"][b.length-1]]||a.currency||""});else if(-1!=b.indexOf("E"))throw Error("exponential notation not supported");var n=e._numberPatternRE,o=o.match(n);if(!o)throw Error("unable to find a number expression in pattern: "+b);if(!1===a.fractional)a.places=0;return b.replace(n,e._formatAbsolute(c,o[0],{decimal:f,
group:d,places:a.places,round:a.round}))};e.round=function(c,b,a){a=10/(a||10);return(a*+c).toFixed(b)/a};if(0==(0.9).toFixed()){var d=e.round;e.round=function(c,b,a){var h=Math.pow(10,-b||0),e=Math.abs(c);if(!c||e>=h)h=0;else if(e/=h,0.5>e||0.95<=e)h=0;return d(c,b,a)+(0<c?h:-h)}}e._formatAbsolute=function(c,b,a){a=a||{};if(!0===a.places)a.places=0;if(Infinity===a.places)a.places=6;var b=b.split("."),d="string"==typeof a.places&&a.places.indexOf(","),f=a.places;if(d)f=a.places.substring(d+1);else if(!(0<=
f))f=(b[1]||[]).length;0>a.round||(c=e.round(c,f,a.round));var c=(""+Math.abs(c)).split("."),o=c[1]||"";if(b[1]||a.places){if(d)a.places=a.places.substring(0,d);d=void 0!==a.places?a.places:b[1]&&b[1].lastIndexOf("0")+1;d>o.length&&(c[1]=j.pad(o,d,"0",!0));f<o.length&&(c[1]=o.substr(0,f))}else c[1]&&c.pop();f=b[0].replace(",","");d=f.indexOf("0");-1!=d&&(d=f.length-d,d>c[0].length&&(c[0]=j.pad(c[0],d)),-1==f.indexOf("#")&&(c[0]=c[0].substr(c[0].length-d)));var f=b[0].lastIndexOf(","),n,s;-1!=f&&(n=
b[0].length-f-1,b=b[0].substr(0,f),f=b.lastIndexOf(","),-1!=f&&(s=b.length-f-1));b=[];for(f=c[0];f;)d=f.length-n,b.push(0<d?f.substr(d):f),f=0<d?f.slice(0,d):"",s&&(n=s,delete s);c[0]=b.reverse().join(a.group||",");return c.join(a.decimal||".")};e.regexp=function(c){return e._parseInfo(c).regexp};e._parseInfo=function(c){var c=c||{},b=m.normalizeLocale(c.locale),b=m.getLocalization("dojo.cldr","number",b),a=c.pattern||b[(c.type||"decimal")+"Format"],d=b.group,j=b.decimal,o=1;if(-1!=a.indexOf("%"))o/=
100;else if(-1!=a.indexOf("\u2030"))o/=1E3;else{var n=-1!=a.indexOf("\u00a4");n&&(d=b.currencyGroup||d,j=b.currencyDecimal||j)}b=a.split(";");1==b.length&&b.push("-"+b[0]);b=f.buildGroupRE(b,function(a){a="(?:"+f.escapeString(a,".")+")";return a.replace(e._numberPatternRE,function(a){var b={signed:!1,separator:c.strict?d:[d,""],fractional:c.fractional,decimal:j,exponent:!1},a=a.split("."),f=c.places;1==a.length&&1!=o&&(a[1]="###");if(1==a.length||0===f)b.fractional=!1;else{void 0===f&&(f=c.pattern?
a[1].lastIndexOf("0")+1:Infinity);if(f&&void 0==c.fractional)b.fractional=!0;!c.places&&f<a[1].length&&(f+=","+a[1].length);b.places=f}a=a[0].split(",");if(1<a.length&&(b.groupSize=a.pop().length,1<a.length))b.groupSize2=a.pop().length;return"("+e._realNumberRegexp(b)+")"})},!0);n&&(b=b.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(a,b,d,h){a=f.escapeString(c[["symbol","currency","displayName"][d.length-1]]||c.currency||"");b=b?"[\\s\\xa0]":"";h=h?"[\\s\\xa0]":"";return!c.strict?(b&&(b+=
"*"),h&&(h+="*"),"(?:"+b+a+h+")?"):b+a+h}));return{regexp:b.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:d,decimal:j,factor:o}};e.parse=function(c,b){var a=e._parseInfo(b),d=RegExp("^"+a.regexp+"$").exec(c);if(!d)return NaN;var f=d[1];if(!d[1]){if(!d[2])return NaN;f=d[2];a.factor*=-1}f=f.replace(RegExp("["+a.group+"\\s\\xa0]","g"),"").replace(a.decimal,".");return f*a.factor};e._realNumberRegexp=function(c){c=c||{};if(!("places"in c))c.places=Infinity;if("string"!=typeof c.decimal)c.decimal=".";if(!("fractional"in
c)||/^0/.test(c.places))c.fractional=[!0,!1];if(!("exponent"in c))c.exponent=[!0,!1];if(!("eSigned"in c))c.eSigned=[!0,!1];var b=e._integerRegexp(c),a=f.buildGroupRE(c.fractional,function(a){var b="";a&&0!==c.places&&(b="\\"+c.decimal,b=Infinity==c.places?"(?:"+b+"\\d+)?":b+("\\d{"+c.places+"}"));return b},!0),d=f.buildGroupRE(c.exponent,function(a){return a?"([eE]"+e._integerRegexp({signed:c.eSigned})+")":""}),b=b+a;a&&(b="(?:(?:"+b+")|(?:"+a+"))");return b+d};e._integerRegexp=function(c){c=c||{};
if(!("signed"in c))c.signed=[!0,!1];if("separator"in c){if(!("groupSize"in c))c.groupSize=3}else c.separator="";var b=f.buildGroupRE(c.signed,function(a){return a?"[-+]":""},!0),a=f.buildGroupRE(c.separator,function(a){if(!a)return"(?:\\d+)";a=f.escapeString(a);" "==a?a="\\s":"\u00a0"==a&&(a="\\s\\xa0");var b=c.groupSize,d=c.groupSize2;return d?(a="(?:0|[1-9]\\d{0,"+(d-1)+"}(?:["+a+"]\\d{"+d+"})*["+a+"]\\d{"+b+"})",0<b-d?"(?:"+a+"|(?:0|[1-9]\\d{0,"+(b-1)+"}))":a):"(?:0|[1-9]\\d{0,"+(b-1)+"}(?:["+
a+"]\\d{"+b+"})*)"},!0);return b+a};return e})},"dijit/DialogUnderlay":function(){define("dijit/DialogUnderlay","dojo/_base/declare,dojo/dom-attr,dojo/window,./_Widget,./_TemplatedMixin,./BackgroundIframe".split(","),function(l,m,k,j,f,e){return l("dijit.DialogUnderlay",[j,f],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' data-dojo-attach-point='node'></div></div>",dialogId:"","class":"",_setDialogIdAttr:function(d){m.set(this.node,"id",d+"_underlay");this._set("dialogId",
d)},_setClassAttr:function(d){this.node.className="dijitDialogUnderlay "+d;this._set("class",d)},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode)},layout:function(){var d=this.node.style,c=this.domNode.style;c.display="none";var b=k.getBox(this.ownerDocument);c.top=b.t+"px";c.left=b.l+"px";d.width=b.w+"px";d.height=b.h+"px";c.display="block"},show:function(){this.domNode.style.display="block";this.layout();this.bgIframe=new e(this.domNode)},hide:function(){this.bgIframe.destroy();
delete this.bgIframe;this.domNode.style.display="none"}})})},"deploy/widgets/approval/ApprovalProcessActivities":function(){define("dojo/_base/declare,dojo/request/xhr,dojo/dom-class,dojo/dom-construct,dojo/json,deploy/widgets/workflow/BaseGraph,js/webext/widgets/Alert,js/webext/widgets/GenericConfirm,js/webext/widgets/table/TreeTable".split(","),function(l,m,k,j,f,e,d,c,b){return l("deploy.widgets.approval.ApprovalProcessActivities",[e],{postCreate:function(){this.inherited(arguments);var a=this;
if(appState.environment)a.approvalParent=appState.environment;if(appState.environmentTemplate)a.approvalParent=appState.environmentTemplate;mxClient.isBrowserSupported()?(this.toolBarContainer.className="mx-graph-pane mx-graph-top-pane",this.processStepContainer.className="mx-graph-pane mx-graph-bottom-pane",this.mxgraphAttach.className="",m.get(bootstrap.restUrl+"approval/approvalProcess/"+a.approvalParent.id,{handleAs:"json"}).then(function(b){a.approvalProcess=b;if(b.environment)a.environment=
b.environment,a.readOnly=!a.environment.security["Manage Approval Processes"];if(b.environmentTemplate)a.environmentTemplate=b.environmentTemplate,a.readOnly=!a.environmentTemplate.security["Manage Approval Processes"];void 0!==a.approvalProcess.rootActivity?a.graphStartup(a.approvalProcess.rootActivity):a.graphStartup(null)})):mxUtils.error(i18n("This browser is not compatible with the rich workflow editor."),200,!1)},graphStartup:function(a){this.inherited(arguments);var c=this;c.buildToolbar();
if(!c.readOnly){var d=document.createElement("div");d.className="fileTree";c.stepTreeTable=new b({rowPadding:15,hideFooterLinks:!0,hidePagination:!0,hideExpandCollapse:!0,tableConfigKey:"approvalProcessTreeTable",columns:[{name:i18n("Step Palette"),"class":"activityTreeCell",styleHeading:{display:"none"},formatter:function(a,b,d){return c.stepTreeFormatter(a,d,c.approvalProcess)}}],url:bootstrap.restUrl+"approval/approvalProcess/approvalTypeTree",orderField:"name",getRawValue:function(a){var b=i18n(a.name);
a.name===i18n("Finish")&&(b=" 1 "+i18n("Finish"));a.name===i18n("Clipboard")&&(b=" 2 "+i18n("Clipboard"));return b},lazyLoad:!1,draggable:!1,idAttribute:"path",serverSideProcessing:!1,noDataMessage:i18n("No steps found")});c.stepTreeTable.placeAt(d);k.add(c.stepTreeTable.expandCollapseAttach,"centered-expand-collapse");d=new mxWindow(i18n("Step Palette"),d,0,0,240,400,!1,!1,this.addAttach);d.setMaximizable(!1);d.setScrollable(!0);d.setResizable(!0);d.setVisible(!0)}},saveProcessDesign:function(){var a=
this;m.put(bootstrap.restUrl+"approval/approvalProcess/"+a.approvalParent.id+"/saveActivities",{data:f.stringify(a.getWorkflowJson())}).then(function(){a.showSavePopup(i18n("Process design saved successfully."));a.clearHasChanges();a.clearChangedActivities()},function(b){a.showSaveErrorPopup(b)})}})})},"deploy/widgets/report/securityReportApplication/SecurityReportApplicationForm":function(){define(["dijit/_TemplatedMixin","dijit/_Widget","dojo/_base/declare"],function(l,m,k){return k("deploy.widgets.report.securityReportApplication.SecurityReportApplicationForm",
[m,l],{templateString:"<div></div>",constructor:function(){},buildRendering:function(){this.inherited(arguments)},destroy:function(){this.inherited(arguments)},setProperties:function(){},getProperties:function(){return[]}})})},"deploy/widgets/settings/diagnostics/ThreadDumps":function(){define("dojo/_base/declare,dijit/_Widget,dijit/_TemplatedMixin,dojo/dom-class,dojo/dom-construct,dojo/on,dojo/_base/xhr,dijit/form/Button,deploy/widgets/Formatters,deploy/widgets/log/LiveLogViewer".split(","),function(l,
m,k,j,f,e,d,c,b,a){return l("deploy.widgets.settings.diagnostics.ThreadDumps",[m,k],{templateString:'<div class="requestList"><div class="listTopButtons" data-dojo-attach-point="buttonTopAttach"></div><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var a=this,b={label:i18n("Generate Thread Dump"),showTitle:!1,onClick:function(){a.showThreadDumpWindow(bootstrap.restUrl+"system/configuration/threadDump",i18n("Java Thread Dump"))}},b=new c(b);j.add(b.domNode,
"idxButtonSpecial");b.placeAt(this.buttonTopAttach);util.createDownloadAnchor({href:bootstrap.restUrl+"system/configuration/threadDump?fileDownload=true",className:"thread-dump-download-link"},this.buttonTopAttach).innerHTML=i18n("(Download)")},showThreadDumpWindow:function(b,c){(new a({url:b,title:c,autoRefresh:!1,downloadButtonName:"Download Thread Dump"})).show()}})})},"dijit/_WidgetsInTemplateMixin":function(){define("dijit/_WidgetsInTemplateMixin",["dojo/_base/array","dojo/_base/declare","dojo/parser"],
function(l,m,k){return m("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:!1,widgetsInTemplate:!0,_beforeFillContent:function(){if(this.widgetsInTemplate){var j=this._startupWidgets=k.parse(this.domNode,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,scope:"dojo"});if(!j.isFulfilled())throw Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");
this._attachTemplateNodes(j,function(f,e){return f[e]})}},startup:function(){l.forEach(this._startupWidgets,function(j){j&&!j._started&&j.startup&&j.startup()});this.inherited(arguments)}})})},"dojo/DeferredList":function(){define(["./_base/kernel","./_base/Deferred","./_base/array"],function(l,m,k){l.DeferredList=function(j,f,e,d){var c=[];m.call(this);var b=this;0===j.length&&!f&&this.resolve([0,[]]);var a=0;k.forEach(j,function(h,q){function o(d,h){c[q]=[d,h];a++;a===j.length&&b.resolve(c)}h.then(function(a){f?
b.resolve([q,a]):o(!0,a)},function(a){e?b.reject(a):o(!1,a);if(d)return null;throw a;})})};l.DeferredList.prototype=new m;l.DeferredList.prototype.gatherResults=function(j){j=new l.DeferredList(j,!1,!0,!1);j.addCallback(function(f){var e=[];k.forEach(f,function(d){e.push(d[1])});return e});return j};return l.DeferredList})},"url:dijit/form/templates/TextBox.html":'<div class="dijit dijitReset dijitInline dijitLeft" id="widget_${id}" role="presentation"\n\t><div class="dijitReset dijitInputField dijitInputContainer"\n\t\t><input class="dijitReset dijitInputInner" data-dojo-attach-point=\'textbox,focusNode\' autocomplete="off"\n\t\t\t${!nameAttrSetting} type=\'${type}\'\n\t/></div\n></div>\n',
"dojo/promise/Promise":function(){define("dojo/promise/Promise",["../_base/lang"],function(l){function m(){throw new TypeError("abstract");}return l.extend(function(){},{then:function(){m()},cancel:function(){m()},isResolved:function(){m()},isRejected:function(){m()},isFulfilled:function(){m()},isCanceled:function(){m()},always:function(k){return this.then(k,k)},otherwise:function(k){return this.then(null,k)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},
"dojo/_base/url":function(){define(["./kernel"],function(l){var m=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,k=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,j=function(){for(var f=arguments,e=[f[0]],d=1;d<f.length;d++)if(f[d]){var c=new j(f[d]+""),e=new j(e[0]+"");if(""==c.path&&!c.scheme&&!c.authority&&!c.query){if(null!=c.fragment)e.fragment=c.fragment;c=e}else if(!c.scheme&&(c.scheme=e.scheme,!c.authority&&(c.authority=e.authority,"/"!=c.path.charAt(0)))){for(var e=
(e.path.substring(0,e.path.lastIndexOf("/")+1)+c.path).split("/"),b=0;b<e.length;b++)"."==e[b]?b==e.length-1?e[b]="":(e.splice(b,1),b--):0<b&&!(1==b&&""==e[0])&&".."==e[b]&&".."!=e[b-1]&&(b==e.length-1?(e.splice(b,1),e[b-1]=""):(e.splice(b-1,2),b-=2));c.path=e.join("/")}e=[];c.scheme&&e.push(c.scheme,":");c.authority&&e.push("//",c.authority);e.push(c.path);c.query&&e.push("?",c.query);c.fragment&&e.push("#",c.fragment)}this.uri=e.join("");f=this.uri.match(m);this.scheme=f[2]||(f[1]?"":null);this.authority=
f[4]||(f[3]?"":null);this.path=f[5];this.query=f[7]||(f[6]?"":null);this.fragment=f[9]||(f[8]?"":null);if(null!=this.authority)f=this.authority.match(k),this.user=f[3]||null,this.password=f[4]||null,this.host=f[6]||f[7],this.port=f[9]||null};j.prototype.toString=function(){return this.uri};return l._Url=j})},"deploy/widgets/applicationProcess/ApplicationProcessChangelog":function(){define(["dijit/_TemplatedMixin","dijit/_Widget","dojo/_base/declare","js/webext/widgets/table/TreeTable"],function(l,
m,k,j){return k("deploy.widgets.applicationProcess.ApplicationProcessChangelog",[m,l],{templateString:'<div class="applicationProcessChangelog"><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var f=bootstrap.restUrl+"deploy/applicationProcess/"+this.applicationProcess.id+"/changelog",e=[{name:i18n("Version"),field:"version",orderField:"version",getRawValue:function(d){return d.version}},{name:i18n("User"),field:"committer",orderField:"committer",
filterField:"committer",filterType:"text",getRawValue:function(d){return d.committer}},{name:i18n("Date"),field:"commitTime",formatter:util.tableDateFormatter,orderField:"date",getRawValue:function(d){return new Date(d.commitTime)}},{name:i18n("Comment"),field:"comment"}];this.grid=new j({url:f,serverSideProcessing:!1,orderField:"version",sortType:"desc",columns:e,hideExpandCollapse:!0,hidePagination:!1});this.grid.placeAt(this.gridAttach)},destroy:function(){this.inherited(arguments);this.grid.destroy()}})})},
"dojo/_base/browser":function(){require.has&&require.has.add("config-selectorEngine","acme");define("../ready,./kernel,./connect,./unload,./window,./event,./html,./NodeList,../query,./xhr,./fx".split(","),function(l){return l})},"dojo/hash":function(){define("./_base/kernel,require,./_base/config,./_base/connect,./_base/lang,./ready,./sniff".split(","),function(l,m,k,j,f,e,d){function c(a,b){var c=a.indexOf(b);return 0<=c?a.substring(c+1):""}function b(){return c(location.href,"#")}function a(){j.publish("/dojo/hashchange",
[b()])}function h(){b()!==n&&(n=b(),a())}function q(a){if(s)if(s.isTransitioning())setTimeout(f.hitch(null,q,a),t);else{var b=s.iframe.location.href,c=b.indexOf("?");s.iframe.location.replace(b.substring(0,c)+"?"+a)}else location.replace("#"+a),!r&&h()}function o(){function d(){n=b();o=s?n:c(D.href,"?");j=!1;r=null}var h=document.createElement("iframe"),e=k.dojoBlankHtmlUrl||m.toUrl("./resources/blank.html");k.useXDomain&&!k.dojoBlankHtmlUrl&&console.warn("dojo.hash: When using cross-domain Dojo builds, please save dojo/resources/blank.html to your domain and set djConfig.dojoBlankHtmlUrl to the path on your domain to blank.html");
h.id="dojo-hash-iframe";h.src=e+"?"+b();h.style.display="none";document.body.appendChild(h);this.iframe=l.global["dojo-hash-iframe"];var o,j,r,q,s,D=this.iframe.location;this.isTransitioning=function(){return j};this.pollLocation=function(){if(!s)try{var k=c(D.href,"?");if(document.title!=q)q=this.iframe.document.title=document.title}catch(l){s=!0,console.error("dojo.hash: Error adding history entry. Server unreachable.")}var m=b();if(j&&n===m)if(s||k===r)d(),a();else{setTimeout(f.hitch(this,this.pollLocation),
0);return}else if(!(n===m&&(s||o===k))){if(n!==m){n=m;j=!0;r=m;h.src=e+"?"+r;s=!1;setTimeout(f.hitch(this,this.pollLocation),0);return}if(!s)location.href="#"+D.search.substring(1),d(),a()}setTimeout(f.hitch(this,this.pollLocation),t)};d();setTimeout(f.hitch(this,this.pollLocation),t)}l.hash=function(a,c){if(!arguments.length)return b();"#"==a.charAt(0)&&(a=a.substring(1));c?q(a):location.href="#"+a;return a};var n,s,r,t=k.hashPollFrequency||100;e(function(){"onhashchange"in l.global&&(!d("ie")||
8<=d("ie")&&"BackCompat"!=document.compatMode)?r=j.connect(l.global,"onhashchange",a):document.addEventListener?(n=b(),setInterval(h,t)):document.attachEvent&&(s=new o)});return l.hash})},"deploy/widgets/resourceTemplate/ResourceTemplateList":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dijit/_TemplatedMixin,dijit/_Widget,dijit/Tooltip,dijit/form/Button,deploy/widgets/Formatters,deploy/widgets/resourceTemplate/EditResourceTemplate,deploy/widgets/resourceTemplate/ImportResourceTemplate,deploy/widgets/resource/ResourceCompareSelectorDialog,js/webext/widgets/Alert,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/form/MenuButton,js/webext/widgets/table/TreeTable".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u){return m([c,d],{templateString:'<div class="resource-template-list"><div class="listTopButtons" data-dojo-attach-point="buttonAttach" style="position:relative; z-index=1;"></div><div data-dojo-attach-point="tableAttach"></div></div>',postCreate:function(){this.inherited(arguments);var b=this;this.table=new u({url:bootstrap.restUrl+"resource/resourceTemplate",orderField:"name",tableConfigKey:"resourceTemplateList",hidePagination:!1,hideExpandCollapse:!0,
baseFilters:[{name:"application",type:"null"}],queryData:{outputType:["BASIC","SECURITY","LINKED"]},columns:[{name:i18n("Name"),orderField:"name",filterField:"name",filterType:"text",formatter:function(a,c,d){d.style.position="relative";var c=f.create("div",{"class":"inlineBlock",style:"margin-"+(e.isBodyLtr()?"right":"left")+":130px;"}),n=f.create("div",{"class":"inlineBlock"},c),d=h.resourceTemplateLinkFormatter(a),n=f.create("div",{"class":"inlineBlock"},n);f.place(d,n);d=f.create("div",{dir:util.getUIDir(),
align:util.getUIDirAlign(),"class":"tableHoverActions"},c);n=[{label:i18n("Compare or Synchronize"),onClick:function(){b.showCompareDialog(a)}}];a.security&&a.security.Delete&&n.push({label:i18n("Delete"),onClick:function(){b.confirmDelete(a)}});(new w({options:n,label:i18n("Actions...")})).placeAt(d);return c},getRawValue:function(a){return a.name}},{name:i18n("Parent"),filterField:"parentResourceTemplate.name",filterType:"text",formatter:function(a){return h.resourceTemplateLinkFormatter(a.parent)},
getRawValue:function(a){return a.parent.name}},{name:i18n("Description"),field:"description",filterField:"description",filterType:"text"}]});this.table.placeAt(this.tableAttach);if(config.data.permissions[security.system.createResourceTemplates]){var c=new a({label:i18n("Create Resource Template"),showTitle:!1,onClick:function(){b.showNewTemplateDialog()}});j.add(c.domNode,"idxButtonSpecial");c.placeAt(this.buttonAttach);bootstrap.isFIPSModeEnabled||(new a({label:i18n("Import Template from Cloud"),
showTitle:!1,onClick:function(){b.showImportTemplateDialog()}})).placeAt(this.buttonAttach)}},showNewTemplateDialog:function(){var a=new r({title:i18n("Create Resource Template"),closable:!0,draggable:!0,description:i18n("Resource templates define sets of resources which can be applied to the actual resource tree in order to make standardization and initial configuration of target environments easier. To create a resource template, specify the contents and organization of the template, including resources, groups, and agent prototypes.")});
(new q({callback:function(b){a.hide();a.destroy();b&&navBar.setHash("#resourceTemplate/"+b.id)}})).placeAt(a.containerNode);a.show()},showImportTemplateDialog:function(){var a=new r({title:i18n("Import Resource Template"),closable:!0,draggable:!0,description:i18n("If you have a virtual system pattern on a cloud system, you can import that pattern as a resource template. This resource template is a pattern from which you can provision cloud resources. Before you can import a pattern as a resource template, you must create a virtual system pattern on a compatible cloud system. Each node in this pattern must include the Install %s Agent script package.",
bootstrap.productName)});(new o({callback:function(b){a.hide();a.destroy();b&&navBar.setHash("#resourceTemplate/"+b.id)}})).placeAt(a.containerNode);a.show()},showCompareDialog:function(a){(new n({resourceTemplate:a})).show()},confirmDelete:function(a){var b=this;new t({message:i18n("Are you sure you want to delete resource template '%s'?",a.name),action:function(){k.del({url:bootstrap.restUrl+"resource/resourceTemplate/"+a.id,handleAs:"json",load:function(){b.table.refresh()},error:function(a){(new s({message:a.responseText})).startup()}})}})}})})},
"deploy/widgets/applicationProcessRequest/RequestConfigurationChanges":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/CheckBox,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/dom-style,dojo/json,dojo/on,js/webext/widgets/Dialog,js/webext/widgets/Table,js/webext/widgets/table/TreeTable".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o){return j([m,l],{templateString:'<div class="snapshotConfiguration"><div data-dojo-attach-point="configTree"></div></div>',postCreate:function(){this.inherited(arguments);
this.excludeAgentProperties=this.excludeUnchanged=!0;this.configTree.innerHTML=i18n("Loading...");this.makeRequest()},makeRequest:function(){var a=this;f.get({url:bootstrap.restUrl+"deploy/applicationProcessRequest/"+this.applicationProcessRequest.id+"/configurationChanges",handleAs:"json",load:function(b){a.makeTable(b)},error:function(b){a.configTree.innerHTML=i18n("Error getting configuration changes: %s",util.escape(b.responseText))}})},makeTable:function(a){var b=this;this.configTree.innerHTML=
"";var h=[{name:i18n("Name"),orderField:"name",filterField:"name",filterType:"text",getRawValue:function(a){return a.path?a.path:a.id},formatter:function(a,b,d){c.set(d,{wordBreak:"break-all",width:"30%"});a.path?(d.colSpan=3,a=i18n("Changes to: %s",a.path.escape())):a=a.id.escape();return a}},{name:i18n("Current Value"),orderField:"current",filterField:"current",filterType:"text",getRawValue:function(a){if(a.old)return a.old.escape()},formatter:function(a,b,d){c.set(d,{wordBreak:"break-all"});if(a.old)return a.old.escape()}},
{name:i18n("New Value"),orderField:"new",filterField:"new",filterType:"text",getRawValue:function(a){if(a["new"])return a["new"].escape()},formatter:function(a,b,d){c.set(d,{wordBreak:"break-all"});if(a["new"])return a["new"].escape()}}];b.tree=new o({data:a,itemPasses:function(a){var c=!1;if(a.path)c=!0;else if(!b.excludeUnchanged||a.old!==a["new"])if(!b.excludeAgentProperties||0!==a.id.indexOf("agent/"))c=!0;return c},serverSideProcessing:!1,orderField:"name",tableConfigKey:"snapshotConfigList",
noDataMessage:i18n("No configuration found."),columns:h,hidePagination:!1});b.tree.placeAt(b.configTree);(new k({checked:!0,value:"true",onChange:function(a){b.excludeUnchanged=a;b.tree.refresh()}})).placeAt(b.tree.buttonAttach);a=document.createElement("div");e.add(a,"inlineBlock");a.style.position="relative";a.style.top="2px";a.style.left="2px";a.innerHTML=i18n("Hide Unchanged Properties");b.tree.buttonAttach.appendChild(a);d.create("div",{style:{height:"5px"}},b.tree.buttonAttach);(new k({checked:!0,
value:"true",onChange:function(a){b.excludeAgentProperties=a;b.tree.refresh()}})).placeAt(b.tree.buttonAttach);a=document.createElement("div");e.add(a,"inlineBlock");a.style.position="relative";a.style.top="2px";a.style.left="2px";a.innerHTML=i18n("Hide Agent Properties");b.tree.buttonAttach.appendChild(a)}})})},"deploy/widgets/environmentTemplate/EnvironmentTemplateEditManager":function(){define("dojo/_base/array,dojo/_base/declare,dojo/on,dojo/dom-construct,js/webext/widgets/TwoPaneListManager,deploy/widgets/environmentTemplate/EditEnvironmentTemplate,deploy/widgets/property/PropDefs".split(","),
function(l,m,k,j,f,e,d){return m([f],{postCreate:function(){this.inherited(arguments);this.showList();void 0!==appState.goBack.id&&this.selectEntryById(appState.goBack.id)},showList:function(){var c=this;c.addEntry({id:"basic",label:i18n("Basic Settings"),action:function(){c.addHeading(i18n("Basic Settings"));c.showBasicSettings()}});c.addEntry({id:"properties",label:i18n("Environment Properties"),action:function(){c.addHeading(i18n("Environment Properties"));c.showProperties()}})},addHeading:function(c){j.create("div",
{innerHTML:c,"class":"containerLabel",style:{padding:"10px"}},this.detailAttach)},addDescription:function(c){j.create("div",{innerHTML:c,style:{marginBottom:"10px"}},this.detailAttach)},showBasicSettings:function(){(new e({environmentTemplate:appState.environmentTemplate,applicationTemplate:appState.applicationTemplate,readOnly:!appState.environmentTemplate.security["Edit Basic Settings"]||!this.isMaxVersion(),callback:function(){navBar.setHash("#environmentTemplate/"+appState.environmentTemplate.id+
"/-1",!1,!0)}})).placeAt(this.detailAttach)},showProperties:function(){var c=this.isMaxVersion(),b=null,a=null;c?a="applicationTemplates/"+appState.applicationTemplate.id+"/environmentTemplates/"+appState.environmentTemplate.id+"/propSheetDef":b=appState.environmentTemplate.propDefs;this.addDescription(i18n("Define properties here to be given values on each environment using this template."));(new d({propDefs:b,propSheetDefPath:a,readOnly:!appState.environmentTemplate.security["Manage Properties"]||
!c,refreshHash:"environmentTemplate/"+appState.environmentTemplate.id+"/-1/configuration/properties",headers:{environmentTemplateVersion:appState.environmentTemplate.version}})).placeAt(this.detailAttach)},isMaxVersion:function(){return appState.environmentTemplate.version===appState.environmentTemplate.versionCount}})})},"dojo/json":function(){define(["./has"],function(l){var m="undefined"!=typeof JSON;l.add("json-parse",m);l.add("json-stringify",m&&'{"a":1}'==JSON.stringify({a:0},function(j,f){return f||
1}));if(l("json-stringify"))return JSON;var k=function(j){return('"'+j.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:l("json-parse")?JSON.parse:function(j,f){if(f&&!/^([\s\[\{]*(?:"(?:\\.|[^"])+"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(j))throw new SyntaxError("Invalid characters in JSON");return eval("("+j+")")},stringify:function(j,f,e){function d(b,
a,h){f&&(b=f(h,b));var j;j=typeof b;if("number"==j)return isFinite(b)?b+"":"null";if("boolean"==j)return b+"";if(null===b)return"null";if("string"==typeof b)return k(b);if("function"==j||"undefined"==j)return c;if("function"==typeof b.toJSON)return d(b.toJSON(h),a,h);if(b instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(a,c,d){a=b["getUTC"+c]()+(d?1:0);return 10>a?"0"+a:a});if(b.valueOf()!==b)return d(b.valueOf(),a,h);var o=e?a+e:
"",n=e?" ":"",s=e?"\n":"";if(b instanceof Array){for(var n=b.length,r=[],h=0;h<n;h++)j=d(b[h],o,h),"string"!=typeof j&&(j="null"),r.push(s+o+j);return"["+r.join(",")+s+a+"]"}r=[];for(h in b){var t;if(b.hasOwnProperty(h)){if("number"==typeof h)t='"'+h+'"';else if("string"==typeof h)t=k(h);else continue;j=d(b[h],o,h);"string"==typeof j&&r.push(s+o+t+":"+n+j)}}return"{"+r.join(",")+s+a+"}"}var c;"string"==typeof f&&(e=f,f=null);return d(j,"","")}}})},"js/webext/widgets/select/WebextSelect":function(){define("js/webext/widgets/select/WebextSelect",
"dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/_base/lang,dojo/_base/array,dojo/_base/xhr,dojo/_base/json,dojo/aspect,dojo/window,dojo/on,dojo/mouse,dojo/dom-construct,dojo/dom-class,dojo/dom-style,dojo/dom-attr,dojo/dom-geometry,dojo/when,dijit/form/FilteringSelect,js/util/loading/LoadingSpinner".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u){return k("js.webext.widgets.select.WebextSelect",[m,l],{templateString:'<div class="webext-select combo-check-box-select filtering-scroll-select"><div class="combo-box-attach" data-dojo-attach-point="comboBoxAttachPoint"></div></div>',
store:null,displayedValue:null,searchAttr:"name",value:"",queryExpr:"${0}*",pageSize:30,maxHeight:280,allowNone:!1,autoSelectFirst:!1,readOnly:!1,required:!1,trim:!1,validate:!0,postCreate:function(){this.inherited(arguments);var b=this;this._createDropDownWidget();this._attachDropDownEvents();if(!b.required&&b.allowNone&&!b.readOnly){var d=q.create("div",{className:"clear-container"},b.dropDown.domNode),d=q.create("div",{className:"icon_delete",title:i18n("Clear Selection")},d);this.own(a(d,"click",
function(){b.dropDown.set("value","",void 0,void 0,"")}))}b._setInitialValue();c.after(b.dropDown,"_startSearch",function(){b._spinner&&b._spinner.show();var a=b.dropDown.dropDown;a._webextData||(b._setupInfiniteScroll(a),b._setupStylingInterceptors(a))});c.after(b.store,"query",function(a){t(a,function(){},function(a){a.dojoType&&"cancel"===a.dojoType||(b.onQueryError(a),b._spinner&&b._spinner.hide())});return a})},_createDropDownWidget:function(){this.dropDown=new w({autoComplete:!1,labelAttr:this.searchAttr,
maxHeight:this.maxHeight,pageSize:this.pageSize,placeHolder:this.placeHolder,query:this.defaultQuery||{},readOnly:this.readOnly||!1,required:this.required||!1,searchAttr:this.searchAttr,queryExpr:this.queryExpr,store:this.store,style:this.style});this.dropDown.placeAt(this.comboBoxAttachPoint);this._spinner=(new u({color:"blue"})).placeAt(this.dropDown)},_attachDropDownEvents:function(){var b=this;b.dropDown.on("change",function(a){var c=b.dropDown.item;if(c)b.onChange(a,c);else b.onChange(null,c)});
b.dropDown.own(a(b.dropDown,"blur",function(){b._spinner&&b._spinner.hide()}));c.after(b.dropDown,"_setValueAttr",function(a,c,d,h){o.remove(b.dropDown.domNode,"dijitPlaceHolder");h?(o.add(b.domNode,"has-value"),b.onSetItem(a,h)):(o.remove(b.domNode,"has-value"),b.onSetItem(null,h))},!0)},_setInitialValue:function(){var a=this;a.value?(this.dropDown.set("value",a.value,!1,a.value+"...",{}),o.add(this.dropDown.domNode,"dijitPlaceHolder"),this.dropDown.set("value",a.value)):a.displayedValue?a.dropDown.set("displayedValue",
a.displayedValue):a.autoSelectFirst&&a.store.query(a.defaultQuery||{},{count:1}).forEach(function(b){a.dropDown.set("item",b,!1,b[a.searchAttr])})},_setupInfiniteScroll:function(a){var b=this;a._webextData={isLoading:!1};a.on("scroll",function(){if(a.nextButton){var b=r.position(a.domNode),c=b.h,b=b.y,d=r.position(a.nextButton),h=d.h;if(200>=d.y-(c+b)&&0!==h&&!a._webextData.isLoading)a._webextData.isLoading=!0,a.onPage(1)}});c.around(b.dropDown,"_openResultList",function(c){return function(){b._spinner&&
b._spinner.hide();var d=a.domNode.scrollTop,h=a.getHighlightedOption();c.apply(b.dropDown,arguments);a.set("selected",h);a.domNode.scrollTop=d;a._webextData.isLoading=!1}});c.around(a,"createOptions",function(c){return function(d,h,e){var f=b.onFilterResult(d),d=a.items||[];c.apply(a,[f,h,e]);if(a._webextData.isLoading&&(a.items=d.concat(f),a.nextButton))for(h=a.nextButton.previousSibling;h;)e=Number(h.getAttribute("item")),h.setAttribute("item",e+d.length),h=0===e?null:h.previousSibling;if(a.previousButton)a.previousButton.style.display=
"none";if(a.nextButton)a.nextButton.innerHTML=i18n("Loading...")}});c.around(a,"clearResultList",function(b){return function(){a._webextData.isLoading||b.apply(a,arguments)}})},_setupStylingInterceptors:function(a){var b=this;c.around(a,"_createOption",function(c){return function(d,h){var e=c.apply(a,arguments);b.formatDropDownLabel(e,d);return e}})},formatDropDownLabel:function(){},_setValueAttr:function(a){this.dropDown&&this.dropDown.set("value",a)},_setDisplayedValueAttr:function(a){this.dropDown&&
this.dropDown.set("displayedValue",a)},_getValueAttr:function(){return this.dropDown.get("value")},_getItemAttr:function(){return this.dropDown.get("item")},onChange:function(){},onSetItem:function(){},onQueryError:function(){},onFilterResult:function(a){return a},focus:function(){}})})},"deploy/widgets/resourceTemplate/EditResourceTemplate":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/_base/xhr,js/webext/widgets/ColumnForm,js/webext/widgets/Alert,deploy/widgets/security/TeamSelector".split(","),
function(l,m,k,j,f,e,d){return k([m,l],{templateString:'<div class="editResourceTemplate">  <div data-dojo-attach-point="formAttach"></div></div>',postCreate:function(){this.inherited(arguments);var c=this;this.readOnly=!1;if(this.resourceTemplate)this.readOnly=!this.resourceTemplate.security["Edit Basic Settings"];this.existingValues={};if(this.resourceTemplate)this.existingValues=this.resourceTemplate;else{if(this.sourceResource)this.existingValues.name=this.sourceResource.name;j.get({url:bootstrap.restUrl+
"security/teamsWithCreateAction/Resource Template",handleAs:"json",sync:!0,load:function(a){c.existingValues.extendedSecurity={teams:a}}})}this.form=new f({submitUrl:bootstrap.restUrl+"resource/resourceTemplate",readOnly:c.readOnly,showButtons:!c.readOnly,postSubmit:function(a){void 0!==c.callback&&c.callback(a)},addData:function(a){if(c.resourceTemplate)a.existingId=c.existingValues.id;if(c.sourceResource)a.sourceResourceId=c.sourceResource.id;a.teamMappings=c.teamSelector.teams},onError:function(a){a.responseText&&
new e({message:util.escape(a.responseText)})},onCancel:function(){void 0!==c.callback&&c.callback()}});this.form.addField({name:"name",label:i18n("Name"),required:!0,type:"Text",value:this.existingValues.name});this.form.addField({name:"description",label:i18n("Description"),type:"Text",value:this.existingValues.description});if(this.existingValues.parent||!this.existingValues.id){var b={};if(this.application)b.forApplication=this.application.id;this.form.addField({name:"parentId",label:i18n("Parent Template"),
description:i18n("A resource template can use another existing template as its parent. If a parent is selected, all resources in the parent template will be inherited by the child, but the child template can still add additional resources as an overlay to the parent template. The parent cannot be changed after creating a resource template."),type:"TableFilterSelect",url:bootstrap.restUrl+"resource/resourceTemplate/couldBeParent",defaultQuery:b,readOnly:!!this.existingValues.id,value:this.existingValues.parent?
this.existingValues.parent.id:void 0})}this.application&&this.form.addField({name:"applicationId",type:"Invisible",value:this.application.id});b=[];if(c.existingValues&&c.existingValues.extendedSecurity&&c.existingValues.extendedSecurity.teams)b=c.existingValues.extendedSecurity.teams;this.teamSelector=new d({resourceRoleType:"Resource Template",noneLabel:i18n("Standard Resource Template"),teams:b});this.form.addField({name:"teams",label:i18n("Teams"),type:"Text",description:i18n("In the <b>Teams</b> field, add the teams that should be able to use the new resource template."),
widget:this.teamSelector});this.form.placeAt(this.formAttach)}})})},"deploy/widgets/agentPool/AgentPoolList":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dijit/form/CheckBox,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/on,deploy/widgets/Formatters,deploy/widgets/agentPool/EditAgentPool,js/webext/widgets/Alert,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/table/TreeTable".split(","),function(l,m,k,j,f,e,d,c,b,a,h,
q,o,n,s){return f("deploy.widgets.agentPool.AgentPoolList",[m,l],{templateString:'<div class="agentPoolList"><div class="listTopButtons" data-dojo-attach-point="buttonTopAttach"></div><div data-dojo-attach-point="tableAttach"></div><div data-dojo-attach-point="activeBoxAttach" style="margin: 2px;"></div></div>',postCreate:function(){this.inherited(arguments);var b=this,c=bootstrap.restUrl+"agent/pool/",h=[{name:i18n("Name"),formatter:a.agentPoolLinkFormatter,orderField:"name",filterField:"name",filterType:"text"},
{name:i18n("Description"),field:"description"},{name:i18n("Status"),formatter:a.agentStatusFormatter},{name:i18n("Actions"),formatter:this.actionsFormatter,parentWidget:this}];this.grid=new s({url:c,orderField:"name",sortType:"asc",noDataMessage:i18n("No agent pools have been added yet."),tableConfigKey:"agentPoolList",columns:h,serverSideProcessing:!0,hidePagination:!1,hideExpandCollapse:!0,queryData:{outputType:["BASIC","SECURITY"]}});this.grid.placeAt(this.tableAttach);if(config.data.systemConfiguration.enableInactiveLinks)(new j({checked:!1,
value:"true",onChange:function(a){b.grid.baseFilters=a?[]:[{name:"active",type:"eq",className:"Boolean",values:[!0]}];b.grid.refresh()}})).placeAt(this.activeBoxAttach),c=document.createElement("div"),d.add(c,"inlineBlock"),c.style.position="relative",c.style.top="2px",c.style.left="2px",c.innerHTML=i18n("Show Inactive Agent Pools"),this.activeBoxAttach.appendChild(c);config.data.permissions[security.system.createAgentPools]&&(c={label:i18n("Create Agent Pool"),showTitle:!1,onClick:function(){b.showNewAgentPoolDialog()}},
c=new k(c),d.add(c.domNode,"idxButtonSpecial"),c.placeAt(this.buttonTopAttach))},actionsFormatter:function(a){var d=this.parentWidget,h=document.createElement("div");if(a.security["Edit Basic Settings"]){var f=document.createElement("a");f.innerHTML=i18n("Edit");f.className="actionsLink";f.href="#agentPool/"+a.id+"/configuration";h.appendChild(f)}f=c.create("a",{"class":"actionsLink linkPointer",innerHTML:i18n("Copy")},h);b(f,"click",function(){e.get({url:bootstrap.restUrl+"agent/pool/"+a.id,handleAs:"json",
load:function(a){d.showNewAgentPoolDialog(a)}})});a.security.Delete&&(f=c.create("a",{"class":"actionsLink linkPointer",innerHTML:i18n("Delete")},h),b(f,"click",function(){d.confirmDelete(a)}));return h},showNewAgentPoolDialog:function(a){var b=new o({title:i18n("Create Agent Pool"),closable:!0,draggable:!0,description:i18n("Agent pools help you organize and manage agents that are installed in different environments. To create an agent pool, specify the agents that are the members of the pool.")});
(new h({source:a,callback:function(){b.hide();b.destroy()}})).placeAt(b.containerNode);b.show()},confirmDelete:function(a){var b=this;new n({message:i18n("Are you sure you want to delete %s? This will permanently delete it from the system.",a.name.escape()),action:function(){b.grid.block();e.del({url:bootstrap.restUrl+"agent/pool/"+a.id,handleAs:"json",load:function(){b.grid.unblock();b.grid.refresh()},error:function(a){(new q({messages:[i18n("Error deleting Agent Pool"),"",util.escape(a.responseText)]})).startup();
b.grid.unblock()}})}})}})})},"dijit/form/FilteringSelect":function(){define("dijit/form/FilteringSelect","dojo/data/util/filter,dojo/_base/declare,dojo/_base/lang,dojo/when,./MappedTextBox,./ComboBoxMixin".split(","),function(l,m,k,j,f,e){return m("dijit.form.FilteringSelect",[f,e],{required:!0,_lastDisplayedValue:"",_isValidSubset:function(){return this._opened},isValid:function(){return!!this.item||!this.required&&""==this.get("displayedValue")},_refreshState:function(){this.searchTimer||this.inherited(arguments)},
_callbackSetLabel:function(d,c,b,a){c&&c[this.searchAttr]!==this._lastQuery||!c&&d.length&&this.store.getIdentity(d[0])!=this._lastQuery||(d.length?this.set("item",d[0],a):this.set("value","",a||void 0===a&&!this.focused,this.textbox.value,null))},_openResultList:function(d,c,b){c[this.searchAttr]===this._lastQuery&&(this.inherited(arguments),void 0===this.item&&this.validate(!0))},_getValueAttr:function(){return this.valueNode.value},_getValueField:function(){return"value"},_setValueAttr:function(d,
c,b,a){this._onChangeActive||(c=null);if(void 0===a){if(null===d||""===d)if(d="",!k.isString(b)){this._setDisplayedValueAttr(b||"",c);return}var h=this;this._lastQuery=d;j(this.store.get(d),function(a){h._callbackSetLabel(a?[a]:[],void 0,void 0,c)})}else this.valueNode.value=d,this.inherited(arguments)},_setItemAttr:function(d,c,b){this.inherited(arguments);this._lastDisplayedValue=this.textbox.value},_getDisplayQueryString:function(d){return d.replace(/([\\\*\?])/g,"\\$1")},_setDisplayedValueAttr:function(d,
c){null==d&&(d="");if(!this._created){if(!("displayedValue"in this.params))return;c=!1}if(this.store){this.closeDropDown();var b=k.clone(this.query),a=this._getDisplayQueryString(d),h;this.store._oldAPI?h=a:(h=l.patternToRegExp(a,this.ignoreCase),h.toString=function(){return a});this._lastQuery=b[this.searchAttr]=h;this._lastDisplayedValue=this.textbox.value=d;this._set("displayedValue",d);var e=this,f={ignoreCase:this.ignoreCase,deep:!0};k.mixin(f,this.fetchProperties);this._fetchHandle=this.store.query(b,
f);j(this._fetchHandle,function(a){e._fetchHandle=null;e._callbackSetLabel(a||[],b,f,c)},function(a){e._fetchHandle=null;e._cancelingQuery||console.error("dijit.form.FilteringSelect: "+a.toString())})}},undo:function(){this.set("displayedValue",this._lastDisplayedValue)}})})},"deploy/widgets/settings/diagnostics/RequestAuditEntryList":function(){define("dojo/_base/declare,dijit/_Widget,dijit/_TemplatedMixin,dojo/dom-class,dojo/dom-construct,dojo/on,dojo/_base/xhr,dijit/form/Button,deploy/widgets/Formatters,js/webext/widgets/table/TreeTable".split(","),
function(l,m,k,j,f,e,d,c,b,a){return l([m,k],{templateString:'<div class="requestList"><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var b=bootstrap.restUrl+"audit/request",c=[{name:i18n("User"),orderField:"user.name",filterField:"user.name",field:"user.name",formatter:function(a){var b="Anonymous";if(a.user)b=a.user.name;return b},filterType:"text"},{name:i18n("Date"),field:"date",formatter:util.tableDateFormatter,orderField:"date",getRawValue:function(a){return new Date(a.date)}},
{name:i18n("Duration"),field:"duration",orderField:"duration",formatter:function(a,b){return util.formatDuration(b)}},{name:i18n("Method"),orderField:"method",filterField:"method",field:"method",filterType:"text"},{name:i18n("URL"),orderField:"shortUrl",filterField:"shortUrl",field:"shortUrl",filterType:"text"}];this.grid=new a({url:b,noDataMessage:i18n("No Entries Found."),tableConfigKey:"requestAuditEntryTable",orderField:"date",hidePagination:!1,hideExpandCollapse:!0,columns:c});this.grid.placeAt(this.gridAttach);
i18n("Cleanup Log")},destroy:function(){this.inherited(arguments);this.grid.destroy()}})})},"deploy/widgets/property/PropSheetDiffReportTable":function(){define("dijit/_Widget,dijit/_TemplatedMixin,dojo/_base/declare,dojo/dom-class,dojo/dom-construct,js/webext/widgets/table/TreeTable".split(","),function(l,m,k,j,f,e){return k([l,m],{templateString:'<div class="prop-sheet-diff-report-table"><div data-dojo-attach-point="treeAttach"></div></div>',leftColumnName:i18n("Left"),rightColumnName:i18n("Right"),
applyStatusColor:function(d,c){d.errored?j.add(c,"table-compare-error"):d.different&&j.add(c,"table-compare-changed")},postCreate:function(){this.inherited(arguments);var d=this,c,b;null!==d.propSheetDiffReport&&void 0!==d.propSheetDiffReport?c=d.propSheetDiffReport:b=d.url;d.tree=new e({data:c,url:b,hideExpandCollapse:!0,hidePagination:!1,hideFooterLinks:!0,columns:[{name:i18n("Name"),formatter:function(a,b,c){d.applyStatusColor(a,c);return d.getDisplayName(a)}},{name:d.leftColumnName,formatter:function(a,
b,c){d.applyStatusColor(a,c);return d.getLeftValue(a)}},{name:d.rightColumnName,formatter:function(a,b,c){d.applyStatusColor(a,c);return d.getRightValue(a)}}]});d.tree.placeAt(d.treeAttach)},getDisplayName:function(d){var c=d.name;d.leftPropDef?c=i18n(d.leftPropDef.label):d.rightPropDef&&(c=i18n(d.rightPropDef.label));return c},getLeftSecurity:function(){},getRightSecurity:function(){},getLeftValue:function(d){var c="";if(d.leftPropValue)c=d.leftPropValue.value;else if(d.leftPropDef)c=d.leftPropDef.value;
return c},getRightValue:function(d){var c="";if(d.rightPropValue)c=d.rightPropValue.value;else if(d.rightPropDef)c=d.rightPropDef.value;return c}})})},"dijit/form/_FormValueWidget":function(){define("dijit/form/_FormValueWidget",["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(l,m,k,j){return l("dijit.form._FormValueWidget",[k,j],{_layoutHackIE7:function(){if(7==m("ie"))for(var f=this.domNode,e=f.parentNode,d=f.firstChild||f,c=d.style.filter,b=this;e&&0==e.clientHeight;)(function(){var a=
b.connect(e,"onscroll",function(){b.disconnect(a);d.style.filter=(new Date).getMilliseconds();b.defer(function(){d.style.filter=c})})})(),e=e.parentNode}})})},"dojox/date/islamic/locale":function(){define("dojox/date/islamic/locale","../..,dojo/_base/lang,dojo/_base/array,dojo/date,dojo/i18n,dojo/regexp,dojo/string,./Date,dojo/i18n!dojo/cldr/nls/islamic".split(","),function(l,m,k,j,f,e,d,c){function b(a,b,c,h,e){return e.replace(/([a-z])\1*/ig,function(c){var h,f,o=c.charAt(0),c=c.length,r=["abbr",
"wide","narrow"];switch(o){case "G":h=b.eraAbbr[0];break;case "y":h=""+a.getFullYear();break;case "M":h=a.getMonth();3>c?(h+=1,f=!0):(o=["months-format",r[c-3]].join("-"),h=b[o][h]);break;case "d":h=a.getDate(!0);f=!0;break;case "E":h=a.getDay();3>c?(h+=1,f=!0):(o=["days-format",r[c-3]].join("-"),h=b[o][h]);break;case "a":h=12>a.getHours()?"am":"pm";h=b["dayPeriods-format-wide-"+h];break;case "h":case "H":case "K":case "k":f=a.getHours();switch(o){case "h":h=f%12||12;break;case "H":h=f;break;case "K":h=
f%12;break;case "k":h=f||24}f=!0;break;case "m":h=a.getMinutes();f=!0;break;case "s":h=a.getSeconds();f=!0;break;case "S":h=Math.round(a.getMilliseconds()*Math.pow(10,c-3));f=!0;break;case "z":if(h=j.getTimezoneName(a.toGregorian()))break;c=4;case "Z":h=a.toGregorian().getTimezoneOffset();h=[0>=h?"+":"-",d.pad(Math.floor(Math.abs(h)/60),2),d.pad(Math.abs(h)%60,2)];4==c&&(h.splice(0,0,"GMT"),h.splice(3,0,":"));h=h.join("");break;default:throw Error("dojox.date.islamic.locale.formatPattern: invalid pattern char: "+
e);}f&&(h=d.pad(h,c));return h})}function a(a,b,c,d){var h=function(a){return a},b=b||h,c=c||h,d=d||h,e=a.match(/(''|[^'])+/g),f="'"==a.charAt(0);k.forEach(e,function(a,d){a?(e[d]=(f?c:b)(a),f=!f):e[d]=""});return d(e.join(""))}function h(a,b,c,d){d=e.escapeString(d);f.normalizeLocale(c.locale);return d.replace(/([a-z])\1*/ig,function(d){var h;h=d.charAt(0);var e=d.length,f="";c.strict?1<e&&(f="0{"+(e-1)+"}"):f="0?";switch(h){case "y":h="\\d+";break;case "M":h=2<e?"\\S+ ?\\S+":f+"[1-9]|1[0-2]";break;
case "d":h="[12]\\d|"+f+"[1-9]|3[01]";break;case "E":h="\\S+";break;case "h":h=f+"[1-9]|1[0-2]";break;case "k":h=f+"\\d|1[01]";break;case "H":h=f+"\\d|1\\d|2[0-3]";break;case "K":h=f+"[1-9]|1\\d|2[0-4]";break;case "m":case "s":h=f+"\\d|[0-5]\\d";break;case "S":h="\\d{"+e+"}";break;case "a":e=c.am||b["dayPeriods-format-wide-am"];f=c.pm||b["dayPeriods-format-wide-pm"];c.strict?h=e+"|"+f:(h=e+"|"+f,e!=e.toLowerCase()&&(h+="|"+e.toLowerCase()),f!=f.toLowerCase()&&(h+="|"+f.toLowerCase()));break;default:h=
".*"}a&&a.push(d);return"("+h+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var q=m.getObject("date.islamic.locale",!0,l);q.format=function(c,d){var d=d||{},h=f.normalizeLocale(d.locale),e=d.formatLength||"short",o=q._getIslamicBundle(h),j=[],h=m.hitch(this,b,c,o,h,d.fullYear);if("year"==d.selector)return c.getFullYear();if("time"!=d.selector){var k=d.datePattern||o["dateFormat-"+e];k&&j.push(a(k,h))}"date"!=d.selector&&(e=d.timePattern||o["timeFormat-"+e])&&j.push(a(e,h));return j.join(" ")};q.regexp=function(a){return q._parseInfo(a).regexp};
q._parseInfo=function(b){var b=b||{},c=f.normalizeLocale(b.locale),c=q._getIslamicBundle(c),d=b.formatLength||"short",e=b.datePattern||c["dateFormat-"+d],d=b.timePattern||c["timeFormat-"+d],o=[];return{regexp:a("date"==b.selector?e:"time"==b.selector?d:"undefined"==typeof d?e:e+" "+d,m.hitch(this,h,o,c,b)),tokens:o,bundle:c}};q.parse=function(a,b){a=a.replace(/[\u200E\u200F\u202A\u202E]/g,"");b||(b={});var d=q._parseInfo(b),h=d.tokens,e=d.bundle,d=d.regexp.replace(/[\u200E\u200F\u202A\u202E]/g,""),
d=RegExp("^"+d+"$").exec(a);f.normalizeLocale(b.locale);if(!d)return null;var o=[1389,0,1,0,0,0,0],j="",v=["abbr","wide","narrow"];k.every(d,function(a,c){if(!c)return!0;var d=h[c-1],f=d.length;switch(d.charAt(0)){case "y":o[0]=Number(a);break;case "M":if(2<f){if(d=e["months-format-"+v[f-3]].concat(),b.strict||(a=a.replace(".","").toLowerCase(),d=k.map(d,function(a){return a?a.replace(".","").toLowerCase():a})),a=k.indexOf(d,a),-1==a)return!1}else a--;o[1]=Number(a);break;case "D":o[1]=0;case "d":o[2]=
Number(a);break;case "a":d=b.am||e["dayPeriods-format-wide-am"];f=b.pm||e["dayPeriods-format-wide-pm"];if(!b.strict)var n=/\./g,a=a.replace(n,"").toLowerCase(),d=d.replace(n,"").toLowerCase(),f=f.replace(n,"").toLowerCase();if(b.strict&&a!=d&&a!=f)return!1;j=a==f?"p":a==d?"a":"";break;case "K":24==a&&(a=0);case "h":case "H":case "k":o[3]=Number(a);break;case "m":o[4]=Number(a);break;case "s":o[5]=Number(a);break;case "S":o[6]=Number(a)}return!0});d=+o[3];"p"===j&&12>d?o[3]=d+12:"a"===j&&12==d&&(o[3]=
0);return new c(o[0],o[1],o[2],o[3],o[4],o[5],o[6])};var o=[];q.addCustomFormats=function(a,b){o.push({pkg:a,name:b})};q._getIslamicBundle=function(a){var b={};k.forEach(o,function(c){c=f.getLocalization(c.pkg,c.name,a);b=m.mixin(b,c)},this);return b};q.addCustomFormats("dojo.cldr","islamic");q.getNames=function(a,b,c,d){var h,d=q._getIslamicBundle(d),a=[a,c,b];"standAlone"==c&&(c=a.join("-"),h=d[c],1==h[0]&&(h=void 0));a[1]="format";return(h||d[a.join("-")]).concat()};q.weekDays=q.getNames("days",
"wide","format");q.months=q.getNames("months","wide","format");return q})},"dojox/rpc/Rest":function(){define("dojox/rpc/Rest",["dojo","dojox"],function(l,m){function k(f,e,d){f.addCallback(function(c){if(f.ioArgs.xhr&&d)d=f.ioArgs.xhr.getResponseHeader("Content-Range"),f.fullLength=d&&(d=d.match(/\/(.*)/))&&parseInt(d[1]);return c});return f}l.getObject("rpc.Rest",!0,m);m.rpc&&m.rpc.transportRegistry&&m.rpc.transportRegistry.register("REST",function(f){return"REST"==f},{getExecutor:function(f,e,
d){return new m.rpc.Rest(e.name,(e.contentType||d._smd.contentType||"").match(/json|javascript/),null,function(c,b){var a=d._getRequest(e,[c]);a.url=a.target+(a.data?"?"+a.data:"");if(b&&(0<=b.start||0<=b.count))a.headers=a.headers||{},a.headers.Range="items="+(b.start||"0")+"-"+("count"in b&&Infinity!=b.count?b.count+(b.start||0)-1:"");return a})}});var j;j=m.rpc.Rest=function(f,e,d,c){function b(b){a[b]=function(c,d){return j._change(b,a,c,d)}}var a;a=function(b,c){return j._get(a,b,c)};a.isJson=
e;a._schema=d;a.cache={serialize:e?(m.json&&m.json.ref||l).toJson:function(a){return a}};a._getRequest=c||function(a,b){l.isObject(a)&&(a=(a=l.objectToQuery(a))?"?"+a:"");if(b&&b.sort&&!b.queryStr){for(var a=a+((a?"&":"?")+"sort("),c=0;c<b.sort.length;c++)var d=b.sort[c],a=a+((0<c?",":"")+(d.descending?"-":"+")+encodeURIComponent(d.attribute));a+=")"}c={url:f+(null==a?"":a),handleAs:e?"json":"text",contentType:e?"application/json":"text/plain",sync:m.rpc._sync,headers:{Accept:e?"application/json,application/javascript":
"*/*"}};if(b&&(0<=b.start||0<=b.count))c.headers.Range="items="+(b.start||"0")+"-"+("count"in b&&Infinity!=b.count?b.count+(b.start||0)-1:"");m.rpc._sync=!1;return c};b("put");b("post");b("delete");a.servicePath=f;return a};j._index={};j._timeStamps={};j._change=function(f,e,d,c){d=e._getRequest(d);d[f+"Data"]=c;return k(l.xhr(f.toUpperCase(),d,!0),e)};j._get=function(f,e,d){d=d||{};return k(l.xhrGet(f._getRequest(e,d)),f,0<=d.start||0<=d.count,e)};return j})},"deploy/widgets/snapshot/SnapshotConfiguration":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dojo/_base/xhr,dojo/dom-construct,dojo/on,deploy/widgets/property/PropValues,js/webext/widgets/Alert,js/webext/widgets/ColumnForm,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/table/TreeTable".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s){return f("deploy.widgets.snapshot.SnapshotConfiguration",[m,l],{templateString:'<div class="snapshotConfiguration"><div data-dojo-attach-point="buttonAttach"></div><div data-dojo-attach-point="configTree"></div></div>',postCreate:function(){this.inherited(arguments);var a=this,b=bootstrap.restUrl+"deploy/snapshot/"+this.snapshotId+"/configurationByPath/",d=[{name:i18n("Name"),field:"name",formatter:function(a){return i18n(a.name)},getRawValue:function(a){return a.name}},
{name:i18n("Version"),formatter:function(a){var b;!0===a.locked?b=a.version:void 0!==a.version&&null!==a.version&&(b=i18n("Latest (%s)",a.versionCount));return b}},{name:i18n("Commit"),formatter:function(a){var b="";a.commit&&(b=i18n("%s on %s",a.commit.committer,util.dateFormatShort(a.commit.commitTime)));return b}},{name:i18n("Actions"),formatter:this.actionsFormatter,parentWidget:this}];this.tree=new s({url:b+"base",serverSideProcessing:!1,hideExpandCollapse:!0,orderField:"name",noDataMessage:i18n("No configuration found."),
columns:d,hasChildren:function(a){return!!a.treePath},getChildUrl:function(a){return b+util.encodeIgnoringSlash(a.treePath)}});this.tree.placeAt(this.configTree);if(!this.readOnly){var d=c.create("table",{style:{width:"620px",borderSpacing:"10px",borderCollapse:"separate"}},this.buttonAttach),h=c.create("tr",{},d),e=c.create("td",{},h);(new k({label:i18n("Copy from Snapshot"),showTitle:!1,onClick:function(){a.showCopyFromSnapshotDialog()}})).placeAt(e);c.create("td",{innerHTML:i18n("Copies all selected configuration versions from another snapshot.")},
h);h=c.create("tr",{},d);e=c.create("td",{},h);(new k({label:i18n("Reset All to Latest"),showTitle:!1,onClick:function(){a.showLatestDialog()}})).placeAt(e);c.create("td",{innerHTML:i18n("Updates all configuration in this snapshot so that it uses the latest available version of that configuration. Any additional changes to the configuration will also be pulled into this snapshot until it is locked.")},h);h=c.create("tr",{},d);e=c.create("td",{},h);(new k({label:i18n("Set Latest Entries to Current"),
showTitle:!1,onClick:function(){a.showLatestLockDialog()}})).placeAt(e);c.create("td",{innerHTML:i18n('Sets all configuration in this snapshot which is currently marked as "Latest" so that it will no longer take any future changes. This prevents automatically absorbing configuration changes, but does not prevent manual changes to the version of each configuration object being used.')},h);d=c.create("tr",{},d);h=c.create("td",{},d);(new k({label:i18n("Lock Configuration"),showTitle:!1,onClick:function(){a.showLockConfigDialog()}})).placeAt(h);
c.create("td",{innerHTML:i18n("Locks all configuration to the current version selected and prevents any future changes. This cannot be reversed.")},d)}},actionsFormatter:function(a){var d=this.parentWidget,h=document.createElement("div");if("PropSheet"===a.className){var e=c.create("a",{innerHTML:i18n("View"),"class":"linkPointer actionsLink"},h);b(e,"click",function(){d.showProperties(a.name,a)})}else"ComponentProcess"===a.className?c.create("a",{innerHTML:i18n("View"),"class":"linkPointer actionsLink",
href:"#componentProcess/"+a.id+"/"+a.version},h):"ApplicationProcess"===a.className?c.create("a",{innerHTML:i18n("View"),"class":"linkPointer actionsLink",href:"#applicationProcess/"+a.id+"/"+a.version},h):"ApprovalProcess"===a.className?c.create("a",{innerHTML:i18n("View"),"class":"linkPointer actionsLink",href:"#environment/"+a.environmentId+"/approvals"},h):"ConfigTemplate"===a.className&&c.create("a",{innerHTML:i18n("View"),"class":"linkPointer actionsLink",href:"#configTemplate/"+a.componentId+
"/"+a.name+"/"+a.version},h);a.path&&!d.readOnly&&(e=c.create("a",{innerHTML:i18n("Set Version"),"class":"linkPointer actionsLink"},h),b(e,"click",function(){d.showSetVersion(a)}));return h},showProperties:function(b,c){var d=new o({title:i18n("Property Details: %s",util.escape(b)),closable:!0,draggable:!0,style:{width:"500px"}});(new a({propSheet:c,showDescription:!1,readOnly:!0})).placeAt(d.containerNode);d.show()},showSetVersion:function(a){var h=this,f=new o({title:i18n("Set Version")}),n=c.create("div",
{style:{overflowY:"auto",maxHeight:"200px",maxWidth:"350px",paddingRight:"30px"}},f.containerNode);f.show();d.get({url:bootstrap.restUrl+"vc/persistent/"+util.vc.encodeVersionedPath(a.path)+"/commits",handleAs:"json",load:function(d){d.reverse();var o=d.length;j.forEach(d,function(j){var q=e.clone(o);if(q===d.length){var s=c.create("a",{innerHTML:i18n("Always use latest version"),style:{display:"block",padding:"1px"},"class":"linkPointer"},n);b(s,"click",function(){h.updateConfigurationVersion(f,
a,q,j,!0)})}s=c.create("a",{innerHTML:i18n("%s: %s on %s",o,j.committer,util.dateFormatShort(j.commitTime)),style:{display:"block",padding:"1px"},"class":"linkPointer"},n);b(s,"click",function(){h.updateConfigurationVersion(f,a,q,j)});o--})}})},showCopyFromSnapshotDialog:function(){var a=this,b=new o({title:i18n("Copy Configuration from Snapshot")});c.create("div",{innerHTML:i18n("Warning: This action will remove any existing configuration from the snapshot."),style:{fontWeight:"bold",padding:"3px 15px",
marginLeft:"150px"}},b.containerNode);var d=new q({submitUrl:null,postSubmit:function(){b.hide();b.destroy();a.tree.refresh()},onCancel:function(){b.hide();b.destroy()}});d.addField({name:"snapshotId",label:i18n("Snapshot"),required:!0,type:"TableFilterSelect",url:bootstrap.restUrl+"deploy/application/"+this.applicationId+"/snapshots/false",autoSelectFirst:!0,onChange:function(b,c){if(c)d.submitUrl=bootstrap.restUrl+"deploy/snapshot/"+a.snapshotId+"/configuration/fromSnapshot/"+c.id},defaultQuery:{filterFields:["id"],
filterType_id:"ne",filterValue_id:a.snapshotId}});d.placeAt(b.containerNode);b.show()},updateConfigurationVersion:function(a,b,c,e,f){var o=this;f&&(c=-1);d.put({url:bootstrap.restUrl+"deploy/snapshot/"+o.snapshotId+"/configuration/"+util.vc.encodeVersionedPath(b.path)+"/"+c,load:function(){o.tree.refreshSiblingsForItem(b);a.hide();a.destroy()},error:function(b){new h({messages:[i18n("Error setting snapshot configuration version:"),"",util.escape(b.responseText)]});a.hide();a.destroy()}})},showLatestDialog:function(){var a=
this;new n({message:i18n("Are you sure you want to reset all configuration to the latest version?"),action:function(){a.tree.block();d.del({url:bootstrap.restUrl+"deploy/snapshot/"+a.snapshotId+"/configuration",load:function(){a.tree.unblock();a.tree.refresh()}})}})},showLatestLockDialog:function(){var a=this;new n({message:i18n("This action will lock all configuration which is automatically using the latest version available. Are you sure you want to lock all loose configuration targets?"),action:function(){a.tree.block();
d.put({url:bootstrap.restUrl+"deploy/snapshot/"+a.snapshotId+"/configuration/lockAllToCurrent",load:function(){a.tree.unblock();a.tree.refresh()}})}})},showLockConfigDialog:function(){var a=this;new n({message:i18n("Are you sure you want to lock the configuration of this snapshot? This will prevent any further changes to the configuration selected for this snapshot. Once locked, it cannot be unlocked."),action:function(){a.tree.block();d.put({url:bootstrap.restUrl+"deploy/snapshot/"+a.snapshotId+
"/configuration/lock"}).then(function(){a.readOnly=!0;c.empty(a.buttonAttach);a.tree.refresh()},function(b){a.tree.unblock();new h({message:i18n("Error locking snapshot versions: ",util.escape(b.responseText))})})}})}})})},"deploy/widgets/workflow/activity/SwitchActivity":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/on","deploy/widgets/workflow/activity/BaseActivity","deploy/widgets/property/PropertyTextareaBox"],function(l,m,k,j){return m("deploy.widgets.workflow.activity.SwitchActivity",
[j],{postCreate:function(){this.inherited(arguments);this.initialized||this.editProperties()},getLabel:function(){var f="";return f=this.initialized?f+(this.data.name+"\n"+i18n("Switch (%s)",this.data.propertyName)):f+i18n("Switch")},getFillColor:function(){return"#00649D"},editProperties:function(f){var e=this,d=e.createPropertyDialog(),c=e.createPropertyForm({dialog:d,validateFields:function(b){return e.validateName(b.name)},onSubmit:function(b){f&&f();e.initialized=!0;e.data.name=b.name;e.data.propertyName=
b.propertyName;e.updateLabel();d.hide();c.destroy();d.destroy()},readOnly:e.readOnly});c.addField({name:"name",label:i18n("Name"),type:"Text",required:!0,value:e.data.name});c.addField({name:"propertyName",label:i18n("Property Name"),type:"PropertyBox",required:!0,value:e.data.propertyName,cache:e.graphEditor.cache});c.placeAt(d.containerNode);d.show()}})})},"deploy/widgets/snapshotComparison/SnapshotFileComparison":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/on,js/webext/widgets/Dialog,deploy/widgets/component/ComponentFileTable".split(","),
function(l,m,k,j,f,e,d,c,b,a){return j([m,l],{templateString:'<div class="snapshotFiles"><div data-dojo-attach-point="tableAttach"></div></div>',postCreate:function(){this.inherited(arguments);var b=this;this.componentFileTables=[];f.get({url:bootstrap.restUrl+"deploy/snapshot/"+b.snapshot1.id+"/compareFiles/"+b.snapshot2.id,handleAs:"json",load:function(c){k.forEach(c,function(c){c.tooMany?d.place('<div class="containerLabel">File Difference Report for '+c.component+'</div><div class="innerContainer" style="width: 1000px;"><div><br>'+
c.tooMany+"<br></div></div>",b.tableAttach):(c=new a({component:c.component,version:c.version1,otherVersion:c.version2,title1:"Snapshot: "+b.snapshot1.name+" ",title2:"Snapshot: "+b.snapshot2.name+" "}),b.componentFileTables.push(c),c.placeAt(b.tableAttach))})}})},destroy:function(){dojo.empty(this.tableAttach)}})})},"deploy/widgets/settings/Logging":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/_base/xhr,js/webext/widgets/Alert,js/webext/widgets/ColumnForm".split(","),
function(l,m,k,j,f,e){return k("deploy.widgets.settings.Logging",[m,l],{templateString:'<div class="logging">  <div data-dojo-attach-point="formAttach"></div></div>',postCreate:function(){this.inherited(arguments);var d=this;this.existingValues={};if(this.version)this.existingValues=this.version;j.get({url:bootstrap.restUrl+"system/configuration/logconfig",load:function(c){var b=new e({cancelLabel:null,submitUrl:bootstrap.restUrl+"system/configuration/logconfig",postSubmit:function(){new f({message:i18n("Settings saved successfully.")})}});
b.addField({name:"logconfig",label:"",description:i18n("Log config"),value:c,required:!1,style:{width:"500px",height:"500px"},type:"Text Area"});b.placeAt(d.formAttach)}})}})})},"deploy/widgets/report/deploymentReport/DeploymentReportForm":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Select,dojo/_base/array,dojo/_base/declare,dojo/dom-construct,dojo/on,deploy/widgets/DateRangeSelector,js/webext/widgets/FormDelegates".split(","),function(l,m,k,j,f,e,d,c,b){return f("deploy.widgets.report.deploymentReport.DeploymentReportForm",
[m,l],{templateString:"<div></div>",applicationSelect:null,environmentSelect:null,userFilter:null,dateRangePicker:null,statusSelect:null,columnCheckBoxes:null,datePickerAttach:null,report:null,constructor:function(a){if(a.report)this.report=a.report;if(a.datePickerAttach)this.datePickerAttach=a.datePickerAttach},buildRendering:function(){this.inherited(arguments);var a=this,d=e.create("div",{"class":"inlineBlock report-form-field"},a.domNode);e.create("div",{innerHTML:i18n("Application")},d);a.applicationSelect=
b.retrieveDelegate("TableFilterSelect")({url:bootstrap.restUrl+"deploy/application",idAttribute:"id",name:"app",allowNone:!0,placeHolder:"Any",onChange:function(b){a.updateEnvironmentOptions(b)},formatDropDownLabel:function(a,b){a.innerHTML=b.name.escape()}});a.applicationSelect.placeAt(d);d=e.create("div",{"class":"inlineBlock report-form-field"},a.domNode);a.envDiv=d;e.create("div",{innerHTML:i18n("Environment")},d);a.updateEnvironmentOptions();a.datePickerAttach?e.create("div",{"class":"inlineBlock report-form-field"},
a.datePickerAttach):e.create("div",{"class":"inlineBlock report-form-field"},a.domNode);a.dateRangePicker=new c({timeUnit:"TIME_UNIT_DAY"});e.create("div",{innerHTML:i18n("Date Range")},a.datePickerAttach);a.dateRangePicker.placeAt(a.datePickerAttach);d=e.create("div",{"class":"inlineBlock report-form-field"},a.domNode);e.create("div",{innerHTML:i18n("User")},d);a.userFilter=b.retrieveDelegate("TableFilterSelect")({url:bootstrap.baseUrl+"security/user",name:"user",allowNone:!0,placeHolder:"Any",formatDropDownLabel:function(a,
b){a.innerHTML=b.displayName}});a.userFilter.placeAt(d);d=e.create("div",{"class":"inlineBlock report-form-field"},a.domNode);e.create("div",{innerHTML:i18n("Status")},d);a.statusSelect=new k({name:"status",value:"Any",options:[{label:i18n("Any"),value:"",selected:!0},{label:i18n("Success"),value:"SUCCESS"},{label:i18n("Failure"),value:"FAILURE"},{label:i18n("Running"),value:"RUNNING"},{label:i18n("Scheduled"),value:"SCHEDULED"},{label:i18n("Approval Rejected"),value:"APPROVAL_REJECTED"},{label:i18n("Awaiting Approval"),
value:"AWAITING_APPROVAL"}]});a.statusSelect.placeAt(d);d=e.create("div",{"class":"inlineBlock report-form-field"},a.domNode);e.create("div",{innerHTML:i18n("Plugin")},d);a.pluginSelect=b.retrieveDelegate("TableFilterSelect")({url:bootstrap.restUrl+"plugin/automationPlugin",name:"plugin",allowNone:!0,placeHolder:"Any",formatDropDownLabel:function(a,b){a.innerHTML=i18n(b.name)}});a.pluginSelect.placeAt(d);a.setProperties(a.report.properties)},destroy:function(){this.inherited(arguments);this.applicationSelect.destroy();
this.environmentSelect.destroy();this.dateRangePicker.destroy();this.userFilter.destroy();this.statusSelect.destroy();this.pluginSelect.destroy();j.forEach(this.columnCheckBoxes,function(a){a.checkBox.destroy()})},setProperties:function(a){var b=this,c=function(a,c,d){a.get("name")===c&&(a.set("value",d),"app"===c&&b.updateEnvironmentOptions(d))};j.forEach(a,function(a){var d=a.name,a=a.value;c(b.applicationSelect,d,a);c(b.environmentSelect,d,a);c(b.userFilter,d,a);c(b.statusSelect,d,a);c(b.pluginSelect,
d,a);"dateRange"===d&&b.dateRangePicker.set("value",a);"date_low"===d&&b.dateRangePicker.set("startDate",new Date(Number(a)));"date_hi"===d&&b.dateRangePicker.set("endDate",new Date(Number(a)))})},getProperties:function(){var a=[],b=function(b,c){var d=b.get("name"),h;h="plugin"===d?(h=b.get("item"))?h.name:b.get("value"):b.get("value");d&&h&&(c?a.push({name:d,value:h.getTime()}):a.push({name:d,value:h}))};b(this.applicationSelect);b(this.environmentSelect);b(this.userFilter);b(this.statusSelect);
b(this.pluginSelect);this.dateRangePicker&&(a.push({name:"dateRange",value:this.dateRangePicker.get("value")}),"custom"===this.dateRangePicker.get("value")&&(null!==this.dateRangePicker.getStartDate()&&a.push({name:"date_low",value:this.dateRangePicker.getStartDate().getTime()}),null!==this.dateRangePicker.getEndDate()&&a.push({name:"date_hi",value:this.dateRangePicker.getEndDate().getTime()})));return a},setColumns:function(a){j.forEach(this.columnCheckBoxes,function(b){-1<a.indexOf(b.field)?b.checkBox.set("value",
!1):b.checkBox.set("value",!0)})},getColumns:function(){var a=[];j.forEach(this.columnCheckBoxes,function(b){b.checkBox&&!1===b.checkBox.getValue()&&a.push(b.field)});return a},updateEnvironmentOptions:function(a){i18n("Any");this.environmentSelect&&(this.environmentSelect.get("value"),this.environmentSelect.destroy());var c={name:"env",allowNone:!0,placeHolder:"Any",formatDropDownLabel:function(a,b){a.innerHTML=b.name}};a?c.url=bootstrap.restUrl+"deploy/application/"+a+"/environments/true":c.data=
[];this.environmentSelect=b.retrieveDelegate("TableFilterSelect")(c);this.environmentSelect.placeAt(this.envDiv)}})})},"deploy/widgets/resource/ResourceConfigurationHistory":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/_base/xhr,dojo/dom-construct,dojo/on,dojo/_base/array,deploy/widgets/Formatters,deploy/widgets/log/LiveLogViewer,deploy/widgets/resource/TransientResourceCompareTree,js/webext/widgets/Dialog,js/webext/widgets/table/TreeTable".split(","),function(l,
m,k,j,f,e,d,c,b,a,h,q){return k([m,l],{templateString:'<div class="resourceConfigurationExecutionList"><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var o=[{name:i18n("Command"),formatter:function(a){return i18n(a.command.name).escape()}},{name:i18n("Type"),formatter:function(a){var b="";a.actionType&&("COMPARE"===a.actionType&&(b=i18n("Comparison")),"CONFIGURE"===a.actionType&&(b=i18n("Configuration")),"APPLY"===a.actionType&&(b=i18n("Apply ")));
return b}},{name:i18n("Start"),formatter:function(a){return util.dateFormatShort(a.startTime)}},{name:i18n("End"),formatter:function(a){if(0!==a.endTime)return util.dateFormatShort(a.endTime)}},{name:i18n("Status"),formatter:function(a,b,d){return c.sourceConfigStatusFormatter(a,b,d)}},{name:i18n("Actions"),formatter:function(c){var o=f.create("div"),j=f.create("a",{"class":"linkPointer"},o);e(j,"click",function(){(new b({url:bootstrap.restUrl+"logView/resourceDiscovery/"+c.id+"/stdOut.txt",title:i18n("Output Log"),
autoRefresh:"EXECUTING"===c.status,paddingTop:"0px"})).show()});f.create("div",{className:"general-icon consoleIcon inline-block",title:i18n("Output Log")},j);d.forEach(c.extraFiles,function(a){var d=f.create("a",{"class":"linkPointer"},o);e(d,"click",function(){(new b({url:bootstrap.restUrl+"logView/resourceDiscovery/"+c.id+"/"+a,title:a,autoRefresh:"EXECUTING"===c.status,paddingTop:"0px"})).show()});f.create("div",{className:"general-icon extraLogIcon inline-block",title:a},d)});c.compareAllowed&&
(j=f.create("a",{"class":"linkPointer"},o),e(j,"click",function(){var b=new h({title:i18n("Compare with Live Cell"),closable:!0,draggable:!1,width:-50});(new a({readOnly:!0,url:bootstrap.restUrl+"resource/resource/transientCompare/"+appState.resource.id+"/"+c.id})).placeAt(b.containerNode);b.show()}),f.create("div",{className:"general-icon compareIcon inline-block",title:i18n("Compare")},j));return o}}];this.grid=new q({url:bootstrap.restUrl+"resource/resourceDiscoveryExecution",baseFilters:[{name:"resource.id",
type:"eq",className:"UUID",values:[appState.resource.id]}],columns:o,orderField:"startTime",sortType:"desc",tableConfigKey:"resourceConfigurationHistory",noDataMessage:i18n("No configuration task history found for this resource."),hideExpandCollapse:!0,hidePagination:!1,queryData:{outputType:["BASIC","LINKED"]}});this.grid.placeAt(this.gridAttach)},destroy:function(){this.inherited(arguments);this.grid.destroy()}})})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(l,m){var k=
{};m.setObject("dojo.regexp",k);k.escapeString=function(j,f){return j.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(e){return f&&-1!=f.indexOf(e)?e:"\\"+e})};k.buildGroupRE=function(j,f,e){if(!(j instanceof Array))return f(j);for(var d=[],c=0;c<j.length;c++)d.push(f(j[c]));return k.group(d.join("|"),e)};k.group=function(j,f){return"("+(f?"?:":"")+j+")"};return k})},"js/webext/widgets/Alert":function(){define("js/webext/widgets/Alert","dojo/_base/array,dojo/_base/declare,dojo/_base/kernel,dijit/_WidgetBase,js/webext/widgets/Dialog,dijit/form/Button".split(","),
function(l,m,k,j,f,e){return m([j],{messages:null,postCreate:function(){this.inherited(arguments);var d=this;if(d.message&&null===d.messages)d.messages=[d.message];var c=new f({title:this.title||i18n("Alert"),closable:!0,draggable:!1});c.domNode.style.maxWidth="500px";this.messageDom?c.containerNode.appendChild(this.messageDom):l.forEach(d.messages,function(a){a=a||"&nbsp;";d.forceRawMessages?k.deprecated("forceRawMessages is intended to support legacy code, but is discouraged, and may not be supported in the future."):
a=a.escapeHTML();var b=document.createElement("div");b.style.width="300px";b.innerHTML=a;c.containerNode.appendChild(b)});var b=document.createElement("div");b.className="underField";(new e({label:i18n("Close"),onClick:function(){c.hide();if(d.onClose)d.onClose()}})).placeAt(b);c.containerNode.appendChild(b);c.show()}})})},"url:dijit/form/templates/ValidationTextBox.html":'<div class="dijit dijitReset dijitInline dijitLeft"\n\tid="widget_${id}" role="presentation"\n\t><div class=\'dijitReset dijitValidationContainer\'\n\t\t><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n\t/></div\n\t><div class="dijitReset dijitInputField dijitInputContainer"\n\t\t><input class="dijitReset dijitInputInner" data-dojo-attach-point=\'textbox,focusNode\' autocomplete="off"\n\t\t\t${!nameAttrSetting} type=\'${type}\'\n\t/></div\n></div>\n',
"dojox/calendar/_RendererMixin":function(){define("dojox/calendar/_RendererMixin",["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","dojo/dom-class","dojo/Stateful"],function(l,m,k,j,f){return l("dojox.calendar._RendererMixin",f,{item:null,owner:null,edited:!1,focused:!1,hovered:!1,selected:!1,moveEnabled:!0,resizeEnabled:!0,_orientation:"vertical",_displayValue:"block",_displayValueMap:{},visibilityLimits:{resizeStartHandle:50,resizeEndHandle:-1,summaryLabel:15,startTimeLabel:45,endTimeLabel:50},
_setSelectedAttr:function(e){this._setState("selected",e,"Selected")},_setFocusedAttr:function(e){this._setState("focused",e,"Focused")},_setEditedAttr:function(e){this._setState("edited",e,"Edited")},_setHoveredAttr:function(e){this._setState("hovered",e,"Hovered")},_setState:function(e,d,c){this[e]!=d&&(j[d?"add":"remove"](this.stateNode||this.domNode,c),this._set(e,d))},_setItemAttr:function(e){null==e?(this.item&&this.item.cssClass&&j.remove(this.domNode,this.item.cssClass),this.item=null):(null!=
this.item?(this.item.cssClass!=e.cssClass&&this.item.cssClass&&j.remove(this.domNode,this.item.cssClass),this.item=m.mixin(this.item,e)):this.item=e,e.cssClass&&j.add(this.domNode,e.cssClass))},_setText:function(e,d,c){this.owner&&this.owner._setText(e,d,c)},_isElementVisible:function(e,d,c,b){var a=!0,h=this.visibilityLimits[e];switch(e){case "moveHandle":a=this.moveEnabled;break;case "resizeStartHandle":a=this.mobile?this.resizeEnabled&&!d&&this.edited&&(-1==h||b>h):this.resizeEnabled&&!d&&(-1==
h||b>h);break;case "resizeEndHandle":a=this.mobile?this.resizeEnabled&&!c&&this.edited&&(-1==h||b>h):this.resizeEnabled&&!c&&(-1==h||b>h);break;case "startTimeLabel":a=this.mobile?!d&&(!this.edited||this.edited&&(-1==h||b>h)):!d&&(-1==h||b>h);break;case "endTimeLabel":a=this.edited&&!c&&(-1==h||b>h);break;case "summaryLabel":a=this.mobile?!this.edited||this.edited&&(-1==h||b>h):-1==h||b>h}return a},_formatTime:function(e,d){return this.owner&&null!=this.owner.get("formatItemTimeFunc")?this.owner.formatItemTimeFunc(d,
e):e.dateLocaleModule.format(d,{selector:"time"})},getDisplayValue:function(){return this._displayValue},updateRendering:function(e,d){d=d||this.item.h;e=e||this.item.w;if(d||e){this.item.h=d;this.item.w=e;var c="vertical"==this._orientation?d:e,b=this.owner.renderData,a=0!=b.dateModule.compare(this.item.range[0],this.item.startTime),h=0!=b.dateModule.compare(this.item.range[1],this.item.endTime),f;null!=this.beforeIcon&&(f="horizontal"!=this._orientation||this.isLeftToRight()?a:h,k.set(this.beforeIcon,
"display",f?this.getDisplayValue("beforeIcon"):"none"));null!=this.afterIcon&&(f="horizontal"!=this._orientation||this.isLeftToRight()?h:a,k.set(this.afterIcon,"display",f?this.getDisplayValue("afterIcon"):"none"));this.moveHandle&&(f=this._isElementVisible("moveHandle",a,h,c),k.set(this.moveHandle,"display",f?this.getDisplayValue("moveHandle"):"none"));this.resizeStartHandle&&(f=this._isElementVisible("resizeStartHandle",a,h,c),k.set(this.resizeStartHandle,"display",f?this.getDisplayValue("resizeStartHandle"):
"none"));this.resizeEndHandle&&(f=this._isElementVisible("resizeEndHandle",a,h,c),k.set(this.resizeEndHandle,"display",f?this.getDisplayValue("resizeEndHandle"):"none"));this.startTimeLabel&&(f=this._isElementVisible("startTimeLabel",a,h,c),k.set(this.startTimeLabel,"display",f?this.getDisplayValue("startTimeLabel"):"none"),f&&this._setText(this.startTimeLabel,this._formatTime(b,this.item.startTime)));this.endTimeLabel&&(f=this._isElementVisible("endTimeLabel",a,h,c),k.set(this.endTimeLabel,"display",
f?this.getDisplayValue("endTimeLabel"):"none"),f&&this._setText(this.endTimeLabel,this._formatTime(b,this.item.endTime)));this.summaryLabel&&(f=this._isElementVisible("summaryLabel",a,h,c),k.set(this.summaryLabel,"display",f?this.getDisplayValue("summaryLabel"):"none"),f&&this._setText(this.summaryLabel,this.item.summary,!0))}}})})},"deploy/widgets/application/RunApplicationProcess":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dijit/form/CheckBox,dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dojo/_base/xhr,dojo/dom-construct,dojo/dom-style,dojo/on,dojo/Deferred,js/util/blocker/_IncrementBlockerMixin,js/webext/widgets/Alert,js/webext/widgets/ColumnForm,js/webext/widgets/Dialog,js/webext/widgets/DomNode,deploy/widgets/version/VersionSelectionDialog,deploy/widgets/patterns/PatternPropertySelectionDialog,deploy/widgets/Formatters".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u){return e("deploy.widgets.application.RunApplicationProcess",[m,l,o],{templateString:'<div class="runApplicationProcess">  <div data-dojo-attach-point="formAttach" style="max-height: 500px; overflow-x: hidden; overflow-y: auto;"></div></div>',forceSchedule:!1,postCreate:function(){this.inherited(arguments);var a=this;this.isSchedule=this.showingVersions=!1;this.loadedProcessData={};this.form=new s({addData:function(b){if(b.description)b.description=b.description.escape();
if(a.applicationProcess){b.properties={};f.forEach(a.unfilledProperties,function(a){void 0!==b["p_"+a.name]&&(b.properties[a.name]=b["p_"+a.name])});if(void 0!==b.patternProperties){for(var c in b.patternProperties)void 0!==b.patternProperties[c]&&(b.properties[c]=b.patternProperties[c]);delete b.patternProperties}b.applicationId=a.application.id;b.applicationProcessId=a.applicationProcess.id;b.environmentId=a.environment.id;if(a.snapshot)b.snapshotId=a.snapshot.id;if(a.isSchedule&&b.date&&b.time)b.date=
util.combineDateAndTime(b.date,b.time).valueOf()}},onSubmit:function(b){if(void 0!==a.applicationProcess&&"patternApplicationProcess"===a.applicationProcess.metadataType){var c=a.form.postSubmit;delete a.form.postSubmit;a.patternPropertySelector.validateCloudProperties(b.properties).then(function(){a.form.postSubmit=c;a.form.submitOverXhr(b)},function(b){a.form.postSubmit=c;a.form.unblock();a.form.onError(b)})}else a.form.submitOverXhr(b)},postSubmit:function(b,c){if(1!==arguments.length)if(void 0!==
b.blackouts){var d=i18n("The event cannot be created at that time because it conflicts with a blackout:")+"<br/>";1<b.blackouts.length&&(d=i18n("The event cannot be created at that time because it conflicts with blackouts:")+"<br/>");f.forEach(b.blackouts,function(a){d+="<br/><b>"+util.escape(a.name)+"</b><br/>";void 0!==a.environment&&(d+="&nbsp; &nbsp; <b>"+i18n("Application Environment")+"</b>: "+util.escape(a.environment.name)+"<br/>");d+="&nbsp; &nbsp; "+util.dateFormatShort(a.startDate)+" - "+
util.dateFormatShort(a.endDate)+"<br/>"});new n({title:i18n("Schedule Error"),forceRawMessages:!0,message:d})}else a.isSchedule?(void 0!==a.callback&&a.callback(),navBar.setHash("application/"+a.application.id+"/calendar",!1,!0)):(void 0!==a.callback&&a.callback(),navBar.setHash("applicationProcessRequest/"+b.requestId+"/log",!1,!0))},onCancel:function(){void 0!==a.callback&&a.callback()},onError:function(b){var c=[i18n("An error has occurred while deploying this application:"),""];if(void 0!==a.applicationProcess&&
"patternApplicationProcess"===a.applicationProcess.metadataType){var d=this._decodeJson(b.responseText);try{var h=JSON.parse(d);f.forEach(h,function(a){c.push(util.escape(a.errorMessage))})}catch(e){c.push(util.escape(b.responseText))}}else void 0!==a.callback&&a.callback(),c.push(util.escape(b.responseText));new n({title:i18n("Error"),messages:c})},_decodeJson:function(a){return a.replace(/&#(\d+);/g,function(a,b){return String.fromCharCode(b)})},validateFields:function(){var b=[];if(void 0!==a.applicationProcess&&
"patternApplicationProcess"===a.applicationProcess.metadataType){var c=a.patternPropertySelector.validate();void 0!==c&&0<c.length&&(b.push(i18n("Not all required properties have values.")),f.forEach(c,function(a){b.push(a)}))}return b},saveLabel:i18n("Submit")});this.form.formContainer.labelStyle.width="220px";this.form.addField({name:"_applicationInsert",type:"Invisible"});this.form.addField({name:"_environmentInsert",type:"Invisible"});this.form.addField({name:"onlyChanged",label:i18n("Only Changed Versions"),
value:"true",type:"Checkbox"});this.form.addField({name:"_processInsert",type:"Invisible"});this.form.addField({name:"_snapshotInsert",type:"Invisible"});this.form.addField({name:"_versionInsert",type:"Invisible"});this.form.addField({name:"_propertiesInsert",type:"Invisible"});this.form.addField({name:"_scheduleInsert",type:"Invisible"});this.forceSchedule?a.showScheduleOptions():(this.scheduleCheckbox=new j({onChange:function(b){b?a.showScheduleOptions():(a.form.removeField("date"),a.form.removeField("time"),
a.form.removeField("recurring"),a.form.hasField("recurrencePattern")&&a.form.removeField("recurrencePattern"),a.isSchedule=!1)}}),this.form.addField({name:"scheduleCheckbox",label:i18n("Schedule Deployment?"),widget:this.scheduleCheckbox},"_scheduleInsert"));this.form.addField({name:"description",label:i18n("Description"),type:"Text"});this.form.addField({name:"_warningInsert",type:"Invisible"});this.application?a.selectApplication(this.application):this.form.addField({name:"applicationId",label:i18n("Application"),
required:!0,type:"TableFilterSelect",url:bootstrap.restUrl+"deploy/application",onChange:function(b,c){(a.application=c)&&a.selectApplication(c)}},"_applicationInsert");this.form.placeAt(this.formAttach)},selectApplication:function(){var a=this;this.form.submitUrl=bootstrap.restUrl+"deploy/application/"+this.application.id+"/runProcess";if(a.form.hasField("environmentId"))a.environment=void 0,a.form.removeField("environmentId");if(a.form.hasField("applicationProcessId"))a.clearProcessProperties(),
a.hideVersionFields(),a.applicationProcess=void 0,a.form.removeField("applicationProcessId");if(a.form.hasField("snapshotId"))a.snapshot=void 0,a.form.removeField("snapshotId");a.form.hasField("_snapshotLabel")&&a.form.removeField("_snapshotLabel");this.environment?a.selectEnvironment(this.environment):this.form.addField({name:"environmentId",url:bootstrap.restUrl+"deploy/environment",label:i18n("Environment"),required:!0,type:"TableFilterSelect",allowNone:!1,defaultQuery:{filterFields:["application.id",
"active"],"filterType_application.id":"eq","filterValue_application.id":a.application.id,filterType_active:"eq",filterValue_active:!0,filterClass_active:"Boolean"},onChange:function(b,c){(a.environment=c)&&a.selectEnvironment(c);!a.snapshot&&a.applicationProcess&&a.environment&&a.showVersionFields()}},"_environmentInsert");a.showSnapshot()},showSnapshot:function(){var a=this;!this.snapshot&&!this.form.hasField("_snapshotLabel")&&(this.form.addField({name:"_snapshotLabel",label:"",type:"Label",value:i18n("Select a snapshot, or choose versions for individual components."),
style:{fontWeight:"bold",marginTop:"10px",marginBottom:"4px"}},"_snapshotInsert"),this.form.addField({name:"snapshotId",label:i18n("Snapshot"),type:"TableFilterSelect",url:bootstrap.restUrl+"deploy/application/"+this.application.id+"/snapshots/false",onChange:function(b,c){a.snapshot=c;a.clearProcessProperties();a.showProcessProperties();c?a.hideVersionFields():a.showVersionFields()}},"_snapshotInsert"))},hideSnapshot:function(){this.form.hasField("_snapshotLabel")&&this.form.removeField("_snapshotLabel");
this.form.hasField("snapshotId")&&this.form.removeField("snapshotId")},selectEnvironment:function(){var d=this;this.form.hasField("_propertiesWarning")&&this.form.removeField("_propertiesWarning");var e=bootstrap.restUrl+"deploy/environment/"+this.environment.id+"/validateProperties";d.snapshot&&(e+="/"+d.snapshot.id);this.environment&&(this.form.hasField("applicationProcessId")&&this.form.removeField("applicationProcessId"),d.addApplicationProcessField(),d.blockIncrement(),c.get({url:e,handleAs:"json",
load:function(c){var e=!1;f.forEach(c.environmentData,function(a){0<a.missingEnvironmentProperties.length&&(e=!0)});f.forEach(c.resourceData,function(a){0<a.missingResourceProperties.length&&(e=!0)});if(e){var o=new t;b.create("div",{innerHTML:i18n("WARNING: Not all required properties have values."),style:{fontWeight:"bold"}},o.domAttach);var j=b.create("a",{"class":"linkPointer",innerHTML:i18n("View missing properties...")},o.domAttach);h(j,"click",function(){d.showMissingProperties(c)});a.set(o.domAttach,
{marginBottom:"5px"});d.form.addField({name:"_propertiesWarning",label:"",widget:o},"_warningInsert")}},handle:function(){d.blockDecrement()}}))},getProcesses:function(a){var b=new q;c.get({url:a,handleAs:"json",load:function(a){b.resolve(a)},error:function(a){b.reject(a)}});return b},addApplicationProcessField:function(){var a=this;this.getProcesses(bootstrap.restUrl+"deploy/application/"+this.application.id+"/"+this.environment.id+"/executableProcesses").then(function(b){a.form.addField({name:"applicationProcessId",
label:i18n("Process"),required:!0,type:"TableFilterSelect",data:b,onChange:function(b,d){a.clearProcessProperties();a.hideVersionFields();a.loadedProcessData[d.id]?(a.applicationProcess=a.loadedProcessData[d.id],a.showProcessProperties(),!a.snapshot&&a.environment&&a.showVersionFields()):(a.blockIncrement(),c.get({url:bootstrap.restUrl+"deploy/applicationProcess/"+d.id+"/"+d.version,handleAs:"json",load:function(b){a.loadedProcessData[d.id]=b;a.applicationProcess=b;a.showProcessProperties();!a.snapshot&&
a.environment&&a.showVersionFields()},error:function(a){new n({messages:[i18n("Error loading process details:"),"",util.escape(a.responseText)]})},handle:function(){a.blockDecrement()}}))}},"_processInsert")},function(a){new n({messages:[i18n("Error retrieving processes:"),"",util.escape(a.responseText)]})})},clearProcessProperties:function(){var a=this;f.forEach(a.unfilledProperties,function(b){a.form.removeField("p_"+b.name)});a.hidePatternPropertiesFields()},hideVersionFields:function(){if(this.showingVersions)this.showingVersions=
!1,this.form.hasField("_versionsLabel")&&this.form.removeField("_versionsLabel"),this.form.hasField("_versionsLabel2")&&this.form.removeField("_versionsLabel2"),this.form.hasField("versions")&&(this.versionSelector.destroy(),this.form.removeField("versions"))},showProcessProperties:function(){var a=this;if(void 0!==this.applicationProcess)if("patternApplicationProcess"===this.applicationProcess.metadataType)a.showPatternProperties();else{var b=bootstrap.restUrl+"deploy/applicationProcess/"+this.applicationProcess.id+
"/unfilledProperties/",b=a.snapshot?b+("snapshot/"+a.snapshot.id):b+this.application.id;a.blockIncrement();c.get({url:b,handleAs:"json",load:function(b){a.unfilledProperties=b;f.forEach(b,function(b){var c="",h="p_"+b.name;""===b.label?c=b.name:(b.namePrefix&&0<b.namePrefix.length&&(c=b.namePrefix+"/"),c+=b.label);var e=d.clone(b);e.name=h;e.label=c.replace(/\//g," / ");e.description=b.description?b.description.escape():b.description;a.form.addField(e,"_propertiesInsert")})},handle:function(){a.blockDecrement()}})}},
showPatternProperties:function(){if(!this.showingPatternProcessProperties&&(this.showingPatternProcessProperties=!0,void 0!==this.applicationProcess))this.form.addField({label:"",name:"_patternPropertiesLabel",value:i18n("Blueprint Properties"),type:"Label",style:{marginTop:"10px",marginBottom:"3px",fontWeight:"bold"}},"_propertiesInsert"),this.patternPropertySelector=new u({applicationProcess:this.applicationProcess,environment:this.environment}),this.form.addField({name:"patternProperties",label:i18n("Properties"),
required:!0,widget:this.patternPropertySelector},"_propertiesInsert"),this.form.addField({label:"",name:"_propertiesLabel2",value:"",type:"Label",style:{marginTop:"7px"}},"_propertiesInsert")},hidePatternPropertiesFields:function(){if(this.showingPatternProcessProperties)this.showingPatternProcessProperties=!1,this.form.hasField("_patternPropertiesLabel")&&this.form.removeField("_patternPropertiesLabel"),this.form.hasField("_propertiesLabel2")&&this.form.removeField("_propertiesLabel2"),this.form.hasField("patternProperties")&&
(this.patternPropertySelector.destroy(),this.form.removeField("patternProperties"))},showVersionFields:function(){var a=this;if(!this.showingVersions)this.showingVersions=!0,void 0!==this.applicationProcess&&(a.blockIncrement(),c.get({url:bootstrap.restUrl+"deploy/applicationProcess/"+a.applicationProcess.id+"/componentsTakingVersions/"+a.application.id,handleAs:"json",load:function(b){if(0<b.length)a.form.addField({label:"",name:"_versionsLabel",value:i18n("Component Versions"),type:"Label",style:{marginTop:"10px",
marginBottom:"3px",fontWeight:"bold"}},"_versionInsert"),a.versionSelector=new w({applicationProcess:a.applicationProcess,environment:a.environment}),a.form.addField({name:"versions",label:i18n("Versions"),widget:a.versionSelector},"_versionInsert"),a.form.addField({label:"",name:"_versionsLabel2",value:"",type:"Label",style:{marginTop:"7px"}},"_versionInsert")},error:function(a){new n({messages:[i18n("Error loading process details:"),"",util.escape(a.responseText)]})},handle:function(){a.blockDecrement()}}))},
showScheduleOptions:function(){var a=this;a.form.addField({name:"date",label:i18n("Date"),required:!0,type:"Date",value:a.date||new Date},"_scheduleInsert");a.form.addField({name:"time",label:i18n("Time"),required:!0,type:"Time",value:a.time||new Date},"_scheduleInsert");a.form.addField({name:"recurring",label:i18n("Make Recurring"),type:"Checkbox",onChange:function(b){b?a.form.addField({name:"recurrencePattern",label:i18n("Pattern"),type:"Select",allowedValues:[{value:"M",label:i18n("Monthly")},
{value:"W",label:i18n("Weekly")},{value:"D",label:i18n("Daily")}],required:!0},"_scheduleInsert"):a.form.removeField("recurrencePattern")}},"_scheduleInsert");a.isSchedule=!0},showMissingProperties:function(a){var c=new r({title:i18n("Missing Properties"),closable:!0,draggable:!0}),d=b.create("div",{style:{width:"350px"}},c.containerNode);f.forEach(a.environmentData,function(a){if(0<a.missingEnvironmentProperties.length){var c=b.create("div",{style:{marginBottom:"8px"}},d);b.create("div",{innerHTML:i18n("Missing environment properties for %s:",
a.name.escape()),style:{fontWeight:"bold"}},c);f.forEach(a.missingEnvironmentProperties,function(a){b.create("div",{innerHTML:a.escape(),style:{paddingLeft:"60px"}},c)})}});f.forEach(a.resourceData,function(a){if(0<a.missingResourceProperties.length){var c=b.create("div",{style:{marginBottom:"8px"}},d);b.create("div",{innerHTML:i18n("Missing role properties for resource %s:",a.name.escape()),style:{fontWeight:"bold"}},c);f.forEach(a.missingResourceProperties,function(a){b.create("div",{innerHTML:a.escape(),
style:{paddingLeft:"60px"}},c)})}});b.create("div",{innerHTML:i18n("Until these properties have values, the deployment may fail or produce unexpected results."),style:{marginBottom:"5px",fontWeight:"bold"}},d);(new k({label:i18n("Close"),showTitle:!1,onClick:function(){c.hide();c.destroy()}})).placeAt(d);c.show()},destroy:function(){this.versionSelector&&this.versionSelector.destroy();this.inherited(arguments)}})})},"deploy/widgets/property/PropDefs":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/on,deploy/widgets/property/EditPropDef,js/webext/widgets/Alert,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/table/TreeTable,deploy/widgets/Formatters".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n){return j([m,l],{templateString:'<div class="propDefs"><div class="listTopButtons" data-dojo-attach-point="buttonTopAttach"></div><div class="versionLinks" data-dojo-attach-point="versionAttach"></div><div data-dojo-attach-point="gridAttach"></div></div>',deleteHeaders:{},readOnly:!1,onlyValueChange:!1,SECUREMASK:"****",postCreate:function(){this.inherited(arguments);var a=this;if(this.propSheetDef){if(this.propSheetDefId=this.propSheetDef.id,this.propSheetDef.versioned)this.propSheetDefPath=
this.propSheetDef.path,this.propSheetDefVersionCount=this.propSheetDef.versionCount,this.propSheetDefVersion=this.propSheetDef.version}else if(this.propSheetDefPath)this.propSheetDefVersion=-1;var b=[{name:i18n("Name"),field:"name"},{name:i18n("Label"),field:"label"},{name:i18n("Pattern"),field:"pattern"},{name:i18n("Required"),field:"required",formatter:function(a){return n.booleanTranslator(a.required)}},{name:i18n("Default Value"),field:"value",style:{"word-break":"break-all"},formatter:function(b){var c=
b.value;"SECURE"===b.type?c=a.SECUREMASK:"DATETIME"===b.type&&(b.value&&b.value.trim()?(b=Number(b.value),c=isNaN(b)?"":c+" ("+(new Date(b)).toLocaleString()+")"):c="");return c}},{name:i18n("Description"),field:"description"},{name:i18n("Actions"),formatter:this.actionsFormatter,parentWidget:this}],c;c=this.propSheetDefPath?bootstrap.baseUrl+"property/propSheetDef/"+util.vc.encodeVersionedPath(this.propSheetDefPath)+"."+this.propSheetDefVersion+"/propDefs":this.getUrl?this.getUrl:bootstrap.baseUrl+
"property/propSheetDef/"+this.propSheetDefId+"/propDefs";this.grid=new o({url:c,data:this.propDefs||void 0,hidePagination:!1,serverSideProcessing:!1,hideExpandCollapse:!0,columns:b,tableConfigKey:"propDefList",noDataMessage:i18n("No properties have been defined.")});this.grid.placeAt(this.gridAttach);!a.readOnly&&!a.onlyValueChange&&(b={label:i18n("Add Property"),showTitle:!1,onClick:function(){a.showPropertyDialog()}},b=new k(b),e.add(b.domNode,"idxButtonSpecial"),b.placeAt(this.buttonTopAttach));
this.propSheetDefVersion&&this.propSheetDefVersionCount&&this.showVersionLinks()},destroy:function(){this.inherited(arguments);this.grid.destroy()},showVersionLinks:function(){var b=this;d.empty(this.versionAttach);d.create("div",{innerHTML:i18n("Version %s of %s",this.propSheetDefVersion,this.propSheetDefVersionCount)},this.versionAttach);var h=d.create("div",{},this.versionAttach);if(1===this.propSheetDefVersion)d.create("div",{className:"arrow_backwards_grey inlineBlock"},h);else{var e=d.create("div",
{className:"arrow_backwards inlineBlock"},h);c(e,"click",function(){b.propSheetDefVersion--;b.refreshGrid()})}d.create("span",{innerHTML:"&nbsp;&nbsp;&nbsp;"},h);this.propSheetDefVersion===this.propSheetDefVersionCount?(d.create("div",{className:"arrow_forward_grey inlineBlock"},h),d.create("span",{innerHTML:"&nbsp;&nbsp;"},h),d.create("div",{className:"arrow_fastForward_grey inlineBlock"},h)):(e=d.create("div",{className:"arrow_forward inlineBlock"},h),c(e,"click",function(){b.propSheetDefVersion++;
b.refreshGrid()}),d.create("span",{innerHTML:"&nbsp;&nbsp;"},h),e=d.create("div",{className:"arrow_fastForward inlineBlock"},h),c(e,"click",function(){b.propSheetDefVersion=b.propSheetDefVersionCount;b.refreshGrid()}),this.readOnly||(d.create("span",{innerHTML:"&nbsp;&nbsp;"},h),h=d.create("a",{innerHTML:i18n("Reset Latest to This Version")},h),c(h,"click",function(){new q({message:i18n("Are you sure you want to reset to version %s?",b.propSheetDefVersion),action:function(){f.put({url:bootstrap.restUrl+
"vc/persistent/"+util.vc.encodeVersionedPath(b.propSheetDefPath)+"."+b.propSheetDefVersion+"/setAsLatest",load:function(){b.propSheetDefVersionCount++;b.propSheetDefVersion=b.propSheetDefVersionCount;b.refreshGrid()},error:function(b){new a({message:i18n("Error: %s",util.escape(b.responseText))})}})}})})))},refreshGrid:function(a){if(!this.propDefs)this.grid.url=null!==a&&void 0!==a?bootstrap.baseUrl+"property/propSheetDef/"+util.vc.encodeVersionedPath(this.propSheetDefPath)+"."+a+"/propDefs":this.propSheetDefPath?
bootstrap.baseUrl+"property/propSheetDef/"+util.vc.encodeVersionedPath(this.propSheetDefPath)+"."+this.propSheetDefVersion+"/propDefs":this.getUrl?this.getUrl:bootstrap.baseUrl+"property/propSheetDef/"+this.propSheetDefId+"/propDefs",this.grid.refresh(),this.propSheetDefPath&&this.showVersionLinks()},actionsFormatter:function(b){var c=this.parentWidget,d=document.createElement("div");if(!c.readOnly&&!b.inherited){var h=document.createElement("a");h.className="actionsLink linkPointer";h.innerHTML=
i18n("Edit");h.onclick=function(){c.showPropertyDialog(b)};d.appendChild(h);if(!c.onlyValueChange)h=document.createElement("a"),h.className="actionsLink linkPointer",h.innerHTML=i18n("Delete"),h.onclick=function(){new q({message:i18n('Are you sure you want to delete property "%s"?',b.name.escape()),action:function(){var d;c.propDefs?((d=util.getNamedProperty(c.propDefs,b.name))&&util.removeFromArray(c.propDefs,d),c.grid.data=c.propDefs,c.grid.refresh()):(d=c.propSheetDefPath?bootstrap.baseUrl+"property/propSheetDef/"+
util.vc.encodeVersionedPath(c.propSheetDefPath)+".-1/propDefs/"+encodeURIComponent(b.name):c.deleteUrl?c.deleteUrl.replace("{propertyName}",encodeURIComponent(b.name)):bootstrap.baseUrl+"property/propSheetDef/"+c.propSheetDefId+"/propDefs/"+encodeURIComponent(b.name),f.del({url:d,headers:c.deleteHeaders,load:function(){c.refreshHash?navBar.setHash(c.refreshHash,!1,!0):(c.propSheetDefVersionCount&&(c.propSheetDefVersion++,c.propSheetDefVersionCount++),c.refreshGrid())},error:function(b){if(b.responseText){if(new a({message:util.escape(b.responseText)}),
c.refreshHash&&navBar.setHash(c.refreshHash,!0,!1),c.grid)c.grid.refresh=function(){navBar.setHash(c.refreshHash,!1,!0)}}else this.inherited(arguments)}}))}})},d.appendChild(h)}if(b.inherited)d.innerHTML=i18n("(Inherited)");return d},showPropertyDialog:function(c){var d=this,e=new h({title:i18n("Edit Property"),closable:!0,draggable:!0}),f;d.propDefs&&(f=function(a){var b;c&&(b=util.getNamedProperty(d.propDefs,c.name));if(b)for(var h in a)a.hasOwnProperty(h)&&(b[h]=a[h]);else d.propDefs.push(a);d.grid.data=
d.propDefs;d.grid.refresh()});(new b({saveUrl:this.saveUrl,propDef:c,propSheetDefId:this.propSheetDefId,propSheetDefPath:this.propSheetDefPath,addData:this.addData,onSubmit:f,onlyValueChange:this.onlyValueChange,resolveHttpValuesUrl:this.propSheetDef?this.propSheetDef.resolveHttpValuesUrl:null,callback:function(b){if(b&&399<b.status){if(new a({message:util.escape(b.responseText)}),d.refreshHash&&navBar.setHash(d.refreshHash,!0,!1),d.grid&&d.refreshHash)d.grid.refresh=function(){navBar.setHash(d.refreshHash,
!1,!0)}}else e.hide(),e.destroy(),d.refreshHash?navBar.setHash(d.refreshHash,!1,!0):d.propSheetDef?(d.propSheetDefVersion++,d.propSheetDefVersionCount++,d.propSheetDef.version=d.propSheetDefVersion,d.propSheetDef.versionCount=d.propSheetDefVersionCount,d.refreshGrid(d.propSheetDefPath?"-1":null)):d.propSheetDefId&&d.refreshGrid()}})).placeAt(e.containerNode);e.show()},addData:function(){},_getValueAttr:function(){return this.propDefs}})})},"dojox/json/ref":function(){define("dojox/json/ref","dojo/_base/array,dojo/_base/json,dojo/_base/kernel,dojo/_base/lang,dojo/date/stamp,dojox".split(","),
function(l,m,k,j,f,e){j.getObject("json",!0,e);return e.json.ref={resolveJson:function(d,c){function b(y,A,z,B,D,G){var C,S,K,z=a in y?y[a]:z;if(a in y||void 0!==z&&B)z=(o+z).replace(m,"$2$3");B=G||y;if(void 0!==z){if(j)y.__id=z;if(c.schemas&&!(y instanceof Array)&&(K=z.match(/^(.+\/)[^\.\[]*$/)))D=c.schemas[K[1]];if(s[z]&&y instanceof Array==s[z]instanceof Array)B=s[z],delete B.$ref,delete B._loadObject,S=!0;else if(K=D&&D.prototype)v.prototype=K,B=new v;s[z]=B;if(r)r[z]=c.time}for(;D;){if(K=D.properties)for(C in y){var L=
K[C];L&&"date-time"==L.format&&"string"==typeof y[C]&&(y[C]=f.fromISOString(y[C]))}D=D["extends"]}D=y.length;for(C in y){if(C==D)break;if(y.hasOwnProperty(C)){K=y[C];if("object"==typeof K&&K&&!(K instanceof Date)&&"__parent"!=C){k=K[h]||e&&K[a];if((!k||!K.__parent)&&y!=l)K.__parent=B;if(k)if(delete y[C],G=k.toString().replace(/(#)([^\.\[])/,"$1.$2").match(/(^([^\[]*\/)?[^#\.\[]*)#?([\.\[].*)?/),s[(o+k).replace(m,"$2$3")]?k=s[(o+k).replace(m,"$2$3")]:(k="$"==G[1]||"this"==G[1]||""==G[1]?d:s[(o+G[1]).replace(m,
"$2$3")])&&G[3]&&G[3].replace(/(\[([^\]]+)\])|(\.?([^\.\[]+))/g,function(a,b,c,d,h){k=k&&k[c?c.replace(/[\"\'\\]/,""):h]}),k)K=k;else{if(!A){var M;M||l.push(B);M=!0;K=b(K,!1,K[h],!0,L);K._loadObject=c.loader}}else A||(K=b(K,l==y,void 0===z?void 0:x(z,C),!1,L,B!=y&&"object"==typeof B[C]&&B[C]))}y[C]=K;if(B!=y&&!B.__isDirty&&(G=B[C],B[C]=K,S&&K!==G&&!B._loadObject&&!("_"==C.charAt(0)&&"_"==C.charAt(1))&&"$ref"!=C&&!(K instanceof Date&&G instanceof Date&&K.getTime()==G.getTime())&&!("function"==typeof K&&
"function"==typeof G&&K.toString()==G.toString())&&s.onUpdate))s.onUpdate(B,C,G,K)}}if(S&&(a in y||B instanceof Array))for(C in B){if(!B.__isDirty&&B.hasOwnProperty(C)&&!y.hasOwnProperty(C)&&!("_"==C.charAt(0)&&"_"==C.charAt(1))&&!(B instanceof Array&&isNaN(C))){if(s.onUpdate&&"_loadObject"!=C&&"_idAttr"!=C)s.onUpdate(B,C,B[C],void 0);for(delete B[C];B instanceof Array&&B.length&&void 0===B[B.length-1];)B.length--}}else if(s.onLoad)s.onLoad(B);return B}var c=c||{},a=c.idAttribute||"id",h=this.refAttribute,
e=c.idAsRef,o=c.idPrefix||"",j=c.assignAbsoluteIds,s=c.index||{},r=c.timeStamps,k,l=[],m=/^(.*\/)?(\w+:\/\/)|[^\/\.]+\/\.\.\/|^.*\/(\/)/,x=this._addProp,v=function(){};d&&"object"==typeof d&&(d=b(d,!1,c.defaultId,!0),b(l,!1));return d},fromJson:function(d,c){try{var b=eval("("+d+")")}catch(a){throw new SyntaxError("Invalid JSON string: "+a.message+" parsing: "+d);}return b?this.resolveJson(b,c):b},toJson:function(d,c,b,a){function h(a,d,k){if("object"==typeof a&&a){if(a instanceof Date)return'"'+
f.toISOString(a,{zulu:!0})+'"';var v=a.__id;if(v){if("#"!=d&&(j&&!v.match(/#/)||s[v]))return k=v,"#"!=v.charAt(0)&&(k=a.__clientId==v?"cid:"+v:v.substring(0,b.length)==b?v.substring(b.length):v),a={},a[n]=k,h(a,"#");d=v}else a.__id=d,r[d]=a;s[d]=a;var k=k||"",t=c?k+m.toJsonIndentStr:"",A=c?"\n":"",v=c?" ":"";if(a instanceof Array)return"["+l.map(a,function(a,b){var c=h(a,o(d,b),t);"string"!=typeof c&&(c="undefined");return A+t+c}).join(","+v)+A+k+"]";var z=[],B;for(B in a)if(a.hasOwnProperty(B)){var D;
if("number"==typeof B)D='"'+B+'"';else if("string"==typeof B&&("_"!=B.charAt(0)||"_"!=B.charAt(1)))D=m._escapeString(B);else continue;var G=h(a[B],o(d,B),t);"string"==typeof G&&z.push(A+t+D+":"+v+G)}return"{"+z.join(","+v)+A+k+"}"}return"function"==typeof a&&e.json.ref.serializeFunctions?a.toString():m.toJson(a)}var j=this._useRefs,o=this._addProp,n=this.refAttribute,b=b||"",s={},r={},d=h(d,"#","");if(!a)for(var k in r)delete r[k].__id;return d},_addProp:function(d,c){return d+(d.match(/#/)?1==d.length?
"":".":"#")+c},refAttribute:"$ref",_useRefs:!1,serializeFunctions:!1}})},"dojox/html/metrics":function(){define("dojox/html/metrics","dojo/_base/kernel,dojo/_base/lang,dojo/_base/sniff,dojo/ready,dojo/_base/unload,dojo/_base/window,dojo/dom-geometry".split(","),function(l,m,k,j,f,e,d){var c=m.getObject("dojox.html.metrics",!0),b=m.getObject("dojox");c.getFontMeasurements=function(){var a={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0};
if(k("ie"))e.doc.documentElement.style.fontSize="100%";var b=e.doc.createElement("div"),c=b.style;c.position="absolute";c.left="-100px";c.top="0";c.width="30px";c.height="1000em";c.borderWidth="0";c.margin="0";c.padding="0";c.outline="0";c.lineHeight="1";c.overflow="hidden";e.body().appendChild(b);for(var d in a)c.fontSize=d,a[d]=16*Math.round(12*b.offsetHeight/16)/12/1E3;e.body().removeChild(b);return a};var a=null;c.getCachedFontMeasurements=function(b){if(b||!a)a=c.getFontMeasurements();return a};
var h=null,q={};c.getTextBox=function(a,b,c){var f,o;if(h)f=h;else{f=h=e.doc.createElement("div");var j=e.doc.createElement("div");j.appendChild(f);o=j.style;o.overflow="scroll";o.position="absolute";o.left="0px";o.top="-10000px";o.width="1px";o.height="1px";o.visibility="hidden";o.borderWidth="0";o.margin="0";o.padding="0";o.outline="0";e.body().appendChild(j)}f.className="";o=f.style;o.borderWidth="0";o.margin="0";o.padding="0";o.outline="0";if(1<arguments.length&&b)for(var n in b)n in q||(o[n]=
b[n]);if(2<arguments.length&&c)f.className=c;f.innerHTML=a;o=d.position(f);o.w=f.parentNode.scrollWidth;return o};var o=16,n=16;c.getScrollbar=function(){return{w:o,h:n}};c._fontResizeNode=null;c.initOnFontResize=function(){var a=c._fontResizeNode=e.doc.createElement("iframe"),d=a.style;d.position="absolute";d.width="5em";d.height="10em";d.top="-10000px";d.display="none";k("ie")?a.onreadystatechange=function(){if("complete"==a.contentWindow.document.readyState)a.onresize=a.contentWindow.parent[b._scopeName].html.metrics._fontresize}:
a.onload=function(){a.contentWindow.onresize=a.contentWindow.parent[b._scopeName].html.metrics._fontresize};a.setAttribute("src","javascript:'<html><head><script>if(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}<\/script></head><body></body></html>'");e.body().appendChild(a);c.initOnFontResize=function(){}};c.onFontResize=function(){};c._fontresize=function(){c.onFontResize()};f.addOnUnload(function(){var a=c._fontResizeNode;if(a){if(k("ie")&&a.onresize)a.onresize=null;else if(a.contentWindow&&
a.contentWindow.onresize)a.contentWindow.onresize=null;c._fontResizeNode=null}});j(function(){try{var a=e.doc.createElement("div");a.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;";e.body().appendChild(a);o=a.offsetWidth-a.clientWidth;n=a.offsetHeight-a.clientHeight;e.body().removeChild(a);delete a}catch(b){}"fontSizeWatch"in l.config&&l.config.fontSizeWatch&&c.initOnFontResize()});return c})},"dojox/form/CheckedMultiSelect":function(){require({cache:{"url:dojox/form/resources/_CheckedMultiSelectMenuItem.html":'<tr class="dijitReset dijitMenuItem" dojoAttachPoint="focusNode" role="menuitemcheckbox" tabIndex="-1"\n\tdojoAttachEvent="ondijitclick:_onClick"\n\t><td class="dijitReset dijitMenuItemIconCell" role="presentation"\n\t\t><div src="${_blankGif}" alt="" class="dijitMenuItemIcon ${_iconClass}" dojoAttachPoint="iconNode"\n\t\t\t><input class="dojoxCheckedMultiSelectCheckBoxInput" dojoAttachPoint="inputNode" type="${_type.type}"\n\t\t/></div></td\n\t><td class="dijitReset dijitMenuItemLabel" colspan="2" dojoAttachPoint="containerNode,labelNode"></td\n\t><td class="dijitReset dijitMenuItemAccelKey" style="display: none" dojoAttachPoint="accelKeyNode"></td\n\t><td class="dijitReset dijitMenuArrowCell" role="presentation">&nbsp;</td\n></tr>',
"url:dojox/form/resources/_CheckedMultiSelectItem.html":'<div class="dijitReset ${baseClass}"\n\t><input class="${baseClass}Box" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-point="checkBox" \n\t\tdata-dojo-attach-event="_onClick:_changeBox" type="${_type.type}" baseClass="${_type.baseClass}"\n\t/><div class="dijitInline ${baseClass}Label" data-dojo-attach-point="labelNode" data-dojo-attach-event="onclick:_onClick"></div\n></div>\n',"url:dojox/form/resources/CheckedMultiSelect.html":'<div class="dijit dijitReset dijitInline dijitLeft" id="widget_${id}"\n\t><div data-dojo-attach-point="comboButtonNode"\n\t></div\n\t><div data-dojo-attach-point="selectNode" class="dijit dijitReset dijitInline ${baseClass}Wrapper" data-dojo-attach-event="onmousedown:_onMouseDown,onclick:focus"\n\t\t><select class="${baseClass}Select dojoxCheckedMultiSelectHidden" multiple="true" data-dojo-attach-point="containerNode,focusNode"></select\n\t\t><div data-dojo-attach-point="wrapperDiv"></div\n\t></div\n></div>'}});
define("dojox/form/CheckedMultiSelect","dojo/_base/declare,dojo/_base/lang,dojo/_base/array,dojo/_base/event,dojo/dom-geometry,dojo/dom-class,dojo/dom-construct,dojo/i18n,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dijit/registry,dijit/Menu,dijit/MenuItem,dijit/Tooltip,dijit/form/_FormSelectWidget,dijit/form/ComboButton,dojo/text!dojox/form/resources/_CheckedMultiSelectMenuItem.html,dojo/text!dojox/form/resources/_CheckedMultiSelectItem.html,dojo/text!dojox/form/resources/CheckedMultiSelect.html,dojo/i18n!dojox/form/nls/CheckedMultiSelect,dijit/form/CheckBox".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u,x){var v=l("dojox.form._CheckedMultiSelectItem",[b,a,h],{templateString:u,baseClass:"dojoxMultiSelectItem",option:null,parent:null,disabled:!1,readOnly:!1,postMixInProperties:function(){this._type=this.parent.multiple?{type:"checkbox",baseClass:"dijitCheckBox"}:{type:"radio",baseClass:"dijitRadio"};this.disabled=this.option.disabled=this.option.disabled||!1;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.labelNode.innerHTML=
this.option.label},_changeBox:function(){if(!this.get("disabled")&&!this.get("readOnly"))this.parent.multiple?this.option.selected=this.checkBox.get("value")&&!0:this.parent.set("value",this.option.value),this.parent._updateSelection(),this.parent.focus()},_onClick:function(a){this.get("disabled")||this.get("readOnly")?j.stop(a):this.checkBox._onClick(a)},_updateBox:function(){this.checkBox.set("value",this.option.selected)},_setDisabledAttr:function(a){this.disabled=a||this.option.disabled;this.checkBox.set("disabled",
this.disabled);e.toggle(this.domNode,"dojoxMultiSelectDisabled",this.disabled)},_setReadOnlyAttr:function(a){this.checkBox.set("readOnly",a);this.readOnly=a}}),y=l("dojox.form._CheckedMultiSelectMenu",o,{multiple:!1,buildRendering:function(){this.inherited(arguments);var a=this.menuTableNode=this.domNode,b=this.domNode=d.create("div",{style:{overflowX:"hidden",overflowY:"scroll"}});a.parentNode&&a.parentNode.replaceChild(b,a);e.remove(a,"dijitMenuTable");b.className=a.className+" dojoxCheckedMultiSelectMenu";
a.className="dijitReset dijitMenuTable";a.setAttribute("role","listbox");b.setAttribute("role","presentation");b.appendChild(a)},resize:function(a){if(a&&(f.setMarginBox(this.domNode,a),"w"in a))this.menuTableNode.style.width="100%"},onClose:function(){this.inherited(arguments);if(this.menuTableNode)this.menuTableNode.style.width=""},onItemClick:function(a,b){"undefined"==typeof this.isShowingNow&&this._markActive();this.focusChild(a);if(a.disabled||a.readOnly)return!1;if(!this.multiple)this.onExecute();
a.onClick(b)}}),A=l("dojox.form._CheckedMultiSelectMenuItem",n,{templateString:w,option:null,parent:null,_iconClass:"",postMixInProperties:function(){this.parent.multiple?(this._iconClass="dojoxCheckedMultiSelectMenuCheckBoxItemIcon",this._type={type:"checkbox"}):(this._iconClass="",this._type={type:"hidden"});this.disabled=this.option.disabled;this.checked=this.option.selected;this.label=this.option.label;this.readOnly=this.option.readOnly;this.inherited(arguments)},onChange:function(){},_updateBox:function(){e.toggle(this.domNode,
"dojoxCheckedMultiSelectMenuItemChecked",!!this.option.selected);this.domNode.setAttribute("aria-checked",this.option.selected);this.inputNode.checked=this.option.selected;this.parent.multiple||e.toggle(this.domNode,"dijitSelectSelectedOption",!!this.option.selected)},_onClick:function(a){if(!this.disabled&&!this.readOnly)if(this.parent.multiple)this.option.selected=!this.option.selected,this.parent.onChange(),this.onChange(this.option.selected);else if(!this.option.selected)k.forEach(this.parent.getChildren(),
function(a){a.option.selected=!1}),this.option.selected=!0,this.parent.onChange(),this.onChange(this.option.selected);this.inherited(arguments)}});return l("dojox.form.CheckedMultiSelect",r,{templateString:x,baseClass:"dojoxCheckedMultiSelect",required:!1,invalidMessage:"$_unset_$",_message:"",dropDown:!1,labelText:"",tooltipPosition:[],setStore:function(a,b,c){this.inherited(arguments);this.store.fetch({query:{selected:!0},onComplete:function(a){a=k.map(a,function(a){return a.value[0]});a.length&&
this.set("value",a)},scope:this})},postMixInProperties:function(){this.inherited(arguments);this._nlsResources=c.getLocalization("dojox.form","CheckedMultiSelect",this.lang);if("$_unset_$"==this.invalidMessage)this.invalidMessage=this._nlsResources.invalidMessage},_fillContent:function(){this.inherited(arguments);if(this.options.length&&!this.value&&this.srcNodeRef){var a=this.srcNodeRef.selectedIndex||0;this.value=this.options[0<=a?a:0].value}if(this.dropDown)e.toggle(this.selectNode,"dojoxCheckedMultiSelectHidden"),
this.dropDownMenu=new y({id:this.id+"_menu",style:"display: none;",multiple:this.multiple,onChange:m.hitch(this,"_updateSelection")})},startup:function(){this.inherited(arguments);if(this.dropDown)this.dropDownButton=new t({label:this.labelText,dropDown:this.dropDownMenu,baseClass:"dojoxCheckedMultiSelectButton",maxHeight:this.maxHeight},this.comboButtonNode)},_onMouseDown:function(a){j.stop(a)},validator:function(){return!this.required?!0:k.some(this.getOptions(),function(a){return a.selected&&null!=
a.value&&0!=a.value.toString().length})},validate:function(a){s.hide(this.domNode);(a=this.isValid(a))||this.displayMessage(this.invalidMessage);return a},isValid:function(){return this.validator()},getErrorMessage:function(){return this.invalidMessage},displayMessage:function(a){s.hide(this.domNode);a&&s.show(a,this.domNode,this.tooltipPosition)},onAfterAddOptionItem:function(){},_addOptionItem:function(a){var b;this.dropDown?(b=new A({option:a,parent:this.dropDownMenu}),this.dropDownMenu.addChild(b)):
(b=new v({option:a,parent:this}),this.wrapperDiv.appendChild(b.domNode));this.onAfterAddOptionItem(b,a)},_refreshState:function(){this.validate(this.focused)},onChange:function(){this._refreshState()},reset:function(){this.inherited(arguments);s.hide(this.domNode)},_updateSelection:function(){this.inherited(arguments);this._handleOnChange(this.value);k.forEach(this._getChildren(),function(a){a._updateBox()});d.empty(this.containerNode);var a=this;k.forEach(this.value,function(b){b=d.create("option",
{value:b,label:b,selected:"selected"});d.place(b,a.containerNode)});if(this.dropDown&&this.dropDownButton){var b=0,c="";k.forEach(this.options,function(a){if(a.selected)b++,c=a.label});this.dropDownButton.set("label",this.multiple?m.replace(this._nlsResources.multiSelectLabelText,{num:b}):c)}},_getChildren:function(){return this.dropDown?this.dropDownMenu.getChildren():k.map(this.wrapperDiv.childNodes,function(a){return q.byNode(a)})},invertSelection:function(){this.multiple&&(k.forEach(this.options,
function(a){a.selected=!a.selected}),this._updateSelection())},_setDisabledAttr:function(a){this.inherited(arguments);this.dropDown&&this.dropDownButton.set("disabled",a);k.forEach(this._getChildren(),function(b){b&&b.set&&b.set("disabled",a)})},_setReadOnlyAttr:function(a){this.inherited(arguments);"readOnly"in this.attributeMap&&this._attrToDom("readOnly",a);this.readOnly=a;k.forEach(this._getChildren(),function(b){b&&b.set&&b.set("readOnly",a)})},uninitialize:function(){s.hide(this.domNode);k.forEach(this._getChildren(),
function(a){a.destroyRecursive()});this.inherited(arguments)}})})},"dojo/fx":function(){define("./_base/lang,./Evented,./_base/kernel,./_base/array,./_base/connect,./_base/fx,./dom,./dom-style,./dom-geometry,./ready,require".split(","),function(l,m,k,j,f,e,d,c,b,a,h){k.isAsync||a(0,function(){h(["./fx/Toggler"])});var k=k.fx={},a={_fire:function(a,b){this[a]&&this[a].apply(this,b||[]);return this}},q=function(a){this._index=-1;this._animations=a||[];this._current=this._onAnimateCtx=this._onEndCtx=
null;this.duration=0;j.forEach(this._animations,function(a){this.duration+=a.duration;a.delay&&(this.duration+=a.delay)},this)};q.prototype=new m;l.extend(q,{_onAnimate:function(){this._fire("onAnimate",arguments)},_onEnd:function(){f.disconnect(this._onAnimateCtx);f.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;this._index+1==this._animations.length?this._fire("onEnd"):(this._current=this._animations[++this._index],this._onAnimateCtx=f.connect(this._current,"onAnimate",this,"_onAnimate"),
this._onEndCtx=f.connect(this._current,"onEnd",this,"_onEnd"),this._current.play(0,!0))},play:function(a,b){if(!this._current)this._current=this._animations[this._index=0];if(!b&&"playing"==this._current.status())return this;var c=f.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin")}),d=f.connect(this._current,"onBegin",this,function(a){this._fire("onBegin",arguments)}),h=f.connect(this._current,"onPlay",this,function(a){this._fire("onPlay",arguments);f.disconnect(c);f.disconnect(d);
f.disconnect(h)});this._onAnimateCtx&&f.disconnect(this._onAnimateCtx);this._onAnimateCtx=f.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx&&f.disconnect(this._onEndCtx);this._onEndCtx=f.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this},pause:function(){if(this._current){var a=f.connect(this._current,"onPause",this,function(b){this._fire("onPause",arguments);f.disconnect(a)});this._current.pause()}return this},gotoPercent:function(a,
b){this.pause();var c=this.duration*a;this._current=null;j.some(this._animations,function(a){if(a.duration<=c)return this._current=a,!0;c-=a.duration;return!1});this._current&&this._current.gotoPercent(c/this._current.duration,b);return this},stop:function(a){if(this._current){if(a){for(;this._index+1<this._animations.length;++this._index)this._animations[this._index].stop(!0);this._current=this._animations[this._index]}var b=f.connect(this._current,"onStop",this,function(a){this._fire("onStop",arguments);
f.disconnect(b)});this._current.stop()}return this},status:function(){return this._current?this._current.status():"stopped"},destroy:function(){this._onAnimateCtx&&f.disconnect(this._onAnimateCtx);this._onEndCtx&&f.disconnect(this._onEndCtx)}});l.extend(q,a);k.chain=function(a){return new q(a)};var o=function(a){this._animations=a||[];this._connects=[];this.duration=this._finished=0;j.forEach(a,function(a){var b=a.duration;a.delay&&(b+=a.delay);if(this.duration<b)this.duration=b;this._connects.push(f.connect(a,
"onEnd",this,"_onEnd"))},this);this._pseudoAnimation=new e.Animation({curve:[0,1],duration:this.duration});var b=this;j.forEach("beforeBegin,onBegin,onPlay,onAnimate,onPause,onStop,onEnd".split(","),function(a){b._connects.push(f.connect(b._pseudoAnimation,a,function(){b._fire(a,arguments)}))})};l.extend(o,{_doAction:function(a,b){j.forEach(this._animations,function(c){c[a].apply(c,b)});return this},_onEnd:function(){++this._finished>this._animations.length&&this._fire("onEnd")},_call:function(a,
b){var c=this._pseudoAnimation;c[a].apply(c,b)},play:function(a,b){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this},gotoPercent:function(a,b){var c=this.duration*a;j.forEach(this._animations,function(a){a.gotoPercent(a.duration<c?1:c/a.duration,b)});this._call("gotoPercent",arguments);return this},stop:function(a){this._doAction("stop",arguments);this._call("stop",
arguments);return this},status:function(){return this._pseudoAnimation.status()},destroy:function(){j.forEach(this._connects,f.disconnect)}});l.extend(o,a);k.combine=function(a){return new o(a)};k.wipeIn=function(a){var b=a.node=d.byId(a.node),h=b.style,o,a=e.animateProperty(l.mixin({properties:{height:{start:function(){o=h.overflow;h.overflow="hidden";if("hidden"==h.visibility||"none"==h.display)return h.height="1px",h.display="",h.visibility="",1;var a=c.get(b,"height");return Math.max(a,1)},end:function(){return b.scrollHeight}}}},
a)),j=function(){h.height="auto";h.overflow=o};f.connect(a,"onStop",j);f.connect(a,"onEnd",j);return a};k.wipeOut=function(a){var b=(a.node=d.byId(a.node)).style,c,a=e.animateProperty(l.mixin({properties:{height:{end:1}}},a));f.connect(a,"beforeBegin",function(){c=b.overflow;b.overflow="hidden";b.display=""});var h=function(){b.overflow=c;b.height="auto";b.display="none"};f.connect(a,"onStop",h);f.connect(a,"onEnd",h);return a};k.slideTo=function(a){var h=null,o=null,j=function(a){return function(){var d=
c.getComputedStyle(a),e=d.position;h="absolute"==e?a.offsetTop:parseInt(d.top)||0;o="absolute"==e?a.offsetLeft:parseInt(d.left)||0;if("absolute"!=e&&"relative"!=e)d=b.position(a,!0),h=d.y,o=d.x,a.style.position="absolute",a.style.top=h+"px",a.style.left=o+"px"}}(a.node=d.byId(a.node));j();a=e.animateProperty(l.mixin({properties:{top:a.top||0,left:a.left||0}},a));f.connect(a,"beforeBegin",a,j);return a};return k})},"deploy/widgets/settings/ArtifactRepo":function(){define("dojo/_base/declare,dijit/_Widget,dijit/_TemplatedMixin,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/on,dojo/number,dijit/ProgressBar,js/webext/widgets/table/TreeTable".split(","),
function(l,m,k,j,f,e,d,c,b,a){return l([m,k],{templateString:'<div><div><div class="artifactProgressBarText" data-dojo-attach-point="pbTextAttach"></div><div class="artifactDescription" data-dojo-attach-point="pbDescrAttach"></div><div class="artifactProgressBar" data-dojo-attach-point="progressBarAttach"></div></div><div data-dojo-attach-point="sizeTableAttach"></div></div>',postCreate:function(){this.inherited(arguments);var b=this;void 0!==this.tree&&this.tree.destroy();this.tree=new a({url:bootstrap.restUrl+
"deploy/component/componentSizeReport",serverSideProcessing:!1,noDataMessage:i18n("No components found."),columns:b._getTableColumns(),hidePagination:!1,orderField:"sizeOnDisk",sortType:"desc",getChildUrl:function(a){if(!a.component)return bootstrap.restUrl+"deploy/component/"+a.id+"/versions/false"},hasChildren:function(a){return!!a.sizeOnDisk&&"Component"===a["class"]}});this.tree.placeAt(this.sizeTableAttach);j.get({url:bootstrap.restUrl+"deploy/version/upgrades",handleAs:"json",load:function(a){b._createProgressBar(a)},
error:function(){}})},_createProgressBar:function(a){var c=this;if(0!==a.remaining)c.pbDescrAttach.innerHTML=i18n("The server is currently re-organizing  version artifacts. This process will only occur once and the server can continue to be used as normal. This re-organization may allow for faster artifact resolution."),c.pbTextAttach.innerHTML=i18n("Artifact Upgrade Status: "),c._updateProgressBar(),c.bar=(new b({style:"width: 100%",indeterminate:!0})).placeAt(this.progressBarAttach),setInterval(function(){c._updateProgressBar()},
1E4)},_updateProgressBar:function(){var a=this;j.get({url:bootstrap.restUrl+"deploy/version/upgrades",handleAs:"json",load:function(b){a.bar.set("value",100*(1-b.remaining/b.total))},error:function(){}})},_getTableColumns:function(){var a=this,b=[];b.push({name:i18n("Component / Version"),formatter:function(a){return a.name},getRawValue:function(a){return a.name},orderField:"name",filterField:"name",filterType:"text"});b.push({name:i18n("Size"),orderField:"sizeOnDisk",formatter:function(b){return a._formatSize(b.sizeOnDisk||
-1)},getRawValue:function(a){return a.sizeOnDisk||0}});return b},_formatSize:function(a){var b=i18n("N/A");-1<a&&(b=util.fileSizeFormat(a));return b}})})},"deploy/widgets/workflow/activity/ApplicationRunComponentProcessActivity":function(){define("dojo/_base/array,dojo/_base/declare,dojo/on,deploy/widgets/workflow/activity/BaseActivity,js/webext/widgets/DialogMultiSelect,js/webext/widgets/RestSelect".split(","),function(l,m,k,j){return m("deploy.widgets.workflow.activity.ApplicationRunComponentProcessActivity",
[j],{postCreate:function(){this.inherited(arguments);if(this.data&&this.data.componentIds)this.data.componentIds=this.data.componentIds.split(",");if(!this.initialized)this.data.name=util.randomString(30),this.editProperties()},getLabel:function(){var f="";if(this.initialized){var e=this.getChildData();e.component&&e.component.deleted?f+=e.name+"\n("+i18n("Deleted Component")+")":(f+=e.name,f=e.componentName?f+("\n"+e.componentName):f+("\n"+i18n("Process Deleted")))}else f+=i18n("Run Process");return f},
editProperties:function(f){var e=this,d=this.getChildData(),c=e.createPropertyDialog(),b=e.createPropertyForm({dialog:c,validateFields:function(a){return e.validateName(a.name)},onSubmit:function(a){f&&f();e.initialized=!0;"true"===a.ifComponentChanges?(e.data.type="changedResourceIterator",e.data.componentIds=a.componentIds,e.data.resourceSelectionMode=a.resourceSelectionMode):e.data.type="componentEnvironmentIterator";if(a.tagId&&""!==a.tagId)e.data.tagId=a.tagId;else if(e.data.tagId)e.data.tagId=
void 0;e.data.runOnlyOnFirst=a.runOnlyOnFirst;e.data.maxIteration=a.maxIteration;e.data.failFast=a.failFast;e.data.preconditionScript=a.preconditionScript;var h={};l.forEach(e.extraPropertyNames,function(b){var c=b.substring(2);h[c]=a[b]});e.data.children=[{id:d.id,name:a.name,type:"componentProcess",componentName:d.componentName,componentProcessName:d.componentProcessName,allowFailure:a.allowFailure,properties:h}];e.updateLabel();c.hide();b.destroy();c.destroy()},readOnly:e.readOnly});b.addField({name:"name",
label:i18n("Name"),type:"Text",required:!0,value:d.name});this.extraPropertyNames=[];l.forEach(e.extraPropertyNames,function(a){e.removePropertyField(b,a)});e.extraPropertyNames=[];this.uiData.componentProcess&&l.forEach(this.uiData.componentProcess.unfilledProperties,function(a){var c="p_"+a.name,f=a.value,o=!1;d.properties&&d.properties[a.name]&&(f=d.properties[a.name],o=!0);a={name:c,type:a.type,description:a.description?a.description.escape():a.description,required:a.required,value:f,label:a.label,
allowedValues:a.allowedValues};e.extraPropertyNames.push(c);e.addPropertyField(b,a,o,"allowFailure")});(config.data.systemConfiguration.enableAllowFailure||d.allowFailure)&&b.addField({name:"allowFailure",label:i18n("Ignore Failure"),description:i18n("When checked, this step will always be considered successful."),type:"Checkbox",value:d.allowFailure},"tagId");b.addField({name:"tagId",label:i18n("Limit to Resource Tag"),type:"TagDropDown",objectType:"Resource",value:e.data.tagId,readOnly:e.readOnly});
b.addField({name:"maxIteration",label:i18n("Max # of concurrent jobs."),type:"Text",textDir:"ltr",required:!0,value:e.data.maxIteration||-1,description:i18n("The max number of concurrent component processes to run at any time. Use -1 for unlimited.")});b.addField({name:"failFast",label:i18n("Fail Fast"),type:"Checkbox",description:i18n("When this is checked, this step will not start any more component processes if one fails."),value:e.data.failFast});b.addField({name:"runOnlyOnFirst",label:i18n("Run on First Online Resource Only"),
type:"Checkbox",description:i18n("When this is checked, this step will only use one resource. It will not run on all resources."),value:e.data.runOnlyOnFirst});b.addField({name:"preconditionScript",label:i18n("Precondition"),type:"Text Area",description:i18n("A script to determine whether this step should run. Must evaluate to true or false if not left blank."),value:e.data.preconditionScript});b.addField({name:"ifComponentChanges",label:i18n("Run if Components Change"),type:"Checkbox",description:i18n("When this is checked, this step will only run if certain components will cause inventory changes on a given resource."),
value:"changedResourceIterator"===e.data.type,onChange:function(a){e.showComponentSelection(a,b)}});e.showComponentSelection("changedResourceIterator"===e.data.type,b);b.placeAt(c.containerNode);c.show()},showComponentSelection:function(f,e){var d=this;e.hasField("componentIds")&&(e.removeField("componentIds"),e.removeField("resourceSelectionMode"));if(f){var c;d.data.componentIds&&(c=[],l.forEach(d.data.componentIds,function(b){c.push({id:b,name:(d.data.componentNames?d.data.componentNames[b]:b)||
b})}));e.addField({name:"componentIds",label:i18n("Components"),multi:!0,type:"ApplicationComponentSelect",applicationId:d.graphEditor.application.id,value:c,idAttribute:"id",onAdd:function(b){if(!d.data.componentNames)d.data.componentNames={};d.data.componentNames[b.id]=b.name}});e.addField({name:"resourceSelectionMode",label:i18n("Resource Selection Mode"),type:"Radio",allowedValues:[{label:i18n("Only resources where selected components are changed"),value:"ONLY_WHERE_COMPONENTS_CHANGED"},{label:i18n("All resources mapped to this process's component"),
value:"ALL_MAPPED_RESOURCES"}],description:i18n("This option determines which resources the process will execute on if one of the selected components has a change detected. If the first option is selected, the operational process will only run on resources where both the operational process's component is mapped and one of the watched components is changed. If the second option is selected, the operational process will run everywhere its component is mapped if any of the watched components is changed anywhere."),
value:this.data.resourceSelectionMode||"ONLY_WHERE_COMPONENTS_CHANGED"})}}})})},"deploy/widgets/resource/ResourceVarianceBrowser":function(){define("dojo/_base/declare,dojo/_base/array,dojo/_base/xhr,dojo/_base/event,dojo/json,dojo/on,dojo/query,dijit/Tooltip,dijit/_TemplatedMixin,dijit/_Widget,dijit/_WidgetBase,js/webext/widgets/table/TreeTable,dijit/form/CheckBox,dojo/dom-construct,dojo/dom-class,js/util/blocker/_BlockerMixin".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r){return l([a,b,r],
{templateString:'<div><div data-dojo-attach-point="buttonAttach" style="margin-top:10px;margin-left:5px"></div><div data-dojo-attach-point="dataDiv"></div></div>',newValueColumnHeading:i18n("New Value"),oldValueColumnHeading:i18n("Old Value"),showChangedOnly:!1,postCreate:function(){var a=this;if(!this.url)this.url=bootstrap.restUrl+"resource/resource/"+this.resource.id+"/variance";var b=[{name:i18n("Name"),field:"name",filterField:"name",filterType:"text",orderField:"name",getRawValue:function(a){return a.name}},
{name:a.newValueColumnHeading,field:"value",filterField:"value",filterType:"text",getRawValue:function(a){return a.value}},{name:a.oldValueColumnHeading,field:"oldValue",filterField:"oldValue",filterType:"text",getRawValue:function(a){return a.oldValue}}];this.tree=new q({url:this.url,noDataMessage:i18n("No fingerprint found from Config Management Server!"),columns:b,serverSideProcessing:!1,orderField:"name",idAttribute:"name",draggable:!1,selectable:!1,hidePagination:!0,itemPasses:function(b){var c=
!0;if(a.showChangedOnly&&(!b.varianceType||"NONE"===b.varianceType))c=!1;return c},applyRowStyle:function(b,c){"ADDED"===b.varianceType?s.add(c,"resourceVarianceAdded"):"REMOVED"===b.varianceType?s.add(c,"resourceVarianceRemoved"):"CHANGED"===b.varianceType?s.add(c,"resourceVarianceChanged"):"CHILD_CHANGED"===b.varianceType&&!a.showChangedOnly&&s.add(c,"resourceVarianceChildChanged")},getItemChildren:function(a){var b=a.children;if(void 0===b||null===b)b=[];dojo.forEach(a.attributes,function(a){b.push(a)});
return b}});(new o({checked:a.showChangedOnly,onChange:function(b){a.showChangedOnly=b;a.tree.refresh()}})).placeAt(this.buttonAttach);n.create("div",{innerHTML:i18n("Show Only Changed"),"class":"inlineBlock",style:{position:"relative",top:"2px",left:"2px"}},this.buttonAttach);this.tree.placeAt(this.dataDiv)}})})},"dijit/_TimePicker":function(){require({cache:{"url:dijit/templates/TimePicker.html":'<div id="widget_${id}" class="dijitMenu"\n    ><div data-dojo-attach-point="upArrow" class="dijitButtonNode dijitUpArrowButton" data-dojo-attach-event="onmouseenter:_buttonMouse,onmouseleave:_buttonMouse"\n\t\t><div class="dijitReset dijitInline dijitArrowButtonInner" role="presentation">&#160;</div\n\t\t><div class="dijitArrowButtonChar">&#9650;</div></div\n    ><div data-dojo-attach-point="timeMenu,focusNode" data-dojo-attach-event="onclick:_onOptionSelected,onmouseover,onmouseout"></div\n    ><div data-dojo-attach-point="downArrow" class="dijitButtonNode dijitDownArrowButton" data-dojo-attach-event="onmouseenter:_buttonMouse,onmouseleave:_buttonMouse"\n\t\t><div class="dijitReset dijitInline dijitArrowButtonInner" role="presentation">&#160;</div\n\t\t><div class="dijitArrowButtonChar">&#9660;</div></div\n></div>\n'}});
define("dijit/_TimePicker","dojo/_base/array,dojo/date,dojo/date/locale,dojo/date/stamp,dojo/_base/declare,dojo/dom-class,dojo/dom-construct,dojo/_base/event,dojo/_base/kernel,dojo/keys,dojo/_base/lang,dojo/sniff,dojo/query,dojo/mouse,./typematic,./_Widget,./_TemplatedMixin,./form/_FormValueWidget,dojo/text!./templates/TimePicker.html".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u){return f("dijit._TimePicker",[r,t],{templateString:u,baseClass:"dijitTimePicker",clickableIncrement:"T00:15:00",
visibleIncrement:"T01:00:00",visibleRange:"T05:00:00",value:new Date,_visibleIncrement:2,_clickableIncrement:1,_totalIncrements:10,constraints:{},serialize:j.toISOString,setValue:function(a){b.deprecated("dijit._TimePicker:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",a)},_setValueAttr:function(a){this._set("value",a);this._showText()},_setFilterStringAttr:function(a){this._set("filterString",a);this._showText()},isDisabledDate:function(){return!1},_getFilteredNodes:function(a,
b,c,d){var h=[],d=d?d.date:this._refDate,e=a,f=this._maxIncrement+Math.abs(e),o=c?-1:1,j=c?1:0,n=1-j;do{e-=j;if(a=this._createOption(e)){if(c&&a.date>d||!c&&a.date<d)break;h[c?"unshift":"push"](a);d=a.date}e+=n}while(h.length<b&&e*o<f);return h},_showText:function(){var a=j.fromISOString;this.timeMenu.innerHTML="";this._clickableIncrementDate=a(this.clickableIncrement);this._visibleIncrementDate=a(this.visibleIncrement);this._visibleRangeDate=a(this.visibleRange);var b=function(a){return 3600*a.getHours()+
60*a.getMinutes()+a.getSeconds()},a=b(this._clickableIncrementDate),c=b(this._visibleIncrementDate),b=b(this._visibleRangeDate),d=(this.value||this.currentFocus).getTime();this._refDate=new Date(d-d%(1E3*a));this._refDate.setFullYear(1970,0,1);this._clickableIncrement=1;this._totalIncrements=b/a;this._visibleIncrement=c/a;this._maxIncrement=86400/a;b=Math.min(this._totalIncrements,10);a=this._getFilteredNodes(0,(b>>1)+1,!1);c=[];b-=a.length;d=this._getFilteredNodes(0,b,!0,a[0]);d.length<b&&0<a.length&&
(c=this._getFilteredNodes(a[a.length-1].idx+1,b-d.length,!1,a[a.length-1]));l.forEach(d.concat(a,c),function(a){this.timeMenu.appendChild(a)},this);if(!d.length&&!a.length&&!c.length&&this.filterString)this.filterString="",this._showText()},constructor:function(){this.constraints={}},postMixInProperties:function(){this.inherited(arguments);this._setConstraintsAttr(this.constraints)},_setConstraintsAttr:function(a){h.mixin(this,a);if(!a.locale)a.locale=this.lang},postCreate:function(){this.connect(this.timeMenu,
n.wheel,"_mouseWheeled");this.own(s.addMouseListener(this.upArrow,this,"_onArrowUp",33,250),s.addMouseListener(this.downArrow,this,"_onArrowDown",33,250));this.inherited(arguments)},_buttonMouse:function(a){e.toggle(a.currentTarget,a.currentTarget==this.upArrow?"dijitUpArrowHover":"dijitDownArrowHover","mouseenter"==a.type||"mouseover"==a.type)},_createOption:function(a){var b=new Date(this._refDate),c=this._clickableIncrementDate;b.setTime(b.getTime()+36E5*c.getHours()*a+6E4*c.getMinutes()*a+1E3*
c.getSeconds()*a);"time"==this.constraints.selector&&b.setFullYear(1970,0,1);c=k.format(b,this.constraints);if(this.filterString&&0!==c.toLowerCase().indexOf(this.filterString))return null;var h=this.ownerDocument.createElement("div");h.className=this.baseClass+"Item";h.date=b;h.idx=a;d.create("div",{"class":this.baseClass+"ItemInner",innerHTML:c},h);1>a%this._visibleIncrement&&-1<a%this._visibleIncrement?e.add(h,this.baseClass+"Marker"):a%this._clickableIncrement||e.add(h,this.baseClass+"Tick");
this.isDisabledDate(b)&&e.add(h,this.baseClass+"ItemDisabled");if(this.value&&!m.compare(this.value,b,this.constraints.selector))h.selected=!0,e.add(h,this.baseClass+"ItemSelected"),e.contains(h,this.baseClass+"Marker")?e.add(h,this.baseClass+"MarkerSelected"):e.add(h,this.baseClass+"TickSelected"),this._highlightOption(h,!0);return h},_onOptionSelected:function(a){if((a=a.target.date||a.target.parentNode.date)&&!this.isDisabledDate(a))this._highlighted_option=null,this.set("value",a),this.onChange(a)},
onChange:function(){},_highlightOption:function(a,b){if(a){if(b)this._highlighted_option&&this._highlightOption(this._highlighted_option,!1),this._highlighted_option=a;else{if(this._highlighted_option!==a)return;this._highlighted_option=null}e.toggle(a,this.baseClass+"ItemHover",b);e.contains(a,this.baseClass+"Marker")?e.toggle(a,this.baseClass+"MarkerHover",b):e.toggle(a,this.baseClass+"TickHover",b)}},onmouseover:function(a){this._keyboardSelected=null;a=a.target.parentNode===this.timeMenu?a.target:
a.target.parentNode;e.contains(a,this.baseClass+"Item")&&this._highlightOption(a,!0)},onmouseout:function(a){this._keyboardSelected=null;this._highlightOption(a.target.parentNode===this.timeMenu?a.target:a.target.parentNode,!1)},_mouseWheeled:function(a){this._keyboardSelected=null;c.stop(a);this[0<a.wheelDelta?"_onArrowUp":"_onArrowDown"]()},_onArrowUp:function(a){-1===a?e.remove(this.upArrow,"dijitUpArrowActive"):(0===a&&e.add(this.upArrow,"dijitUpArrowActive"),this.timeMenu.childNodes.length&&
(a=this._getFilteredNodes(this.timeMenu.childNodes[0].idx,1,!0,this.timeMenu.childNodes[0]),a.length&&(this.timeMenu.removeChild(this.timeMenu.childNodes[this.timeMenu.childNodes.length-1]),this.timeMenu.insertBefore(a[0],this.timeMenu.childNodes[0]))))},_onArrowDown:function(a){-1===a?e.remove(this.downArrow,"dijitDownArrowActive"):(0===a&&e.add(this.downArrow,"dijitDownArrowActive"),this.timeMenu.childNodes.length&&(a=this._getFilteredNodes(this.timeMenu.childNodes[this.timeMenu.childNodes.length-
1].idx+1,1,!1,this.timeMenu.childNodes[this.timeMenu.childNodes.length-1]),a.length&&(this.timeMenu.removeChild(this.timeMenu.childNodes[0]),this.timeMenu.appendChild(a[0]))))},handleKey:function(b){if(b.keyCode==a.DOWN_ARROW||b.keyCode==a.UP_ARROW){c.stop(b);if(this._highlighted_option&&!this._highlighted_option.parentNode)this._highlighted_option=null;var d=this.timeMenu,h=this._highlighted_option||o("."+this.baseClass+"ItemSelected",d)[0];h?d.childNodes.length&&(b.keyCode==a.DOWN_ARROW&&!h.nextSibling?
this._onArrowDown():b.keyCode==a.UP_ARROW&&!h.previousSibling&&this._onArrowUp(),h=b.keyCode==a.DOWN_ARROW?h.nextSibling:h.previousSibling):h=d.childNodes[0];this._highlightOption(h,!0);this._keyboardSelected=h;return!1}if(b.keyCode==a.ENTER||b.keyCode===a.TAB){if(!this._keyboardSelected&&b.keyCode===a.TAB)return!0;this._highlighted_option&&this._onOptionSelected({target:this._highlighted_option});return b.keyCode===a.TAB}}})})},"deploy/widgets/application/EditApplication":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,js/webext/widgets/ColumnForm,js/webext/widgets/RestSelect,js/webext/widgets/Alert,deploy/widgets/security/TeamSelector".split(","),
function(l,m,k,j,f,e,d,c,b){return j("deploy.widgets.application.EditApplication",[m,l],{aThing:{},templateString:'<div class="editApplication">  <div data-dojo-attach-point="formAttach"></div></div>',templatePropertyNames:[],templatePropertyPatterns:[],onTemplateChange:function(){},showButtons:!0,postCreate:function(){var a=this;a.inherited(arguments);a.existingValues={};a.application?a.existingValues=a.application:f.get({url:bootstrap.restUrl+"security/teamsWithCreateAction/Application",handleAs:"json",
sync:!0,load:function(b){a.existingValues.extendedSecurity={teams:b}}});a.form=new e({submitUrl:bootstrap.restUrl+"deploy/application",readOnly:a.readOnly,showButtons:!a.readOnly&&a.showButtons,postSubmit:function(b){this.noRedirect||navBar.setHash("application/"+b.id);void 0!==a.callback&&a.callback()},addData:function(b){if(a.application)b.existingId=a.application.id;"none"===b.notificationSchemeId&&delete b.notificationSchemeId;b.teamMappings=a.teamSelector.teams},onError:function(a){a.responseText&&
new c({message:util.escape(a.responseText)})},onCancel:function(){void 0!==a.callback&&a.callback()},validateFields:function(b){var c=[];k.forEach(a.templatePropertyNames,function(d,h){var e=a.templatePropertyPatterns[h],f=b[d];if(e&&f){var j=!0;-1!==a.templatePropertyTypes[h].indexOf("MULTI_SELECT")?f.split(",").forEach(function(b){a.validatePattern(b,e)||(j=!1)}):a.validatePattern(f,e)||(j=!1);if(!j){var f="",k=dojo.filter(a.form.fieldsArray,function(a){return a.name===d});if(k&&1===k.length)f=
k[0].label;f||(0===d.indexOf("template/")&&(d=d.substring(9)),f=d);c.push(i18n("Value does not follow the required pattern for property %s.",f))}}});return c}});a.form.addField({name:"name",label:i18n("Name"),required:!0,type:"Text",value:a.existingValues.name});a.form.addField({name:"description",label:i18n("Description"),type:"Text",value:a.existingValues.description});var d=[];if(a.existingValues&&a.existingValues.extendedSecurity&&a.existingValues.extendedSecurity.teams)d=a.existingValues.extendedSecurity.teams;
a.teamSelector=new b({readOnly:a.readOnly,resourceRoleType:"Application",noneLabel:i18n("Standard Application"),teams:d});a.form.addField({name:"teams",label:i18n("Teams"),widget:a.teamSelector});a.form.addField({name:"_templateInsert",type:"Invisible"});a.form.addField({name:"_settingsInsert",type:"Invisible"});a.form.addField({name:"_templateProperties",type:"Invisible"});a.addTemplateFields();a.form.placeAt(a.formAttach)},addSettingFields:function(a){this.form.removeField("notificationSchemeId");
this.form.removeField("enforceCompleteSnapshots");var b=new d({disabled:this.readOnly||!!a,restUrl:bootstrap.restUrl+"notification/notificationScheme",value:this.existingValues.notificationSchemeId,getLabel:function(a){return i18n(a.name)}});this.form.addField({name:"notificationSchemeId",label:i18n("Notification Scheme"),description:i18n("A notification scheme to use when handling events generated by this application."),widget:b},"_settingsInsert");this.form.addField({name:"enforceCompleteSnapshots",
label:i18n("Enforce Complete Snapshots"),readOnly:!!a,type:"Checkbox",description:i18n("Whether this application should require that a version be given for each component when creating snapshots."),value:this.existingValues.enforceCompleteSnapshots},"_settingsInsert")},addTemplateFields:function(){var a=this,b=a.existingValues.template||a.applicationTemplate,c=config.data.permissions[security.system.createApplications],e=config.data.permissions[security.system.createApplicationsFromTemplate],f=a.application&&
a.application.template||a.applicationTemplate;(!a.application&&!a.applicationTemplate&&!a.source||!f)&&e?(b=new d({restUrl:bootstrap.restUrl+"deploy/applicationTemplate",value:a.existingValues.templateId,tooltipField:"description",onChange:function(b,c){a.showStatusOrTemplateVersionFields(c)}}),a.form.addField({name:"templateId",label:i18n("Application Template"),description:i18n("The template to use for this application."),required:!c,widget:b},"_templateInsert")):f?(a.form.addField({name:"templateName",
label:i18n("Application Template"),description:i18n("The template to use for this application."),readOnly:!0,type:"Text",value:b?b.name:"None"},"_templateInsert"),a.showStatusOrTemplateVersionFields(b)):a.addSettingFields()},showStatusOrTemplateVersionFields:function(a){var b=this;b.form.hasField("templateVersion")&&b.form.removeField("templateVersion");a?(b.templateVersionSelect=new d({restUrl:bootstrap.restUrl+"deploy/applicationTemplate/"+a.id+"/versions",getLabel:function(a){return a.version+
" - "+util.dateFormatShort(a.commit.commitTime)},getValue:function(a){return a.version},noneLabel:i18n("Always Use Latest"),value:-1===this.existingValues.templateVersion?null:this.existingValues.templateVersion,onChange:function(c,d){d?b.selectTemplate(d):b.selectTemplate(a)}}),this.form.addField({name:"templateVersion",label:i18n("Application Template Version"),description:i18n("The version of the template to use for this component."),widget:b.templateVersionSelect},"_templateInsert")):(b.selectTemplate(),
b.addSettingFields())},selectTemplate:function(a){var b=this;b.removeTemplatePropDefs();a?f.get({url:b.templateVersionSelect.value?bootstrap.restUrl+"deploy/applicationTemplate/"+a.id+"/"+b.templateVersionSelect.value:bootstrap.restUrl+"deploy/applicationTemplate/"+a.id+"/-1",handleAs:"json",load:function(a){b.existingValues.notificationSchemeId=a.notificationSchemeId;b.existingValues.enforceCompleteSnapshots=a.enforceCompleteSnapshots;b.showTemplatePropDefs(a);b.addSettingFields(a);b.onTemplateChange.apply(this,
arguments)}}):b.onTemplateChange.apply(this,arguments)},showTemplatePropDefs:function(a){var b=this;b.templatePropertyNames=[];b.templatePropertyPatterns=[];b.templatePropertyTypes=[];k.forEach(a.propDefs,function(a){var c=util.clone(a);c.name="template/"+a.name;a.pattern&&(c.description+=i18n(" Required Pattern: %s",a.pattern));util.populatePropValueAndLabel(b.existingValues.properties,c);b.form.addField(c,"_templateProperties");b.templatePropertyNames.push(c.name);b.templatePropertyPatterns.push(c.pattern);
b.templatePropertyTypes.push(c.type)})},removeTemplatePropDefs:function(){var a=this;k.forEach(a.templatePropertyNames,function(b){a.form.removeField(b)})},getData:function(){return this.form.getData()},submit:function(){this.form.submitForm()},validatePattern:function(a,b){return RegExp("^"+b+"$").test(a)},validate:function(){var a=this.form.validateFields(this.getData());Array.prototype.push.apply(a,this.form.validateRequired());return a}})})},"deploy/widgets/component/ComponentResources":function(){define(["dijit/_TemplatedMixin",
"dijit/_Widget","dojo/_base/declare","deploy/widgets/Formatters","js/webext/widgets/Table"],function(l,m,k,j,f){return k("deploy.widgets.component.ComponentResources",[m,l],{templateString:'<div class="componentResources"><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var e=[{name:i18n("Resource"),formatter:function(d){return j.resourcePathFormatter(d.resource)}},{name:i18n("Version"),formatter:function(d){return j.versionLinkFormatter(d.version)}},
{name:i18n("Date"),field:"date",formatter:util.tableDateFormatter,orderField:"dateCreated"},{name:i18n("Status"),formatter:function(d,c,b){return j.statusFormatter(d.status,c,b)}},{name:i18n("Actions")}];this.grid=new f({url:bootstrap.restUrl+"inventory/resourceInventory/table",columns:e,baseFilters:[{name:"componentId",type:"eq",values:[this.componentId]},{name:"ghostedDate",className:"Long",type:"eq",values:[0]}],orderField:"dateCreated",sortType:"desc",tableConfigKey:"componentResources"+appState.component.id,
noDataMessage:i18n("This component has not been installed to any resources.")});this.grid.placeAt(this.gridAttach)},destroy:function(){this.inherited(arguments);this.grid.destroy()}})})},"deploy/widgets/calendar/Calendar":function(){define("dojo/_base/declare,dojo/_base/array,dojo/_base/xhr,dojo/dom-construct,dojo/dom-class,dojo/dom-style,dojo/mouse,dojo/on,deploy/widgets/application/RunApplicationProcess,deploy/widgets/calendar/CalendarBase,deploy/widgets/calendar/EditBlackout,deploy/widgets/calendar/EditRecurringEntry,js/webext/widgets/Alert,js/webext/widgets/ColumnForm,js/webext/widgets/Dialog,js/webext/widgets/FormDelegates,js/webext/widgets/GenericConfirm,js/webext/widgets/Table,js/webext/widgets/color/Color,deploy/widgets/Formatters,dijit/form/TextBox,dijit/form/DateTextBox,dijit/form/TimeTextBox,dijit/form/Select,js/webext/widgets/BidiDateUtil".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u,x,v,y,A,z,B){return l("deploy.widgets.calendar.Calendar",[a],{itemClassName:function(a){var b=a.eventType;a.fired&&(b+=" no-move");a.color&&(b+=" "+u.getBasicColorName(a.color)+"-color",util.isDarkColor(a.color)&&(b+=" dark-color"));return b},canMoveItem:function(a){var b=a.cssClass||"",c=-1===b.indexOf("no-move"),d=-1===b.indexOf("child"),b=-1===b.indexOf("blackout");return(a.startTime>=this.now.valueOf()||!b)&&c&&this.displayActions()&&d},canResizeItem:function(a){return a.cssClass&&
-1!==a.cssClass.indexOf("blackout")},onItemCreate:function(a,b){"child"===a.eventType&&(this.calendar&&"month"===this.calendar.dateInterval?(f.add(b.renderer.endTimeLabel,"general-icon"),j.place(b.renderer.summaryLabel,b.renderer.endTimeLabel,"after")):b.renderer.afterIcon&&f.add(b.renderer.afterIcon,"general-icon"))},formatData:function(a,b){var c=this.formatAndFilterItems(a.entries,void 0,b),d=this.formatAndFilterItems(a.blackouts,"blackout");return c.concat(d)},formatItem:function(a,b,c){a.name=
util.escape(a.name);if("blackout"===b)a.eventType=b;if("child"===a.eventType){if(!this.recurringItems)this.recurringItems=[];this.recurringItems.push(a)}if(a.scheduledDate)b=a.scheduledDate,a.startDate=new Date(b),a.endDate=c||this.calendar&&"month"===this.calendar.dateInterval?new Date(a.scheduledDate+1):util.shiftMinutes(b,90);if(a.startDate)a.startDate=new Date(a.startDate);if(a.endDate)a.endDate=new Date(a.endDate);if(a.environment&&a.environment.color)c=u.getColorOrConvert(a.environment.color),
!c.standard&&c.fallback&&(c=u.getColor(c.fallback)),a.color=c.value;return a},itemEndEdit:function(a,b,c){(new Date(a.item.startDate)).valueOf()<this.now.valueOf()&&("entry"===a.item.eventType||"child"===a.item.eventType)?(a.preventDefault(),a.item.startTime=b,a.item.endTime=c,this.updateItem(a.item,{updateType:"move-before-time",date:b})):(this.updateSidebar(a),a.item.originalDate=b,a.item.originalEndDate=c,"entry"===a.item.eventType||"child"===a.item.eventType?this.updateItem(a.item,{updateType:"move",
date:a.item.startDate}):this.updateItem(a.item,{updateType:"move",date:a.item.startDate,endDate:a.item.endDate}))},enableCreateOnShiftDoubleClick:function(){return this.showCreateRequest||void 0!==this.calendarId},enableCreateOnControlAltClick:function(){return this.calendarId&&this.displayActions()},addCreateOnShiftDoubleClick:function(){var a=this,b=function(b,c){a.calendar.gridClick=!0;if(b.triggerEvent.shiftKey||c){var d="month"===a.calendar.dateInterval,h=d?util.shiftHours(new Date,1):b.date;
a.showCreateRequestDialog(b.date,h,d)}else(b.triggerEvent.altKey||b.triggerEvent.ctrlKey)&&a.enableCreateOnControlAltClick()&&a.updateItem(a.tempCreateItem);a.updateSidebar(b,!0);a.calendar.gridClick=!1};this.calendar.on("gridClick",function(c){b(c);a.onGridClick(c)});this.calendar.on("gridDoubleClick",function(a){b(a,!0)})},addCreateOnControlAltClick:function(a,b){var c,d;d=this.calendar.columnView;var h=this.calendar.dateModule;a===d?(c=this.calendar.floorDate(b,"minute",d.timeSlotDuration),d=h.add(c,
"minute",d.timeSlotDuration)):(c=this.calendar.floorToDay(b),d=h.add(c,"day",1));var h=i18n("New Blackout"),e="#000000";this.environment&&this.environment.name&&(h=this.application&&this.application.name?i18n("%s: %s - Blackout",this.environment.name,this.application.name):i18n("%s Blackout",this.environment.name),e=this.environment.color||"#000000");return{id:"noId",summary:util.escape(h),name:util.escape(h),startDate:c,endDate:d,clickCreate:!0,calendarId:this.calendarId,environment:{color:e}}},
addSidebarCreateButtons:function(){var a=this;this.showCreateRequest&&this.createSidebarCreateButton({label:i18n("Schedule Process"),onClick:function(){var b=B.getNewDate();a.showCreateRequestDialog(b,new Date(util.shiftHours(b,1)),!0)},hoverMessage:i18n("You can also schedule a process by holding down the shift key and clicking on a day or double click on a day you want to schedule your process."),highlight:!0});void 0!==this.calendarId&&a.displayActions()&&this.createSidebarCreateButton({label:i18n("Add Blackout"),
onClick:function(){a.showBlackoutDialog({})},hoverMessage:i18n("You can also schedule a blackout by holding down either the control or alt key then clicking on a start day then dragging the length of the blackout.")})},updateSidebar:function(a,b){var c=this,d=a.item||null;this.clearSidebar();this.showTab();var h,e=!1,o=function(a){c.updateButton&&(h=!0,a&&(e=!0))},n=function(a,b,c){a.on("change",function(){o()});c||f.add(a.domNode,b?"calendar-time-drop-down":"calendar-date-drop-down")};if(b)c.sidebar.calendar.set("value",
a.date);else if(d&&"entry"===d.eventType||"child"===d.eventType){var q="child"===d.eventType;if(d.name||q)if(q){var s=c.createSidebarLabelContainer(i18n("Name"));c.nameBox=(new v({value:d.name})).placeAt(s);c.nameBox.on("change",function(){o(!0)})}else this.createSidebarTitle(d.name);d.application&&(this.createSidebarLink(i18n("Application"),util.escape(d.application.name),"#application/"+d.application.id),d.applicationProcess&&this.createSidebarLink(i18n("Process Version"),i18n("Version %s",d.applicationProcess.version),
"#applicationProcess/"+d.applicationProcess.id+"/"+d.applicationProcess.version),d.snapshot&&this.createSidebarLink(i18n("Snapshot"),util.escape(d.snapshot.name),"#snapshot/"+d.snapshot.id));d.component&&(this.createSidebarLink(i18n("Component"),util.escape(d.component.name),"#component/"+d.component.id),d.componentProcess&&this.createSidebarLink(i18n("Component Process"),i18n("Version %s",d.componentProcess.version),"#componentProcess/"+d.componentProcess.id+"/"+d.componentProcess.version),d.version&&
this.createSidebarLink(i18n("Version"),util.escape(d.version.name),"#version/"+d.version.id));s='<div class="calendar-sidebar-environment-color inline-block" style="background-color:'+d.environment.color+'"></div>';this.createSidebarLink(i18n("Environment"),s+util.escape(d.environment.name),"#environment/"+d.environment.id);d.resource&&this.createSidebarLink(i18n("Resource"),util.escape(d.resource.name),"#resource/"+d.resource.id);if(d.recurrencePattern)s=this.createSidebarLabelContainer(i18n("Recurrence Pattern")),
c.recurrencePattern=new z({options:[{label:i18n("Daily"),value:"D"},{label:i18n("Weekly"),value:"W"},{label:i18n("Monthly"),value:"M"}],value:d.recurrencePattern}),j.place(c.recurrencePattern.domNode,s),n(c.recurrencePattern,null,!0);if(s=d.startDate>=c.now.valueOf()&&!d.fired&&d.executeEnvironment){var k=q?i18n("Base Date & Time"):i18n("Date"),l=q?new Date(d.parent.scheduledDate):d.startDate,k=this.createSidebarLabelContainer(k);c.dateBox=(new y({datePackage:B.getDatePackage(),value:B.getNewDate(l),
constraints:{format:"short"}})).placeAt(k);n(c.dateBox);c.timeBox=(new A({value:d.startDate})).placeAt(k);n(c.timeBox,!0)}else this.createSidebarText(i18n("Date"),util.dateFormatShort(d.startDate));if("child"===d.eventType)c.componentVersions=[],m.forEach(d.eventData.versions,function(a){var b=c.createSidebarLabelContainer(i18n("Version for %s",a.component.name.escape())),a=(new r).getDelegate("versionSelector")({name:"ver_"+a.componentId,type:"VersionSelector",value:a.versionSelector,context:{component:a.component,
environment:c.environment},required:!1});a.placeAt(b);c.componentVersions.push(a)});d.request&&this.createSidebarText(i18n("User"),d.request.userName);n=this.createSidebarSection();if(d.request){var t="appRequest"===d.request.type?"#applicationProcessRequest/":"#componentProcessRequest/";this.createSidebarButton(i18n("More Details"),"inline-block",function(){window.location.href=t+d.request.id},n,!0)}if(s)this.createSidebarButton(i18n("See Versions"),"inline-block",function(){c.showVersionDialog(d)},
n,!0),n=j.create("div",{className:"calendar-sidebar-modify-button-container"},this.sidebarContainer),this.createSidebarButton(i18n("Cancel Process")," calendar-cancel-button",function(){c.showCancelConfirm(d)},n),this.updateButton=this.createSidebarButton(i18n("Update Process"),"idxButtonSpecial calendar-update-button",function(){if(c.dateBox&&c.timeBox&&(h||q)){var a={updateType:"sidebar",date:util.combineDateAndTime(c.dateBox.value,c.timeBox.value),name:c.nameBox?c.nameBox.value:null};if(q)a.startDate=
c.dateBox.value,a.startTime=c.timeBox.value,a.recurrencePattern=c.recurrencePattern.value,a.componentVersions=c.componentVersions;c.updateItem(d,a)}},n)}else if(d&&"blackout"===d.eventType){if(d.name)c.displayActions()?(s=c.createSidebarLabelContainer(i18n("Name")),c.nameBox=(new v({value:d.name})).placeAt(s),c.nameBox.on("change",function(){o(!0)})):this.createSidebarTitle(d.name);void 0!==d.environment&&(s='<div class="calendar-sidebar-environment-color inline-block" style="background-color:'+d.environment.color+
'"></div>',this.createSidebarLink(i18n("Affects Environment"),s+util.escape(d.environment.name),"#environment/"+d.environment.id));c.displayActions()?(s=this.createSidebarLabelContainer(i18n("Start Date")),c.dateBox=(new y({datePackage:B.getDatePackage(),value:d.startDate,constraints:{format:"short"}})).placeAt(s),n(c.dateBox),c.timeBox=(new A({value:d.startDate})).placeAt(s),n(c.timeBox,!0),s=this.createSidebarLabelContainer(i18n("End Date")),c.endDateBox=(new y({datePackage:B.getDatePackage(),value:d.endDate,
constraints:{format:"short"}})).placeAt(s),n(c.endDateBox),c.endTimeBox=(new A({value:d.endDate})).placeAt(s),n(c.endTimeBox,!0),n=j.create("div",{className:"calendar-sidebar-modify-button-container"},this.sidebarContainer),this.createSidebarButton(i18n("Delete Blackout"),"calendar-cancel-button",function(){c.showBlackoutDeleteWarning(d)},n),this.updateButton=this.createSidebarButton(i18n("Update Blackout"),"idxButtonSpecial calendar-update-button",function(){c.dateBox&&c.timeBox&&c.endDateBox&&c.endTimeBox&&
h&&c.updateItem(d,{updateType:"sidebar",date:util.combineDateAndTime(c.dateBox.value,c.timeBox.value),endDate:util.combineDateAndTime(c.endDateBox.value,c.endTimeBox.value),name:e&&c.nameBox?c.nameBox.value:null})},n)):(this.createSidebarText(i18n("Start Date"),util.dateFormatShort(d.startDate)),this.createSidebarText(i18n("End Date"),util.dateFormatShort(d.endDate)))}},updateItem:function(a,b){var c=this,d=null,e=this.calendar.store;if(a.clickCreate)a.itemId=a.id,c.showBlackoutDialog(a);if((new Date(b.date)).valueOf()<
c.now.valueOf()&&"entry"===a.eventType||"move-before-time"===b.updateType)d=i18n("Events cannot be moved before the current time");(new Date(b.date)).valueOf()>(new Date(b.endDate)).valueOf()&&"blackout"===a.eventType&&(d=i18n("The end date must be greater than the start date"));if(null!==d){new o({title:i18n("Schedule Error"),message:d});if(a.originalDate)a.startDate=a.originalDate,a.endDate=a.originalEndDate;else if(a.startTime)a.startDate=a.startTime;if(a.originalEndDate)a.endDate=a.originalEndDate;
else if(a.endTime)a.endDate=a.endTime;e.put(a)}else if("entry"===a.eventType)k.get({url:bootstrap.restUrl+"deploy/schedule/"+a.eventType+"/"+a.id+"/moveTo/"+(new Date(b.date)).valueOf(),handleAs:"json",load:function(d){if(void 0!==d.blackouts){var h=i18n("The event cannot be moved to that time because it conflicts with a blackout:")+"<br/>";1<d.blackouts.length&&(h=i18n("The event cannot be moved to that time because it conflicts with blackouts:")+"<br/>");m.forEach(d.blackouts,function(a){h+="<br/><b>"+
util.escape(a.name)+"</b><br/>";void 0!==a.environment&&(h+="&nbsp; &nbsp; <b>"+i18n("Application Environment")+"</b>: "+util.escape(a.environment.name)+"<br/>");h+="&nbsp; &nbsp; "+util.dateFormatShort(a.startDate)+" - "+util.dateFormatShort(a.endDate)+"<br/>"});new o({title:i18n("Schedule Error"),forceRawMessages:!0,message:h});if(a.originalDate&&a.originalEndDate)a.startDate=a.originalDate,a.endDate=a.originalEndDate;e.put(a)}else{a.startDate=b.date;a.endDate=b.endDate;if(!a.endDate)a.endDate=
c.calendar&&"month"===c.calendar.dateInterval?new Date(b.date.valueOf()+1):util.shiftMinutes(b.date,90);a.originalDate=a.startDate;a.originalEndDate=a.endDate;e.put(a);c.showSaveMessage()}}});else if("child"===a.eventType)(new n({submitUrl:bootstrap.restUrl+"calendar/recurring",addData:function(c){c.existingId=a.parent.id;c.name=b.name;c.date=(new Date(b.date)).valueOf();c.recurrencePattern=b.recurrencePattern;if(b.componentVersions)c.versions=[],m.forEach(b.componentVersions,function(a){c.versions.push({versionSelector:a.value,
componentId:a.component.id})})},postSubmit:function(){void 0!==c.callback&&c.callback();c.refresh();c.showSaveMessage()},onCancel:function(){void 0!==c.callback&&c.callback()}})).submitForm();else if("blackout"===a.eventType){var d=(new Date(b.date)).valueOf(),f=(new Date(b.endDate)).valueOf();b.name?(a.name=b.name,(new h({calendarId:this.calendarId,blackout:a,callback:function(){a.startDate=b.date;a.endDate=b.endDate;e.put(a);c.showSaveMessage()}})).form.submitForm()):k.get({url:bootstrap.restUrl+
"deploy/schedule/blackout/"+a.id+"/moveTo/"+d+"/"+f,load:function(){a.startDate=b.date;a.endDate=b.endDate;e.put(a);c.showSaveMessage()}})}},addCalendarFilters:function(){var a=this,b=0;this.calendar.numberOfFilters=0;this.calendar.filters={};this.calendar.allFilters={filters:{}};var c=j.create("div",{className:"calendar-sidebar-bottom-filter-container"},this.calendarSidebarFilterAttachPoint,"last"),d=j.create("div",{className:"calendar-filter-section"},c,"first");if(!this.application){var h=j.create("div",
{className:"add-filter-container"},d);this.createSidebarButton("","iconPlus inline-block add-filter-icon",function(){9===a.calendar.numberOfFilters&&f.add(h,"hidden");b++;a.calendar.filters[b]=a.addCalendarFilterSection(b,c,h)},h,!0,i18n("Add Filter"))}this.environment||(this.calendar.filters[b]=this.addCalendarFilterSection(b,c));var e=j.create("div",{className:"calendar-sidebar-filter-button-container"},c);this.calendar.allFilters.filters.processTypeFilter=this.createCalendarFilterSection({label:i18n("Process Type"),
className:"calendar-process-filter-box",options:[{label:i18n("All"),value:"",selected:"selected"},{label:i18n("Application Process"),value:"appRequest"},{label:i18n("Component Process"),value:"compRequest"}],value:i18n("All"),placeAt:d});if(!this.component)this.calendar.allFilters.filters.eventTypeFilter=this.createCalendarFilterSection({label:i18n("Entry Type"),className:"calendar-event-filter-box",options:[{label:i18n("All"),value:"",selected:"selected"},{label:i18n("Processes"),value:"entry"},
{label:i18n("Blackouts"),value:"blackout"},{label:i18n("Recurring"),value:"child"}],value:i18n("All"),placeAt:d});var o=function(b){a.calendar&&a.refresh();b&&a.showSaveMessage(i18n("Filters Applied"),a.calendarSidebarFilterAttachPoint);a.applyFilters=b};this.createSidebarButton(i18n("Clear All"),"idxButtonCompact inline-block calendar-cancel-button",function(){a.applyFilters&&o(!1);if(a.environmentFilter)a.environmentFilter.value="";j.empty(a.calendarSidebarFilterAttachPoint);a.calendar.numberOfFilters=
1;a.addCalendarFilters()},e);this.createSidebarButton(i18n("Apply"),"idxButtonSpecial idxButtonCompact inline-block calendar-update-button",function(){o(!0)},e)},addCalendarFilterSection:function(a,b,d){var h=this,e={};this.calendar.numberOfFilters++;var o=function(a){var b="#00B2EF";if(a.color)a=u.getColorOrConvert(a.color),!a.standard&&a.fallback&&(a=u.getColor(a.fallback)),b=a.value;return b},n=function(a,b){j.create("div",{className:"inlineBlock filter-dropdown-color",style:{backgroundColor:o(b)}},
a,"first")},r=function(a,b,c){b.color&&f.add(a,u.getBasicColorName(b.color)+"-color");j.create("div",{className:"inlineBlock filter-dropdown-color",style:{backgroundColor:o(b)}},c,"first")},q=j.create("div",{className:"calendar-filter-section"},b,"before");this.application||(b=j.create("div",{className:"inline-block iconMinus remove-filter-icon linkPointer",title:i18n("Remove Filter")},q),c(b,"click",function(){h.calendar.numberOfFilters--;1>h.calendar.numberOfFilters?(j.empty(h.calendarSidebarFilterAttachPoint),
h.addCalendarFilters()):(delete h.calendar.filters[a],j.destroy(q));10>h.calendar.numberOfFilters&&d&&f.remove(d,"hidden")}));if(this.application){if(!this.environment&&this.application)e.environmentFilter=this.createCalendarFilterSection({url:bootstrap.restUrl+"deploy/application/"+this.application.id+"/environments/false",label:i18n("Environment"),placeHolder:i18n("All Environments"),className:"calendar-environment-filter-box",multiple:!0,formatDropDownLabel:n,formatSelectedItem:r,placeAt:q})}else b=
this.component?"deploy/component/"+this.component.id+"/applications":"deploy/application",e.environmentFilterContainer=this.createSidebarSection(),e.applicationFilter=this.createCalendarFilterSection({url:bootstrap.restUrl+b,label:i18n("Application"),placeHolder:i18n("All Applications"),className:"calendar-application-filter-box",onChange:function(a,b){j.empty(e.environmentFilterContainer);if(!h.environment&&b)j.place(h.createSidebarLabel(i18n("Environment")),e.environmentFilterContainer),e.environmentFilter=
h.createCalendarFilterSection({url:bootstrap.restUrl+"deploy/application/"+b.id+"/environments/false",placeHolder:i18n("All Environments"),className:"calendar-environment-filter-box",section:e.environmentFilterContainer,noPlace:!0,multiple:!0,formatDropDownLabel:n,formatSelectedItem:r})},placeAt:q}),j.place(e.environmentFilterContainer,q);return e},removeCalendarFilterSection:function(){},filterCalendar:function(a){var b=this,c=!1,d=function(d,h){var e=!1,f="";for(f in d)d.hasOwnProperty(f)&&(e=d[f],
(e=b.applyFilter(e,a,h))&&(c=!0));return e};d(this.calendar.filters);if(c||this.environment)c=!1,c=d(this.calendar.allFilters,!0);return c},applyFilter:function(a,b,c){var d=!0,h=!1,e=function(c){var e=a[c.filterName+"Filter"];if(e&&e.dropDown&&(e=c.multiple?e.items:e.dropDown.value||e.dropDown.values)&&d){var f=b[c.dataName];h=!0;if(c.dataName2&&c.dataName&&f)d=f[c.dataName2]===e||""===e;else if(c.dataName&&f)d=f===e||""===e;else if(b[c.filterName])if(c.multiple){var o=!1;m.forEach(e,function(a){b[c.filterName].id===
a.id&&(o=!0);d=o})}else d=b[c.filterName].id===e;else d=!1}},f=[{filterName:"application"},{filterName:"environment",multiple:!0},{filterName:"component"}],o=[{filterName:"processType",dataName:"request",dataName2:"type"},{filterName:"eventType",dataName:"eventType"}];m.forEach(c?o:f,function(a){e(a)});h||(d=!0);d||this.calendar&&this.calendar.store.remove(b.id);return d},showBlackoutDeleteWarning:function(a){var b=this;new t({message:i18n("Are you sure you want to delete this blackout entry?"),action:function(){k.del({url:bootstrap.restUrl+
"deploy/schedule/blackout/"+a.id,load:function(){b.calendar.store.remove(a.id)}})}})},showBlackoutDialog:function(a){var b=this,c=new s({title:i18n("Create Blackout"),closable:!0,draggable:!0});(new h({calendarId:this.calendarId,blackout:a.id?a:void 0,callback:function(d){c.hide();c.destroy();b.calendar.store.remove(a.itemId);d&&b.refresh()}})).placeAt(c.containerNode);c.show()},showCancelConfirm:function(a){var b=this;new t({message:i18n("Are you sure you want to cancel this process request?"),action:function(){var c=
bootstrap.restUrl+"calendar/entry/"+a.id;"child"===a.eventType&&(c=bootstrap.restUrl+"calendar/recurring/"+a.parent.id);k.del({url:c,load:function(){b.calendar.store.remove(a.id);b.refresh()},error:function(a){(new o({message:util.escape(a.responseText)})).startup()}})}})},showVersionDialog:function(a){var b=new s({title:i18n("Component Versions"),closable:!0,draggable:!0}),c=[{name:i18n("Component"),formatter:function(a){return x.componentLinkFormatter(a.component)}},{name:i18n("Version for Request"),
formatter:x.versionLinkFormatter},{name:i18n("Type"),formatter:this.typeFormatter},{name:i18n("Description"),field:"description"}],a=a.request?bootstrap.restUrl+"deploy/applicationProcessRequest/"+a.request.id+"/versions":bootstrap.restUrl+"deploy/schedule/calendar/application/"+a.parent.id+"/versions",d=j.create("div",{id:"warningDiv",innerHTML:i18n("* These versions may change before the process executes.")}),h=j.create("div",{id:"versionTableDiv",style:{minWidth:"400px"}});j.place(d,b.containerNode,
0);j.place(h,b.containerNode,1);k.get({url:a,handleAs:"json",load:function(a){(new w({serverSideProcessing:!1,data:a.versions,rowsPerPage:10,columns:c,tableConfigKey:"componentVersionRequestList",noDataMessage:i18n("No component versions found.")})).placeAt(h);b.show()}})},displayActions:function(){var a=!1;appState.environment?appState.environment.security&&(a=appState.environment.security["Edit Basic Settings"]):appState.application?appState.application.security&&(a=appState.application.security["Edit Basic Settings"]):
a=!0;return a},showCreateRequestDialog:function(a,c,d){var h=this,e,f;if(a)e=this.calendar.store,d=d?util.combineDateAndTime(a,util.shiftHours(new Date,1)):a,h.calendar&&"month"===h.calendar.dateInterval||util.shiftMinutes(d,90),f={name:i18n("New Process"),id:B.getNewDate().valueOf(),startDate:d,endDate:new Date(d.valueOf()+1),color:"#87CEEB"},e.put(f);var o=this.calendar.get("date"),j=new s({title:i18n("Schedule a Process"),closable:!0,draggable:!0,onCancel:function(){e&&f&&e.remove(f.id);h.calendar.set("date",
o)}});(new b({application:this.application,environment:this.environment,snapshot:this.snapshot,forceSchedule:!0,date:a,time:c,callback:function(){j.hide();j.destroy();e&&f&&e.remove(f.id);h.calendar.set("date",o)}})).placeAt(j.containerNode);j.show()},typeFormatter:function(a){var b="";"FULL"===a.type?b=i18n("Full"):"INCREMENTAL"===a.type&&(b=i18n("Incremental"));return b}})})},"deploy/widgets/snapshotComparison/SnapshotConfigComparison":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/CheckBox,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/dom-style,dojo/on,js/webext/widgets/Dialog,js/webext/widgets/Table,js/webext/widgets/table/TreeTable".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q){return j([m,l],{templateString:'<div class="snapshotConfiguration"><div data-dojo-attach-point="configTree"></div></div>',postCreate:function(){this.inherited(arguments);var a=this,b=bootstrap.restUrl+"deploy/snapshot/"+this.snapshot1.id+"/compareConfiguration/"+this.snapshot2.id+"/true",d=[{name:i18n("Name"),field:"name",orderField:"name",filterField:"name",filterType:"text",getRawValue:function(a){return a.name}},{name:this.snapshot1.name,formatter:function(a){var b;
a.snapshot1?(a=a.snapshot1,!0===a.locked?b=a.version:void 0!==a.version&&null!==a.version&&(b=i18n("Latest (%s)",a.version)),a.commit&&(b+=" - "+a.commit.committer+" ("+util.dateFormatShort(a.commit.commitTime)+")")):a.snapshot2&&(b=i18n("N/A"));return b}},{name:this.snapshot2.name,formatter:function(a){var b;a.snapshot2?(a=a.snapshot2,!0===a.locked?b=a.version:void 0!==a.version&&null!==a.version&&(b=i18n("Latest (%s)",a.version)),a.commit&&(b+=" - "+a.commit.committer+" ("+util.dateFormatShort(a.commit.commitTime)+
")")):a.snapshot1&&(b=i18n("N/A"));return b}},{name:i18n("Actions"),formatter:this.actionsFormatter,parentWidget:this}];this.tree=new q({url:b,serverSideProcessing:!1,orderField:"name",tableConfigKey:"snapshotConfigList",noDataMessage:i18n("No configuration found."),columns:d});this.tree.placeAt(this.configTree);(new k({checked:!0,value:"true",onChange:function(b){a.tree.url=b?bootstrap.restUrl+"deploy/snapshot/"+a.snapshot1.id+"/compareConfiguration/"+a.snapshot2.id+"/true":bootstrap.restUrl+"deploy/snapshot/"+
a.snapshot1.id+"/compareConfiguration/"+a.snapshot2.id+"/false";a.tree.refresh()}})).placeAt(this.tree.buttonAttach);b=document.createElement("div");e.add(b,"inlineBlock");b.style.position="relative";b.style.top="2px";b.style.left="2px";b.innerHTML=i18n("Only Show Differences");this.tree.buttonAttach.appendChild(b);c.set(this.tree.buttonAttach,{position:"relative",top:"10px"})},actionsFormatter:function(a){var c=this.parentWidget,h=document.createElement("div");if(a.snapshot1&&a.snapshot2&&"PropSheet"===
a.snapshot1.className){var e=d.create("a",{innerHTML:i18n("View Changes"),"class":"linkPointer actionsLink"},h);b(e,"click",function(){f.get({url:bootstrap.baseUrl+"property/propSheet/"+util.vc.encodeVersionedPath(a.snapshot1.path+"."+a.snapshot1.version)+"/compare/"+util.vc.encodeVersionedPath(a.snapshot2.path+"."+a.snapshot2.version),handleAs:"json",load:function(a){c.showPropertyChanges(a)}})})}return h},showPropertyChanges:function(b){var c=new a;(new h({style:{minWidth:"450px"},data:b,serverSideProcessing:!1,
tableConfigKey:"snapshotConfigChangeList",noDataMessage:i18n("No changes found."),columns:[{name:i18n("Name"),field:"name"},{name:this.snapshot1.name,formatter:function(a){var b="";if(a.value)b=a.value.value;return b}},{name:this.snapshot2.name,formatter:function(a){var b="";if(a.otherValue)b=a.otherValue.value;return b}}]})).placeAt(c.containerNode);c.show()}})})},"deploy/widgets/TooltipTitle":function(){define("dojo/_base/declare,dojo/_base/lang,dijit/Tooltip,dijit/_Widget,dijit/_TemplatedMixin,dojo/dom-construct".split(","),
function(l,m,k,j,f){return l("deploy.widgets.TooltipTitle",[j,f],{templateString:'<div class="tooltipTitle">   <span data-dojo-attach-point="titleBar" class="containerLabel title-text"></span>   <div data-dojo-attach-point="tooltip" class="labelsAndValues-helpCell title-helpCell inlineBlock"></div></div>',titleText:"",tooltipText:"",postCreate:function(){this.inherited(arguments);this.titleBar.innerHTML=this.titleText;new k({connectId:[this.tooltip],label:this.tooltipText,showDelay:100,position:["after",
"above","below","before"]})}})})},"url:js/webext/widgets/Link.html":'<div role="presentation" class="dijitInline">\n    <span class="dijitReset dijitInline"\n      data-dojo-attach-event="ondijitclick:_onClick" role="presentation">\n        <a class="dijitStretch"\n          data-dojo-attach-point="titleNode,focusNode"\n          role="navigation" aria-labelledby="${id}_label">\n            <span class="dijitReset dijitInline dijitIcon" data-dojo-attach-point="iconNode"></span>\n            <span class="dijitReset dijitInline"\n              id="${id}_label" style="text-decoration:inherit; color:inherit"\n              data-dojo-attach-point="containerNode"></span>\n        </a>\n    </span>\n</div>',
"deploy/widgets/property/PropDefPopupValues":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/array,dojo/_base/declare,dojo/dom-construct,dojo/on,js/webext/widgets/ColumnForm,js/webext/widgets/Dialog".split(","),function(l,m,k,j,f,e,d,c){return j([m,l],{templateString:'<div class="propDefPopupValues">  <div data-dojo-attach-point="displayAttach"></div></div>',postCreate:function(){this.inherited(arguments);var b=this;this.dialog=new c({title:this.popupLabel});this.form=new d({onSubmit:function(a){b.form.unblock();
b.data=a;b.isValid=!0;b.showLink();b.dialog.hide()},onCancel:function(){b.form.unblock();b.dialog.hide()}});this.form.placeAt(this.dialog.containerNode);b.isValid=!0;var a={};k.forEach(this.propDefs,function(c){b.displayPropDef(c);a[c.name]=c.value});if(b.isValid)b.data=a;b.showLink()},displayPropDef:function(b){b.label=b.name;this.form.addField(b);if(b.required&&!b.value)this.isValid=!1},showLink:function(){var b=this;f.empty(this.displayAttach);this.isValid?f.create("div",{"class":"inlineBlock general-icon completeIcon"},
this.displayAttach):f.create("div",{"class":"inlineBlock general-icon incompleteIcon"},this.displayAttach);var a=f.create("a",{innerHTML:this.popupLabel,"class":"linkPointer"},this.displayAttach);e(a,"click",function(){b.dialog.show()})},_getValueAttr:function(){return this.data},getValidationMessages:function(){var b=[];this.data||b.push(i18n("Missing property values for %s",this.popupLabel));return b}})})},"deploy/widgets/report/securityReportResource/SecurityReportResourceForm":function(){define(["dijit/_TemplatedMixin",
"dijit/_Widget","dojo/_base/declare"],function(l,m,k){return k("deploy.widgets.report.securityReportResource.SecurityReportResourceForm",[m,l],{templateString:"<div></div>",constructor:function(){},buildRendering:function(){this.inherited(arguments)},destroy:function(){this.inherited(arguments)},setProperties:function(){},getProperties:function(){return[]}})})},"deploy/widgets/SimpleTag":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/Tooltip,dojo/_base/array,dojo/on,dojo/mouse,dojo/_base/declare,dojo/_base/Color,dojo/dom-attr,dojo/dom-class,dojo/dom-style".split(","),
function(l,m,k,j,f,e,d,c,b,a,h){return d([m,l],{templateString:'<div class="inlineBlock tagBox"><span class="tagName" data-dojo-attach-point="nameSpan"></span><span class="tagDelete" data-dojo-attach-point="delSpan" title="'+i18n("Delete")+'">x</span></div>',postCreate:function(){this.inherited(arguments);var b=this;this.nameSpan.textContent=this.name;var c=b.getShade(this.color);h.set(this.domNode,"backgroundColor",this.color);h.set(this.domNode,"borderColor",c);h.set(this.delSpan,"borderColor",
c);this.description&&(f(this.nameSpan,e.enter,function(){k.show(util.escape(b.description),this)}),f(this.nameSpan,e.leave,function(){k.hide(this)}));b._isDark(this.color)&&a.add(this.domNode,"darkColor");b.readOnly&&h.set(b.delSpan,"display","none");f(b.delSpan,"click",b.deleteHandler)},_isDark:function(a){a=(new c(a)).toRgb();return 0.5<1-(0.25*a[0]+0.6*a[1]+0.1*a[2])/255},getShade:function(a){var a=(new c(a)).toRgb(),b=[];j.forEach(a,function(a){b.push(0.6*a)});return c.fromArray(b).toHex()}})})},
"dojox/calendar/ExpandRenderer":function(){require({cache:{"url:dojox/calendar/templates/ExpandRenderer.html":'<div class="dojoxCalendarExpand" onselectstart="return false;" data-dojo-attach-event="click:_onClick,touchstart:_onMouseDown,touchend:_onClick,mousedown:_onMouseDown,mouseup:_onMouseUp,mouseover:_onMouseOver,mouseout:_onMouseOut">\n\t<div class="bg"><span data-dojo-attach-point="expand">\u25bc</span><span style="display:none" data-dojo-attach-point="collapse">\u25b2</span></div>\t\n</div>\n'}});
define("dojox/calendar/ExpandRenderer","dojo/_base/declare,dojo/_base/lang,dojo/_base/event,dojo/_base/window,dojo/on,dojo/dom-class,dojo/dom-style,dijit/_WidgetBase,dijit/_TemplatedMixin,dojo/text!./templates/ExpandRenderer.html".split(","),function(l,m,k,j,f,e,d,c,b,a){return l("dojox.calendar.ExpandRenderer",[c,b],{templateString:a,baseClass:"dojoxCalendarExpand",owner:null,focused:!1,up:!1,down:!1,date:null,items:null,rowIndex:-1,columnIndex:-1,_setExpandedAttr:function(a){d.set(this.expand,"display",
a?"none":"inline-block");d.set(this.collapse,"display",a?"inline-block":"none");this._set("expanded",a)},_setDownAttr:function(a){this._setState("down",a,"Down")},_setUpAttr:function(a){this._setState("up",a,"Up")},_setFocusedAttr:function(a){this._setState("focused",a,"Focused")},_setState:function(a,b,c){this[a]!=b&&(e[b?"add":"remove"](this.stateNode||this.domNode,c),this._set(a,b))},_onClick:function(a){this.owner&&this.owner.expandRendererClickHandler&&this.owner.expandRendererClickHandler(a,
this)},_onMouseDown:function(a){k.stop(a);this.set("down",!0)},_onMouseUp:function(){this.set("down",!1)},_onMouseOver:function(a){this.up||(a=1==a.button,this.set("up",!a),this.set("down",a))},_onMouseOut:function(a){for(var b=a.relatedTarget;b!=a.currentTarget&&b!=j.doc.body&&null!=b;)b=b.parentNode;b!=a.currentTarget&&(this.set("up",!1),this.set("down",!1))}})})},"dojox/date/hebrew/locale":function(){define("dojox/date/hebrew/locale","../..,dojo/_base/lang,dojo/_base/array,dojo/date,dojo/i18n,dojo/regexp,dojo/string,./Date,./numerals,dojo/i18n!dojo/cldr/nls/hebrew".split(","),
function(l,m,k,j,f,e,d,c,b){function a(a,c,h,e,f){return f.replace(/([a-z])\1*/ig,function(e){var j,n,q=e.charAt(0),e=e.length,k=["abbr","wide","narrow"];switch(q){case "y":j=h.match(/^he(?:-.+)?$/)?b.getYearHebrewLetters(a.getFullYear()):""+a.getFullYear();break;case "M":j=a.getMonth();3>e?(!a.isLeapYear(a.getFullYear())&&5<j&&j--,h.match(/^he(?:-.+)?$/)?j=b.getMonthHebrewLetters(j):(j+=1,n=!0)):j=o.getNames("months",k[e-3],"format",h,a)[j];break;case "d":h.match(/^he(?:-.+)?$/)?j=a.getDateLocalized(h):
(j=a.getDate(),n=!0);break;case "E":j=a.getDay();3>e?(j+=1,n=!0):(q=["days-format",k[e-3]].join("-"),j=c[q][j]);break;case "a":j=12>a.getHours()?"am":"pm";j=c["dayPeriods-format-wide-"+j];break;case "h":case "H":case "K":case "k":n=a.getHours();switch(q){case "h":j=n%12||12;break;case "H":j=n;break;case "K":j=n%12;break;case "k":j=n||24}n=!0;break;case "m":j=a.getMinutes();n=!0;break;case "s":j=a.getSeconds();n=!0;break;case "S":j=Math.round(a.getMilliseconds()*Math.pow(10,e-3));n=!0;break;case "z":j=
"";break;default:throw Error("dojox.date.hebrew.locale.formatPattern: invalid pattern char: "+f);}n&&(j=d.pad(j,e));return j})}function h(a,b,c,d){var h=function(a){return a},b=b||h,c=c||h,d=d||h,e=a.match(/(''|[^'])+/g),f="'"==a.charAt(0);k.forEach(e,function(a,d){a?(e[d]=(f?c:b)(a),f=!f):e[d]=""});return d(e.join(""))}function q(a,b,c,d){var d=e.escapeString(d),h=f.normalizeLocale(c.locale);return d.replace(/([a-z])\1*/ig,function(d){var e;e=d.charAt(0);var f=d.length,j="";c.strict?1<f&&(j="0{"+
(f-1)+"}"):j="0?";switch(e){case "y":e="\\S+";break;case "M":e=h.match("^he(?:-.+)?$")?2<f?"\\S+ ?\\S+":"\\S{1,4}":2<f?"\\S+ ?\\S+":j+"[1-9]|1[0-2]";break;case "d":e=h.match("^he(?:-.+)?$")?"\\S['\"'\u05f3]{1,2}\\S?":"[12]\\d|"+j+"[1-9]|30";break;case "E":e=h.match("^he(?:-.+)?$")?3<f?"\\S+ ?\\S+":"\\S":"\\S+";break;case "h":e=j+"[1-9]|1[0-2]";break;case "k":e=j+"\\d|1[01]";break;case "H":e=j+"\\d|1\\d|2[0-3]";break;case "K":e=j+"[1-9]|1\\d|2[0-4]";break;case "m":case "s":e=j+"\\d|[0-5]\\d";break;
case "S":e="\\d{"+f+"}";break;case "a":f=c.am||b["dayPeriods-format-wide-am"];j=c.pm||b["dayPeriods-format-wide-pm"];c.strict?e=f+"|"+j:(e=f+"|"+j,f!=f.toLowerCase()&&(e+="|"+f.toLowerCase()),j!=j.toLowerCase()&&(e+="|"+j.toLowerCase()));break;default:e=".*"}a&&a.push(d);return"("+e+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var o=m.getObject("date.hebrew.locale",!0,l);f.getLocalization("dojo.cldr","hebrew");o.format=function(c,d){var d=d||{},e=f.normalizeLocale(d.locale),j=d.formatLength||"short",n=
o._getHebrewBundle(e),q=[],k=m.hitch(this,a,c,n,e,d.fullYear);if("year"==d.selector)return q=c.getFullYear(),e.match(/^he(?:-.+)?$/)?b.getYearHebrewLetters(q):q;"time"!=d.selector&&(e=d.datePattern||n["dateFormat-"+j])&&q.push(h(e,k));"date"!=d.selector&&(e=d.timePattern||n["timeFormat-"+j])&&q.push(h(e,k));return q.join(" ")};o.regexp=function(a){return o._parseInfo(a).regexp};o._parseInfo=function(a){var a=a||{},b=f.normalizeLocale(a.locale),b=o._getHebrewBundle(b),c=a.formatLength||"short",d=a.datePattern||
b["dateFormat-"+c],c=a.timePattern||b["timeFormat-"+c],e=[];return{regexp:h("date"==a.selector?d:"time"==a.selector?c:void 0===c?d:d+" "+c,m.hitch(this,q,e,b,a)),tokens:e,bundle:b}};o.parse=function(a,d){a=a.replace(/[\u200E\u200F\u202A-\u202E]/g,"");d||(d={});var h=o._parseInfo(d),e=h.tokens,j=h.bundle,h=RegExp("^"+h.regexp+"$").exec(a),n=f.normalizeLocale(d.locale);if(!h)return null;var q=[5730,3,23,0,0,0,0],l="",m=0,z=["abbr","wide","narrow"];k.every(h,function(a,h){if(!h)return!0;var f=e[h-1],
s=f.length;switch(f.charAt(0)){case "y":q[0]=n.match(/^he(?:-.+)?$/)?b.parseYearHebrewLetters(a):Number(a);break;case "M":if(2<s){var f=o.getNames("months",z[s-3],"format",n,new c(5769,1,1)),t=o.getNames("months",z[s-3],"format",n,new c(5768,1,1));d.strict||(a=a.replace(".","").toLowerCase(),f=k.map(f,function(a){return a?a.replace(".","").toLowerCase():a}),t=k.map(t,function(a){return a?a.replace(".","").toLowerCase():a}));var K=a,a=k.indexOf(f,K);if(-1==a&&(a=k.indexOf(t,K),-1==a))return!1;m=s}else n.match(/^he(?:-.+)?$/)?
a=b.parseMonthHebrewLetters(a):a--;q[1]=Number(a);break;case "D":q[1]=0;case "d":q[2]=n.match(/^he(?:-.+)?$/)?b.parseDayHebrewLetters(a):Number(a);break;case "a":s=d.am||j["dayPeriods-format-wide-am"];f=d.pm||j["dayPeriods-format-wide-pm"];d.strict||(t=/\./g,a=a.replace(t,"").toLowerCase(),s=s.replace(t,"").toLowerCase(),f=f.replace(t,"").toLowerCase());if(d.strict&&a!=s&&a!=f)return!1;l=a==f?"p":a==s?"a":"";break;case "K":24==a&&(a=0);case "h":case "H":case "k":q[3]=Number(a);break;case "m":q[4]=
Number(a);break;case "s":q[5]=Number(a);break;case "S":q[6]=Number(a)}return!0});h=+q[3];"p"===l&&12>h?q[3]=h+12:"a"===l&&12==h&&(q[3]=0);h=new c(q[0],q[1],q[2],q[3],q[4],q[5],q[6]);3>m&&5<=q[1]&&!h.isLeapYear(h.getFullYear())&&h.setMonth(q[1]+1);return h};var n=[];o.addCustomFormats=function(a,b){n.push({pkg:a,name:b})};o._getHebrewBundle=function(a){var b={};k.forEach(n,function(c){c=f.getLocalization(c.pkg,c.name,a);b=m.mixin(b,c)},this);return b};o.addCustomFormats("dojo.cldr","hebrew");o.getNames=
function(a,b,c,d,h){var e,d=o._getHebrewBundle(d),b=[a,c,b];"standAlone"==c&&(c=b.join("-"),e=d[c],1==e[0]&&(e=void 0));b[1]="format";c=(e||d[b.join("-")]).concat();"months"==a&&(h.isLeapYear(h.getFullYear())?(b.push("leap"),c[6]=d[b.join("-")]):delete c[5]);return c};return o})},"dojo/store/Observable":function(){define(["../_base/kernel","../_base/lang","../_base/Deferred","../_base/array"],function(l,m,k,j){l=function(f){function e(b,c){var d=f[b];d&&(f[b]=function(b){if(a)return d.apply(this,
arguments);a=!0;try{var h=d.apply(this,arguments);k.when(h,function(a){c("object"==typeof a&&a||b)});return h}finally{a=!1}})}var d=[],c=0,f=m.delegate(f);f.notify=function(a,b){c++;for(var e=d.slice(),f=0,j=e.length;f<j;f++)e[f](a,b)};var b=f.query;f.query=function(a,e){var e=e||{},o=b.apply(this,arguments);if(o&&o.forEach){var n=m.mixin({},e);delete n.start;delete n.count;var s=f.queryEngine&&f.queryEngine(a,n),r=c,l=[],w;o.observe=function(a,b){1==l.push(a)&&d.push(w=function(a,d){k.when(o,function(h){var o=
h.length!=e.count,n,k;if(++r!=c)throw Error("Query is out of date, you must observe() the query prior to any data modifications");var v,m=-1,w=-1;if(void 0!==d)for(n=0,k=h.length;n<k;n++){var u=h[n];if(f.getIdentity(u)==d){v=u;m=n;(s||!a)&&h.splice(n,1);break}}if(s){if(a&&(s.matches?s.matches(a):s([a]).length))n=-1<m?m:h.length,h.splice(n,0,a),w=j.indexOf(s(h),a),h.splice(n,1),e.start&&0==w||!o&&w==h.length?w=-1:h.splice(w,0,a)}else a&&(void 0!==d?w=m:e.start||(w=f.defaultIndex||0,h.splice(w,0,a)));
if((-1<m||-1<w)&&(b||!s||m!=w)){o=l.slice();for(n=0;h=o[n];n++)h(a||v,m,w)}})});var h={};h.remove=h.cancel=function(){var b=j.indexOf(l,a);-1<b&&(l.splice(b,1),l.length||d.splice(j.indexOf(d,w),1))};return h}}return o};var a;e("put",function(a){f.notify(a,f.getIdentity(a))});e("add",function(a){f.notify(a)});e("remove",function(a){f.notify(void 0,a)});return f};m.setObject("dojo.store.Observable",l);return l})},"deploy/widgets/applicationProcess/EditApplicationProcess":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,js/webext/widgets/Alert,js/webext/widgets/ColumnForm".split(","),
function(l,m,k,j,f,e,d){return j("deploy.widgets.applicationProcess.EditApplicationProcess",[m,l],{templateString:'<div class="editApplicationProcess">  <div data-dojo-attach-point="formAttach"></div></div>',postCreate:function(){this.inherited(arguments);var c=this;this.componentsForPresets=[];this.existingValues={};if(this.applicationProcess)this.existingValues=this.applicationProcess;var b="";c.application&&(b="application/"+c.application.id+"/processes");c.applicationTemplate&&(b="applicationTemplate/"+
c.applicationTemplate.id+"/-1/processes");this.form=new d({submitUrl:bootstrap.restUrl+"deploy/applicationProcess",readOnly:c.readOnly,showButtons:!c.readOnly,postSubmit:function(){navBar.setHash(b,!1,!0);void 0!==c.callback&&c.callback()},onError:function(a){a.responseText&&new e({message:util.escape(a.responseText)});c.applicationProcess&&navBar.setHash("applicationProcess/"+c.applicationProcess.id+"/-1/configuration",!0,!1)},addData:function(a){if(c.application)a.applicationId=c.application.id;
else if(c.applicationTemplate)a.applicationTemplateId=c.applicationTemplate.id,a.inventoryManagementType="AUTOMATIC";if(c.applicationProcess)a.existingId=c.applicationProcess.id,a.applicationProcessVersion=c.applicationProcess.version;if(c.applicationProcess)a.applicationProcessVersion=c.applicationProcess.version;a.versionPresets=[];k.forEach(c.componentsForPresets,function(b){var c=a["ver_"+b.id];c&&"none/"!==c&&a.versionPresets.push({selector:c,component:b.id})})},onCancel:function(){void 0!==
c.callback&&c.callback()}});this.form.addField({name:"name",label:i18n("Name"),required:!0,type:"Text",value:this.existingValues.name});this.form.addField({name:"description",label:i18n("Description"),type:"Text",value:this.existingValues.description});c.application&&this.form.addField({name:"inventoryManagementType",label:i18n("Inventory Management"),description:i18n("How inventory updates will be managed for this process."),type:"Select",required:!0,allowedValues:[{label:i18n("Automatic"),value:"AUTOMATIC"},
{label:i18n("Advanced"),value:"ADVANCED"}],value:this.existingValues.inventoryManagementType});this.form.addField({name:"offlineAgentHandling",label:i18n("Offline Agent Handling"),description:i18n("How this process will react when some of the agents it would use are offline."),type:"Select",required:!0,allowedValues:[{label:i18n("Check Before Execution"),value:"PRE_EXECUTION_CHECK"},{label:i18n("Use All Available; Report Failure"),value:"FAIL_BUT_CONTINUE"},{label:i18n("Always Report Success"),value:"ALLOW_OFFLINE"}],
value:this.existingValues.offlineAgentHandling});this.form.addField({name:"requiredRoleId",label:i18n("Required Role"),description:i18n("The role on the application which a user must have to execute this process"),url:bootstrap.baseUrl+"security/role",value:this.existingValues.requiredRoleId,allowNone:!0,type:"TableFilterSelect"});this.existingValues.application&&f.get({url:bootstrap.restUrl+"deploy/applicationProcess/"+c.applicationProcess.id+"/componentsTakingVersions/"+c.application.id,handleAs:"json",
load:function(a){(0<a.length||c.existingValues.versionPresets)&&c.form.addField({type:"Label",value:i18n("Version presets can be configured below. Whenever a value other than 'None' is given here, the user will not be able to provide a value at runtime, and any snapshot versions for that component will be ignored.")});var b=[],d={};k.forEach(a,function(a){b.push(a.name);d[a.name]={component:a}});k.forEach(c.existingValues.versionPresets,function(a){b.push(a.component.name);d[a.component.name]={component:a.component,
value:a.selector}});b.sort();k.forEach(b,function(a){c.addPresetField(d[a].component,d[a].value)})}});this.form.placeAt(this.formAttach)},addPresetField:function(c,b){var a=document.createElement("span"),d=document.createElement("span");d.innerHTML=i18n("Version for %s",c.name.escape());a.appendChild(d);this.componentsForPresets.push(c);this.form.addField({label:a,name:"ver_"+c.id,type:"VersionSelector",context:{component:c},value:b,required:!1})}})})},"deploy/widgets/deploymentRequest/RequestResourceChanges":function(){define(["dijit/_TemplatedMixin",
"dijit/_Widget","dojo/_base/declare","deploy/widgets/Formatters","js/webext/widgets/Table"],function(l,m,k,j,f){return k("deploy.widgets.deploymentRequest.RequestResourceChanges",[m,l],{templateString:'<div class="requestResourceChanges" style="width: 700px"><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var e=[{name:"&nbsp;",orderField:"changeType",getRawValue:function(d){return d.type},style:{paddingTop:"2px",paddingBottom:"3px",textAlign:"center",
width:"20px"},formatter:function(d){var c=document.createElement("img");c.src="ADDED"===d.type?bootstrap.webextUrl+"images/webext/icons/icon_plus.gif":bootstrap.webextUrl+"images/webext/icons/icon_minus.gif";return c}},{name:i18n("Resource"),orderField:"resource",getRawValue:function(d){var c=null;if(d=d.resourceInventoryEntry.resource)c=d.name;return c},formatter:function(d){return j.resourcePathFormatter(d.resourceInventoryEntry.resource)}},{name:i18n("Component"),orderField:"component",getRawValue:function(d){var c=
null;if(d=d.resourceInventoryEntry.component)c=d.name;return c},formatter:function(d){return j.componentLinkFormatter(d.resourceInventoryEntry.component)}},{name:i18n("Version"),orderField:"version",getRawValue:function(d){var c=null;if(d=d.resourceInventoryEntry.version)c=d.name;return c},formatter:function(d){return j.versionLinkFormatter(d.resourceInventoryEntry.version)}},{name:i18n("Date"),orderField:"date",getRawValue:function(d){return new Date(d.resourceInventoryEntry.date)},formatter:function(d){return util.tableDateFormatter(d,
d.resourceInventoryEntry.date)}}];this.grid=new f({url:bootstrap.restUrl+"deploy/deploymentRequest/"+appState.deploymentRequest.id+"/resourceChanges",serverSideProcessing:!1,hidePagination:!0,columns:e,tableConfigKey:"deploymentRequestResourceChange",noDataMessage:i18n("No changes found.")});this.grid.placeAt(this.gridAttach)},destroy:function(){this.inherited(arguments);this.grid.destroy()},typeFormatter:function(e){var d="";"INSTALL"===e.type?d=i18n("Installed"):"UNINSTALL"===e.type&&(d=i18n("Uninstalled"));
return d}})})},"dojo/dnd/Mover":function(){define("../_base/array,../_base/declare,../_base/event,../_base/lang,../sniff,../_base/window,../dom,../dom-geometry,../dom-style,../Evented,../on,../touch,./common,./autoscroll".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o,n){return m("dojo.dnd.Mover",[a],{constructor:function(a,b,c){this.node=d.byId(a);this.marginBox={l:b.pageX,t:b.pageY};this.mouseButton=b.button;b=this.host=c;a=a.ownerDocument;this.events=[h(a,q.move,j.hitch(this,"onFirstMove")),h(a,
q.move,j.hitch(this,"onMouseMove")),h(a,q.release,j.hitch(this,"onMouseUp")),h(a,"dragstart",k.stop),h(a.body,"selectstart",k.stop)];n.autoScrollStart(a);if(b&&b.onMoveStart)b.onMoveStart(this)},onMouseMove:function(a){n.autoScroll(a);var b=this.marginBox;this.host.onMove(this,{l:b.l+a.pageX,t:b.t+a.pageY},a);k.stop(a)},onMouseUp:function(a){(f("webkit")&&f("mac")&&2==this.mouseButton?0==a.button:this.mouseButton==a.button)&&this.destroy();k.stop(a)},onFirstMove:function(a){var d=this.node.style,
h,f=this.host;switch(d.position){case "relative":case "absolute":h=Math.round(parseFloat(d.left))||0;d=Math.round(parseFloat(d.top))||0;break;default:d.position="absolute";d=c.getMarginBox(this.node);h=e.doc.body;var j=b.getComputedStyle(h),o=c.getMarginBox(h,j),j=c.getContentBox(h,j);h=d.l-(j.l-o.l);d=d.t-(j.t-o.t)}this.marginBox.l=h-this.marginBox.l;this.marginBox.t=d-this.marginBox.t;if(f&&f.onFirstMove)f.onFirstMove(this,a);this.events.shift().remove()},destroy:function(){l.forEach(this.events,
function(a){a.remove()});var a=this.host;if(a&&a.onMoveStop)a.onMoveStop(this);this.events=this.node=this.host=null}})})},"deploy/widgets/componentProcess/ComponentProcessList":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dijit/form/CheckBox,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/json,dojo/on,deploy/widgets/Formatters,deploy/widgets/componentProcess/EditComponentProcess,js/webext/widgets/Alert,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/table/TreeTable".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t){return e("deploy.widgets.componentProcess.ComponentProcessList",[m,l],{templateString:'<div class="componentProcessList"><div class="listTopButtons" data-dojo-attach-point="buttonAttach"></div><div data-dojo-attach-point="gridAttach"></div><div data-dojo-attach-point="activeBoxAttach" style="margin: 2px;"></div><div data-dojo-attach-point="copyContainer" class="hidden"><div data-dojo-attach-point="copyLabel" style="margin-top: 15px;"></div><div class="innerContainer"><div data-dojo-attach-point="copyAttach"></div><div data-dojo-attach-point="copyButtonAttach"></div></div></div></div>',
processListHash:null,baseGridUrl:null,basePasteUrl:null,readOnly:!1,postCreate:function(){this.inherited(arguments);var b=this,h=this;if(this.component)this.processListHash="component/"+this.component.id+"/processes",this.basePasteUrl=bootstrap.restUrl+"deploy/component/"+this.component.id+"/pasteProcess",this.baseGridUrl=bootstrap.restUrl+"deploy/component/"+this.component.id+"/processes",this.readOnly=!this.component.security["Manage Processes"];else if(this.componentTemplate)this.processListHash=
"componentTemplate/"+this.componentTemplate.id+"/"+this.componentTemplate.version+"/processes",this.basePasteUrl=bootstrap.restUrl+"deploy/componentTemplate/"+this.componentTemplate.id+"/pasteProcess",this.baseGridUrl=bootstrap.restUrl+"deploy/componentTemplate/"+this.componentTemplate.id+"/"+this.componentTemplate.version+"/processes",this.readOnly=this.componentTemplate.version!==this.componentTemplate.versionCount||!this.componentTemplate.security["Manage Processes"];if(void 0!==util.getCookie("copiedComponentProcesses")){this.copyContainer.className=
"";this.copyLabel.innerHTML=i18n("Process Clipboard");this.copyLabel.className="containerLabel";var e=[{name:i18n("Process"),formatter:function(a){var c="";b.component?c=q.componentProcessLinkFormatter(a):b.componentTemplate&&(c=q.componentTemplateProcessLinkFormatter(a));return c}},{name:i18n("From"),formatter:function(a){var b="";a.component?b=q.componentLinkFormatter(a.component):a.componentTemplate&&(b=q.componentTemplateLinkFormatter(a.componentTemplate));return b}},{name:i18n("Description"),
field:"description"},{name:i18n("Actions"),parentWidget:b,formatter:this.copyActionsFormatter}];this.copyGrid=new t({serverSideProcessing:!1,columns:e,getData:function(){var b=util.getCookie("copiedComponentProcesses");return a.parse(b)},hidePagination:!0,rowsPerPage:1E3,hideExpandCollapse:!0});this.copyGrid.placeAt(this.copyAttach);(new k({label:i18n("Clear Copied Processes"),showTitle:!1,onClick:function(){util.clearCookie("copiedComponentProcesses");navBar.setHash(h.processListHash,!1,!0)}})).placeAt(this.copyButtonAttach);
this.readOnly||(new k({label:i18n("Paste All"),showTitle:!1,onClick:function(){var c=util.getCookie("copiedComponentProcesses"),h=a.parse(c),e=function(a){d.get({url:b.basePasteUrl+"/"+h[a].id,handleAs:"json",load:function(){a++;a===h.length?(b.grid.refresh(),b.componentTemplate&&navBar.setHash("componentTemplate/"+b.componentTemplate.id+"/-1/processes")):e(a)},error:function(a){new n({messages:[i18n("Error pasting processes:"),"",util.escape(a.responseText)]})}})};e(0)}})).placeAt(this.copyButtonAttach)}var e=
this.baseGridUrl+"/false",f=[{name:i18n("Process"),formatter:function(a){var c="";b.component?c=q.componentProcessLinkFormatter(a):b.componentTemplate&&(c=q.componentTemplateProcessLinkFormatter(a));return c}},{name:i18n("Description"),field:"description"},{name:i18n("Actions"),parentWidget:b,formatter:this.actionsFormatter}];this.grid=new t({url:e,serverSideProcessing:!1,columns:f,tableConfigKey:"componentProcessListKey",noDataMessage:i18n("No processes have been added to this component."),hidePagination:!1,
hideExpandCollapse:!0});this.grid.placeAt(this.gridAttach);if(config.data.systemConfiguration.enableInactiveLinks)(new j({checked:!1,value:"true",onChange:function(a){b.grid.url=b.baseGridUrl+"/"+a;b.grid.refresh()}})).placeAt(this.activeBoxAttach),e=document.createElement("div"),c.add(e,"inlineBlock"),e.style.position="relative",e.style.top="2px",e.style.left="2px",e.innerHTML=i18n("Show Inactive Processes"),this.activeBoxAttach.appendChild(e);this.readOnly||(e=new k({label:i18n("Create Process"),
showTitle:!1,onClick:function(){b.showNewComponentProcessDialog()}}),c.add(e.domNode,"idxButtonSpecial"),e.placeAt(this.buttonAttach))},destroy:function(){this.inherited(arguments);this.grid.destroy();void 0!==this.copyGrid&&this.copyGrid.destroy()},actionsFormatter:function(c){var d=this.parentWidget,e=document.createElement("div");if(!d.readOnly){var j=document.createElement("a");j.className="actionsLink";j.innerHTML=i18n("Edit");j.href="#componentProcess/"+c.id+"/-1";e.appendChild(j)}j=b.create("a",
{"class":"actionsLink linkPointer",innerHTML:i18n("Copy")},e);h(j,"click",function(){var b={id:c.id,name:c.name,description:c.description};if(c.component)b.component={id:c.component.id,name:c.component.name};else if(c.componentTemplate)b.componentTemplate={id:c.componentTemplate.id,name:c.componentTemplate.name};var h=util.getCookie("copiedComponentProcesses"),e=[];void 0!==h&&(e=a.parse(h));0<e.length&&f.forEach(e,function(a){void 0!==a&&a.id===b.id&&util.removeFromArray(e,a)});e.push(b);util.setCookie("copiedComponentProcesses",
a.stringify(e));void 0===h?navBar.setHash(d.processListHash,!1,!0):d.copyGrid.refresh()});d.readOnly||(j=b.create("a",{"class":"actionsLink linkPointer",innerHTML:i18n("Delete")},e),h(j,"click",function(){d.confirmDelete(c)}));return e},copyActionsFormatter:function(c){var e=this.parentWidget,j=document.createElement("div");if(!e.readOnly){var o=b.create("a",{"class":"actionsLink linkPointer",innerHTML:i18n("Paste")},j);h(o,"click",function(){d.get({url:e.basePasteUrl+"/"+c.id,handleAs:"json",load:function(){e.componentTemplate?
navBar.setHash("componentTemplate/"+e.componentTemplate.id+"/-1/processes",!1,!0):(e.copyGrid.refresh(),e.grid.refresh(),e.componentTemplate&&navBar.setHash("componentTemplate/"+e.componentTemplate.id+"/-1/processes"))},error:function(a){(new n({messages:[i18n("Error pasting processes:"),"",util.escape(a.responseText)]})).startup()}})})}o=b.create("a",{"class":"actionsLink linkPointer",innerHTML:i18n("Remove")},j);h(o,"click",function(){var b=util.getCookie("copiedComponentProcesses"),d=a.parse(b);
f.forEach(d,function(a){void 0!==a&&a.id===c.id&&util.removeFromArray(d,a)});0<d.length?(util.setCookie("copiedComponentProcesses",a.stringify(d)),e.copyGrid.refresh()):(util.clearCookie("copiedComponentProcesses"),navBar.setHash(e.processListHash,!1,!0))});return j},confirmDelete:function(a){var b=this,c=a.name.escape();new r({message:i18n("Are you sure you want to delete %1?  Note that any application processes that currently use %1 will continue to use it.",c),action:function(){b.grid.block();
d.del({url:bootstrap.restUrl+"deploy/componentProcess/"+a.id,handleAs:"json",load:function(){b.grid.unblock();b.grid.refresh();b.componentTemplate&&navBar.setHash("componentTemplate/"+b.componentTemplate.id+"/-1/processes",!1,!0)},error:function(a){a.responseText&&new n({messages:[i18n("Error deleting component process:"),"",util.escape(a.responseText)]});b.grid.refresh();b.grid.unblock()}})}})},showNewComponentProcessDialog:function(){var a=new s({title:i18n("Create Process"),closable:!0,draggable:!0});
(new o({component:this.component,componentTemplate:this.componentTemplate,callback:function(){a.hide();a.destroy()}})).placeAt(a.containerNode);a.show()}})})},"js/webext/widgets/RadioButtonGroup":function(){define("js/webext/widgets/RadioButtonGroup","dojo/_base/declare,dojo/_base/array,dojo/dom-class,dojo/dom-construct,dojo/on,dijit/_TemplatedMixin,dijit/_WidgetBase,dojox/html/entities,dijit/form/RadioButton".split(","),function(l,m,k,j,f,e,d,c,b){return l([d,e],{templateString:'<span class="radioButtonGroup">    <div data-dojo-attach-point="radioButtonGroup"></div></span>',
postCreate:function(){var a=this,c=[];m.forEach(a.options,function(d){var e=j.create("div"),f=new b({name:a.name,value:d.value,disabled:a.disabled,checked:a.value===d.value,onChange:function(b){if(b&&a.onChange)a.onChange(a.get("value"))}}),k=j.create("label",{"class":"inlineBlock"});f.placeAt(k);var r=j.create("div",{"class":"inlineBlock radioButtonLabel"});d.content?r.appendChild(d.content):(d=document.createTextNode(d.label),r.appendChild(d));k.appendChild(r);e.appendChild(k);a.radioButtonGroup.appendChild(e);
c.push(f)});a._radioButtons=c},_radioButtons:null,_initialValue:void 0,_getValueAttr:function(){var a,b,c,d=this._radioButtons;if(d){a=void 0;for(b=0;b<d.length;b++)if(c=d[b],c.get("checked")){a=c.get("value");break}}else a=this._initialValue;return a},_setValueAttr:function(a){var b,c,d=this._radioButtons;if(d)for(b=0;b<d.length;b++){if(c=d[b],c.get("value")===a){c.set("checked",!0);break}}else this._initialValue=a}})})},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],
function(l){return function(m,k){function j(e){var e=l.filter(e,m),d=k&&k.sort;d&&e.sort("function"==typeof d?d:function(b,a){for(var c,e=0;c=d[e];e++){var f=b[c.attribute],j=a[c.attribute];if(f!=j)return!!c.descending==(null==f||f>j)?-1:1}return 0});if(k&&(k.start||k.count)){var c=e.length,e=e.slice(k.start||0,(k.start||0)+(k.count||Infinity));e.total=c}return e}switch(typeof m){default:throw Error("Can not query with a "+typeof m);case "object":case "undefined":var f=m,m=function(e){for(var d in f){var c=
f[d];if(c&&c.test){if(!c.test(e[d],e))return!1}else if(c!=e[d])return!1}return!0};break;case "string":if(!this[m])throw Error("No filter function "+m+" was found in store");m=this[m];case "function":}j.matches=m;return j}})},"deploy/widgets/settings/CloudConnections":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/on,dijit/form/Button,js/webext/widgets/Dialog,js/webext/widgets/Alert,js/webext/widgets/Table,js/webext/widgets/GenericConfirm,js/webext/widgets/ColumnForm,deploy/widgets/security/TeamSelector".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n){return k("deploy.widgets.settings.CloudConnections",[m,l],{templateString:'<div class="cloudConnections">  <div class="listTopButtons" data-dojo-attach-point="buttonTopAttach"></div>  <div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var d=this;j.get({url:bootstrap.restUrl+"security/teamsWithCreateAction/Cloud Connection",handleAs:"json",sync:!0,load:function(a){d.extendedSecurity={teams:a}}});var e=bootstrap.restUrl+
"resource/cloud/connection",q=[{name:i18n("Name"),field:"name"},{name:i18n("Hostname"),field:"url"},{name:i18n("Username"),field:"username"},{name:i18n("Description"),field:"description"},{name:i18n("Actions"),formatter:function(a){return d.actionsFormatter(a)}}];this.grid=new h({url:e,serverSideProcessing:!1,columns:q,tableConfigKey:"cloudConnectionList",noDataMessage:i18n("No cloud connections have been created yet.")});this.grid.placeAt(this.gridAttach);this.newConnectionBtn=new c({label:i18n("New Connection..."),
onClick:function(){var c=new b({title:i18n("New Cloud Connection"),closable:!0,draggable:!0,description:i18n("To create a cloud connection, specify the cloud system to connect to and the credentials for that cloud system. Make sure that you have a user account on the cloud system and that you have the permissions to read information about virtual system patterns, IP groups, cloud groups, and environment profiles.")});this.form=new o({submitUrl:bootstrap.restUrl+"resource/cloud/connection",postSubmit:function(a){c.hide();
c.destroy();void 0!==d.callback&&d.callback(a)},addData:function(a){a.teamMappings=d.teamSelector.teams},onError:function(b){b.responseText&&new a({message:util.escape(b.responseText)})},onCancel:function(){c.hide();c.destroy();void 0!==d.callback&&d.callback()}});this.form.addField({name:"name",label:i18n("Name"),required:!1,type:"Text"});this.form.addField({name:"url",label:i18n("Management Console"),required:!0,type:"Text",textDir:"ltr",placeholder:"<hostname>",description:i18n("Specify the host name of the cloud system.")});
this.form.addField({name:"username",label:i18n("Username"),required:!0,type:"Text"});this.form.addField({name:"password",label:i18n("Password"),required:!0,type:"Secure"});this.form.addField({name:"description",label:i18n("Description"),required:!1,type:"Text"});var h=[];if(d.extendedSecurity&&d.extendedSecurity.teams)h=d.extendedSecurity.teams;d.teamSelector=new n({resourceRoleType:"Cloud Connection",noneLabel:i18n("Standard Cloud Connection"),teams:h});this.form.addField({name:"teams",label:i18n("Teams"),
type:"Text",widget:d.teamSelector});this.form.placeAt(c.containerNode);c.show()}});f.add(this.newConnectionBtn.domNode,"idxButtonSpecial");this.newConnectionBtn.placeAt(this.buttonTopAttach)},destroy:function(){this.inherited(arguments);this.grid.destroy()},cloudConnectionsFormatter:function(a){var b=document.createElement("a");b.href="resource/cloud/connection/"+a.id;b.innerHTML=a.name.escape();return b},callback:function(){this.grid.refresh()},actionsFormatter:function(a){var c=this,h=document.createElement("div");
if(a.security["Edit Basic Settings"]){var f=e.create("a",{innerHTML:i18n("Edit"),"class":"actionsLink linkPointer"},h);d(f,"click",function(){var d=this;j.get({url:bootstrap.restUrl+"resource/cloud/connection/"+a.id,handleAs:"json",sync:!0,load:function(a){d.extendedSecurity=a.extendedSecurity}});var h=new b({title:i18n("Edit Cloud Connection"),closable:!0,draggable:!0});this.form=new o({submitUrl:bootstrap.restUrl+"resource/cloud/connection",postSubmit:function(a){h.hide();h.destroy();void 0!==c.callback&&
c.callback(a)},addData:function(a){a.teamMappings=d.teamSelector.teams},onCancel:function(){h.hide();h.destroy();void 0!==c.callback&&c.callback()}});this.form.addField({name:"name",label:i18n("Name"),required:!1,type:"Text",value:a.name});this.form.addField({name:"url",label:i18n("Management Console"),required:!0,type:"Text",textDir:"ltr",value:a.url});this.form.addField({name:"username",label:i18n("Username"),required:!0,type:"Text",value:a.username});this.form.addField({name:"password",label:i18n("Password"),
required:!0,type:"Secure",value:"****"});this.form.addField({name:"description",label:i18n("Description"),required:!1,type:"Text",value:a.description});var e=[];if(d.extendedSecurity.teams)e=d.extendedSecurity.teams;this.teamSelector=new n({resourceRoleType:"Cloud Connection",noneLabel:i18n("Standard Cloud Connection"),teams:e});this.form.addField({name:"teams",label:i18n("Teams"),type:"Text",widget:this.teamSelector});this.form.addField({name:"existingId",label:i18n("Id"),required:!1,type:"Hidden",
value:a.id});this.form.placeAt(h.containerNode);h.show()})}a.security.Delete&&(f=e.create("a",{innerHTML:i18n("Delete"),"class":"actionsLink linkPointer"},h),d(f,"click",function(){c.confirmDelete(a)}));return h},confirmDelete:function(b){var c=this;new q({message:i18n("Are you sure you want to delete %s? This will permanently delete it from the system.",util.escape(b.name)),action:function(){c.grid.block();j.del({url:bootstrap.restUrl+"resource/cloud/connection/"+b.id,handleAs:"json",load:function(){c.grid.unblock();
c.grid.refresh()},error:function(b){(new a({messages:[i18n("Error deleting cloud connection:"),"",util.escape(b.responseText)]})).startup();c.grid.unblock()}})}})}})})},"dijit/_HasDropDown":function(){define("dijit/_HasDropDown","dojo/_base/declare,dojo/_base/Deferred,dojo/_base/event,dojo/dom,dojo/dom-attr,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/has,dojo/keys,dojo/_base/lang,dojo/on,dojo/window,./registry,./focus,./popup,./_FocusMixin".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,
s,r,t){return l("dijit._HasDropDown",t,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:!0,forceWidth:!1,maxHeight:0,dropDownPosition:["below","above"],_stopClickEvents:!0,_onDropDownMouseDown:function(a){if(!this.disabled&&!this.readOnly)a.preventDefault(),this._docHandler=this.connect(this.ownerDocument,"mouseup","_onDropDownMouseUp"),this.toggleDropDown()},_onDropDownMouseUp:function(a){a&&this._docHandler&&this.disconnect(this._docHandler);
var c=this.dropDown,h=!1;if(a&&this._opened){var f=d.position(this._buttonNode,!0);if(!(a.pageX>=f.x&&a.pageX<=f.x+f.w)||!(a.pageY>=f.y&&a.pageY<=f.y+f.h)){for(f=a.target;f&&!h;)e.contains(f,"dijitPopup")?h=!0:f=f.parentNode;if(h){f=a.target;if(c.onItemClick){for(var j;f&&!(j=n.byNode(f));)f=f.parentNode;if(j&&j.onClick&&j.getParent)j.getParent().onItemClick(j,a)}return}}}if(this._opened){if(c.focus&&!1!==c.autoFocus)this._focusDropDownTimer=this.defer(function(){c.focus();delete this._focusDropDownTimer})}else this.focus&&
this.defer("focus");if(b("touch"))this._justGotMouseUp=!0,this.defer(function(){this._justGotMouseUp=!1})},_onDropDownClick:function(a){b("touch")&&!this._justGotMouseUp&&(this._onDropDownMouseDown(a),this._onDropDownMouseUp(a));this._stopClickEvents&&k.stop(a)},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var a={after:this.isLeftToRight()?"Right":"Left",
before:this.isLeftToRight()?"Left":"Right",above:"Up",below:"Down",left:"Left",right:"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";e.add(this._arrowWrapperNode||this._buttonNode,"dijit"+a+"ArrowButton")},postCreate:function(){this.inherited(arguments);var a=this.focusNode||this.domNode;this.own(q(this._buttonNode,"mousedown",h.hitch(this,"_onDropDownMouseDown")),q(this._buttonNode,"click",h.hitch(this,"_onDropDownClick")),q(a,"keydown",h.hitch(this,"_onKey")),q(a,"keyup",h.hitch(this,
"_onKeyUp")))},destroy:function(){this.dropDown&&(this.dropDown._destroyed||this.dropDown.destroyRecursive(),delete this.dropDown);this.inherited(arguments)},_onKey:function(b){if(!this.disabled&&!this.readOnly){var c=this.dropDown,d=b.target;if(c&&this._opened&&c.handleKey&&!1===c.handleKey(b))k.stop(b);else if(c&&this._opened&&b.keyCode==a.ESCAPE)this.closeDropDown(),k.stop(b);else if(!this._opened&&(b.keyCode==a.DOWN_ARROW||(b.keyCode==a.ENTER||b.keyCode==a.SPACE)&&("input"!==(d.tagName||"").toLowerCase()||
d.type&&"text"!==d.type.toLowerCase())))this._toggleOnKeyUp=!0,k.stop(b)}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var a=this.dropDown;a&&a.focus&&this.defer(h.hitch(a,"focus"),1)}},_onBlur:function(){this.closeDropDown(s.curNode&&this.dropDown&&j.isDescendant(s.curNode,this.dropDown.domNode));this.inherited(arguments)},isLoaded:function(){return!0},loadDropDown:function(a){a()},loadAndOpenDropDown:function(){var a=new m,b=h.hitch(this,function(){this.openDropDown();
a.resolve(this.dropDown)});this.isLoaded()?b():this.loadDropDown(b);return a},toggleDropDown:function(){!this.disabled&&!this.readOnly&&(this._opened?this.closeDropDown():this.loadAndOpenDropDown())},openDropDown:function(){var a=this.dropDown,b=a.domNode,j=this._aroundNode||this.domNode,n=this;if(!this._preparedNode){this._preparedNode=!0;if(b.style.width)this._explicitDDWidth=!0;if(b.style.height)this._explicitDDHeight=!0}if(this.maxHeight||this.forceWidth||this.autoWidth){var q={display:"",visibility:"hidden"};
if(!this._explicitDDWidth)q.width="";if(!this._explicitDDHeight)q.height="";c.set(b,q);q=this.maxHeight;if(-1==q)var q=o.getBox(this.ownerDocument),k=d.position(j,!1),q=Math.floor(Math.max(k.y,q.h-(k.y+k.h)));r.moveOffScreen(a);a.startup&&!a._started&&a.startup();var k=d.getMarginSize(b),z=q&&k.h>q;c.set(b,{overflowX:"visible",overflowY:z?"auto":"visible"});z?(k.h=q,"w"in k&&(k.w+=16)):delete k.h;this.forceWidth?k.w=j.offsetWidth:this.autoWidth?k.w=Math.max(k.w,j.offsetWidth):delete k.w;h.isFunction(a.resize)?
a.resize(k):d.setMarginBox(b,k)}j=r.open({parent:this,popup:a,around:j,orient:this.dropDownPosition,onExecute:function(){n.closeDropDown(!0)},onCancel:function(){n.closeDropDown(!0)},onClose:function(){f.set(n._popupStateNode,"popupActive",!1);e.remove(n._popupStateNode,"dijitHasDropDownOpen");n._set("_opened",!1)}});f.set(this._popupStateNode,"popupActive","true");e.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",!0);this._popupStateNode.setAttribute("aria-expanded","true");
this._popupStateNode.setAttribute("aria-owns",a.id);"presentation"!==b.getAttribute("role")&&!b.getAttribute("aria-labelledby")&&b.setAttribute("aria-labelledby",this.id);return j},closeDropDown:function(a){this._focusDropDownTimer&&(this._focusDropDownTimer.remove(),delete this._focusDropDownTimer);if(this._opened)this._popupStateNode.setAttribute("aria-expanded","false"),a&&this.focus(),r.close(this.dropDown),this._opened=!1}})})},"deploy/widgets/resourceTemplate/ImportResourceTemplate":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/_base/xhr,js/webext/widgets/ColumnForm,deploy/widgets/security/TeamSelector,js/webext/widgets/select/WebextSelect,dojo/store/JsonRest,js/webext/widgets/Dialog,deploy/widgets/resourceTemplate/CloudConnectionSelect".split(","),
function(l,m,k,j,f,e,d,c,b,a){return k([m,l],{templateString:'<div class="importResourceTemplate">  <div data-dojo-attach-point="formAttach"></div></div>',postCreate:function(){this.inherited(arguments);var b=this;this.existingValues={};this.resourceTemplate?this.existingValues=this.resourceTemplate:j.get({url:bootstrap.restUrl+"security/teamsWithCreateAction/Resource Template",handleAs:"json",sync:!0,load:function(a){b.existingValues.extendedSecurity={teams:a}}});this.form=new f({submitUrl:bootstrap.restUrl+
"resource/resourceTemplate",postSubmit:function(a){void 0!==b.callback&&b.callback(a)},addData:function(a){if(b.resourceTemplate)a.existingId=b.existingValues.id;a.teamMappings=b.teamSelector.teams},onCancel:function(){void 0!==b.callback&&b.callback()}});this.connectionSelector=new a({store:b.connectionStore,searchAttr:"name",labelAttr:"name",noDataMessage:i18n("No resources found."),autoComplete:!1,intermediateChanges:!0,isVsys:!1,onChange:function(a){b.form.hasField("isVsys")&&b.form.removeField("isVsys");
b.form.addField({name:"isVsys",label:i18n("Use VSys.Next patterns"),description:"Check this box to use a Virtual System pattern in IBM PureApplication System version 2.0 or later.",type:"Checkbox",value:!1,onChange:function(c){b.showCloudResourceField(a,c)}},"_cloudResourceInsertionPoint");b.showCloudResourceField(a)}});this.form.addField({name:"name",label:i18n("Name"),required:!0,type:"Validation Text",promptMessage:null,value:this.existingValues.name});this.form.addField({name:"connection",label:i18n("Cloud Connection"),
description:i18n("In the <b>Cloud Connection</b> list, select the connection to the cloud system. If you do not have a connection to the cloud system, click <b>New Connection</b> and specify the information for the connection, including the host name and login information for the cloud system."),required:!0,widget:this.connectionSelector});this.form.addField({name:"_cloudResourceInsertionPoint",type:"Invisible"});this.teamSelector=new e({resourceRoleType:"Resource Template",noneLabel:i18n("Standard Resource Template"),
teams:this.existingValues.extendedSecurity.teams});this.form.addField({name:"teams",label:i18n("Teams"),type:"Text",description:i18n("In the <b>Teams</b> field, add the teams that should be able to use the resource template."),widget:this.teamSelector});this.form.placeAt(this.formAttach)},showCloudResourceField:function(a,b){this.form.hasField("cloudResourceId")&&this.form.removeField("cloudResourceId");this.cloudResourcesStore=new c({target:bootstrap.restUrl+"resource/cloud/connection/"+a+"/resources",
idAttribute:"id"});this.cloudResourcesSelector=new d({store:this.cloudResourcesStore,searchAttr:"name",labelAttr:"name",noDataMessage:i18n("No resources found."),autoComplete:!1,intermediateChanges:!0,defaultQuery:{vsys:!!b}});this.cloudResourceField=this.form.addField({name:"cloudResourceId",label:i18n("Cloud Resource"),description:i18n("In the <b>Cloud Resource</b> list, select the virtual system pattern to use."),required:!0,widget:this.cloudResourcesSelector},"_cloudResourceInsertionPoint")}})})},
"url:dojox/form/resources/_CheckedMultiSelectMenuItem.html":'<tr class="dijitReset dijitMenuItem" dojoAttachPoint="focusNode" role="menuitemcheckbox" tabIndex="-1"\n\tdojoAttachEvent="ondijitclick:_onClick"\n\t><td class="dijitReset dijitMenuItemIconCell" role="presentation"\n\t\t><div src="${_blankGif}" alt="" class="dijitMenuItemIcon ${_iconClass}" dojoAttachPoint="iconNode"\n\t\t\t><input class="dojoxCheckedMultiSelectCheckBoxInput" dojoAttachPoint="inputNode" type="${_type.type}"\n\t\t/></div></td\n\t><td class="dijitReset dijitMenuItemLabel" colspan="2" dojoAttachPoint="containerNode,labelNode"></td\n\t><td class="dijitReset dijitMenuItemAccelKey" style="display: none" dojoAttachPoint="accelKeyNode"></td\n\t><td class="dijitReset dijitMenuArrowCell" role="presentation">&nbsp;</td\n></tr>',
"dijit/_Widget":function(){define("dijit/_Widget","dojo/aspect,dojo/_base/config,dojo/_base/connect,dojo/_base/declare,dojo/has,dojo/_base/kernel,dojo/_base/lang,dojo/query,dojo/ready,./registry,./_WidgetBase,./_OnDijitClickMixin,./_FocusMixin,dojo/uacss,./hccss".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o){function n(){}function s(a){return function(b,c,h,e){return b&&"string"==typeof c&&b[c]==n?b.on(c.substring(2).toLowerCase(),d.hitch(h,e)):a.apply(k,arguments)}}l.around(k,"connect",s);e.connect&&
l.around(e,"connect",s);l=j("dijit._Widget",[h,q,o],{onClick:n,onDblClick:n,onKeyDown:n,onKeyPress:n,onKeyUp:n,onMouseDown:n,onMouseMove:n,onMouseOut:n,onMouseOver:n,onMouseLeave:n,onMouseEnter:n,onMouseUp:n,constructor:function(a){this._toConnect={};for(var b in a)this[b]===n&&(this._toConnect[b.replace(/^on/,"").toLowerCase()]=a[b],delete a[b])},postCreate:function(){this.inherited(arguments);for(var a in this._toConnect)this.on(a,this._toConnect[a]);delete this._toConnect},on:function(a,b){return this[this._onMap(a)]===
n?k.connect(this.domNode,a.toLowerCase(),this,b):this.inherited(arguments)},_setFocusedAttr:function(a){this._focused=a;this._set("focused",a)},setAttribute:function(a,b){e.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(a,b)},attr:function(a,b){if(m.isDebug){var c=arguments.callee._ach||(arguments.callee._ach={}),d=(arguments.callee.caller||"unknown caller").toString();c[d]||(e.deprecated(this.declaredClass+"::attr() is deprecated. Use get() or set() instead, called from "+
d,"","2.0"),c[d]=!0)}return 2<=arguments.length||"object"===typeof a?this.set.apply(this,arguments):this.get(a)},getDescendants:function(){e.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?c("[widgetId]",this.containerNode).map(a.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}});f("dijit-legacy-requires")&&b(0,function(){require(["dijit/_base"])});return l})},
"js/webext/widgets/Util":function(){define("js/webext/widgets/Util","dojo/_base/declare,dojo/_base/array,dojo/_base/Color,dojo/_base/kernel,dojo/_base/lang,dojo/_base/sniff,dojo/_base/window,dojo/_base/xhr,dojo/request/xhr,dojo/Deferred,dojo/aspect,dojo/dom-attr,dojo/dom-construct,dojo/dom-class,js/webext/widgets/Config,js/webext/widgets/Dialog,dojox/html/entities,dojo/json,dojo/cookie,dojo/dom-geometry,dijit/_BidiSupport,js/webext/widgets/BidiDateUtil".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,
o,n,s,r,t,w,u,x,v,y){function A(a){a||(a={});if(bootstrap){var b=bootstrap.apiTokenName||bootstrap.expectedSessionCookieName;if(b){var c=util.getCookie(b);c&&(a[b]=c)}}return a}var z=null,B=null;if(!j.global.config)j.global.config=new s;var D=l([],{_i18nLoaded:null,i18nLoaded:null,timeFormatPattern:void 0,dateFormatPattern:void 0,baseTextDir:void 0,calendar:void 0,constructor:function(){this._i18nLoaded=new a;this.i18nLoaded=this._i18nLoaded.promise;this.msPerSecond=1E3;this.msPerMinute=60*this.msPerSecond;
this.msPerHour=60*this.msPerMinute;this.msPerDay=24*this.msPerHour;this.msPerWeek=7*this.msPerDay;this.msTimezoneOffset=(new Date).getTimezoneOffset()*this.msPerMinute},isEmpty:function(a){var b=!0,c=null;for(c in a)if(b=!1,c)break;return b},combineDateAndTime:function(a,b){var c=new Date(a),d=new Date(b),h=c.getFullYear(),e=c.getMonth(),c=c.getDate(),f=d.getHours(),d=d.getMinutes();return y.fromGregorian(new Date(h,e,c,f,d))},getStartOfWeek:function(a){for(var b=new Date(a);0<b.getDay();)b=new Date(b.valueOf()-
23*util.msPerHour);var a=b.getFullYear(),c=b.getMonth(),b=b.getDate();return y.fromGregorian(new Date(a,c,b))},getStartOfWorkWeek:function(a){for(var b=new Date(a);1!==b.getDay();)b=new Date(b.valueOf()-23*util.msPerHour);var a=b.getFullYear(),c=b.getMonth(),b=b.getDate();return y.fromGregorian(new Date(a,c,b))},getEndOfWeek:function(a){for(var b=new Date(a);6>b.getDay();)b=new Date(b.valueOf()+23*util.msPerHour);var a=b.getFullYear(),c=b.getMonth(),b=b.getDate();return y.fromGregorian(new Date(a,
c,b,23,59,59,999))},getEndOfWorkWeek:function(a){for(var b=new Date(a);0<b.getDay();)b=new Date(b.valueOf()+23*util.msPerHour);var a=b.getFullYear(),c=b.getMonth(),b=b.getDate();return y.fromGregorian(new Date(a,c,b))},getStartOfMonth:function(a){var b=new Date(a),a=b.getFullYear(),b=b.getMonth();return y.fromGregorian(new Date(a,b,1))},getEndOfMonth:function(a){var b=new Date(a),a=b.getFullYear(),b=b.getMonth(),c=32-(new Date(a,b,32)).getDate();return y.fromGregorian(new Date(a,b,c))},shiftMonths:function(a,
b){var c=new Date(a),d=c.getFullYear(),h=c.getMonth()+b,e=c.getDate(),f=c.getHours(),j=c.getMinutes(),o=c.getSeconds(),c=c.getMilliseconds();return y.fromGregorian(new Date(d,h,e,f,j,o,c))},shiftWeeks:function(a,b){var c=new Date(a),d=c.getFullYear(),h=c.getMonth(),e=c.getDate()+7*b,f=c.getHours(),j=c.getMinutes(),o=c.getSeconds(),c=c.getMilliseconds();return y.fromGregorian(new Date(d,h,e,f,j,o,c))},shiftDays:function(a,b){var c=new Date(a),d=c.getFullYear(),h=c.getMonth(),e=c.getDate()+b,f=c.getHours(),
j=c.getMinutes(),o=c.getSeconds(),c=c.getMilliseconds();return y.fromGregorian(new Date(d,h,e,f,j,o,c))},shiftHours:function(a,b){var c=new Date(a),d=c.getFullYear(),h=c.getMonth(),e=c.getDate(),f=c.getHours()+b,j=c.getMinutes(),o=c.getSeconds(),c=c.getMilliseconds();return y.fromGregorian(new Date(d,h,e,f,j,o,c))},shiftMinutes:function(a,b){var c=new Date(a),d=c.getFullYear(),h=c.getMonth(),e=c.getDate(),f=c.getHours(),j=c.getMinutes()+b,o=c.getSeconds(),c=c.getMilliseconds();return y.fromGregorian(new Date(d,
h,e,f,j,o,c))},dateFormatter:function(a){var b="";a&&(b=util.dateFormatShort(a));return b=util.wrapCell(b)},tableDateFormatter:function(a,b){var c="";b&&(c=util.dateFormatShort(b));return c},dateFormatShort:function(a){var b=null,a=new Date(a);null!==a&&!isNaN(a.valueOf())&&(b=y.formatBidiDate(a,{formatLength:"short",fullYear:!0,datePattern:this.dateFormatPattern,timePattern:this.timeFormatPattern}));return b},dateFormatShortSeconds:function(a){var b=null,a=new Date(a);null!==a&&(b=y.formatBidiDate(a,
{selector:"time",formatLength:"medium"}));return b},dayFormatShort:function(a){var b=null,a=new Date(a);null!==a&&(b=y.formatBidiDate(a,{selector:"date",formatLength:"short",fullYear:!0,datePattern:this.dateFormatPattern}));return b},dateOnlyFormat:function(a,b){var c=null,d=new Date(a);null!==d&&(c=y.formatBidiDate(d,{selector:"date",datePattern:b}));return c},timeOnlyFormat:function(a,b){var c=null,d=new Date(a);null!==d&&(c=y.formatBidiDate(d,{selector:"time",timePattern:b}));return c},fileSizeFormat:function(a,
b){"number"!==typeof b?b=1:0>b?b=0:20<b&&(b=20);var c=parseFloat(a),d=(c/1024).toFixed(b),h=(d/1024).toFixed(b),e=(h/1024).toFixed(b),f=(e/1024).toFixed(b),j="";return j=1>d?i18n("%s bytes",c):1>h?i18n("%s KB",d):1>e?i18n("%s MB",h):1>f?i18n("%s GB",e):i18n("%s TB",f)},durationFormatter:function(a,b){var c="";b&&(c=util.formatDuration(b));return c},formatDuration:function(a){for(var b=0,c=0,d=0;36E5<=a;)b++,a-=36E5;for(;6E4<=a;)c++,a-=6E4;for(;1E3<=a;)d++,a-=1E3;a=""+c;d=""+d;1===a.length&&(a="0"+
a);1===d.length&&(d="0"+d);return""+b+":"+a+":"+d},workflowIdNameFormatter:function(a){var b=a.indexOf(":"),c=a.substring(0,b),a=a.substring(b+1,a.length);return c=util.wrapCell('<a href="#configuration/'+c+'">'+a+"</a>")},projectIdNameFormatter:function(a){var b=a.indexOf(":"),c=a.substring(0,b),a=a.substring(b+1,a.length);return c=util.wrapCell('<a href="#project/'+c+'">'+a+"</a>")},buildLifeIdFormatter:function(a){return util.centerCell('<a href="#build/'+a+'">'+a+"</a>")},buildLifeOrRequestFormatter:function(a){var b=
a.indexOf("d");"L"===a.substring(b+2,b+3)?(b=a.substring(b+7,a.length),a='<a href="#build/'+b+'">'+a+"</a>"):(b=a.substring(b+10,a.length),a='<a href="#buildRequest/'+b+'">'+a+"</a>");return util.centerCell(a)},clearAppState:function(){appState={}},generateWorkflowDetails:function(){var a=[];void 0!==appState.workflow&&(appState.workflow.active||a.push({hideLabel:!0,value:"This configuration has been deactivated, and is read-only.",className:"redNotice"}),appState.workflow.deactivatedDependencies&&
a.push({hideLabel:!0,value:"One or more of this configuration's dependencies have been deleted.<br/>View the dependency configuration page to view or remove these dependencies.",className:"redNotice"}),a.push({label:"Name:",value:appState.workflow.name}),a.push({label:"Description:",value:appState.workflow.description}),a.push({label:"Template:",value:appState.workflow.templateName}),a.push({label:"ID:",value:appState.workflow.id}),a.push({label:"Source Config:",value:appState.workflow.sourceConfig}),
a.push({label:"Last Modified By:",value:appState.workflow.userWhoLastModified}),a.push({label:"Created By:",value:appState.workflow.createdBy}));return a},setupTimeDateFormat:function(a,b){this.dateFormatPattern=b?b:void 0;this.timeFormatPattern=a?a:void 0},loadI18n:function(a,b){var d=this,b=b||function(){},h=bootstrap.contentUrl+"conf/locale/"+a+".json",e=bootstrap.contentUrl+"conf/locale/default.json",f=!1;a&&c.get({url:h,handleAs:"json",method:"GET",load:function(a){z=a;d._i18nLoaded.resolve();
b()},error:function(){null!==B&&(z=B,d._i18nLoaded.resolve(),b());f=!0}});c.get({url:e,handleAs:"json",method:"GET",load:function(c){if(!a||f)z=c,d._i18nLoaded.resolve(),b();B=c}});return this._i18nLoaded.promise},loadConfig:function(a,b){var b=b||function(){},d=bootstrap.configUrl;a&&(d=bootstrap.contentUrl+"conf/roles/"+a+".json");var h=bootstrap.contentUrl+"conf/roles/default.json",e=!1,f=null;d&&c.get({url:d,handleAs:"json",method:"GET",sync:!0,load:function(a){config.setData(a);b()},error:function(){null!==
f&&(config.setData(f),b());e=!0}});(!d||e)&&c.get({url:h,handleAs:"json",method:"GET",load:function(a){config.setData(a);b();f=a}})},removeFromArray:function(a,b,c,d){var h=!1,e=0,d=!0;c||(c=function(a,b){return a===b});for(e=0;e<a.length&&(!c(a[e],b)||!(h=!0,a.splice(e,1),d));e++);return h},removeFirstMatchFromArray:function(a,b,c){this.removeFromArray(a,b,c,!0)},getNamedProperty:function(a,b){var c;m.forEach(a,function(a){a.name===b&&(c=a)});return c},getNamedPropertyValue:function(a,b){var c,d=
this.getNamedProperty(a,b);if(void 0!==d)c=d.value;return c},populatePropValueAndLabel:function(a,b){var c=this.getNamedProperty(a,b.name);if(c&&c.value&&(b.value=c.value,"HTTP_SELECT"===b.type||"HTTP_MULTI_SELECT"===b.type))b.defaultLabel=c.label},updateWebextMultiSelectData:function(a,b,c,d,h){a.onAdd=function(a){var e=[],f=[];b[c]&&b[d]&&(e=b[c].split(","),f=b[d].split(","));-1===m.indexOf(e,a.value)&&(e.push(a.value),f.push(a.label),h?(b.set(c,e.join(",")),b.set(d,f.join(","))):(b[c]=e.join(","),
b[d]=f.join(",")))};a.onRemove=function(a){var e=[],f=[];b[c]&&b[d]&&(e=b[c].split(","),f=b[d].split(","));a=m.indexOf(e,a.value);-1!==a&&(e.splice(a,1),f.splice(a,1),h?(b.set(c,e.join(",")),b.set(d,f.join(","))):(b[c]=e.join(","),b[d]=f.join(",")))}},isDarkColor:function(a){a=(new k(a)).toRgb();return 0.5<1-(0.25*a[0]+0.6*a[1]+0.1*a[2])/255},getTint:function(a,b){return this._alterColor(a,b||0.6,!0)},getShade:function(a,b){return this._alterColor(a,b||0.6)},_alterColor:function(a,b,c){var a=(new k(a)).toRgb(),
d=[];m.forEach(a,function(a){c?d.push(b*(255-a)+a):d.push(b*a)});return k.fromArray(d).toHex()},mouseCoords:function(a){return a.pageX||a.pageY?{x:a.pageX,y:a.pageY}:{x:a.clientX+d.body().scrollLeft-d.body().clientLeft,y:a.clientY+d.body().scrollTop-d.body().clientTop}},getPosition:function(a){for(var b=0,c=0;a.offsetParent;)b+=a.offsetLeft,c+=a.offsetTop,a=a.offsetParent;b+=a.offsetLeft;c+=a.offsetTop;return{x:b,y:c}},getMouseOffset:function(a,b){var b=b||j.global.event,c=this.getPosition(a),d=this.mouseCoords(b);
return{x:d.x-c.x,y:d.y-c.y}},getObjectBounds:function(a){var b=this.getPosition(a);return{x1:b.x,y1:b.y,x2:b.x+a.offsetWidth,y2:b.y+a.offsetHeight}},isChild:function(a,b){var c=a.parentNode;return c?b===c.id?!0:this.isChild(c,b):!1},getGmtOffset:function(){return-6E4*(new Date).getTimezoneOffset()},getOnClickLink:function(a,b){var c=o.create("a");c.className="link";c.onclick=function(){navBar.setHash(a)};if(b)c.innerHTML=b.escape();return c},setCookie:function(a,b,c,d){var h=a;d?h+="_"+d:(this.clearCookie(a),
d=0);if(b){var e={path:"/"};if(c)e.expires=c;if("https:"===document.location.protocol)e.secure=!0;for(var c=0,f=b.substr(0,3900);0<f.length;)u(h,f,e),d+=1,h=a+"_"+(""+d),c+=3900,f=b.substr(c,3900)}},getCookie:function(a,b){var c=a;b?c+="_"+b:b=0;var d;for((c=u(c))&&(d="");c;)d+=c,b+=1,c=a+"_"+(""+b),c=u(c);return d},clearCookie:function(a,b){var c=a;void 0!==b&&(c=a+"_"+b);u(c)&&(u(c,"DELETED",{expires:(new Date(0)).toUTCString()}),this.clearCookie(a,(b||0)+1))},addClass:function(a,b){j.deprecated("js.webext.widgets.Util#addClass",
"Use dojo.addClass instead");n.add(a,b)},removeClass:function(a,b){j.deprecated("js.webext.widgets.Util#removeClass","Use dojo.removeClass instead");n.remove(a,b)},appendTextSpan:function(a,b){var c=o.create("span");c.innerHTML=b;a.appendChild(c)},randomString:function(a){for(var b="0,1,2,3,4,5,6,7,8,9,a,b,c,d,e,f".split(","),c="",d=0,d=0;d<a;d++)c+=b[Math.floor(Math.random()*b.length)];return c},clone:function(a){return f.clone(a)},log:function(){if(e("ie")){var a=[];m.forEach(arguments,function(b){a.push(w.stringify(b))})}},
cancelBubble:function(a){j.global.event?j.global.event.cancelBubble=!0:a.stopPropagation()},setBaseTextDir:function(a){D.baseTextDir=a},getBaseTextDir:function(){return D.baseTextDir},getBTD:function(){return this.getBaseTextDir()},getResolvedBTD:function(a){return this.getResolvedBaseTextDir(a)},getResolvedBaseTextDir:function(a){return"auto"===D.baseTextDir?(-1<a.indexOf(">")&&(a=a.replace(/<\/?[^>]+(>|$)/g,"")),v.prototype._checkContextual(a)):D.baseTextDir},applyBTD:function(a){return!D.baseTextDir||
!a||-1<a.indexOf("\u202a")||-1<a.indexOf("\u202b")?a:("rtl"===D.prototype.getResolvedBaseTextDir(a)?"\u202b":"\u202a")+a+"\u202c"},getUIDirAlign:function(){return x.isBodyLtr()?"left":"right"},getUIDir:function(){return x.isBodyLtr()?"ltr":"rtl"},setCalendar:function(a){D.calendar=a},getCalendar:function(){return D.calendar},getIE:function(){var a=null,b=window.navigator.userAgent,c=b.indexOf("MSIE");if(0<c)a=parseInt(b.substring(c+5,b.indexOf(".",c)),10);else if(b.match(/Trident\/7\./)||b.match(/Trident\/4\./))a=
11;return a},getNormalizedRegExp:function(a){var b;"^"!==a[0]&&(a="^"+a);"$"!==a[a.length-1]&&(a+="$");try{b=RegExp(a)}catch(c){b=/^a/}return b},downloadFile:function(a){11===this.getIE()?window.open(a):window.location.href=a},createDownloadAnchor:function(a,b){if(11===this.getIE())a.target="_blank";return o.create("a",a,b)},i18n:function(a){var b=null,c="";if(!a)return a;z&&((b=z[a])||(b=z[a.replace(/(\s)+/g,"$1")]));B&&!b&&((b=B[a])||(b=B[a.replace(/(\s)+/g,"$1")]));b||(b=a);if(b)var d=arguments,
h=0,c=b.replace(/%([0-9]+|s)/g,function(a,b){var c;c="s"===b?++h:parseInt(b,10);return d[c]});return c=c.replace(" :","\u00a0:")},escape:function(a){var b=a;a&&(b=a.escape());return b},setTestId:function(a,b){q.set(a,"data-test-id",b)},encodeIgnoringSlash:function(a){return a?encodeURIComponent(a).replace(/%2F/g,"/"):a}});if(!Array.prototype.indexOf)Array.prototype.indexOf=function(a){return m.indexOf(this,a)};if(!Array.prototype.lastIndexOf)Array.prototype.lastIndexOf=function(a){j.deprecated("Array::lastIndexOf",
"see dojo/_base/array::lastIndexOf");return m.lastIndexOf(this,a)};String.prototype.cap=function(){return this.charAt(0).toUpperCase()+this.slice(1)};String.prototype.escape=function(){return t.encode(this)};String.prototype.escapeHTML=function(){return this.replace(/</g,"&lt;").replace(/>/g,"&gt;")};var G=function(a){var b=a.error;a.error=b?function(a){if(401===a.status)navBar.onSessionExpired();else b.apply(this,arguments)}:function(a){if(401===a.status)navBar.onSessionExpired()};if(!a.headers)a.headers=
{};if(bootstrap){var c=bootstrap.apiTokenName||bootstrap.expectedSessionCookieName;if(c){var d=util.getCookie(c);d&&(a.headers[c]=d)}}};(function(){var a=c.get;dojo.xhrGet=dojo.xhr.get=function(b){G(b);return a.apply(this,arguments)};var b=c.post;dojo.xhrPost=dojo.xhr.post=function(a){G(a);return b.apply(this,arguments)};var d=c.put;dojo.xhrPut=dojo.xhr.put=function(a){G(a);return d.apply(this,arguments)};var h=c.del;dojo.xhrDelete=dojo.xhr.del=function(a){G(a);return h.apply(this,arguments)}})();
j.global.i18n=function(){return D.prototype.i18n.apply(null,arguments)};l=function(a){return function(b,c){c||(c={});c.headers=A(c.headers);var d=a(b,c);d.then(function(){},function(a){console.error("Error processing result from load:",a,a.message);401===(a.response.status||a.status)&&(new r({title:"Authentication Error",content:"401: User not authenticated.  Log in to continue."})).show()});return d}};h.around(b,"put",l);h.around(b,"post",l);h.around(b,"del",l);return D})},"dojo/_base/kernel":function(){define(["../has",
"./config","require","module"],function(l,m,k,j){var f,e={},d={},c={config:m,global:this,dijit:e,dojox:d},e={dojo:["dojo",c],dijit:["dijit",e],dojox:["dojox",d]},j=k.map&&k.map[j.id.match(/[^\/]+/)[0]];for(f in j)e[f]?e[f][0]=j[f]:e[f]=[j[f],{}];for(f in e)j=e[f],j[1]._scopeName=j[0],m.noGlobals||(this[j[0]]=j[1]);c.scopeMap=e;c.baseUrl=c.config.baseUrl=k.baseUrl;c.isAsync=k.async;c.locale=m.locale;j="$Rev: 29262 $".match(/\d+/);c.version={major:1,minor:8,patch:4,flag:"",revision:j?+j[0]:NaN,toString:function(){var a=
c.version;return a.major+"."+a.minor+"."+a.patch+a.flag+" ("+a.revision+")"}};Function("d","d.eval = function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(c);c.exit=function(){};"undefined"!=typeof console||(console={});for(var e="assert,count,debug,dir,dirxml,error,group,groupEnd,info,profile,profileEnd,time,timeEnd,trace,warn,log".split(","),b,j=0;b=e[j++];)console[b]||function(){var a=b+"";console[a]="log"in console?function(){var b=Array.apply({},arguments);b.unshift(a+
":");console.log(b.join(" "))}:function(){};console[a]._fake=!0}();l.add("dojo-debug-messages",!!m.isDebug);c.deprecated=c.experimental=function(){};if(l("dojo-debug-messages"))c.deprecated=function(a,b,c){a="DEPRECATED: "+a;b&&(a+=" "+b);c&&(a+=" -- will be removed in version: "+c);console.warn(a)},c.experimental=function(a,b){var c="EXPERIMENTAL: "+a+" -- APIs subject to change without notice.";b&&(c+=" "+b);console.warn(c)};if(m.modulePaths){c.deprecated("dojo.modulePaths","use paths configuration");
l={};for(f in m.modulePaths)l[f.replace(/\./g,"/")]=m.modulePaths[f];k({paths:l})}c.moduleUrl=function(a,b){c.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var d=null;a&&(d=k.toUrl(a.replace(/\./g,"/")+(b?"/"+b:"")+"/*.*").replace(/\/\*\.\*/,"")+(b?"":"/"));return d};c._hasResource={};return c})},"deploy/widgets/security/team/SecuredObjects":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Select,dijit/form/Button,dojo/_base/declare,dojo/_base/xhr,dojo/_base/array,dojo/dom-class,dojo/dom-geometry,dojo/dom-construct,dojo/on,js/webext/widgets/table/TreeTable,js/webext/widgets/DialogMultiSelect,js/webext/widgets/form/MenuButton,js/webext/widgets/RestSelect,js/webext/widgets/ColumnForm,js/webext/widgets/Alert,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,deploy/widgets/Formatters".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u,x){return f([m,l],{templateString:'<div><div data-dojo-attach-point="toolbarAttach"><div data-dojo-attach-point="viewBox" class="object-view-box inline-block"><b><div data-dojo-attach-point="objectLabel" style="margin-bottom: 5px;"></div></b><div data-dojo-attach-point="secureResourceTypeAttach" class="inlineBlock"  style="margin-'+(b.isBodyLtr()?"left":"right")+': -5px;"></div></div><div data-dojo-attach-point="addBox" class="object-view-box inline-block" style="margin-'+
(b.isBodyLtr()?"left":"right")+': 25px;"><b><div data-dojo-attach-point="addLabel" style="margin-bottom: 5px;"></div></b><b><div data-dojo-attach-point="typeLabel" class="inlineBlock" style="margin-'+(b.isBodyLtr()?"right":"left")+': 10px;"></div></b><div data-dojo-attach-point="typeSelectAttach" class="inlineBlock" style="margin: '+(b.isBodyLtr()?"0 4px -9px 0":"0 0 -9px 4px")+';"></div><div data-dojo-attach-point="addSecureResourceAttach" class="inlineBlock"></div></div></div><div data-dojo-attach-point="tableAttach"></div></div>',
postCreate:function(){this._loadPermissions();this._loadMappings()},_loadPermissions:function(){this.canEdit=config.data.permissions["Manage Security"]},_loadMappings:function(){var a=this;this.addLabel.innerHTML=i18n("Add Object Mapping: ");this.typeLabel.innerHTML=i18n("Type: ");this.objectLabel.innerHTML=i18n("View: ");e.get({url:bootstrap.baseUrl+"security/resourceType",handleAs:"json",load:function(b){var c=[],b=d.filter(b,function(a){return"Web UI"!==a.name&&"Server Configuration"!==a.name}),
h=util.getCookie("teamResourceMapping");if(!h)h=b[0].name;a.resourceType=h;d.forEach(b,function(b){c.push({label:i18n(b.name),onClick:function(){util.setCookie("teamResourceMapping",b.name);a.secureResourceType.set("label",i18n(b.name));a.resourceType=b.name;a.getUnmappedUrl=bootstrap.restUrl+"security/team/"+a.team+"/unmappedResources/"+a.resourceType;a.addSecureResource.url=a.getUnmappedUrl;a.refreshTable();a.refreshTypeSelect();a.addSecureResource._setValueAttr()}})});a.secureResourceType=new n({label:i18n(h),
options:c});a.secureResourceType.placeAt(a.secureResourceTypeAttach);a.showTable();a.showForm()}})},showTable:function(){var b=this,c=[{name:i18n("Name"),field:"name",formatter:function(a,b){return b=a.name?a.path?x.resourceLinkFormatter(a):a.name:a.resource.name},orderField:"name",filterField:"name",filterType:"text",getRawValue:function(a){var b="";return b=a.name?a.name:a.resource.name}},{name:i18n("Types"),field:"types",formatter:function(a){return b.formatResourceRoles(a)}}];this.table=new q({url:bootstrap.restUrl+
"security/team/"+b.team+"/resourceMappings/"+b.resourceType,columns:c,serverSideProcessing:!1,orderField:"name",tableConfigKey:"securedObjectsList",selectable:b.canEdit,isSelectable:function(){return!0},getTreeNodeId:function(a){var b=a.id;if(a.resource&&a.resource.id)b=a.resource.id;return b},getChildUrl:function(a){return bootstrap.restUrl+"security/team/"+b.team+"/resourceMappings/"+b.resourceType+"?parent="+a.id},hasChildren:function(a){return a.hasChildren}});this.table.placeAt(this.tableAttach);
a.place(this.toolbarAttach,this.table.aboveTreeOptions);if(this.canEdit){var d=new n({options:[{label:i18n("Remove From Team"),onClick:function(){b.removeSelectedItems(b.table.getSelectedItems())}}],label:i18n("Actions...")});d.placeAt(this.addSecureResourceAttach);c=function(){var a=b.table.getSelectedItems().length;0===a?(d.set("label",i18n("Actions...")),d.set("disabled",!0)):(d.set("label",i18n("Actions... (%s)",a)),d.set("disabled",!1))};this.table.on("selectItem",c);this.table.on("deselectItem",
c);this.table.on("displayTable",c)}},getChildren:function(a){var b=this,c=[];d.forEach(a,function(a){if(a.children){var h=b.getChildren(a.children);d.forEach(h,function(a){c.push(a)})}h="";if(a.resource)h=a.resource.id;else if(a.id)h=a.id;c.push(h)});return c},removeSelectedItems:function(a){var b=this,c=[],h={};d.forEach(a,function(a){var e="";if(a.resource)e=a.resource.id;else if(a.id)e=a.id;a.children&&(a=b.getChildren(a.children),d.forEach(a,function(a){h[a]||(h[a]=!0,c.push(a))}));h[e]||(h[e]=
!0,c.push(e))});var f={resources:c};if("standard"!==b.typeSelect.value)f.resourceRole=b.typeSelect.value;a.length?new u({message:i18n("Are you sure you want to remove the selected objects from this team?"),action:function(){e.del({url:bootstrap.baseUrl+"security/team/"+b.team+"/batchResourceMappings",headers:{"Content-Type":"application/json"},putData:JSON.stringify(f),load:function(){b.table.refresh()},error:function(a){a=new w({title:i18n("Error removing object"),content:util.escape(a.responseText),
closable:!0,draggable:!0});b.table.unblock();b.table.refresh();a.show()}})}}):(new t({message:i18n("Please select at least one resource to remove.")})).startup()},showForm:function(){var b=this;this.form=new r({submitUrl:bootstrap.baseUrl+"security/team/"+b.team+"/batchResourceMappings",cancelLabel:null,showButtons:!1,addData:function(a){a.resources=a.resources.split(",");a.resourceRole=b.typeSelect.get("value");if("standard"===a.resourceRole)a.resourceRole=null},postSubmit:function(){b.table.refresh();
b.addSecureResource._setValueAttr()}});this.getUnmappedUrl=bootstrap.restUrl+"security/team/"+b.team+"/unmappedResources/"+b.resourceType;this.addSecureResource=new o({url:b.getUnmappedUrl,getLabel:function(a){return a.name},getValue:function(a){return a.id},onClose:function(){b.form.submitForm()},noSelectionsLabel:i18n("None Selected")});this.form.addField({name:"resources",widget:b.addSecureResource});this.typeSelect=new k;this.typeSelect.on("change",function(){b.addSecureResource.url=b.getUnmappedUrl;
if("standard"!==b.typeSelect.value)b.addSecureResource.url=b.getUnmappedUrl+"/"+b.typeSelect.value});this.typeSelect.placeAt(this.typeSelectAttach);this.addButton=new j({label:i18n("Add"),onClick:function(){b.addSecureResource.fieldAttach.onclick()}});c.add(this.addButton.domNode,"idxButtonSpecial idxButtonCompact");this.canEdit&&a.place(this.addButton.domNode,this.addSecureResourceAttach,"first");this.refreshTypeSelect()},refreshTable:function(){this.table.url=bootstrap.restUrl+"security/team/"+
this.team+"/resourceMappings/"+this.resourceType;this.table.refresh()},destroy:function(){this.inherited(arguments);this.table.destroy()},refreshTypeSelect:function(){var a=this;e.get({url:bootstrap.baseUrl+"security/resourceType/"+a.resourceType+"/resourceRoles",handleAs:"json",load:function(b){var c=a.typeSelect.getOptions();d.forEach(c,function(b){a.typeSelect.removeOption(b.value)});a.typeSelect.addOption({value:"standard",label:i18n("Standard "+a.resourceType)});d.forEach(b,function(b){a.typeSelect.addOption({value:b.id,
label:b.name})})}})},formatResourceRoles:function(a){var b=this,c="";if(a.resourceRoles){var h=!0;d.forEach(a.resourceRoles,function(a){h||(c+=", ");h=!1;a=null!==a?a.name:""+i18n("Standard "+b.resourceType);c+=a})}return c}})})},"dojo/_base/unload":function(){define(["./kernel","./lang","../on"],function(l,m,k){var j=window,f={addOnWindowUnload:function(e,d){if(!l.windowUnloaded)k(j,"unload",l.windowUnloaded=function(){});k(j,"unload",m.hitch(e,d))},addOnUnload:function(e,d){k(j,"beforeunload",m.hitch(e,
d))}};l.addOnWindowUnload=f.addOnWindowUnload;l.addOnUnload=f.addOnUnload;return f})},"dojox/data/JsonRestStore":function(){define("dojox/data/JsonRestStore","dojo/_base/lang,dojo/_base/declare,dojo/_base/connect,dojox/rpc/Rest,dojox/rpc/JsonRest,dojox/json/schema,dojox/data/ServiceStore".split(","),function(l,m,k,j,f,e,d){var c=l.getObject("dojox.rpc",!0),b=m("dojox.data.JsonRestStore",d,{constructor:function(a){k.connect(j._index,"onUpdate",this,function(a,b,c,d){var h=this.service.servicePath;
if(a.__id&&a.__id.substring(0,h.length)==h)this.onSet(a,b,c,d)});this.idAttribute=this.idAttribute||"id";if("string"==typeof a.target&&(a.target=a.target.match(/\/$/)||this.allowNoTrailingSlash?a.target:a.target+"/",!this.service))this.service=f.services[a.target]||j(a.target,!0);f.registerService(this.service,a.target,this.schema);this.schema=this.service._schema=this.schema||this.service._schema||{};this.service._store=this;this.service.idAsRef=this.idAsRef;this.schema._idAttr=this.idAttribute;
var b=f.getConstructor(this.service),c=this;this._constructor=function(a){b.call(this,a);c.onNew(this)};this._constructor.prototype=b.prototype;this._index=j._index},loadReferencedSchema:!0,idAsRef:!1,referenceIntegrity:!0,target:"",allowNoTrailingSlash:!1,newItem:function(a,b){a=new this._constructor(a);if(b){var c=this.getValue(b.parent,b.attribute,[]),c=c.concat([a]);a.__parent=c;this.setValue(b.parent,b.attribute,c)}return a},deleteItem:function(b){var c=[],d=a._getStoreForItem(b)||this;if(this.referenceIntegrity){f._saveNotNeeded=
!0;var e=j._index,k=function(f){var h;var j;c.push(f);f.__checked=1;for(var r in f)if("__"!=r.substring(0,2)){var l=f[r];l==b?f!=e&&(f instanceof Array?(j=j||[]).push(r):(a._getStoreForItem(f)||d).unsetAttribute(f,r)):"object"==typeof l&&l&&(l.__checked||k(l),"object"==typeof l.__checked&&f!=e&&(a._getStoreForItem(f)||d).setValue(f,r,l.__checked))}if(j){r=j.length;for(h=f.__checked=f.concat(),f=h;r--;)f.splice(j[r],1);return f}return null};k(e);f._saveNotNeeded=!1;for(var r=0;c[r];)delete c[r++].__checked}f.deleteObject(b);
d.onDelete(b)},changing:function(a,b){f.changing(a,b)},cancelChanging:function(a){if(a.__id){dirtyObjects=f.getDirtyObjects();for(var b=0;b<dirtyObjects.length;b++)if(a==dirtyObjects[b].object){dirtyObjects.splice(b,1);break}}},setValue:function(b,c,d){var f=b[c],j=b.__id?a._getStoreForItem(b):this;e&&j.schema&&j.schema.properties&&e.mustBeValid(e.checkPropertyChange(d,j.schema.properties[c]));if(c==j.idAttribute)throw Error("Can not change the identity attribute for an item");j.changing(b);if((b[c]=
d)&&!d.__parent)d.__parent=b;j.onSet(b,c,f,d)},setValues:function(a,b,c){if(!l.isArray(c))throw Error("setValues expects to be passed an Array object as its value");this.setValue(a,b,c)},unsetAttribute:function(a,b){this.changing(a);var c=a[b];delete a[b];this.onSet(a,b,c,void 0)},save:function(a){if(!a||!a.global)(a=a||{}).service=this.service;if("syncMode"in a?a.syncMode:this.syncMode)c._sync=!0;a=f.commit(a);this.serverVersion=this._updates&&this._updates.length;return a},revert:function(a){f.revert(a&&
a.global&&this.service)},isDirty:function(a){return f.isDirty(a,this)},isItem:function(a,b){return a&&a.__id&&(b||this.service==f.getServiceAndId(a.__id).service)},_doQuery:function(a){var b=f.query(this.service,"string"==typeof a.queryStr?a.queryStr:a.query,a),c=this;this.loadReferencedSchema&&b.addCallback(function(a){var d=b.ioArgs&&b.ioArgs.xhr&&b.ioArgs.xhr.getResponseHeader("Content-Type"),h=d&&d.match(/definedby\s*=\s*([^;]*)/);d&&!h&&(h=(h=b.ioArgs.xhr.getResponseHeader("Link"))&&h.match(/<([^>]*)>;\s*rel="?definedby"?/));
if(h=h&&h[1])return d=f.getServiceAndId((c.target+h).replace(/^(.*\/)?(\w+:\/\/)|[^\/\.]+\/\.\.\/|^.*\/(\/)/,"$2$3")),d=f.byId(d.service,d.id),d.addCallbacks(function(b){l.mixin(c.schema,b);return a},function(b){console.error(b);return a}),d});return b},_processResults:function(a,b){var c=a.length;return{totalCount:b.fullLength||(b.request.count==c?(b.request.start||0)+2*c:c),items:a}},getConstructor:function(){return this._constructor},getIdentity:function(a){a=a.__clientId||a.__id;if(!a)return a;
var b=this.service.servicePath.replace(/[^\/]*$/,"");return a.substring(0,b.length)!=b?a:a.substring(b.length)},fetchItemByIdentity:function(a){var b=a.identity,c=this;if(b.toString().match(/^(\w*:)?\//))b=f.getServiceAndId(b),c=b.service._store,a.identity=b.id;a._prefix=c.service.servicePath.replace(/[^\/]*$/,"");return c.inherited(arguments)},onSet:function(){},onNew:function(){},onDelete:function(){},getFeatures:function(){var a=this.inherited(arguments);a["dojo.data.api.Write"]=!0;a["dojo.data.api.Notification"]=
!0;return a},getParent:function(a){return a&&a.__parent}});b.getStore=function(a,c){if("string"==typeof a.target){a.target=a.target.match(/\/$/)||a.allowNoTrailingSlash?a.target:a.target+"/";var d=(f.services[a.target]||{})._store;if(d)return d}return new (c||b)(a)};var a=l.getObject("dojox.data",!0);a._getStoreForItem=function(a){if(a.__id){var c=f.getServiceAndId(a.__id);if(c&&c.service._store)return c.service._store;a=a.__id.toString().match(/.*\//)[0];return new b({target:a})}return null};l.getObject("dojox.json.ref",
!0)._useRefs=!0;return b})},"deploy/widgets/component/ComponentEditManager":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/on,dojo/dom-construct,js/webext/widgets/TwoPaneListManager,deploy/widgets/component/EditComponent,deploy/widgets/property/PropValues,deploy/widgets/property/PropDefs,deploy/widgets/component/ComponentConfigTemplates,deploy/widgets/component/ComponentImportFailureIcon,deploy/widgets/component/ComponentSourceConfigHistory".split(","),function(l,m,k,j,
f,e,d,c,b,a,h,q){return m([e],{postCreate:function(){this.inherited(arguments);this.showList()},showList:function(){var a=this;a.addEntry({id:"basic",label:i18n("Basic Settings"),action:function(){a.addHeading(i18n("Basic Settings"));a.showBasicSettings()}});a.addEntry({id:"componentProperties",label:i18n("Component Properties"),action:function(){a.addHeading(i18n("Component Properties"));a.showComponentProperties()}});a.addEntry({id:"environmentProperties",label:i18n("Environment Property Definitions"),
action:function(){a.addHeading(i18n("Environment Property Definitions"));a.showEnvironmentProperties()}});a.addEntry({id:"resourceProperties",label:i18n("Resource Property Definitions"),action:function(){a.addHeading(i18n("Resource Property Definitions"));a.showResourceProperties()}});a.addEntry({id:"versionProperties",label:i18n("Version Property Definitions"),action:function(){a.addHeading(i18n("Version Property Definitions"));a.showVersionProperties()}});a.addEntry({id:"configTemplates",label:i18n("Configuration File Templates"),
action:function(){a.addHeading(i18n("Configuration File Templates"));a.showConfigTemplates()}});a.addEntry({id:"versionImportHistory",domNode:a.formatVersionImportHistory(),action:function(){a.addHeading(i18n("Version Import History"));a.showVersionImportHistory()}})},addHeading:function(a){f.create("div",{innerHTML:a,"class":"containerLabel",style:{padding:"10px"}},this.detailAttach)},addDescription:function(a){f.create("div",{innerHTML:a,style:{marginBottom:"10px"}},this.detailAttach)},showBasicSettings:function(){(new d({component:appState.component,
readOnly:!appState.component.security["Edit Basic Settings"]})).placeAt(this.detailAttach)},showComponentProperties:function(){var a=this;k.get({url:bootstrap.restUrl+"deploy/component/"+appState.component.id,handleAs:"json",load:function(b){(new c({propSheet:b.propSheet,readOnly:!b.security["Manage Properties"]})).placeAt(a.detailAttach)}})},showEnvironmentProperties:function(){var a=this;this.addDescription(i18n("Define properties here to be given values on each environment the component is used in."));
k.get({url:bootstrap.restUrl+"deploy/component/"+appState.component.id,handleAs:"json",load:function(c){(new b({propSheetDef:c.environmentPropSheetDef,readOnly:!c.security["Manage Properties"]})).placeAt(a.detailAttach)}})},showResourceProperties:function(){var a=this;this.addDescription(i18n("Define properties here to be given values on any resource this component will be deployed to."));k.get({url:bootstrap.restUrl+"deploy/component/"+appState.component.id,handleAs:"json",load:function(c){(new b({propSheetDefId:c.resourceRole.propSheetDef.id,
propSheetDef:c.resourceRole.propSheetDef,readOnly:!c.security["Manage Properties"]})).placeAt(a.detailAttach)}})},showVersionProperties:function(){var a=this;this.addDescription(i18n("Define properties here to be given values on each of the component's versions."));k.get({url:bootstrap.restUrl+"deploy/component/"+appState.component.id,handleAs:"json",load:function(c){(new b({propSheetDef:c.versionPropSheetDef,readOnly:!c.security["Manage Properties"]})).placeAt(a.detailAttach)}})},showConfigTemplates:function(){this.addDescription(i18n("Configuration file templates can be used to store template configuration files to be written and token-replaced during deployments."));
(new a({component:appState.component})).placeAt(this.detailAttach)},showVersionImportHistory:function(){(new q).placeAt(this.detailAttach)},formatVersionImportHistory:function(){var a=f.create("div",{innerHTML:i18n("Version Import History")});if(appState.component.integrationFailed){var b=new h({label:i18n("A version import failed. Check here for more details or use the Actions menu on the Components page to dismiss this error.")});f.place(b.domNode,a)}return a}})})},"js/webext/widgets/DomNode":function(){define("js/webext/widgets/DomNode",
["dojo/_base/declare","dijit/_WidgetBase","dijit/_TemplatedMixin"],function(l,m,k){return l([m,k],{templateString:'<div class="domNode">    <div dojoAttachPoint="domAttach"></div></div>'})})},"deploy/widgets/environment/EnvironmentCompliancy":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,js/webext/widgets/table/TreeTable,deploy/widgets/Formatters".split(","),function(l,m,k,j,f,e,d){return k("deploy.widgets.environment.EnvironmentCompliancy",
[m,l],{templateString:'<div class="environmentCompliancy"><div class="compliancyHeaderContainer inline-block" data-dojo-attach-point="containerAttach"><div class="compliancyHeader" data-dojo-attach-point="headerAttach"></div></div><div data-dojo-attach-point="treeAttach"></div></div>',postCreate:function(){this.inherited(arguments);var c=this;j.get({url:bootstrap.restUrl+"deploy/environment/"+appState.environment.id+"/compliancy",handleAs:"json",load:function(b){var a=b.compliancy.desiredCount,d=
b.compliancy.missingCount,b=b.compliancy.correctCount,e=document.createElement("div"),j=document.createElement("span");if(b<a)e.innerHTML=i18n("Noncompliant: "),f.add(c.containerAttach,"failed-state-color"),c.containerAttach.style.marginBottom="-2px",j.innerHTML=i18n("%s/%s (%s missing)",""+b,""+a,""+d),c.showTree();else if(0===a)e.innerHTML=i18n("No Desired Inventory"),f.add(c.containerAttach,"gray-state-color");else if(b===a)e.innerHTML=i18n("Compliant: "),f.add(c.containerAttach,"success-state-color"),
j.innerHTML=""+b+"/"+(""+a);e.appendChild(j);c.headerAttach.appendChild(e)}})},destroy:function(){this.inherited(arguments);this.tree&&this.tree.destroy()},showTree:function(){var c=[{name:i18n("Resource/Component"),formatter:function(b){return b.version?d.componentLinkFormatter(b.version.component):d.resourcePathFormatter(b)},field:"name"},{name:i18n("Version"),formatter:function(b){if(b.version)return d.versionLinkFormatter(b.version)}}];this.tree=new e({url:bootstrap.restUrl+"deploy/environment/"+
appState.environment.id+"/noncompliantResources",columns:c,serverSideProcessing:!1,orderField:"name",tableConfigKey:"environmentCompliancyList"});this.tree.placeAt(this.treeAttach)}})})},"dojo/_firebug/firebug":function(){define("../_base/kernel,require,../_base/html,../sniff,../_base/array,../_base/lang,../_base/event,../_base/unload".split(","),function(l,m,k,j){function f(a){P=a||!P;if(E)E.style.display=P?"block":"none"}function e(a,b,c,h){(a=window.open("","_firebug","status=0,menubar=0,resizable=1,top="+
b+",left="+a+",width="+c+",height="+h+",scrollbars=1,addressbar=0"))||alert("Firebug Lite could not open a pop-up window, most likely because of a blocker.\nEither enable pop-ups for this domain, or change the djConfig to popup=false.");d(a);b=a.document;b.write('<html style="height:100%;"><head><title>Firebug Lite</title></head>\n<body bgColor="#ccc" style="height:97%;" onresize="opener.onFirebugResize()">\n<div id="fb"></div></body></html>');b.close();return a}function d(b){var c=new Date;c.setTime(c.getTime()+
5184E6);var c=c.toUTCString(),d=b.document,h;b.innerWidth?h=function(){return{w:b.innerWidth,h:b.innerHeight}}:d.documentElement&&d.documentElement.clientWidth?h=function(){return{w:d.documentElement.clientWidth,h:d.documentElement.clientHeight}}:d.body&&(h=function(){return{w:d.body.clientWidth,h:d.body.clientHeight}});window.onFirebugResize=function(){a(h().h);clearInterval(b._firebugWin_resize);b._firebugWin_resize=setTimeout(function(){document.cookie="_firebugPosition="+[b.screenLeft,b.screenTop,
b.outerWidth||b.document.body.offsetWidth,b.outerHeight||b.document.body.offsetHeight].join()+"; expires="+c+"; path=/"},5E3)}}function c(){N=null;T.console&&T.console.clear();H=ca=Y=O=E=T=null;W=[];$=[];ea={}}function b(){var a=H.value;H.value="";h([">  ",a],"command");try{eval(a)}catch(b){}}function a(a){a=a?a-(25+H.offsetHeight+25+0.01*a)+"px":E.offsetHeight-25-H.offsetHeight+"px";O.style.top="25px";O.style.height=a;Y.style.height=a;Y.style.top="25px";ca.style.height=a;ca.style.top="25px";H.style.bottom=
0;l.addOnWindowUnload(c)}function h(a,b,c){O?o(a,b,c):W.push([a,b,c])}function q(){var a=W;W=[];for(var b=0;b<a.length;++b)o(a[b][0],a[b][1],a[b][2])}function o(a,b,c){var d=O.scrollTop+O.offsetHeight>=O.scrollHeight,c=c||n;c(a,b);if(d)O.scrollTop=O.scrollHeight-O.offsetHeight}function n(a,b){var c=O.ownerDocument.createElement("div");c.className="logRow"+(b?" logRow-"+b:"");c.innerHTML=a.join("");($.length?$[$.length-1]:O).appendChild(c)}function s(a,b){t(a,b);var c=O.ownerDocument.createElement("div");
c.className="logGroupBox";($.length?$[$.length-1]:O).appendChild(c);$.push(c)}function r(){$.pop()}function t(a,b){var c=[],d=a[0],e=0;"string"!=typeof d&&(d="",e=-1);for(var f=w(d),d=0;d<f.length;++d){var j=f[d];j&&"object"==typeof j?j.appender(a[++e],c):x(j,c)}f=[];j=[];for(d=e+1;d<a.length;++d)if(x(" ",c),e=a[d],void 0===e||null===e)v(e,c);else if("string"==typeof e)x(e,c);else if(e instanceof Date)x(e.toString(),c);else if(9==e.nodeType)x("[ XmlDoc ]",c);else{var o="_a"+F++;f.push(o);j.push(e);
e='<a id="'+o+'" href="javascript:void(0);">'+I(e)+"</a>";c.push(e+"")}h(c,b);for(d=0;d<f.length;d++)if(c=N.getElementById(f[d]))c.obj=j[d],T.console._connects.push(l.connect(c,"onclick",function(){console.openObjectInspector();try{M(this.obj)}catch(a){this.obj=a}Y.innerHTML="<pre>"+M(this.obj)+"</pre>"}))}function w(a){for(var b=[],c=/((^%|[^\\]%)(\d+)?(\.)([a-zA-Z]))|((^%|[^\\]%)([a-zA-Z]))/,d={s:x,d:y,i:y,f:A},h=c.exec(a);h;h=c.exec(a)){var e=h[8]?h[8]:h[5],e=e in d?d[e]:z,f=h[3]?parseInt(h[3]):
"."==h[4]?-1:0;b.push(a.substr(0,"%"==h[0][0]?h.index:h.index+1));b.push({appender:e,precision:f});a=a.substr(h.index+h[0].length)}b.push(a);return b}function u(a){return(""+a).replace(/[<>&"']/g,function(a){switch(a){case "<":return"&lt;";case ">":return"&gt;";case "&":return"&amp;";case "'":return"&#39;";case '"':return"&quot;"}return"?"})}function x(a,b){b.push(u(a+""))}function v(a,b){b.push('<span class="objectBox-null">',u(a+""),"</span>")}function y(a,b){b.push('<span class="objectBox-number">',
u(a+""),"</span>")}function A(a,b){b.push('<span class="objectBox-number">',u(a+""),"</span>")}function z(a,b){try{if(void 0===a)v("undefined",b);else if(null===a)v("null",b);else if("string"==typeof a)b.push('<span class="objectBox-string">&quot;',u(a+""),"&quot;</span>");else if("number"==typeof a)y(a,b);else if("function"==typeof a)b.push('<span class="objectBox-function">',I(a),"</span>");else if(1==a.nodeType)b.push('<span class="objectBox-selector">'),b.push('<span class="selectorTag">',u(a.nodeName.toLowerCase()),
"</span>"),a.id&&b.push('<span class="selectorId">#',u(a.id),"</span>"),a.className&&b.push('<span class="selectorClass">.',u(a.className),"</span>"),b.push("</span>");else if("object"==typeof a){var c=a+"",d=/\[object (.*?)\]/.exec(c);b.push('<span class="objectBox-object">',d?d[1]:c,"</span>")}else x(a,b)}catch(h){}}function B(a,b){if(1==a.nodeType){b.push('<div class="objectBox-element">','&lt;<span class="nodeTag">',a.nodeName.toLowerCase(),"</span>");for(var c=0;c<a.attributes.length;++c){var d=
a.attributes[c];d.specified&&b.push('&nbsp;<span class="nodeName">',d.nodeName.toLowerCase(),'</span>=&quot;<span class="nodeValue">',u(d.nodeValue),"</span>&quot;")}if(a.firstChild){b.push('&gt;</div><div class="nodeChildren">');for(c=a.firstChild;c;c=c.nextSibling)B(c,b);b.push('</div><div class="objectBox-element">&lt;/<span class="nodeTag">',a.nodeName.toLowerCase(),"&gt;</span></div>")}else b.push("/&gt;</div>")}else 3==a.nodeType&&b.push('<div class="nodeText">',u(a.nodeValue),"</div>")}function D(a,
b,c){document.all?a.attachEvent("on"+b,c):a.addEventListener(b,c,!1)}function G(a){var b=(new Date).getTime();if(b>la+200){var a=l.fixEvent(a),c=l.keys,d=a.keyCode;la=b;if(d==c.F12)f();else if((d==c.NUMPAD_ENTER||76==d)&&a.shiftKey&&(a.metaKey||a.ctrlKey))f(!0),H&&H.focus();else return;document.all?a.cancelBubble=!0:a.stopPropagation()}}function C(a){var c=l.keys;if(13==a.keyCode&&H.value){var a=H.value,c=(c=K("firebug_history"))?l.fromJson(c):[],d=l.indexOf(c,a);-1!=d&&c.splice(d,1);c.push(a);for(K("firebug_history",
l.toJson(c),30);c.length&&!K("firebug_history");)c.shift(),K("firebug_history",l.toJson(c),30);ia=null;Z=-1;b()}else if(27==a.keyCode)H.value="";else if(a.keyCode==c.UP_ARROW||a.charCode==c.UP_ARROW)S("older");else if(a.keyCode==c.DOWN_ARROW||a.charCode==c.DOWN_ARROW)S("newer");else if(a.keyCode==c.HOME||a.charCode==c.HOME)Z=1,S("older");else if(a.keyCode==c.END||a.charCode==c.END)Z=999999,S("newer")}function S(a){var b=K("firebug_history"),b=b?l.fromJson(b):[];if(b.length){if(null===ia)ia=H.value;
if(-1==Z)Z=b.length;if("older"==a)--Z,0>Z&&(Z=0);else if("newer"==a&&(++Z,Z>b.length))Z=b.length;Z==b.length?(H.value=ia,ia=null):H.value=b[Z]}}function K(a,b){var c=document.cookie;if(1==arguments.length)return(c=c.match(RegExp("(?:^|; )"+a+"=([^;]*)")))?decodeURIComponent(c[1]):void 0;c=new Date;c.setMonth(c.getMonth()+1);document.cookie=a+"="+encodeURIComponent(b)+(c.toUtcString?"; expires="+c.toUTCString():"")}function L(a){return a&&a instanceof Array||"array"==typeof a}function M(a,b,c,d){var c=
c||"",b=b||" \t",d=d||[],h;if(a&&1==a.nodeType)return b=[],B(a,b),b.join("");var e=",\n",f=0,j;j=0;for(h in a)j++;if(a instanceof Date)return b+a.toString()+e;var o;a:for(o in a)if(f++,f==j&&(e="\n"),!(a[o]===window||a[o]===document))if(null===a[o])c+=b+o+" : NULL"+e;else if(a[o]&&a[o].nodeType)1!=a[o].nodeType&&3==a[o].nodeType&&(c+=b+o+" : [ TextNode "+a[o].data+" ]"+e);else if("object"==typeof a[o]&&(a[o]instanceof String||a[o]instanceof Number||a[o]instanceof Boolean))c+=b+o+" : "+a[o]+","+e;
else if(a[o]instanceof Date)c+=b+o+" : "+a[o].toString()+e;else if("object"==typeof a[o]&&a[o]){h=0;for(var n;n=d[h];h++)if(a[o]===n){c+=b+o+" : RECURSION"+e;continue a}d.push(a[o]);h=L(a[o])?["[","]"]:["{","}"];c+=b+o+" : "+h[0]+"\n";c+=M(a[o],b+" \t","",d);c+=b+h[1]+e}else"undefined"==typeof a[o]?c+=b+o+" : undefined"+e:"toString"==o&&"function"==typeof a[o]?(h=a[o](),"string"==typeof h&&h.match(/function ?(.*?)\(/)&&(h=u(I(a[o]))),c+=b+o+" : "+h+e):c+=b+o+" : "+u(I(a[o]))+e;return c}function I(a){var b=
a instanceof Error;if(1==a.nodeType)return u("< "+a.tagName.toLowerCase()+' id="'+a.id+'" />');if(3==a.nodeType)return u('[TextNode: "'+a.nodeValue+'"]');var c=a&&(a.id||a.name||a.ObjectID||a.widgetId);if(!b&&c)return"{"+c+"}";var d=0;if(b)c="[ Error: "+(a.message||a.description||a)+" ]";else if(L(a))c="["+a.slice(0,4).join(","),4<a.length&&(c+=" ... ("+a.length+" items)"),c+="]";else if("function"==typeof a)(a=/function\s*([^\(]*)(\([^\)]*\))[^\{]*\{/.exec(a+""))?(a[1]||(a[1]="function"),c=a[1]+
a[2]):c="function()";else if("object"!=typeof a||"string"==typeof a)c=a+"";else{var c="{",h;for(h in a){d++;if(2<d)break;c+=h+":"+u(a[h])+"  "}c+="}"}return c}if(k=/Trident/.test(window.navigator.userAgent)){for(var J=["log","info","debug","warn","error"],U=0;U<J.length;U++){var Q=J[U];if(console[Q]&&!console[Q]._fake){var R="_"+J[U];console[R]=console[Q];console[Q]=function(){var a=R;return function(){console[a](Array.prototype.join.call(arguments," "))}}()}}try{console.clear()}catch(V){}}if(!j("ff")&&
!j("chrome")&&!j("safari")&&!k&&!window.firebug&&!("undefined"!=typeof console&&console.firebug||l.config.useCustomLogger||j("air"))){try{if(window!=window.parent){if(window.parent.console)window.console=window.parent.console;return}}catch(X){}var N=document,T=window,F=0,E=null,O=null,Y=null,H=null,P=!1,W=[],$=[],ea={},fa={},ca=null,ua,ha,ja=!1,ka=null;document.createElement("div");var aa,na;window.console={_connects:[],log:function(){t(arguments,"")},debug:function(){t(arguments,"debug")},info:function(){t(arguments,
"info")},warn:function(){t(arguments,"warning")},error:function(){t(arguments,"error")},assert:function(a,b){if(!a){for(var c=[],d=1;d<arguments.length;++d)c.push(arguments[d]);t(c.length?c:["Assertion Failure"],"error");throw b?b:"Assertion Failure";}},dir:function(a){a=M(a);a=a.replace(/\n/g,"<br />");a=a.replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;");h([a],"dir")},dirxml:function(a){var b=[];B(a,b);h(b,"dirxml")},group:function(){h(arguments,"group",s)},groupEnd:function(){h(arguments,"",r)},time:function(a){ea[a]=
(new Date).getTime()},timeEnd:function(a){if(a in ea){var b=(new Date).getTime()-ea[a];t([a+":",b+"ms"]);delete ea[a]}},count:function(a){fa[a]||(fa[a]=0);fa[a]++;t([a+": "+fa[a]])},trace:function(a){for(var a=a||3,b=console.trace.caller,c=0;c<a;c++){for(var d=[],h=0;h<b.arguments.length;h++)d.push(b.arguments[h]);b=b.caller}},profile:function(){this.warn(["profile() not supported."])},profileEnd:function(){},clear:function(){if(O)for(;O.childNodes.length;)l.destroy(O.firstChild);l.forEach(this._connects,
l.disconnect)},open:function(){f(!0)},close:function(){P&&f()},_restoreBorder:function(){if(aa)aa.style.border=na},openDomInspector:function(){ja=!0;O.style.display="none";ca.style.display="block";Y.style.display="none";document.body.style.cursor="pointer";ua=l.connect(document,"mousemove",function(a){if(ja&&!ka&&(ka=setTimeout(function(){ka=null},50),(a=a.target)&&aa!==a)){console._restoreBorder();var b=[];B(a,b);ca.innerHTML=b.join("");aa=a;na=aa.style.border;aa.style.border="#0000FF 1px solid"}});
setTimeout(function(){ha=l.connect(document,"click",function(){document.body.style.cursor="";ja=!ja;l.disconnect(ha)})},30)},_closeDomInspector:function(){document.body.style.cursor="";l.disconnect(ua);l.disconnect(ha);ja=!1;console._restoreBorder()},openConsole:function(){O.style.display="block";ca.style.display="none";Y.style.display="none";console._closeDomInspector()},openObjectInspector:function(){O.style.display="none";ca.style.display="none";Y.style.display="block";console._closeDomInspector()},
recss:function(){var a,b,c;b=document.getElementsByTagName("link");for(a=0;a<b.length;a++)if(c=b[a],0<=c.rel.toLowerCase().indexOf("stylesheet")&&c.href){var d=c.href.replace(/(&|%5C?)forceReload=\d+/,"");c.href=d+(0<=d.indexOf("?")?"&":"?")+"forceReload="+(new Date).valueOf()}}};l.addOnLoad(function(){if(!E){f(!0);if(l.config.popup){var b="100%",c=document.cookie.match(/(?:^|; )_firebugPosition=([^;]*)/),c=c?c[1].split(","):[2,2,320,480];T=e(c[0],c[1],c[2],c[3]);N=T.document;l.config.debugContainerId=
"fb";T.console=window.console;T.dojo=window.dojo}else N=document,b=(l.config.debugHeight||300)+"px";var d=N.createElement("link");d.href=m.toUrl("./firebug.css");d.rel="stylesheet";d.type="text/css";var h=N.getElementsByTagName("head");h&&(h=h[0]);h||(h=N.getElementsByTagName("html")[0]);j("ie")?window.setTimeout(function(){h.appendChild(d)},0):h.appendChild(d);l.config.debugContainerId&&(E=N.getElementById(l.config.debugContainerId));E||(E=N.createElement("div"),N.body.appendChild(E));E.className+=
" firebug";E.id="firebug";E.style.height=b;E.style.display=P?"block":"none";b=function(a,b,c,d){return'<li class="'+d+'"><a href="javascript:void(0);" onclick="console.'+c+'(); return false;" title="'+b+'">'+a+"</a></li>"};E.innerHTML='<div id="firebugToolbar">  <ul id="fireBugTabs" class="tabs">'+b("Clear","Remove All Console Logs","clear","")+b("ReCSS","Refresh CSS without reloading page","recss","")+b("Console","Show Console Logs","openConsole","gap")+b("DOM","Show DOM Inspector","openDomInspector",
"")+b("Object","Show Object Inspector","openObjectInspector","")+(l.config.popup?"":b("Close","Close the console","close","gap"))+'\t</ul></div><input type="text" id="firebugCommandLine" /><div id="firebugLog"></div><div id="objectLog" style="display:none;">Click on an object in the Log display</div><div id="domInspect" style="display:none;">Hover over HTML elements in the main page. Click to hold selection.</div>';N.getElementById("firebugToolbar");H=N.getElementById("firebugCommandLine");D(H,"keydown",
C);D(N,j("ie")||j("safari")?"keydown":"keypress",G);O=N.getElementById("firebugLog");Y=N.getElementById("objectLog");ca=N.getElementById("domInspect");N.getElementById("fireBugTabs");a();q()}});var la=(new Date).getTime(),Z=-1,ia=null;D(document,j("ie")||j("safari")?"keydown":"keypress",G);("true"==document.documentElement.getAttribute("debug")||l.config.isDebug)&&f(!0);l.addOnWindowUnload(function(){var a=document,b=j("ie")||j("safari")?"keydown":"keypress";document.all?a.detachEvent("on"+b,G):a.removeEventListener(b,
G,!1);window.onFirebugResize=null;window.console=null})}})},"deploy/widgets/workflow/activity/InstallMultipleComponentsActivity":function(){define(["dojo/_base/declare","deploy/widgets/workflow/activity/MultipleComponentsActivity"],function(l,m){return l("deploy.widgets.workflow.activity.InstallMultipleComponentsActivity",[m],{statusLabel:i18n("Use Versions Without Status"),getLabel:function(){var k="";if(this.initialized){var j=this.getChildChildData(),f;j&&j.children&&(f=j.children[0]);k+=f.name+
"\n"+i18n("Install Multiple Components")}else k+=i18n("Install Multiple Components");return k},getSelfChildData:function(k,j){return[{name:util.randomString(30),type:"componentEnvironmentIterator",tagId:k.tagId,runOnlyOnFirst:k.runOnlyOnFirst,children:[{name:util.randomString(30),type:"inventoryVersionDiff",status:k.status,children:[{name:k.name,type:"componentProcess",componentProcessName:k.componentProcessName,allowFailure:k.allowFailure,properties:j}]}]}]}})})},"js/util/blocker/_BlockerMixin":function(){define("js/util/blocker/_BlockerMixin",
["dojo/_base/declare","dojo/dom-style","dojo/_base/fx","dojo/_base/lang","dojo/dom-construct"],function(l,m,k,j,f){return l(null,{initBlocker:function(){this.fixDomPositionStyle();if(!this.blockerElement)this.blockerElement=f.create("div",{"class":"_blocker_mask"},this.domNode,"first")},fixDomPositionStyle:function(){var e=this,d=m.get(e.domNode,"position");if(d)window.clearInterval(e.blockerTimer),e.blockerTimer=null,"static"===d&&m.set(e.domNode,"position","relative");else if(!e.blockerTimer)e.blockerTimer=
window.setInterval(function(){e.fixDomPositionStyle()},50)},block:function(){this.initBlocker();m.set(this.blockerElement,"display","block");k.fadeIn({node:this.blockerElement,duration:400,end:0.6}).play()},unblock:function(){var e=this;e.blockerElement&&!e._beingDestroyed&&k.fadeOut({node:e.blockerElement,duration:400,onEnd:j.hitch(e,function(){m.set(e.blockerElement,"display","none")})}).play()},isBlocked:function(){var e=!1;this.blockerElement&&"block"===m.get(this.blockerElement,"display")&&(e=
!0);return e},destroy:function(){if(this.blockerTimer)window.clearInterval(this.blockerTimer),this.blockerTimer=null;this.blockerElement&&f.destroy(this.blockerElement);this.inherited(arguments)}})})},"dojo/colors":function(){define(["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],function(l,m,k,j){var f={};m.setObject("dojo.colors",f);var e=function(c,b,a){0>a&&++a;1<a&&--a;var d=6*a;return 1>d?c+(b-c)*d:1>2*a?b:2>3*a?c+6*(b-c)*(2/3-a):c};l.colorFromRgb=k.fromRgb=function(c,b){var a=
c.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(a){var d=a[2].split(/\s*,\s*/),f=d.length,a=a[1];if("rgb"==a&&3==f||"rgba"==a&&4==f){a=d[0];return"%"==a.charAt(a.length-1)?(a=j.map(d,function(a){return 2.56*parseFloat(a)}),4==f&&(a[3]=d[3]),k.fromArray(a,b)):k.fromArray(d,b)}if("hsl"==a&&3==f||"hsla"==a&&4==f){var a=(parseFloat(d[0])%360+360)%360/360,o=parseFloat(d[1])/100,n=parseFloat(d[2])/100,o=0.5>=n?n*(o+1):n+o-n*o,n=2*n-o,a=[256*e(n,o,a+1/3),256*e(n,o,a),256*e(n,o,a-1/3),1];4==
f&&(a[3]=d[3]);return k.fromArray(a,b)}}return null};var d=function(c,b,a){c=Number(c);return isNaN(c)?a:c<b?b:c>a?a:c};k.prototype.sanitize=function(){this.r=Math.round(d(this.r,0,255));this.g=Math.round(d(this.g,0,255));this.b=Math.round(d(this.b,0,255));this.a=d(this.a,0,1);return this};f.makeGrey=k.makeGrey=function(c,b){return k.fromArray([c,c,c,b])};m.mixin(k.named,{aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,
228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,
140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],
greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,
178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,
255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,
128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]});return k})},"dojo/_base/Deferred":function(){define("./kernel,../Deferred,../promise/Promise,../errors/CancelError,../has,./lang,../when".split(","),
function(l,m,k,j,f,e,d){var c=function(){},b=Object.freeze||function(){},a=l.Deferred=function(d){function q(a){if(s)throw Error("This deferred has already been resolved");n=a;s=!0;o()}function o(){for(var a;!a&&w;){var b=w;w=w.next;if(a=b.progress==c)s=!1;var d=r?b.error:b.resolved;f("config-useDeferredInstrumentation")&&r&&m.instrumentRejected&&m.instrumentRejected(n,!!d);if(d)try{var h=d(n);h&&"function"===typeof h.then?h.then(e.hitch(b.deferred,"resolve"),e.hitch(b.deferred,"reject"),e.hitch(b.deferred,
"progress")):(d=a&&void 0===h,a&&!d&&(r=h instanceof Error),b.deferred[d&&r?"reject":"resolve"](d?n:h))}catch(j){b.deferred.reject(j)}else r?b.deferred.reject(n):b.deferred.resolve(n)}}var n,s,r,l,w,u=this.promise=new k;this.resolve=this.callback=function(a){this.fired=0;this.results=[a,null];q(a)};this.reject=this.errback=function(a){r=!0;this.fired=1;f("config-useDeferredInstrumentation")&&m.instrumentRejected&&m.instrumentRejected(a,!!w);q(a);this.results=[null,a]};this.progress=function(a){for(var b=
w;b;){var c=b.progress;c&&c(a);b=b.next}};this.addCallbacks=function(a,b){this.then(a,b,c);return this};u.then=this.then=function(b,d,h){var e=h==c?this:new a(u.cancel),b={resolved:b,error:d,progress:h,deferred:e};w?l=l.next=b:w=l=b;s&&o();return e.promise};var x=this;u.cancel=this.cancel=function(){if(!s){var a=d&&d(x);if(!s)a instanceof Error||(a=new j(a)),a.log=!1,x.reject(a)}};b(u)};e.extend(a,{addCallback:function(a){return this.addCallbacks(e.hitch.apply(l,arguments))},addErrback:function(a){return this.addCallbacks(null,
e.hitch.apply(l,arguments))},addBoth:function(a){var b=e.hitch.apply(l,arguments);return this.addCallbacks(b,b)},fired:-1});a.when=l.when=d;return a})},"deploy/widgets/resourceTemplate/ResourceTemplateResourceTree":function(){define("dojo/_base/declare,deploy/widgets/resource/ResourceTree,dijit/form/Button,dojo/_base/array,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/json,dojo/on,deploy/widgets/Formatters,js/webext/widgets/Alert,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,deploy/widgets/resource/ResourceSelectList".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o){return l([m],{postCreate:function(){var a=this;this.xhrMethod="POST";this.serverSideProcessing=!0;this.url=bootstrap.restUrl+"resource/resourceTemplate/"+this.resourceTemplate.id+"/resources";this.inherited(arguments);this.grid.applyRowStyle=function(b,c){b.resourceTemplate.id!==a.resourceTemplate.id&&e.add(c,"readOnlyResourceRow")}},getChildUrl:function(a){return bootstrap.restUrl+"resource/resourceTemplate/"+this.resourceTemplate.id+"/resources/"+a.id+"/children"},
getOtherColumns:function(){return[{name:i18n("Description"),formatter:function(a){var b=a.description?a.description.escape():"";a.isRoot&&a.resourceTemplate&&(b=a.resourceTemplate.description?a.resourceTemplate.description.escape():"");return d.create("div",{innerHTML:util.applyBTD(b),title:b,alt:b,className:"resource-template-description one-line-overflow-text-click-to-show"})},orderField:"description",filterField:"description",filterType:"text",getRawValue:function(a){return a.description}}]},addTopButtons:function(){},
addEditActions:function(a,b){if(!a.isRoot&&a.resourceTemplate.id===this.resourceTemplate.id)return this.inherited(arguments)},getRunnableActions:function(a){var b=this,c=[];!a.isRoot&&a.resourceTemplate.id===b.resourceTemplate.id&&!a.prototype&&a.role&&"AGENT_PLACEHOLDER"!==a.role.specialType&&c.push({label:i18n("Convert to Prototype"),onClick:function(){b.showConvertToPrototypeDialog(a)}});return c},getDeleteActions:function(a,b){if(!a.isRoot&&a.resourceTemplate.id===this.resourceTemplate.id)return this.inherited(arguments)},
isSelectable:function(a){return!a.isRoot},createEditResourceForm:function(a){a.forceSecurityInheritence=!0;a.resourceTemplate=this.resourceTemplate;return this.inherited(arguments)},getCreateActions:function(a){var b=this,c=[];c.push({label:i18n("Add Group"),onClick:function(){b.showNewResourceDialog(a)}});a.hasAgent?(c.push({label:i18n("Add Component"),onClick:function(){b.showNewResourceDialog(a,"component")}}),c.push({label:i18n("Add Component Tag"),onClick:function(){b.showNewResourceDialog(a,
"componentTag")}})):c.push({label:i18n("Add Agent Prototype"),onClick:function(){b.showNewResourceDialog(a,"agentPlaceholder")}});return c},showConvertToPrototypeDialog:function(a){var b=this;b.grid.block();f.get({url:bootstrap.restUrl+"resource/resource/"+a.id+"/prototypeCheck",handleAs:"json",load:function(c){b.grid.unblock();if(c&&0<c.length){var d=[i18n("Converting %s into a resource template will delete all other resources with the same role in the same folder of this template.",a.name.escape()),
"",i18n("The following resources will be deleted:"),""];j.forEach(c,function(a){d.push(a.name.escape())});new o({messages:d,action:function(){b.promoteToPrototype(a)}})}else b.promoteToPrototype(a)},error:function(a){b.grid.unblock();new h({message:util.escape(a.responseText)})}})},promoteToPrototype:function(a){var b=this;b.grid.block();f.put({url:bootstrap.restUrl+"resource/resource/"+a.id+"/convertToPrototype",load:function(){b.grid.unblock();b.grid.refreshSiblingsForItem(a)},error:function(a){b.grid.unblock();
new h({message:util.escape(a.responseText)})}})}})})},"js/webext/widgets/Config":function(){define("js/webext/widgets/Config",["dojo/_base/declare","dojo/_base/array"],function(l,m){return l([],{data:null,constructor:function(k){this.setData(k)},setData:function(k){(this.data=k?k:this.defaultRoleConfig)&&this.data.tabSets&&m.forEach(this.data.tabSets,function(j){m.forEach(j.tabs,function(f){f.tabSet=j;f.hashPattern=j.id+"/"+f.id})})},getTabSet:function(k){if(!k)k=this.data.defaultTabSet;var j=null;
m.forEach(this.data.tabSets,function(f){f.id===k&&(j=f)});return j},getTab:function(k,j){var f=null,e=this.getTabSet(k);if(null!==e){if(!j)j=e.defaultTab;m.forEach(e.tabs,function(d){d.id===j&&(f=d)})}return f},getBreadcrumb:function(k){var j=null;m.forEach(this.data.breadcrumbItems,function(f){f.id===k&&(j=f)});return j},getProperty:function(k){return this.data[k]},getFunctionResult:function(k){var j=null,k=this.data[k];void 0!==k&&(j=k());return j}})})},"deploy/widgets/environment/EditEnvironment":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/dom-construct,js/webext/widgets/Alert,js/webext/widgets/ColumnForm,js/webext/widgets/DialogMultiSelect,js/webext/widgets/RestSelect,deploy/widgets/Formatters,deploy/widgets/security/TeamSelector,deploy/widgets/resource/ResourceSelector,deploy/widgets/environment/EditLandscaperEnvironmentWizardPane,deploy/widgets/environment/EditEnvironmentBlueprintWizardPane".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s){return j([m,l],{templateString:'<div class="editEnvironment">  <div data-dojo-attach-point="formAttach"></div></div>',templatePropertyNames:[],templatePropertyPatterns:[],postCreate:function(){this.inherited(arguments);var a=this;this.existingValues={color:"#ffffff"};this.environment?this.existingValues=this.environment:this.source?(f.get({url:bootstrap.restUrl+"deploy/environment/"+this.source.id,handleAs:"json",sync:!0,load:function(b){a.source=b}}),this.existingValues=
this.source):f.get({url:bootstrap.restUrl+"security/teamsWithCreateAction/Environment",handleAs:"json",sync:!0,load:function(b){a.existingValues.extendedSecurity={teams:b}}});this.form=new c({submitUrl:bootstrap.restUrl+"deploy/environment",readOnly:a.readOnly,showButtons:this.environment||this.source,postSubmit:function(){void 0!==a.callback&&a.callback()},addData:function(b){b.applicationId=a.application.id;if(a.environment)b.existingId=a.environment.id;if(a.source)b.copyId=a.source.id;"SYSTEM_DEFAULT"===
b.snapshotLockType&&delete b.snapshotLockType;b.teamMappings=a.teamSelector.teams},onError:function(a){a.responseText&&new d({message:util.escape(a.responseText)})},onCancel:function(){void 0!==a.callback&&a.callback()},validateFields:function(b){var c=[];k.forEach(a.templatePropertyNames,function(d){var h=a.templatePropertyNames[d],d=a.templatePropertyPatterns[d],e=b[h];d&&e&&(a.validatePattern(e,d)||c.push(i18n("Value for property %s does not follow the required pattern.",h)))});b.historyCleanupDaysToKeep&&
(/^[0-9]+$/.test(b.historyCleanupDaysToKeep)||c.push(i18n("The Days to Keep Process History must be an integer, 0 or greater.")));return c}});this.form.addField({name:"name",label:i18n("Name"),required:!0,type:"Text",value:this.source?void 0:this.existingValues.name});this.form.addField({name:"description",label:i18n("Description"),type:"Text",value:this.existingValues.description});!this.environment&&!this.source&&(a.form.addField({name:"_templateInsert",type:"Invisible"}),this.form.addField({type:"Invisible",
name:"_blueprintInsert"}),this._addBlueprintField(),this.form.addField({type:"Invisible",name:"_baseResourceInsert"}));var b=[];if(a.existingValues&&a.existingValues.extendedSecurity&&a.existingValues.extendedSecurity.teams)b=a.existingValues.extendedSecurity.teams;a.teamSelector=new q({resourceRoleType:"Environment",noneLabel:i18n("Standard Environment"),teams:b});this.form.addField({name:"teams",label:i18n("Teams"),type:"Text",widget:a.teamSelector});a.form.addField({name:"_settingsInsert",type:"Invisible"});
a.form.addField({name:"_templateProperties",type:"Invisible"});a.application.templateId?a.addTemplateFields():a.addSettingsFields();this.form.placeAt(this.formAttach)},_showSnapshotLockType:function(a){var b={ALL:i18n("Component Versions and Configuration"),VERSIONS:i18n("Only Component Versions"),CONFIGURATION:i18n("Only Configuration")};this.form.addField({name:"snapshotLockType",label:i18n("Snapshot Lock Type"),readOnly:!!a,description:i18n("This setting determines which contents of a snapshot are locked when it is included in a deployment to this environment. Anything left unlocked can still be changed after the snapshot has been deployed."),
required:!0,value:this.existingValues.snapshotLockType||"SYSTEM_DEFAULT",type:"Select",allowedValues:[{label:i18n("System Default (%s)",b[config.data.systemConfiguration.defaultSnapshotLockType]),value:"SYSTEM_DEFAULT"},{label:b.ALL,value:"ALL"},{label:b.VERSIONS,value:"VERSIONS"},{label:b.CONFIGURATION,value:"CONFIGURATION"}]},"_snapshotLockTypeInsert")},_addBlueprintField:function(){var a=this;this.form.addField({name:"blueprintId",label:i18n("Blueprint"),type:"TableFilterSelect",url:bootstrap.restUrl+
"deploy/application/"+this.application.id+"/blueprints/all",storeType:"Memory",allowNone:!0,formatDropDownLabel:h.environmentBlueprintDropDownFormatter,onChange:function(b,c){b?"landscaper"===c.source?a._handleLandscaperBlueprints(b,c):a._handleUcdBlueprints(b):(this.value=void 0,a._removeBlueprintFields())}},"_blueprintInsert")},_removeBlueprintFields:function(){this.form.hasField("baseResourceId")&&this.form.removeField("baseResourceId");this.form.onSubmit=void 0;if(this.blueprintWizardPane)this.dialog.wizard.removeChild(this.blueprintWizardPane),
this.blueprintWizardPane.destroyRecursive(),this.blueprintWizardPane=null;this.dialog.wizard.selectedChildWidget.attachDoneFunction();this.dialog.wizard.selectedChildWidget.isLastChild=!0;this.dialog.wizard.doneButton.set("label","Save");this.dialog.wizard.resize();this.dialog.wizard.selectedChildWidget.refreshWizardIcons()},_handleLandscaperBlueprints:function(a,b){this.form.hasField("baseResourceId")&&this.form.removeField("baseResourceId");if(this.blueprintWizardPane)this.dialog.wizard.removeChild(this.blueprintWizardPane),
this.blueprintWizardPane.destroyRecursive(),this.blueprintWizardPane=null;var c=this.form.getData();this.blueprintWizardPane=(new n({environmentData:c,blueprint:b,dialog:this.dialog,application:this.application})).placeAt(this.dialog.wizard);this.dialog.wizard.selectedChildWidget.detachDoneFunction();this.dialog.wizard.selectedChildWidget.isLastChild=!1;this.dialog.wizard.doneButton.set("label","Create");this.dialog.wizard.resize();this.dialog.wizard.selectedChildWidget.refreshWizardIcons()},_handleUcdBlueprints:function(a){var b=
new o({url:bootstrap.restUrl+"resource/resource/creatableFolderTree",childUrlBase:bootstrap.restUrl+"resource/resource/creatableFolderTreeChildren/",tableConfigKey:null});this.form.hasField("baseResourceId")||this.form.addField({name:"baseResourceId",label:i18n("Base Resource"),widget:b,required:!0,description:i18n("Choose a resource node in which the resources for this environment should be created.")},"_baseResourceInsert");if(this.blueprintWizardPane)this.dialog.wizard.removeChild(this.blueprintWizardPane),
this.blueprintWizardPane.destroyRecursive(),this.blueprintWizardPane=null;var c=[];f.get({url:bootstrap.restUrl+"resource/resourceTemplate/"+a+"/requiredValues",sync:!0,handleAs:"json",load:function(a){c=a}});c.length?(b=this.form.getData(),this.blueprintWizardPane=(new s({environmentData:b,blueprintId:a,dialog:this.dialog,requiredValues:c,application:this.application})).placeAt(this.dialog.wizard),this.dialog.wizard.selectedChildWidget.detachDoneFunction(),this.dialog.wizard.selectedChildWidget.isLastChild=
!1,this.dialog.wizard.doneButton.set("label","Create")):(this.dialog.wizard.selectedChildWidget.attachDoneFunction(),this.dialog.wizard.selectedChildWidget.isLastChild=!0,this.dialog.wizard.doneButton.set("label","Save"));this.dialog.wizard.selectedChildWidget.refreshWizardIcons();this.dialog.wizard.resize()},showCleanupFields:function(a){var b=this.existingValues.cleanupDaysToKeep;b||(b=0);var c=this.existingValues.cleanupCountToKeep;c||(c=0);this.form.addField({name:"cleanupDaysToKeep",label:i18n("Days to Retain Versions"),
readOnly:!!a,description:i18n("The number of days to retain component versions.  To retain component versions indefinitely, enter - 1. To use the system default retention value, enter 0."),value:b,required:!0,textDir:"ltr",type:"Text"},"enableProcessHistoryCleanup");this.form.addField({name:"cleanupCountToKeep",label:i18n("Number of Versions to Retain"),readOnly:!!a,description:i18n("The number of versions to retain for each component. To retain all component versions, enter -1. To use the system default retention value, enter 0."),
value:c,required:!0,textDir:"ltr",type:"Text"},"enableProcessHistoryCleanup")},showHistoryCleanupFields:function(a){var b=this,c=this.existingValues.enableProcessHistoryCleanup;this.form.addField({name:"enableProcessHistoryCleanup",label:i18n("Use Deployment History Cleanup"),description:i18n("Select to use deployment history cleanup for this environment. If selected, the deployment history records in this environment are deleted according to the values that you set."),value:c,textDir:"ltr",type:"Checkbox",
readOnly:!!a,onChange:function(c){b.showUseSystemDefaultDays(c);c||b.showHistoryCleanupDaysToKeep(c,a)}});c&&b.showUseSystemDefaultDays(!0,a)},showUseSystemDefaultDays:function(a,b){var c=this;if(a){var d=this.existingValues.useSystemDefaultDays;this.form.addField({name:"useSystemDefaultDays",label:i18n("Use Default Deployment History Retention"),description:i18n("Select to retain the deployment history for the number of days that the administrator set."),value:d,textDir:"ltr",type:"Checkbox",readOnly:!!b,
onChange:function(a){c.showHistoryCleanupDaysToKeep(!a,b)}});d||c.showHistoryCleanupDaysToKeep(!0,b)}else this.form.removeField("useSystemDefaultDays")},showHistoryCleanupDaysToKeep:function(a,b){if(a){var c=this.existingValues.historyCleanupDaysToKeep;this.form.addField({name:"historyCleanupDaysToKeep",label:i18n("Days to Retain Deployment History "),description:i18n("The number of days to retain application deployment history. Valid range is 0 or greater"),value:c,required:!0,textDir:"ltr",type:"Number",
readOnly:!!b})}else this.form.hasField("historyCleanupDaysToKeep")&&this.form.removeField("historyCleanupDaysToKeep")},addTemplateFields:function(){var b=this,c=!1,d=config.data.permissions[security.system.createEnvironments],h=config.data.permissions[security.system.createEnvironmentsFromTemplate],e=b.environment&&b.environment.template||b.environmentTemplate;!b.environment&&!b.source&&h?(h=new a({restUrl:bootstrap.restUrl+"deploy/applicationTemplate/"+b.application.templateId+"/"+b.application.templateVersion+
"/environmentTemplates",onChange:function(a,d){d?(b.form.hasField("blueprintId")&&(b.form.removeField("blueprintId"),b._removeBlueprintFields()),b.selectTemplate(d)):(c?(b.resetExistingValues(),b.removeTemplatePropDefFields(),b.removeSettingsFields(),b._addBlueprintField()):c=!0,b.addSettingsFields())}}),b.form.addField({name:"templateId",label:i18n("Environment Template"),description:i18n("The template to use for this environment"),required:!d,widget:h},"_templateInsert")):e?(b.form.addField({name:"templateName",
label:i18n("Template"),description:i18n("The template to use for this environment"),readOnly:!0,type:"Text",value:b.existingValues.template.name},"_templateInsert"),b.selectTemplate(b.existingValues.template)):(b.removeTemplatePropDefFields(),b.addSettingsFields())},selectTemplate:function(a){var b=this;b.removeTemplatePropDefFields();a&&f.get({url:bootstrap.restUrl+"deploy/environmentTemplate/"+a.id+"/"+a.version,handleAs:"json",load:function(a){b.existingValues.color=a.color;b.existingValues.cleanupCountToKeep=
a.cleanupCountToKeep;b.existingValues.cleanupDaysToKeep=a.cleanupDaysToKeep;b.existingValues.historyCleanupDaysToKeep=a.historyCleanupDaysToKeep;b.existingValues.lockSnapshots=a.lockSnapshots;b.existingValues.snapshotLockType=a.snapshotLockType;b.existingValues.requireApprovals=a.requireApprovals;b.existingValues.noSelfApprovals=a.noSelfApprovals;b.existingValues.exemptProcesses=a.exemptProcesses;b.addTemplatePropDefFields(a);b.addSettingsFields(a)}})},addTemplatePropDefFields:function(a){var b=this;
k.forEach(a.propDefs,function(a){var c=util.clone(a);c.name="template/"+a.name;a.pattern&&(c.description+=i18n(" Required Pattern: %s",a.pattern));util.populatePropValueAndLabel(b.existingValues.properties,c);b.form.addField(c,"_templateProperties");b.templatePropertyNames.push(c.name);b.templatePropertyPatterns.push(c.pattern)})},removeTemplatePropDefFields:function(){var a=this;k.forEach(a.templatePropertyNames,function(b){a.form.removeField(b)})},removeSettingsFields:function(){this.form.hasField("requireApprovals")&&
this.form.removeField("requireApprovals");this.form.hasField("noSelfApprovals")&&this.form.removeField("noSelfApprovals");this.form.hasField("exemptProcesses")&&this.form.removeField("exemptProcesses");this.form.hasField("color")&&this.form.removeField("color");this.form.hasField("_snapshotLockTypeInsert")&&this.form.removeField("_snapshotLockTypeInsert");this.form.hasField("inheritSystemCleanup")&&this.form.removeField("inheritSystemCleanup");this.form.hasField("cleanupDaysToKeep")&&this.form.removeField("cleanupDaysToKeep");
this.form.hasField("cleanupCountToKeep")&&this.form.removeField("cleanupCountToKeep");this.form.hasField("historyCleanupDaysToKeep")&&this.form.removeField("historyCleanupDaysToKeep");this.form.hasField("snapshotLockType")&&this.form.removeField("snapshotLockType");this.form.hasField("lockSnapshots")&&this.form.removeField("lockSnapshots")},resetExistingValues:function(){var a=this.existingValues.extendedSecurity;this.existingValues=null;this.existingValues={color:"#ffffff"};this.existingValues.extendedSecurity=
a},addSettingsFields:function(a){var c=this,d=c.environment||c.source||a;c.removeSettingsFields();c.form.addField({name:"requireApprovals",label:i18n("Require Approvals"),readOnly:!!a,type:"Checkbox",description:i18n("When this is checked, no versions or snapshots can be deployed to this environment without being approved according to the approval process for this environment."),onChange:function(b){c.showNoSelfApprovalField(b,a)},value:c.existingValues.requireApprovals});c.existingValues.requireApprovals&&
c.showNoSelfApprovalField(!0,a);var h=new b({url:bootstrap.restUrl+"deploy/application/"+c.application.id+"/processes/true",value:c.existingValues.exemptProcesses,getLabel:function(a){return a.name.escape()},getValue:function(a){return a.id},disabled:!!a,noSelectionsLabel:i18n("None")});c.form.addField({name:"exemptProcesses",label:i18n("Exempt Processes"),widget:h,description:i18n("Any processes selected here will be exempt from approval, even when the environment normally requires it.")});c.form.addField({name:"lockSnapshots",
label:i18n("Lock Snapshots"),readOnly:!!a,type:"Checkbox",description:i18n("When this is checked, all snapshots used in a request to this deployment will be locked to prevent further changes."),value:c.existingValues.lockSnapshots,onChange:function(b){b?c._showSnapshotLockType(a):c.form.removeField("snapshotLockType")}});c.form.addField({type:"Invisible",name:"_snapshotLockTypeInsert"});c.existingValues.lockSnapshots&&c._showSnapshotLockType(a);c.form.addField({name:"color",label:i18n("Color"),readOnly:!!a,
type:"ColorPicker",value:c.existingValues.color});d=!d||0===c.existingValues.cleanupDaysToKeep&&0===c.existingValues.cleanupCountToKeep;c.form.addField({name:"inheritSystemCleanup",label:i18n("Use Default Component Cleanup Settings"),readOnly:!!a,description:i18n("When selected, this environment uses the component version cleanup  settings for the system or component settings, if available.  Clear to provide values for all components in this environment."),type:"Checkbox",onChange:function(b){b?(c.form.hasField("cleanupDaysToKeep")&&
(c.form.removeField("cleanupDaysToKeep"),c.form.removeField("cleanupCountToKeep")),c.form.validateFields=function(){return[]}):c.showCleanupFields(a)},value:d});c.showHistoryCleanupFields(a);d||this.showCleanupFields(a)},showNoSelfApprovalField:function(a,b){a?this.form.hasField("noSelfApprovals")||this.form.addField({name:"noSelfApprovals",label:i18n("No Self-Approvals"),readOnly:!!b,type:"Checkbox",description:i18n("When this option is selected, users that submit deployment requests cannot approve their own requests."),
value:this.existingValues.noSelfApprovals},"exemptProcesses"):this.form.hasField("noSelfApprovals")&&this.form.removeField("noSelfApprovals")},submitForm:function(){this.form.submitForm()}})})},"deploy/widgets/workflow/activity/SetStatusActivity":function(){define(["dojo/_base/declare","dojo/on","deploy/widgets/workflow/activity/BaseActivity"],function(l,m,k){return l("deploy.widgets.workflow.activity.SetStatusActivity",[k],{postCreate:function(){this.inherited(arguments);if(!this.initialized)this.data.name=
util.randomString(30),this.editProperties()},getLabel:function(){var j="",f="...";"FAILURE"===this.data.status?f=i18n("Failure"):"SUCCESS"===this.data.status&&(f=i18n("Success"));return j+=i18n("Set Status: %s",f)},editProperties:function(j){var f=this,e=f.createPropertyDialog(),d=f.createPropertyForm({dialog:e,onSubmit:function(c){j&&j();f.initialized=!0;f.data.status=c.status;f.updateLabel();e.hide();d.destroy();e.destroy()},readOnly:f.readOnly});d.addField({name:"status",label:i18n("Status"),required:!0,
type:"Select",allowedValues:[{label:i18n("Success"),value:"SUCCESS"},{label:i18n("Failure"),value:"FAILURE"}],value:f.data.status});d.placeAt(e.containerNode);e.show()}})})},"url:dijit/templates/MenuItem.html":'<tr class="dijitReset dijitMenuItem" data-dojo-attach-point="focusNode" role="menuitem" tabIndex="-1">\n\t<td class="dijitReset dijitMenuItemIconCell" role="presentation">\n\t\t<img src="${_blankGif}" alt="" class="dijitIcon dijitMenuItemIcon" data-dojo-attach-point="iconNode"/>\n\t</td>\n\t<td class="dijitReset dijitMenuItemLabel" colspan="2" data-dojo-attach-point="containerNode"></td>\n\t<td class="dijitReset dijitMenuItemAccelKey" style="display: none" data-dojo-attach-point="accelKeyNode"></td>\n\t<td class="dijitReset dijitMenuArrowCell" role="presentation">\n\t\t<div data-dojo-attach-point="arrowWrapper" style="visibility: hidden">\n\t\t\t<img src="${_blankGif}" alt="" class="dijitMenuExpand"/>\n\t\t\t<span class="dijitMenuExpandA11y">+</span>\n\t\t</div>\n\t</td>\n</tr>\n',
"dijit/form/TextBox":function(){require({cache:{"url:dijit/form/templates/TextBox.html":'<div class="dijit dijitReset dijitInline dijitLeft" id="widget_${id}" role="presentation"\n\t><div class="dijitReset dijitInputField dijitInputContainer"\n\t\t><input class="dijitReset dijitInputInner" data-dojo-attach-point=\'textbox,focusNode\' autocomplete="off"\n\t\t\t${!nameAttrSetting} type=\'${type}\'\n\t/></div\n></div>\n'}});define("dijit/form/TextBox","dojo/_base/declare,dojo/dom-construct,dojo/dom-style,dojo/_base/kernel,dojo/_base/lang,dojo/sniff,./_FormValueWidget,./_TextBoxMixin,dojo/text!./templates/TextBox.html,../main".split(","),
function(l,m,k,j,f,e,d,c,b,a){l=l("dijit.form.TextBox",[d,c],{templateString:b,_singleNodeTemplate:'<input class="dijit dijitReset dijitLeft dijitInputField" data-dojo-attach-point="textbox,focusNode" autocomplete="off" type="${type}" ${!nameAttrSetting} />',_buttonInputDisabled:e("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var a=this.type.toLowerCase();if(this.templateString&&"input"==this.templateString.toLowerCase()||("hidden"==a||"file"==a)&&this.templateString==
this.constructor.prototype.templateString)this.templateString=this._singleNodeTemplate;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);9>e("ie")&&this.defer(function(){try{var a=k.getComputedStyle(this.domNode);if(a){var b=a.fontFamily;if(b){var c=this.domNode.getElementsByTagName("INPUT");if(c)for(a=0;a<c.length;a++)c[a].style.fontFamily=b}}}catch(d){}})},_onInput:function(a){this.inherited(arguments);this.intermediateChanges&&this.defer(function(){this._handleOnChange(this.get("value"),
!1)})},_setPlaceHolderAttr:function(a){this._set("placeHolder",a);if(!this._phspan)this._attachPoints.push("_phspan"),this._phspan=m.create("span",{onmousedown:function(a){a.preventDefault()},className:"dijitPlaceHolder dijitInputField"},this.textbox,"after");this._phspan.innerHTML="";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(a));this._updatePlaceHolder()},_updatePlaceHolder:function(){if(this._phspan)this._phspan.style.display=this.placeHolder&&!this.focused&&!this.textbox.value?
"":"none"},_setValueAttr:function(a,b,c){this.inherited(arguments);this._updatePlaceHolder()},getDisplayedValue:function(){j.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0");return this.get("displayedValue")},setDisplayedValue:function(a){j.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",a)},_onBlur:function(a){if(!this.disabled&&(this.inherited(arguments),
this._updatePlaceHolder(),e("mozilla")&&this.selectOnClick))this.textbox.selectionStart=this.textbox.selectionEnd=void 0},_onFocus:function(a){!this.disabled&&!this.readOnly&&(this.inherited(arguments),this._updatePlaceHolder())}});if(e("ie"))l.prototype._isTextSelected=function(){var a=this.ownerDocument.selection.createRange();return a.parentElement()==this.textbox&&0<a.text.length},a._setSelectionRange=c._setSelectionRange=function(a,b,c){a.createTextRange&&(a=a.createTextRange(),a.collapse(!0),
a.moveStart("character",-99999),a.moveStart("character",b),a.moveEnd("character",c-b),a.select())};return l})},"deploy/widgets/security/role/RoleManager":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,deploy/widgets/security/role/EditRole,deploy/widgets/security/role/RoleResourceTypeManager,dojo/dom-construct,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/TwoPaneListManager".split(","),function(l,m,k,j,f,e,d,c,b){return m([b],{postCreate:function(){this.overrideListWidth=
"190px";this.inherited(arguments);this.showList("NONE")},showList:function(a){var b=this;this.defaultSelectionId=a;k.get({url:bootstrap.baseUrl+"security/role",handleAs:"json",load:function(a){var c=0;l.forEach(a,function(a){c++;var d=document.createElement("div");d.style.position="relative";var f=document.createElement("div");f.className="twoPaneEntryLabel";f.innerHTML="Administrator"===a.name.escape()?i18n(a.name.escape()):a.name.escape();var j=document.createElement("div");j.className="twoPaneActionIcons";
var n=document.createElement("div");n.className="inlineBlock vAlignMiddle cursorPointer margin2Left iconPencil";n.onclick=function(c){util.cancelBubble(c);b.showEditRole(a)};j.appendChild(n);n=document.createElement("div");n.className="inlineBlock vAlignMiddle cursorPointer margin2Left iconMinus";n.onclick=function(c){util.cancelBubble(c);b.getProcessesRequiringRole(a)};j.appendChild(n);d.appendChild(j);e.place(f,j,"after");b.addEntry({id:a.id,domNode:d,action:function(){b.selectEntry(a)}})});var a=
document.createElement("div"),d=document.createElement("div");d.className="vAlignMiddle inlineBlock iconPlus";a.appendChild(d);d=document.createElement("div");d.innerHTML=i18n("Create Role");d.className="vAlignMiddle inlineBlock margin5Left";a.appendChild(d);b.addEntry({id:null,domNode:a,action:function(){b.showEditRole()}})}})},refresh:function(a){var b=a;if(!a&&this.selectedEntry)b=this.selectedEntry.id;this.clearDetail();this.clearList();this.showList(b)},selectEntry:function(a){a=new f({role:a,
overrideListWidth:"165px"});a.placeAt(this.detailAttach);this.registerDetailWidget(a)},showEditRole:function(a){var b=this,c=new d({title:a?i18n("Edit Role"):i18n("Create User Role"),closable:!0,draggable:!0});(new j({role:a,callback:function(a,d){a&&(c.hide(),c.destroy(),b.refresh(d))}})).placeAt(c.containerNode);c.show();a||this.clearSelection()},confirmDelete:function(a,b){var d=this;new c({message:b,forceRawMessages:!0,action:function(){k.del({url:bootstrap.baseUrl+"security/role/"+a.id,handleAs:"json",
load:function(){d.refresh()}})}})},getProcessesRequiringRole:function(a){var b=this,c=i18n("Are you sure you want to delete %s? This will permanently delete it from the system.",util.escape(a.name));k.get({url:bootstrap.restUrl+"security/role/"+a.id+"/processes",handleAs:"json",load:function(d){if(d.componentProcesses&&0<d.componentProcesses.length){var e=i18n("The following component processes require this role in order to run:")+"<br/>";l.forEach(d.componentProcesses,function(a){e=e+util.escape(a)+
"<br/>"});c=e+"<br/>"+c}if(d.applicationProcesses&&0<d.applicationProcesses.length){var f=i18n("The following application processes require this role in order to run:")+"<br/>";l.forEach(d.applicationProcesses,function(a){f=f+util.escape(a)+"<br/>"});c=f+"<br/>"+c}b.confirmDelete(a,c)},error:function(){c+="<br/>"+i18n("It is unknown if the following role is required by any processes");b.confirmDelete(a,c)}})}})})},"js/webext/widgets/PopDown":function(){define("js/webext/widgets/PopDown","dojo/_base/declare,dojo/_base/lang,dojo/dom-class,dojo/on,dijit/_TemplatedMixin,dijit/_WidgetBase,dojox/html/entities".split(","),
function(l,m,k,j,f,e,d){return l([e,f],{templateString:'<div class="popDown popDownCollapsed">    <div data-dojo-attach-point="headerAttach" class="popDownHeader"></div>    <div data-dojo-attach-point="domAttach" class="popDownContent"></div></div>',headerAttach:null,domAttach:null,collapsed:!0,label:"",labelHTML:"",postCreate:function(){this.inherited(arguments);if(this.label)this.headerAttach.innerHTML=d.encode(this.label);else if(this.labelHTML)this.headerAttach.innerHTML=this.innerHTML;j(this.headerAttach,
"click",m.hitch(this,this.toggle))},collapse:function(){this.set("collapsed",!0)},expand:function(){this.set("collapsed",!1)},toggle:function(){this.set("collapsed",!this.get("collapsed"))},_setCollapsedAttr:function(c){this.collapsed=!!c;k.toggle(this.domNode,"popDownCollapsed",this.collapsed)}})})},"deploy/widgets/application/wizard/ApplicationWizard":function(){define("idx/widget/ResizeHandle,dojo/_base/declare,dojox/widget/WizardPane,dojo/dom-class,dojo/on,dojo/query,dojo/_base/array,dojo/_base/lang,dojo/request/xhr,dojo/Stateful,dojo/store/Memory,dojo/store/Observable,deploy/widgets/application/EditApplication,deploy/widgets/application/wizard/ComponentPage,deploy/widgets/application/wizard/EnvironmentPage,deploy/widgets/application/wizard/AgentMappingPage,deploy/widgets/wizard/Wizard,js/webext/widgets/Alert,js/util/blocker/_BlockerMixin".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u){return m([t,u],{doLayout:!1,hideDisabled:!0,cancelFunction:function(){this._cleanup()},saveDraftButtonLabel:i18n("Save as Draft"),wizardPaneHeight:500,postCreate:function(){var a=this;this.inherited(arguments);this.addedPanes=[];this._initSharedData();j.add(this.domNode,"applicationWizard");this.nextButton.domNode.style["margin-right"]="25px";this.newApplicationForm=new o({showButtons:void 0,applicationTemplate:this.applicationTemplate,onTemplateChange:function(b){a.sharedData.template&&
b?(a._initSharedData(b),a._disableWizard(),a._setupFullWizard()):!a.sharedData.template&&b?(a._initSharedData(b),a._setupFullWizard()):(a._initSharedData(),a._disableWizard())},callback:function(){a._cleanup()}});this.firstPage=(new k({content:this.newApplicationForm,doneFunction:c.hitch(this,this._nonWizardDoneFunction),passFunction:function(){var b=this.content.validate();return a.interpretValidationResult(b)}})).placeAt(this)},_initSharedData:function(b){this.sharedData={};if(b)this.sharedData.template=
b,this.sharedData.environmentTemplates=new q(new h({data:b.environmentTemplates.map(function(b){return a(b)})})),this.sharedData.environments=new q(new h({idProperty:"uniqId"}))},_setupFullWizard:function(){function a(d){c.mixin(d,{onShow:function(){c.isFunction(this.content._onShow)&&this.content._onShow()},passFunction:function(){var a=this.content.validate();return b.interpretValidationResult(a)}});return new k(d)}var b=this,d=this.wizardPaneHeight+"px";this.firstPage.domNode.style.width="700px";
this.firstPage.domNode.style.height=d;this.hideDisabled=!1;this.firstPage.doneFunction=void 0;e(".labelsAndValues-labelCell",this.firstPage.domNode).style({width:"250px"});this.componentPage=new n({sharedData:this.sharedData});this.componentPage.doneFunction=void 0;this.addedPanes.push(a({style:"height: "+d+"; width: 700px;",content:this.componentPage}));this.environmentPage=new s({sharedData:this.sharedData});this.environmentPage.doneFunction=void 0;this.addedPanes.push(a({style:"height:"+d+"; width: 700px;",
content:this.environmentPage}));this.agentMappingPage=new r({sharedData:this.sharedData});this.agentMappingPane=a({style:"height:"+d+"; width: 1000px;",content:this.agentMappingPage,doneFunction:c.hitch(this,this._wizardDoneFunction)});this.addedPanes.push(this.agentMappingPane);this.resizeWidget=(new l({activeResize:!0,minHeight:this.wizardPaneHeight,minWidth:800,targetContainer:this.agentMappingPane.domNode})).placeAt(this.resizeDom);this.addedPanes.forEach(function(a){a.placeAt(this)},this);this.firstPage.isLastChild=
!1;this.resize()},_disableWizard:function(){this.firstPage.domNode.style.width="";this.firstPage.domNode.style.height="";this.firstPage.doneFunction=c.hitch(this,this._nonWizardDoneFunction);this.hideDisabled=!0;e(".labelsAndValues-labelCell",this.firstPage.domNode).style({width:"240px"});this.addedPanes.forEach(function(a){this.removeChild(a)},this);this.addedPanes=[];this.firstPage.isLastChild=!0;this.resize()},_nonWizardDoneFunction:function(){this.newApplicationForm.submit()},_wizardDoneFunction:function(){this.block();
var a=[];this.sharedData.components.query().forEach(function(b){a.push(b.id)});var b=[];this.sharedData.environments.query().forEach(function(a){var c=this.makeEnvironmentJSON(a);a.props.query().forEach(function(a){var b="template/"+a.name;c[b]=a.currentValue;if("HTTP_SELECT"===a.type||"HTTP_MULTI_SELECT"===a.type)c[b+"/HTTP_SELECT_LABEL"]=a.currentHttpSelectLabel});c.resources=[];Object.keys(a.mappings).forEach(function(b){a.mappings[b].forEach(function(a){c.resources.push({name:a.name,agentId:a.id,
path:a.parentPath})})});b.push(c)},this);this.onSave({application:this.newApplicationForm.form.getData(),components:{existingComponents:a,newComponents:[]},environments:b})},onSave:function(a){var c=this,a=b.put(bootstrap.restUrl+"deploy/application/createFromWizard",{data:JSON.stringify(a),headers:{"Content-Type":"application/json"},handleAs:"json"});a.then(function(a){c.unblock();this.noRedirect||navBar.setHash("application/"+a.id);c._cleanup()},function(a){c.unblock();var b="An unknown error has occurred";
if(a.response&&a.response.text)b=a.response.text;(new w({message:util.escape(b)})).startup()});return a},_cleanup:function(){c.isFunction(this.cleanup)&&this.cleanup()},_checkButtons:function(){this.inherited(arguments);var a=this.selectedChildWidget,b=a.isLastChild;a.doneFunction?this.highlightButton(this.doneButton,"idxButtonSpecial"):b||this.highlightButton(this.nextButton,"idxButtonSpecial");if(this.resizeWidget)this.resizeWidget.domNode.style.display=a===this.agentMappingPane?"":"none"},makeEnvironmentJSON:function(a){return{name:a.name,
templateId:a.template.id,templateVersion:a.template.version,description:a.description,requireApprovals:a.template.requireApprovals,noSelfApprovals:a.template.noSelfApprovals,exemptProcesses:a.template.exemptProcesses,lockSnapshots:a.template.lockSnapshots,color:a.template.color,inheritSystemCleanup:a.template.inheritSystemCleanup,teamMappings:this.generateTeamMappingsForEnvironments(a.template)}},interpretValidationResult:function(a){switch(typeof a){case "boolean":return a;case "string":return w({message:util.escape(a)}),
!1;case "object":return"[object Array]"===Object.prototype.toString.call(a)?0<a.length?(a=a.map(function(a){return util.escape(a)}),w({messages:a}),!1):!0:!1}},generateTeamMappingsForEnvironments:function(a){var b=[];d.forEach(this.newApplicationForm.getData().teamMappings,function(c){d.some(b,function(a){return a.teamId===c.teamId},this)||b.push({resourceRoleId:a.environmentTypeId,teamId:c.teamId})},this);return b}})})},"deploy/widgets/rightPanel/ResourceRightPanelContainer":function(){define("dijit/_Widget,dojo/_base/declare,deploy/widgets/rightPanel/RightPanelAgents,deploy/widgets/rightPanel/RightPanelAgentsWithNoResource,deploy/widgets/rightPanel/RightPanelComponents,deploy/widgets/rightPanel/RightPanelResourceRoles,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/on,dijit/form/Button,js/webext/widgets/form/MenuButton".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q){return m("deploy.widgets.resource.ResourceRightPanelContainer",[l],{attachPoint:null,buttonAttachPoint:null,parent:null,postCreate:function(){this.inherited(arguments);this._buildHideButton();this.buildPanels()},_buildShowButton:function(a){this.showButton=new q({options:a,label:i18n("Show")});d.add(this.showButton.domNode,"idxButtonCompact");this.buttonAttachPoint&&this.showButton.placeAt(this.buttonAttachPoint);this._buildHideButton()},_buildHideButton:function(){var b=
this;this.hideButton?this.buttonAttachPoint&&(a(this.hideButton,"click",function(a){b.current.hide(a.shiftKey)}),this.hideButton.placeAt(this.buttonAttachPoint)):(this.hideButton=new h({label:i18n("Hide Panel")}),d.add(this.hideButton.domNode,"idxButtonCompact"))},buildPanels:function(){var c=this,h=this.parent,q=h?h.blueprint:null,r=[];this.panel={};var q={parent:h,blueprint:q,attachPoint:c.parent.panelAttach,onShow:function(){this.loaded||this.loadTable();c.parent&&c.parent.domNode&&setTimeout(function(){d.add(c.parent.domNode,
"table-show-right-panel")},10);d.remove(c.hideButton.domNode,"hidden")},onHide:function(){c.parent&&c.parent.domNode&&d.remove(c.parent.domNode,"table-show-right-panel");d.add(c.hideButton.domNode,"hidden")}},l=function(a,b){c.panel[b]=a;r.push({label:i18n(a.header),onClick:function(b){a.show(b.shiftKey);c.current&&c.current!==a&&c.current.hide(b.shiftKey||0);d.remove(c.hideButton.domNode,"hidden");c.current=a}})};if(h.resource&&!h.resource.hasAgent||d.contains(h.domNode,"all-resources")||h.environment)l(new k(q),
"agent"),l(new j(q),"agentnoresource");var m=Object.create(q),u=null;if(h.environment&&h.environment.application)m.url=bootstrap.restUrl+"resource/resourceRole/componentRolesForApplication/"+h.environment.application.id,u=h.environment.application;else if(h.application)u=h.application;if(u&&u.id)m.url=bootstrap.restUrl+"resource/resourceRole/componentRolesForApplication/"+u.id;l(new f(m),"component");l(new e(q),"resourceroles");this._buildShowButton(r);window&&c.parent.domNode&&a(window,"scroll",
function(){if(c.current&&!c.current.isHidden())try{var a=b.position(c.parent.domNode);a&&14>a.y?d.contains(c.parent.panelAttach,"right-panel-top")||d.add(c.parent.panelAttach,"right-panel-top"):d.contains(c.parent.panelAttach,"right-panel-top")&&d.remove(c.parent.panelAttach,"right-panel-top")}catch(h){}})}})})},"deploy/widgets/status/StatusList":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dijit/form/CheckBox,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/on,deploy/widgets/status/EditStatus,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/Table".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o){return f("deploy.widgets.status.StatusList",[m,l],{templateString:'<div class="statusList"><div class="listTopButtons" data-dojo-attach-point="buttonTopAttach"></div><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var a=this,b=bootstrap.restUrl+"deploy/status/"+this.type+"Statuses",c=[{name:i18n("Name"),formatter:function(a,b,c){d.add(c,"statusBox");c.style.backgroundColor=a.color;if(util.isDarkColor(a.color))c.style.color=
"#FFF";return a.name}},{name:i18n("Unique"),field:"unique"}];("version"===this.type||"snapshot"===this.type)&&c.push({name:i18n("Required Role"),field:"roleName"});c.push({name:i18n("Description"),field:"description"});c.push({name:i18n("Actions"),formatter:this.actionsFormatter,parentWidget:this});this.grid=new o({url:b,serverSideProcessing:!1,columns:c,tableConfigKey:"statusList",noDataMessage:i18n("No statuses found.")});this.grid.placeAt(this.gridAttach);b=new k({label:i18n("Add Status"),showTitle:!1,
onClick:function(){a.showEditStatusForm()}});d.add(b.domNode,"idxButtonSpecial");b.placeAt(this.buttonTopAttach)},destroy:function(){this.inherited(arguments);this.grid.destroy()},actionsFormatter:function(a){var d=this.parentWidget,h=c.create("div"),e=c.create("a",{"class":"actionsLink linkPointer",innerHTML:i18n("Edit")},h);b(e,"click",function(){d.showEditStatusForm(a)});e=c.create("a",{"class":"actionsLink linkPointer",innerHTML:i18n("Delete")},h);b(e,"click",function(){d.confirmDelete(a)});return h},
confirmDelete:function(a){var b=this;new q({message:i18n("Are you sure you want to delete status %s?",a.name.escape()),action:function(){b.grid.block();e.del({url:bootstrap.restUrl+"deploy/status/"+a.id,handleAs:"json",load:function(){b.grid.unblock();b.grid.refresh()}})}})},showEditStatusForm:function(b){var c=this,d=new h({title:b?i18n("Edit Status"):i18n("Add Status"),closable:!0,draggable:!0});(new a({status:b,type:this.type,callback:function(){d.hide();d.destroy();c.grid.refresh()}})).placeAt(d.containerNode);
d.show()}})})},"deploy/widgets/environment/EnvironmentComponentProperty":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dojo/dom-construct,dojo/on,js/webext/widgets/ColumnForm".split(","),function(l,m,k,j,f,e,d,c){return j("deploy.widgets.environment.EnvironmentComponentProperty",[m,l],{templateString:'<div class="environmentComponentProperty">  <div data-dojo-attach-point="labelAttach"></div>  <div data-dojo-attach-point="formAttach"></div>  <div data-dojo-attach-point="expandAttach"></div></div>',
doubleWidth:!0,tooltipIcon:!0,postCreate:function(){this.inherited(arguments);var b=this;this.form=new c({showButtons:!1,readOnly:this.readOnly});this.isCollapsible()&&this.valuesAreEqual()?this.collapse():this.expand();var a=b.getLabel();this.labelAttach.appendChild(e.create("div",{innerHTML:a.escape(),style:{fontSize:"14px","class":"actionsLink"}}));this.form.placeAt(this.formAttach);if(b.isCollapsible()&&!b.readOnly){a=i18n("Set a Single Value");b.collapsed&&(a=i18n("Split Values Per Component"));
var h=e.create("a",{innerHTML:a,"class":"linkPointer",style:{marginLeft:"167px"}},this.expandAttach);d(h,"click",function(){b.collapsed?(h.innerHTML=i18n("Set a Single Value"),b.expand()):(h.innerHTML=i18n("Split Values Per Component"),b.collapse())})}},expand:function(){var b=this;this.collapsed=!1;k.forEach(this.fieldNames,function(a){b.form.removeField(a)});this.fieldNames=[];k.forEach(this.propertyData.components,function(a){var c=a.propValue,d=a.propDef,e=d.value,j=d.defaultLabel;if(c)e=c.value,
j=c.label;c=f.clone(d);c.value=e;c.defaultLabel=j;c.label=a.name;c.name=a.name+"/"+d.name;c.tooltipIcon=b.tooltipIcon;c.pattern&&(c.description+=i18n(" Required Pattern: %s",c.pattern));b.fieldNames.push(c.name);b.form.addField(c)})},collapse:function(){var b=this;this.collapsed=!0;k.forEach(this.fieldNames,function(a){b.form.removeField(a)});this.fieldNames=[];var a=this.propertyData.components[0],c=a.propDef,d=a.propValue,a=c.value;if(d)a=d.value;d=f.clone(c);d.value=a;d.label=i18n("All Components");
d.name=c.name;d.description=this.getDescription();d.required=this.isRequired();d.tooltipIcon=b.tooltipIcon;this.fieldNames.push(d.name);this.form.addField(d)},isCollapsible:function(){var b=!1,a=this.propertyData,c,d=!1;1<a.components.length&&(k.forEach(a.components,function(a){a=a.propDef;c?a.type!==c&&(d=!0):c=a.type}),!d&&"SECURE"!==c&&(b=!0));return b},valuesAreEqual:function(){var b=!1,a,c=!1;k.forEach(this.propertyData.components,function(b){var b=b.propValue,d="";if(b)d=b.value;a?d!==a&&(c=
!0):a=d});c||(b=!0);return b},isRequired:function(){var b=!1;k.forEach(this.propertyData.components,function(a){a=a.propDef;b=b||a.required});return b},getDescription:function(){var b;k.forEach(this.propertyData.components,function(a){a=a.propDef;if(!b)b=a.description});return b},getLabel:function(){var b;k.forEach(this.propertyData.components,function(a){a=a.propDef;if(!b||a.label!==a.name)b=a.label});return b},_getValueAttr:function(){return this.form.getData()},validatePattern:function(b){var a=
this;k.forEach(this.propertyData.components,function(c){var d=c.propDef,e=a.form.getValue(c.name+"/"+d.name),f=d.pattern;f&&e&&(a.checkPattern(e,f)||b.push(i18n("Value for property %s does not follow the required pattern",d.name+"/"+c.name)))});return b},checkPattern:function(b,a){var c=!0;RegExp(a).exec(b)||(c=!1);return c}})})},"js/webext/widgets/FieldList":function(){define("js/webext/widgets/FieldList","dojo/_base/declare,dijit/_WidgetBase,dijit/_TemplatedMixin,dojo/_base/array,dojo/dom-attr,dojo/dom-construct,dojo/dom-class,dojo/dom-style,dijit/Tooltip,dijit/registry,js/webext/widgets/DomNode".split(","),
function(l,m,k,j,f,e,d,c,b,a,h){return l([m,k],{templateString:'<div class="table"><div data-dojo-attach-point="fieldAttach"></div></div>',labelStyle:{width:"240px",wordWrap:"break-word"},fieldStyle:{},postCreate:function(){this.inherited(arguments);this.fields=[];this.rows=[]},insertField:function(a,h,j,k,r){var l=document.createElement("div");k&&f.set(l,"data-field-name",k);l.className=a.rowClass?a.rowClass:"labelsAndValues-row";if(!a.doubleWidth&&!a.hideLabel){var k=e.create("div",{className:"labelsAndValues-labelCell inlineBlock"}),
m=e.create("div",{className:"labelsAndValues-labelCell"});if("object"===typeof a.label&&1===a.label.nodeType&&"object"===typeof a.label.style&&"object"===typeof a.label.ownerDocument)m.appendChild(a.label);else if(void 0!==a.label&&"object"!==typeof a.label)m.innerHTML=a.label;c.set(k,this.labelStyle);k.appendChild(m);l.appendChild(k)}k=document.createElement("div");k.className="labelsAndValues-valueCell inlineBlock";c.set(k,this.fieldStyle);a.placeAt(k);l.appendChild(k);j&&(k=e.create("div",{"class":"inlineBlock"},
l),k=e.create("div",{"class":"labelsAndValues-helpCell"},k),new b({connectId:[k],label:j,showDelay:100,position:["after","above","below","before"]}),r||d.add(l,"help-toolip-on-hover"));void 0===h||null===h||h===this.fields.length?(this.fields.push(a),this.rows.push(l),this.fieldAttach.appendChild(l)):(this.fields.splice(h,0,a),this.rows.splice(h,0,l),this.fieldAttach.insertBefore(l,this.rows[h+1]));a.attachPoint&&e.place(l,a.attachPoint);a.fieldRow=l},insertDomNode:function(a,b,c){var d=new h({});
d.label=a;d.domAttach.appendChild(b);this.insertField(d,c)},insertDiv:function(a,b,c){var d=new h({});d.label=a;a=document.createElement("div");a.innerHTML=b;d.domAttach.appendChild(a);this.insertField(d,c)},insertLink:function(a,b,c,d){var e=new h({});e.label=a;a=document.createElement("a");a.innerHTML=c;a.href=b;e.domAttach.appendChild(a);this.insertField(e,d)},removeField:function(a){this.fieldAttach.removeChild(this.rows[a]);this.fields.splice(a,1);this.rows.splice(a,1)},destroy:function(b){this.fieldAttach&&
j.forEach(a.findWidgets(this.fieldAttach),function(a){a.destroy(b)});this.inherited(arguments)}})})},"deploy/widgets/property/PropSheetDefValues":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dojo/_base/xhr,dojo/dom-construct,dojo/on,js/webext/widgets/Alert,js/webext/widgets/ColumnForm,js/webext/widgets/GenericConfirm,js/webext/widgets/DomNode".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q){return j("deploy.widgets.property.PropSheetDefValues",
[m,l],{templateString:'<div class="propSheetDefValues"><div class="versionLinks" data-dojo-attach-point="versionAttach"></div><div data-dojo-attach-point="detailAttach"></div></div>',noPropertiesMessage:i18n("No properties have been defined."),oldVersion:!1,showVersions:!1,postCreate:function(){this.inherited(arguments);var a=this;if(this.propSheetDef)this.propSheetDef.versioned?(this.propSheetDefPath=this.propSheetDef.path,this.propSheetDefVersion=this.propSheetDef.version):this.propSheetDefId=this.propSheetDef.id;
if(this.propSheet&&this.propSheet.versioned)this.propSheetVersionCount=this.propSheet.versionCount,this.propSheetVersion=this.propSheet.version;if(this.propSheetVersion&&this.propSheetVersionCount){if(this.propSheetVersion<this.propSheetVersionCount)a.oldVersion=!0;this.showVersionLinks()}this.propSheetPath&&!this.propSheetVersion?e.get({url:bootstrap.baseUrl+"property/propSheet/"+util.vc.encodeVersionedPath(this.propSheetPath)+".-1",handleAs:"json",load:function(b){a.propSheetVersion=b.version;a.initializePage()}}):
a.initializePage()},initializePage:function(){var a=this;a.generateUrls();e.get({url:this.getDefsUrl,handleAs:"json",load:function(b){0<b.length?(a.propDefs=b,a.showForm()):(b=document.createElement("div"),b.style.marginLeft="30px",b.innerHTML=a.noPropertiesMessage,a.detailAttach.appendChild(b))}})},generateUrls:function(){if(this.propSheetDefId)this.getDefsUrl=bootstrap.baseUrl+"property/propSheetDef/"+this.propSheetDefId+"/propDefs";else if(this.propSheetDefPath)this.getDefsUrl=bootstrap.baseUrl+
"property/propSheetDef/"+util.vc.encodeVersionedPath(this.propSheetDefPath),this.getDefsUrl=this.propSheetDefVersion?this.getDefsUrl+"."+this.propSheetDefVersion+"/propDefs":this.getDefsUrl+".-1/propDefs";if(this.propSheetId)this.getValuesUrl=bootstrap.baseUrl+"property/propSheet/"+this.propSheetId+"/propValues",this.saveValuesUrl=bootstrap.baseUrl+"property/propSheet/"+this.propSheetId+"/allPropValues";else if(this.propSheetPath)this.getValuesUrl=bootstrap.baseUrl+"property/propSheet/"+util.vc.encodeVersionedPath(this.propSheetPath)+
"."+this.propSheetVersion,this.saveValuesUrl=bootstrap.baseUrl+"property/propSheet/"+util.vc.encodeVersionedPath(this.propSheetPath)+"."+this.propSheetVersion+"/allPropValues"},destroy:function(){this.inherited(arguments);void 0!==this.form&&this.form.destroy()},showForm:function(){var c=this;this.batchLoaded=!1;var d=this.propDefs;void 0!==c.form&&c.form.destroy();if(c.propSheetVersion)c.version=c.propSheetVersion;c.form=new a({submitUrl:c.saveValuesUrl,version:c.version,validateFields:function(a){var b=
[];k.forEach(d,function(d){if(d.required){var e=a[d.name];(null===e||void 0===e||0===e.length)&&b.push(i18n("%s is a required field.",d.name))}var e=d.pattern,h=a[d.name];e&&h&&(c.validatePattern(h,e)||b.push(i18n("Value for property %s does not follow the required pattern.",d.name)))});return b},postSubmit:function(){if(c.refreshHash)navBar.setHash(c.refreshHash,!1,!0);else{new b({message:i18n("Properties saved.")});c.version&&c.version++;if(c.propSheetVersion&&!this.showVersions&&(c.propSheetVersion++,
c.propSheetVersionCount&&c.propSheetVersionCount++,c.propSheet))c.propSheet.version=c.propSheetVersion,c.propSheet.versionCount=c.propSheetVersionCount;c.refresh()}},onError:function(a){if(a.responseText){if(409===a.status&&new b({message:i18n("Modifications have occured since you loaded this page, please refresh.")}),c.refreshHash&&navBar.setHash(c.refreshHash,!0,!1),c.grid)c.grid.refresh=function(){navBar.setHash(c.refreshHash,!1,!0)}}else this.inherited(arguments)},readOnly:c.readOnly||this.oldVersion,
cancelLabel:null});c.form.placeAt(c.detailAttach);var h=document.createElement("a");h.onclick=function(){c.showBatchEdit()};h.innerHTML=i18n("Use Batch Edit Mode");h.className="linkPointer";var j=new q;j.domAttach.appendChild(h);c.form.addField({name:"_switchLink",label:"",widget:j});e.get({url:c.getValuesUrl,handleAs:"json",load:function(a){c.form.version=a.version;k.forEach(d,function(b){var d=f.clone(b);util.populatePropValueAndLabel(a.properties,d);d.description=!b.pattern?b.description:i18n("%s Required Pattern: %s",
b.description,b.pattern);c.form.addField(d)})}})},showBatchEdit:function(){var c=this;this.batchLoaded=!0;var d=this.propDefs;void 0!==c.form&&c.form.destroy();c.form=new a({submitUrl:c.saveValuesUrl,version:c.propSheetVersion,addData:function(a){var b=[];k.forEach(a.properties.split("\n"),function(a){var c=a.indexOf("=");if(-1!==c&&c!==a.length-1){var d=a.substr(0,c),a=a.substr(c+1);b.push({name:d,value:a})}});a.properties=b;k.forEach(d,function(c){var d=util.getNamedPropertyValue(b,c.name);a[c.name]=
d})},validateFields:function(a){var b=[];k.forEach(d,function(d){if(d.required){var e=a[d.name];(null===e||void 0===e||0===e.length)&&b.push(i18n("%s is a required field.",d.name))}var e=d.pattern,h=a[d.name];e&&h&&(c.validatePattern(h,e)||b.push(i18n("Value for property %s does not follow the required pattern.",d.name)))});return b},postSubmit:function(){if(c.refreshHash)navBar.setHash(c.refreshHash,!1,!0);else{new b({message:i18n("Properties saved.")});c.version&&c.version++;if(c.propSheetVersion&&
!this.showVersions&&(c.propSheetVersion++,c.propSheetVersionCount&&c.propSheetVersionCount++,c.propSheet))c.propSheet.version=c.propSheetVersion,c.propSheet.versionCount=c.propSheetVersionCount;c.refresh()}},onError:function(a){if(a.responseText){if(409===a.status&&new b({message:i18n("Modifications have occured since you loaded this page, please refresh.")}),c.refreshHash&&navBar.setHash(c.refreshHash,!0,!1),c.grid)c.grid.refresh=function(){navBar.setHash(c.refreshHash,!1,!0)}}else this.inherited(arguments)},
readOnly:c.readOnly||this.oldVersion,cancelLabel:null});c.form.placeAt(c.detailAttach);var h=document.createElement("a");h.onclick=function(){c.showForm()};h.innerHTML=i18n("Use Property Form Mode");h.className="linkPointer";var f=new q;f.domAttach.appendChild(h);c.form.addField({name:"_switchLink",label:"",widget:f});e.get({url:c.getValuesUrl,handleAs:"json",load:function(a){c.form.version=a.version;var b="";k.forEach(d,function(c){var d=util.getNamedPropertyValue(a.properties,c.name);if(void 0===
d)d=c.value;b+=c.name+"="+d+"\n"});c.form.addField({name:"properties",label:i18n("Properties"),required:!0,type:"Text Area",style:{width:"300px",height:"200px"},value:b})}})},showVersionLinks:function(){var a=this;d.empty(this.versionAttach);if(this.propSheetVersion&&this.propSheetVersionCount&&this.showVersions){d.create("div",{innerHTML:i18n("Version %s of %s",this.propSheetVersion,this.propSheetVersionCount)},this.versionAttach);var f=d.create("div",{},this.versionAttach);if(1===this.propSheetVersion)d.create("div",
{className:"arrow_fastBackwards_grey inlineBlock"},f),d.create("span",{innerHTML:"&nbsp;&nbsp;"},f),d.create("div",{className:"arrow_backwards_grey inlineBlock"},f);else{var j=d.create("div",{className:"arrow_fastBackwards inlineBlock"},f);c(j,"click",function(){a.propSheetVersion=1;a.refresh()});d.create("span",{innerHTML:"&nbsp;&nbsp;"},f);j=d.create("div",{className:"arrow_backwards inlineBlock"},f);c(j,"click",function(){a.propSheetVersion--;a.refresh()})}d.create("span",{innerHTML:"&nbsp;&nbsp;&nbsp;"},
f);this.propSheetVersion===this.propSheetVersionCount?(d.create("div",{className:"arrow_forward_grey inlineBlock"},f),d.create("span",{innerHTML:"&nbsp;&nbsp;"},f),d.create("div",{className:"arrow_fastForward_grey inlineBlock"},f)):(j=d.create("div",{className:"arrow_forward inlineBlock"},f),c(j,"click",function(){a.propSheetVersion++;a.refresh()}),d.create("span",{innerHTML:"&nbsp;&nbsp;"},f),j=d.create("div",{className:"arrow_fastForward inlineBlock"},f),c(j,"click",function(){a.propSheetVersion=
a.propSheetVersionCount;a.refresh()}),!this.readOnly&&this.oldVersion&&(d.create("span",{innerHTML:"&nbsp;&nbsp;"},f),f=d.create("a",{innerHTML:i18n("Reset Latest to This Version")},f),c(f,"click",function(){new h({message:i18n("Are you sure you want to reset to version %s?",a.propSheetVersion),action:function(){e.put({url:bootstrap.restUrl+"vc/persistent/"+util.vc.encodeVersionedPath(a.propSheetPath)+"."+a.propSheetVersion+"/setAsLatest",load:function(){a.propSheetVersionCount++;a.propSheetVersion=
a.propSheetVersionCount;a.refresh()},error:function(a){new b({message:i18n("Error: %s",util.escape(a.responseText))})}})}})})))}},refresh:function(){if(this.propSheetVersion&&this.propSheetVersionCount)this.oldVersion=this.propSheetVersion<this.propSheetVersionCount?!0:!1;this.showVersionLinks();this.generateUrls();this.batchLoaded?this.showBatchEdit():this.showForm()},validatePattern:function(a,b){var c=!0;RegExp(b).exec(a)||(c=!1);return c}})})},"deploy/widgets/environment/EditEnvironmentWizardPane":function(){define("dojo/_base/declare,dojox/widget/WizardPane,deploy/widgets/environment/EditEnvironment,js/webext/widgets/Dialog,dojo/dom-construct,dijit/form/Button,dojo/dom-class,dojo/dom-style".split(","),
function(l,m,k,j,f,e,d,c){return l([m],{postCreate:function(){this.inherited(arguments);var b=this;this.page=new k({application:this.application,dialog:this.dialog,callback:function(){b.dialog.hide();b.dialog.destroy();b.application&&navBar.setHash("#application/"+b.application.id,!1,!0)}});this.attachDoneFunction();this.addChild(this.page,0)},_doneFunction:function(){this.page.submitForm()},attachDoneFunction:function(){this.doneFunction=this._doneFunction},detachDoneFunction:function(){this.doneFunction=
null},getData:function(){return this.page.form.getData()},_checkPass:function(){var b=this.page.form.validateRequired();if(0<b.length){var a=new j({title:i18n("Field Validation"),closable:!0,draggable:!1}),c=f.create("div");c.innerHTML=i18n("Please correct the following errors before moving to next page:");a.containerNode.appendChild(c);dojo.forEach(b,function(b){var c=f.create("div");c.innerHTML=b;a.containerNode.appendChild(c)});b=new e({label:i18n("Close"),onClick:function(){this.parentWidget.destroy()}});
d.add(b.domNode,"underField");b.parentWidget=a;b.placeAt(a.containerNode);a.show();return!1}return!0},_onShow:function(){this.inherited(arguments);this.refreshWizardIcons()},refreshWizardIcons:function(){this.isLastChild?c.set(this.dialog.wizardIconNode1,"display","none"):c.set(this.dialog.wizardIconNode1,"display","inline");c.set(this.dialog.wizardIconNode2,"display","none")}})})},"url:dojox/calendar/templates/MatrixView.html":'<div data-dojo-attach-events="keydown:_onKeyDown">\n\t<div  class="dojoxCalendarYearColumnHeader" data-dojo-attach-point="yearColumnHeader">\n\t\t<table><tr><td><span data-dojo-attach-point="yearColumnHeaderContent"></span></td></tr></table>\t\t\n\t</div>\t\n\t<div data-dojo-attach-point="columnHeader" class="dojoxCalendarColumnHeader">\n\t\t<table data-dojo-attach-point="columnHeaderTable" class="dojoxCalendarColumnHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t</div>\t\t\n\t<div dojoAttachPoint="rowHeader" class="dojoxCalendarRowHeader">\n\t\t<table data-dojo-attach-point="rowHeaderTable" class="dojoxCalendarRowHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t</div>\t\n\t<div dojoAttachPoint="grid" class="dojoxCalendarGrid">\n\t\t<table data-dojo-attach-point="gridTable" class="dojoxCalendarGridTable" cellpadding="0" cellspacing="0"></table>\n\t</div>\t\n\t<div data-dojo-attach-point="itemContainer" class="dojoxCalendarContainer" data-dojo-attach-event="mousedown:_onGridMouseDown,mouseup:_onGridMouseUp,ondblclick:_onGridDoubleClick,touchstart:_onGridTouchStart,touchmove:_onGridTouchMove,touchend:_onGridTouchEnd">\n\t\t<table data-dojo-attach-point="itemContainerTable" class="dojoxCalendarContainerTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t</div>\t\n</div>\n',
"deploy/widgets/agent/AgentPools":function(){define(["dijit/_TemplatedMixin","dijit/_Widget","dojo/_base/declare","deploy/widgets/Formatters","js/webext/widgets/table/TreeTable"],function(l,m,k,j,f){return k("deploy.widgets.agent.AgentPools",[m,l],{templateString:'<div class="agentPools"><div data-dojo-attach-point="tableAttach"></div></div>',postCreate:function(){this.inherited(arguments);var e=bootstrap.restUrl+"agent/pool",d=[{name:i18n("Name"),formatter:j.agentPoolLinkFormatter,orderField:"name",
getRawValue:function(c){return c.name}},{name:i18n("Description"),field:"description"}];this.grid=new f({url:e,serverSideProcessing:!0,orderField:"name",tableConfigKey:"agentPoolAgentIncludeList",noDataMessage:i18n("No agent pools include this agent."),columns:d,hidePagination:!1,hideExpandCollapse:!0,baseFilters:[{name:"agents.id",type:"eq",values:[this.agent.id],className:"UUID"}],queryData:{outputType:["BASIC","SECURITY"]}});this.grid.placeAt(this.tableAttach)}})})},"deploy/widgets/resource/ResourceRoles":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dojo/_base/declare,dojo/_base/xhr,dojo/dom-construct,dojo/on,dojo/window,deploy/widgets/Formatters,deploy/widgets/resource/ResourceRolePropertyEditor,js/webext/widgets/ColumnForm,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/RestSelect,js/webext/widgets/Table".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s){return j("deploy.widgets.resource.ResourceRoles",[m,l],{templateString:'<div class="componentList"><div data-dojo-attach-point="buttonAttach"></div><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var a=this,c=bootstrap.restUrl+"resource/resource/"+this.resource.id+"/roles",d=[{name:i18n("Name"),formatter:b.resourceRoleLinkFormatter,orderField:"name",filterField:"name",filterType:"text"},{name:i18n("Description"),
field:"description"},{name:i18n("Actions"),formatter:this.actionsFormatter,parentWidget:this}];this.grid=new s({url:c,serverSideProcessing:!1,tableConfigKey:"resourceResourceRoleList",noDataMessage:i18n("No roles have been added to this resource."),columns:d});this.grid.placeAt(this.gridAttach);(new k({label:i18n("Add a Role"),showTitle:!1,onClick:function(){a.showAddResourceRole()}})).placeAt(this.buttonAttach)},destroy:function(){this.inherited(arguments);this.grid.destroy()},actionsFormatter:function(a){var b=
this.parentWidget,c=document.createElement("div");if(b.resource.security["Manage Properties"]){var h=e.create("a",{innerHTML:i18n("Edit"),"class":"actionsLink linkPointer"},c);d(h,"click",function(){b.showEditRoleProperties(a)});h=e.create("a",{innerHTML:i18n("Remove"),"class":"actionsLink linkPointer"},c);d(h,"click",function(){b.showRemoveConfirm(a)})}return c},showRemoveConfirm:function(a){var b=this;new o({message:i18n('Are you sure you want to remove "%s"?',a.name.escape()),action:function(){f.put({url:bootstrap.restUrl+
"resource/resource/"+b.resource.id+"/removeRole/"+a.id,load:function(){b.grid.refresh()}})}})},showAddResourceRole:function(){var a=this,b=null,c=new q({title:i18n("Add a Role"),closable:!0,draggable:!0}),d=new h({submitUrl:bootstrap.restUrl,postSubmit:function(){c.hide();c.destroy();a.grid.refresh();null!==b.propDefs&&void 0!==b.propDefs&&0<b.propDefs.length&&a.showEditRoleProperties(b)},onCancel:function(){c.hide();c.destroy();a.grid.refresh()}}),e=new n({restUrl:bootstrap.restUrl+"resource/resourceRole",
allowNone:!1,onChange:function(c,e){if(b=e)d.submitUrl=bootstrap.restUrl+"resource/resource/"+a.resource.id+"/addRole/"+e.id}});d.addField({name:"resourceRoleId",label:i18n("Role"),required:!0,widget:e});d.placeAt(c.containerNode);c.show()},showEditRoleProperties:function(b){var d=new q({title:i18n("Edit Properties for Role"),closable:!0,draggable:!0});(new a({role:b,resource:this.resource,onSave:function(){d.hide();d.destroy()},onCancel:function(){d.hide();d.destroy()}})).placeAt(d.containerNode);
b=c.getBox().h-100;d.containerNode.style.maxHeight=b+"px";d.containerNode.style.overflowY="scroll";d.show()}})})},"dojo/promise/instrumentation":function(){define(["./tracer","../has","../_base/lang","../_base/array"],function(l,m,k,j){function f(a,b,c){var d="";a&&a.stack&&(d+=a.stack);b&&b.stack&&(d+="\n    ----------------------------------------\n    rejected"+b.stack.split("\n").slice(1).join("\n").replace(/^\s+/," "));c&&c.stack&&(d+="\n    ----------------------------------------\n"+c.stack);
console.error(a,d)}function e(a,b,c,d){b||f(a,c,d)}function d(d,e,f,k){e?j.some(b,function(a,c){if(a.error===d)return b.splice(c,1),!0}):j.some(b,function(a){return a.error===d})||b.push({error:d,rejection:f,deferred:k,timestamp:(new Date).getTime()});a||(a=setTimeout(c,h))}function c(){var d=(new Date).getTime(),e=d-h;b=j.filter(b,function(a){return a.timestamp<e?(f(a.error,a.rejection,a.deferred),!1):!0});a=b.length?setTimeout(c,b[0].timestamp+h-d):!1}var b=[],a=!1,h=1E3;return function(a){var b=
m("config-useDeferredInstrumentation");if(b){l.on("resolved",k.hitch(console,"log","resolved"));l.on("rejected",k.hitch(console,"log","rejected"));l.on("progress",k.hitch(console,"log","progress"));var c=[];"string"===typeof b&&(c=b.split(","),b=c.shift());if("report-rejections"===b)a.instrumentRejected=e;else if("report-unhandled-rejections"===b||!0===b||1===b)a.instrumentRejected=d,h=parseInt(c[0],10)||h;else throw Error("Unsupported instrumentation usage <"+b+">");}}})},"deploy/widgets/patterns/PatternExecutionLogFormatters":function(){define("exports,dijit/form/Button,dijit/_Widget,dijit/_TemplatedMixin,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/on,deploy/widgets/Popup,deploy/widgets/approval/TaskResponseDialog,deploy/widgets/log/LiveLogViewer,deploy/widgets/patterns/PatternProcessIconsFormatter,deploy/widgets/resource/TransientResourceCompareTree,js/webext/widgets/Dialog,js/webext/widgets/table/TreeTable,js/webext/widgets/Table,js/webext/widgets/FieldList".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n){l.nameFormatter=function(a,c){if("OS::Nova::Server"===c.resourceType)a.appendChild(formatters.createIcon("agentIcon"));else{var d=null;"patternDeployment"===c.type?d="deploy":"patternStackExecution"===c.type&&(d="process");null!==d?b.create("div",{className:"inline-block execution-log-process-icon process-icon "+d+"-step-icon"},a):(d=n.getIconForStep({activity:c}),b.create("div",{className:"inline-block execution-log-process-icon pattern-process-icon "+d+"-step-icon"},
a))}d=c.displayName;if(!d)d=c.name;c.resourceType&&"configurationResourceGroup"!==c.resourceType&&"serverResourceGroup"!==c.resourceType&&"server"!==c.resourceType&&(d+=" ("+c.resourceType+")");d&&util.appendTextSpan(a,d.escape()+"&nbsp;");return a};l.actionsMenuFormatter=function(a,b,c){"OS::Nova::Server"===a.resourceType&&"INITIALIZED"!==a.state&&(!a.error||"CANCELED"===a.result)&&c.splice(0,0,{label:i18n("Output Log"),icon:'<div class="inlineBlock general-icon consoleIcon" ></div>',onClick:function(){(new o({url:bootstrap.restUrl+
"integration/pattern/"+a.integrationProviderId+"/environment/"+a.stackId+"/instance/"+a.physicalResourceId+"/consoleOutput",title:i18n("Output Log"),autoRefresh:"EXECUTING"===a.state||"SUCCEEDED"===a.state,paddingTop:"0px"})).show()}})}})},"deploy/widgets/application/wizard/AppWizProperty":function(){define(["dojo/Stateful","dojo/store/Memory","dojo/store/Observable","dojo/_base/declare"],function(l,m,k,j){return j([l],{propDef:null,currentValue:null,currentHttpSelectLabel:null,error:null,constructor:function(f,
e){var d=this;this.propDef=f;if(this._valueIsDefinedAndNotEmpty(e))this.currentValue=e;else if(this._valueIsDefinedAndNotEmpty(f.value)){if("CHECKBOX"===f.type)if("true"===f.value)this.currentValue=!0;else{if("false"===f.value)this.currentValue=!1}else this.currentValue=f.value;this._handleHttpSelectLabel()}else this.currentValue="SELECT"===f.type?f.allowedValues&&0<f.allowedValues.length?f.allowedValues[0].value:"":"CHECKBOX"===f.type?!1:"DATETIME"===f.type?(new Date).getTime().toString():"";this.validate();
this.watch("currentValue",function(c,b,a){b!==a&&d.validate()})},validate:function(){var f=this,e="",d=this.propDef.pattern,c=this.propDef.label;0===c.indexOf("template/")&&(c=c.substring(9));if(!0===this.propDef.required&&(""===this.currentValue||!1===this.currentValue||0===this.currentValue.length))return e=i18n("Value for property %s is required but not given",c),this.set("error",e),[!1,e];if(d&&this.currentValue)if(-1!==this.propDef.type.indexOf("MULTI_SELECT")){var b=!0;this.currentValue.split(",").forEach(function(a){f._validatePattern(a,
d)||(e=i18n("Value for property %s does not match the required pattern.",c),b=!1)});if(!1===b)return this.set("error",e),[!1,e]}else if(!this._validatePattern(this.currentValue,d))return e=i18n("Value for property %s does not match the required pattern.",c),this.set("error",e),[!1,e];this.set("error","");return[!0,""]},_handleHttpSelectLabel:function(){if("HTTP_SELECT"===this.propDef.type||"HTTP_MULTI_SELECT"===this.propDef.type)this.currentHttpSelectLabel=this.propDef.defaultLabel},_valueIsDefinedAndNotEmpty:function(f){return null!==
f&&void 0!==f&&""!==f},_validatePattern:function(f,e){return RegExp("^"+e+"$").test(f)}})})},"deploy/widgets/agent/AgentEditManager":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/on,dojo/dom-construct,js/webext/widgets/TwoPaneListManager,deploy/widgets/agent/EditAgent,deploy/widgets/property/PropValues".split(","),function(l,m,k,j,f,e,d,c){return m([e],{postCreate:function(){this.inherited(arguments);this.showList()},showList:function(){var b=this;b.addEntry({id:"basic",
label:i18n("Basic Settings"),action:function(){b.addHeading(i18n("Basic Settings"));b.showBasicSettings()}});b.addEntry({id:"properties",label:i18n("Agent Properties"),action:function(){b.addHeading(i18n("Agent Properties"));b.showProperties()}})},addHeading:function(b){f.create("div",{innerHTML:b,"class":"containerLabel",style:{padding:"10px"}},this.detailAttach)},addDescription:function(b){f.create("div",{innerHTML:b,style:{marginBottom:"10px"}},this.detailAttach)},showBasicSettings:function(){(new d({agent:appState.agent,
readOnly:!appState.agent.security["Edit Basic Settings"]})).placeAt(this.detailAttach)},showProperties:function(){(new c({propSheet:appState.agent.propSheet,readOnly:!appState.agent.security["Manage Properties"]})).placeAt(this.detailAttach)}})})},"dojo/cldr/supplemental":function(){define("dojo/cldr/supplemental",["../_base/lang","../i18n"],function(l,m){var k={};l.setObject("dojo.cldr.supplemental",k);k.getFirstDayOfWeek=function(j){j={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,
ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[k._region(j)];return void 0===j?1:j};k._region=function(j){var j=m.normalizeLocale(j),j=j.split("-"),f=j[1];f?4==f.length&&(f=j[2]):f={de:"de",en:"us",es:"es",fi:"fi",
fr:"fr",he:"il",hu:"hu",it:"it",ja:"jp",ko:"kr",nl:"nl",pt:"br",sv:"se",zh:"cn"}[j[0]];return f};k.getWeekend=function(j){var f=k._region(j),j={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[f],f={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[f];void 0===j&&(j=6);void 0===f&&(f=0);return{start:j,end:f}};return k})},"dijit/_base/manager":function(){define("dijit/_base/manager",["dojo/_base/array",
"dojo/_base/config","dojo/_base/lang","../registry","../main"],function(l,m,k,j,f){var e={};l.forEach("byId,getUniqueId,findWidgets,_destroyAll,byNode,getEnclosingWidget".split(","),function(d){e[d]=j[d]});k.mixin(e,{defaultDuration:m.defaultDuration||200});k.mixin(f,e);return f})},"deploy/widgets/security/TeamSelector":function(){define("dijit/_TemplatedMixin,dijit/_Widget,js/util/blocker/_BlockerMixin,dijit/form/Select,dijit/form/Button,dojo/_base/declare,dojo/_base/array,dojo/request/xhr,dojo/dom-construct,dojo/dom-class,dojo/on,js/webext/widgets/select/WebextSelect,js/webext/widgets/select/WebextMultiSelect,js/webext/widgets/Alert,js/webext/widgets/FormDelegates".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s){return e("js.deploy.widgets.security.TeamSelector",[m,l,k],{templateString:'<div class="roleSelector">  <div data-dojo-attach-point="teamsAttach" class="tagDisplay"></div>  <div data-dojo-attach-point="showTeamAttach" class="showTeam inlineBlock"></div>  <div data-dojo-attach-point="teamFormAttach" class="teamForm">     <div data-dojo-attach-point="closeAttach"></div>    <div>      <div class="team-selector">        <div data-dojo-attach-point="addTeamLabelAttach"></div>        <div data-dojo-attach-point="teamListAttach" id="teams"></div>      </div>      <div class="team-selector">        <div data-dojo-attach-point="innerAttach"></div>        <div data-dojo-attach-point="resourceRoleAttach"></div>      </div>    </div>    <div data-dojo-attach-point="buttonAttach" class="team-selector-buttons">       <div data-dojo-attach-point="addButtonAttach" class="inline-block"></div>      <div data-dojo-attach-point="cancelButtonAttach" class="inline-block"></div>    </div>   </div> </div>',
selectedTeams:null,postCreate:function(){var c=this;c.selectedTeams=[];c.hide(c.teamFormAttach);if(!c.isReadOnly()){(new f({showLabel:!1,onClick:function(){c.addTeamSelect();c.show(c.teamFormAttach)},style:"margin: 0 0 2px;",className:"showTeamButton"})).placeAt(this.showTeamAttach);var e=new f({label:i18n("Cancel"),onClick:function(){c.hide(c.teamFormAttach)},className:"hideTeamButton"});a.add(e.domNode,"idxButtonCompact");e.placeAt(c.cancelButtonAttach);e=new f({label:i18n("Add"),onClick:function(){if(!c.teams[0])c.teamsAttach.innerHTML=
"";""!==c.teamSelect.get("value")&&d.forEach(c.selectedTeams,function(a){c.addTeamWithResourceRole(a.teamLabel,c.selectedResourceRoleLabel,a.teamId,c.selectedResourceRoleId,!1)})}});a.add(e.domNode,"idxButtonCompact idxButtonSpecial");e.placeAt(c.addButtonAttach);var e=b.create("div",{innerHTML:i18n("Team:")}),h=b.create("div",{innerHTML:i18n("Type:")});b.place(e,this.addTeamLabelAttach);b.place(h,this.innerAttach);b.create("div",{"class":"closeDialogIcon linkPointer",onclick:function(){c.hide(c.teamFormAttach)}},
this.closeAttach);c.addResourceRoleSelect()}c.displayTeams()},addTeamSelect:function(){var a=this;if(!a.teamSelect){var b=c.get(bootstrap.restUrl+"security/teamsWithCreateAction/"+a.resourceRoleType,{query:{applyManagePermission:!0},handleAs:"json"});this.block();b.then(function(b){a.teamSelect=s.retrieveDelegate("TableFilterMultiSelect")({data:b,searchAttr:"teamLabel",idAttribute:"teamId",formatDropDownLabel:function(a,b){return b.teamLabel},onAdd:function(b){a.selectedTeams.push({teamId:b.teamId,
teamLabel:b.teamLabel})},onRemove:function(b){a.selectedTeams=d.filter(a.selectedTeams,function(a){return a.teamId!==b.teamId&&a.teamLabel!==b.teamLabel})},allowNone:!1});a.teamSelect.placeAt(a.teamListAttach)});b.always(function(){a.unblock()})}},addResourceRoleSelect:function(){var a=this;a.resourceRoleSelect=s.retrieveDelegate("TableFilterSelect")({url:bootstrap.baseUrl+"security/resourceType/"+a.resourceRoleType+"/resourceRoles",onChange:function(b,c){b?(a.selectedResourceRoleId=b,a.selectedResourceRoleLabel=
c.name):(a.selectedResourceRoleId=null,a.selectedResourceRoleLabel=null)},allowNone:!0,placeHolder:i18n("Standard "+a.resourceRoleType)});a.resourceRoleSelect.placeAt(a.resourceRoleAttach)},addTeamWithResourceRole:function(a,c,e,f,j){var o=this,k=a;c&&(k+=" "+i18n("(as %s)",c));var q=!1;j||d.forEach(o.teams,function(a){o.matchResourceRoleIds(a.resourceRoleId,f)&&a.teamId===e&&(q=!0)});if(!1===q){var z=e+"|"+f,a=b.create("div",{"class":"inlineBlock tagBox",id:z});b.create("div",{className:"inline-block tagName",
innerHTML:k.escape()},a);o.isReadOnly()||(k=b.create("div",{className:"inline-block tagDelete",innerHTML:"x"},a),h(k,"click",function(){o.teams=d.filter(o.teams,function(a){return!o.matchResourceRoleIds(a.resourceRoleId,f)||a.teamId!==e});b.destroy(z);if(o.onChanged)o.onChanged(o.teams)}));j||o.teams.push({resourceRoleId:f,teamId:e});b.place(a,o.teamsAttach);if(o.onChanged)o.onChanged(o.teams)}else n({message:i18n("A mapping with that team (%1) and subtype (%2) already exists",a,!c?i18n("Standard %s",
o.resourceRoleType):c)})},displayTeams:function(){var a=this;a.teams?d.forEach(a.teams,function(b){a.addTeamWithResourceRole(b.teamLabel,b.resourceRoleLabel,b.teamId,b.resourceRoleId,!0)}):(a.teamsAttach.innerHTML=i18n("No Teams"),a.teams=[])},isReadOnly:function(){var a=!1;this.readOnly&&(a=!0);return a},hide:function(b){b&&a.add(b,"hidden")},show:function(b){b&&a.remove(b,"hidden")},matchResourceRoleIds:function(a,b){var c=!1;if(a===b||!a&&!b)c=!0;return c}})})},"dojo/cache":function(){define(["./_base/kernel",
"./text"],function(l){return l.cache})},"deploy/widgets/process/request/ExecutionLog":function(){define("dijit/form/Button,dijit/form/CheckBox,dijit/_Widget,dijit/_TemplatedMixin,dijit/registry,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/dom,dojo/dom-class,dojo/dom-construct,dojo/dom-style,dojo/on,dojo/dom-geometry,dojo/mouse,dojo/query,deploy/widgets/process/request/ExecutionLogFormatters,deploy/widgets/approval/ApprovalRevocationDialog,deploy/widgets/Popup,js/webext/widgets/GenericConfirm,js/webext/widgets/Alert,js/webext/widgets/form/MenuButton,js/webext/widgets/table/TreeTable,js/webext/widgets/Dialog".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u,x,v,y,A){return d([k,j],{templateString:'<div class="executionLog"><div data-dojo-attach-point="approvalAttach" style="margin-bottom: 15px;"><div class="containerLabel" data-dojo-attach-point="approvalHeader"></div><div data-dojo-attach-point="approvalGridAttach" class="hidden"></div><div data-dojo-attach-point="approvalControlsAttach"></div></div><div data-dojo-attach-point="executionAttach"><div class="containerLabel" data-dojo-attach-point="executionHeader"></div><div class="execution-log-timeline" data-dojo-attach-point="timelineAttach"></div><div class="execution-log-timeline-spacer" data-dojo-attach-point="timelineSpacer"></div><div data-dojo-attach-point="gridAttach" class="hidden"></div><div data-dojo-attach-point="executionControlsAttach" style="margin-top: 10px; margin-bottom: 150px;"></div></div></div>',
postCreate:function(){this.inherited(arguments);this.approvalHeader.innerHTML=i18n("Approval Progress");this.executionHeader.innerHTML=i18n("Execution");this.approvalId?this.loadApproval():a.add(this.approvalAttach,"hidden");this.loadExecution()},loadApproval:function(){var a=this;c.get({url:bootstrap.restUrl+"approval/approval/"+this.approvalId+"/withTrace",handleAs:"json",load:function(b){a.approval=b;a.showApprovalLog()}})},loadExecution:function(){var a=this;c.get({url:this.requestTraceUrl,handleAs:"json",
load:function(b){a.rootActivity=b;a.loadTimelineElement={};a.showExecutionLog()}})},showApprovalLog:function(){var b=this;h.empty(b.approvalControlsAttach);b.approvalGrid&&h.empty(b.approvalGrid.buttonAttach);if(b.approval.activity&&b.approval.activity.children)b.approvalGrid?(b.approvalGrid.data=b.approval.activity.children,b.approvalGrid.refresh()):(a.remove(b.approvalGridAttach,"hidden"),b.approvalGrid=new A({data:b.approval.activity.children,orderField:"graphPosition",serverSideProcessing:!1,
hideExpandCollapse:!0,hideFooter:!0,columns:[{name:i18n("Task"),formatter:function(a){return t.nameFormatter(a)},orderField:"graphPosition",getRawValue:function(a){var b=a.name;a.graphPosition&&(b=Number(a.graphPosition));return b}},{name:i18n("Target"),formatter:function(a){return t.approvalTargetFormatter(a)}},{name:i18n("Required Role"),formatter:function(a){return t.roleFormatter(a)}},{name:i18n("Start Time"),formatter:function(a){if(a.startDate)return util.dateFormatShort(a.startDate)},getRawValue:function(a){var b=
0;a.startDate&&(b=Number(a.startDate));return b},orderField:"startDate"},{name:i18n("Status"),formatter:function(a,b,c){return t.statusFormatter(a,c)}},{name:i18n("Completed By"),formatter:function(a){return t.taskCompletedByFormatter(a)}},{name:i18n("Actions"),formatter:function(a){return t.actionsFormatter(a)}}]}),b.approvalGrid.placeAt(b.approvalGridAttach));if(b.approval.failedBy){var c=document.createElement("div");c.className="failureBox";c.innerHTML=i18n("Approval was revoked by %s on %s.",
b.approval.failedBy,util.dateFormatShort(b.approval.failedDate));b.approvalControlsAttach.appendChild(c)}else if(b.approvalGrid&&!b.approval.failed&&!b.approval.cancelled&&b.rootActivity&&!b.rootActivity.children&&b.approval.finished&&!b.rootActivity.error)(new l({label:i18n("Revoke Approval"),showTitle:!1,onClick:function(){w({applicationProcessRequestId:b.approval.appRequest?b.approval.appRequest.id:null,componentProcessRequestId:b.approval.compRequest?b.approval.compRequest.id:null})}})).placeAt(b.approvalGrid.buttonAttach),
b.approvalGridAttach.style.marginTop="5px";c=b.approval.activity;c.error?h.create("div",{innerHTML:c.error.escape()},b.approvalControlsAttach):(!c.state||"EXECUTING"===c.state||"INITIALIZED"===c.state)&&setTimeout(function(){b.loadApproval()},3E3)},showExecutionLog:function(){var d=this;b.byId("processControlLinks")&&h.destroy("processControlLinks");d.timeout&&clearTimeout(d.timeout);h.empty(d.executionControlsAttach);d.grid&&h.empty(d.grid.buttonAttach);if(d.rootActivity&&d.rootActivity.children){d.grid?
(d.grid.data=d.rootActivity.children,d.grid.refresh()):(a.remove(d.gridAttach,"hidden"),d.grid=new A({data:d.rootActivity.children,orderField:["graphPosition",null,"startDate"],serverSideProcessing:!1,hideFooter:!0,applyRowStyle:function(b,c){b.graphPosition&&b.children&&a.add(c,"rowOfInterest");a.add(c,b.id);t.statusFormatter(b,h.create("div"),c);o(c,"click",function(){a.contains(c,"selected")&&setTimeout(function(){a.remove(c,"selected")},100)});o(c,s.enter,function(){if(d.timeline&&d.timeline.elements){var h=
d.timeline.elements.step[b.id],f=[];h&&(f=d.timeline.elements.steps[h],e.forEach(f,function(b){a.add(b,"hover")}));var j=d.timeline.elements[b.id];j&&(a.add(j.bar,"hover-item"),o(c,s.leave,function(){a.remove(j.bar,"hover-item");e.forEach(f,function(b){a.remove(b,"hover")})}))}})},getChildUrl:function(a){var b="";if(!a.childUrlLoaded){a.childUrlLoaded=!0;a.componentProcessRequestId?b=bootstrap.restUrl+"workflow/componentProcessRequestChildren/"+a.componentProcessRequestId:a.childRequestId&&(b=bootstrap.restUrl+
"process/request/"+a.childRequestId+"/traceChildren");if(d.timeline&&d.timeline.elements&&d.timeline.elements.loadChild[a.componentProcessRequestId])d.timeline.elements.loadChild[a.componentProcessRequestId]();else d.loadTimelineElement[a.componentProcessRequestId]=!0;setTimeout(function(){delete a.childUrlLoaded},1E3)}return b},hasChildren:function(a){var b=!1;if(a.children&&0<a.children.length)b=!0;else if("runProcess"===a.type||"componentProcess"===a.type)if(("EXECUTING"===a.state||"CLOSED"===
a.state)&&!a.notNeeded)if(a.childRequestId||a.componentProcessRequestId)b=!0;return b},columns:[{name:i18n("Step"),formatter:function(a,b,c){b=t.nameFormatter(a,!0);(a=d.actionsFormatter(a,c))&&h.place(a,b);return b},orderField:"graphPosition",getRawValue:function(a){var b=a.name;a.graphPosition&&(b=Number(a.graphPosition));return b}},{name:i18n("Progress"),formatter:function(a,b,c){var d;a.children&&(d=t.progressFormatter(a,c));return d}},{name:i18n("Start Time"),formatter:function(a){if(a.startDate)return util.dateFormatShortSeconds(a.startDate)},
getRawValue:function(a){var b=0;a.startDate&&(b=Number(a.startDate));return b},orderField:"startDate"},{name:i18n("Duration"),formatter:function(a){var b="";a.startDate&&void 0!==a.duration&&(b=util.formatDuration(a.duration));return b}},{name:i18n("Status"),formatter:function(a){var b=h.create("div",{className:"status-cell"}),c=h.create("div",{className:"inlineBlock status-color-block"},b);h.create("div",{className:"inlineBlock status-text-cell",innerHTML:t.statusFormatter(a,c)},b);return b}}]}),
d.grid.oldExpand=d.grid.expand,d.grid.expand=function(a,b){(!b||"componentProcess"!==a.type&&"runProcess"!==a.type)&&d.grid.oldExpand(a,b)},d.grid.placeAt(d.gridAttach));h.empty(d.grid.tfootAttach);var f=h.create("tr",{"class":"executionSummaryRow"},d.grid.tfootAttach),j=h.create("td",{},f);h.create("div",{className:"cellWrapper",innerHTML:i18n("Total Execution")},j);j=h.create("td",{},f);h.create("div",{className:"cellWrapper"},j).appendChild(t.progressFormatter(d.rootActivity,j));j=h.create("td",
{},f);h.create("div",{className:"cellWrapper",innerHTML:d.rootActivity.startDate?util.dateFormatShortSeconds(d.rootActivity.startDate):i18n("Starting...")},j);j=h.create("td",{},f);h.create("div",{className:"cellWrapper",innerHTML:d.rootActivity.startDate?util.formatDuration(d.rootActivity.duration):util.formatDuration(0)},j);var j=h.create("td",{},f),j=h.create("div",{className:"cellWrapper"},j),k=h.create("div",{className:"inlineBlock status-color-block"},j);h.create("div",{className:"inlineBlock status-text-cell",
innerHTML:t.statusFormatter(d.rootActivity,k,f)},j);f=h.create("div",{id:"processControlLinks",className:"inlineBlock process-control-links"},d.grid.aboveTreeOptions);"EXECUTING"===d.rootActivity.state?(d.rootActivity.paused?(j=new l({label:i18n("Resume")}),j.placeAt(f),j.on("click",function(){d.grid.block();c.put({url:bootstrap.restUrl+"workflow/"+d.rootActivity.workflowTraceId+"/resume",handleAs:"json",load:function(){d.grid.unblock();d.loadExecution()}})})):(j=new l({label:i18n("Pause")}),j.placeAt(f),
j.on("click",function(){d.grid.block();c.put({url:bootstrap.restUrl+"workflow/"+d.rootActivity.workflowTraceId+"/pause",handleAs:"json",load:function(){d.grid.unblock();d.loadExecution()}})})),j=new l({label:i18n("Cancel")}),j.placeAt(f),j.on("click",function(){new x({message:i18n("Are you sure you want to cancel this process request?"),action:function(){d.grid.block();c.put({url:bootstrap.restUrl+"workflow/"+d.rootActivity.workflowTraceId+"/cancel",handleAs:"json",load:function(){d.grid.unblock();
d.loadExecution()},error:function(){new v({message:i18n("Could not cancel the process.")});d.grid.unblock();d.loadExecution()}})}})})):appState.applicationProcessRequest&&(j=new l({label:i18n("Repeat Request")}),j.placeAt(f),j.on("click",function(){new x({message:i18n("Are you sure you want to repeat this application process request?"),action:function(){c.put({url:bootstrap.restUrl+"deploy/applicationProcessRequest/"+appState.applicationProcessRequest.id+"/repeat",handleAs:"json",load:function(a){navBar.setHash("applicationProcessRequest/"+
a.requestId+"/log",!1,!0)}})}})}));j=new l({label:i18n("Download All Logs")});j.placeAt(f);j.on("click",function(){util.downloadFile(bootstrap.restUrl+"workflow/"+d.rootActivity.workflowTraceId+"/fullTraceWithLogs")})}else d.executionControlsAttach.innerHTML=this.approval&&this.approval.failed?i18n("Approval failed; This process request has been aborted."):i18n("Waiting to start...");if(d.rootActivity)if(d.rootActivity.error)d.executionControlsAttach.innerHTML=d.rootActivity.error.escape(),f=document.createElement("div"),
f.style.marginTop="15px",f.innerHTML=i18n("See the server log for the full error trace."),d.executionControlsAttach.appendChild(f);else if(!d.rootActivity.state||"EXECUTING"===d.rootActivity.state||"INITIALIZED"===d.rootActivity.state)d.timeout=setTimeout(function(){d.timeout=null;if(d.gridAttach){var a=n.position(d.gridAttach).h;q.set(d.executionAttach,"minHeight",a+40+"px")}d.loadExecution()},3E3);d.rootActivity&&d.rootActivity.children&&d.rootActivity.endDate&&d.showExecutionTimeline()},actionsFormatter:function(a){var b=
h.create("div",{dir:util.getUIDir(),align:util.getUIDirAlign(),"class":"tableHoverActions"}),c=[];e.forEach(t.actionsMenuFormatter(a,b),function(a){c.push(a)});if(c.length){var d=h.create("div",{className:"table-actions-container"},b);e.forEach(c,function(a){var b=h.create(a.onClick||a.href?"a":"div",{title:a.label,className:a.onClick||a.href?"linkPointer":""},d);a.showLabel&&h.create("div",{className:"inline-block",innerHTML:a.label},b);a.icon&&h.create("div",{className:"inline-block",innerHTML:a.icon},
b);a.href?b.href=a.href:a.onClick&&o(b,"click",function(){a.onClick()});a.handleNavigationError&&o(b,"click",function(){a.handleNavigationError()})})}else b=null;return b},showExecutionTimeline:function(){var b=this;h.create("div",{className:"containerLabel",innerHTML:i18n("Execution")},this.timelineAttach);var c=util.getCookie("timelineDocked");c||(c="true",util.setCookie("timelineDocked","true"));var d=h.create("div",{className:"timeline-dock-checkbox-container"},this.timelineAttach),c=new m({name:"isAuthorized",
checked:"true"===c,onChange:function(){util.setCookie("timelineDocked",this.checked);if(a.contains(b.timelineAttach,"timeline-fixed-position"))a.remove(b.timelineAttach,"timeline-fixed-position"),a.remove(b.executionHeader,"timeline-fixed-position"),b.timelineSpacer.style.height="0px"}});c.placeAt(d);h.create("label",{"for":c.get("id"),innerHTML:i18n("Dock timeline at top")},d);util.getCookie("timelineExpanded")?"false"===util.getCookie("timelineExpanded")&&a.add(b.timelineAttach,"timeline-collapsed"):
util.setCookie("timelineExpanded","true");d=h.create("div",{className:"timeline-expander"},this.timelineAttach);o(d,"click",function(){"false"===util.getCookie("timelineExpanded")?(util.setCookie("timelineExpanded","true"),a.remove(b.timelineAttach,"timeline-collapsed"),b.toggleExpandTimeline(!0)):(util.setCookie("timelineExpanded","false"),a.add(b.timelineAttach,"timeline-collapsed"),b.toggleExpandTimeline(!1))});d=this.rootActivity.children;c=this.rootActivity;if(0<d.length)this.timeline={start:c.startDate,
end:c.endDate,totalEnd:c.endDate-c.startDate,duration:c.duration,maxHeight:1,heightSection:"true"===util.getCookie("timelineExpanded")?31:11,marginTopSection:"true"===util.getCookie("timelineExpanded")?10:25,line:h.create("div",{className:"timeline-container"},this.timelineAttach),elements:{iconStep:{},loadChild:{},step:{},steps:{},stepContainers:[]}};this._buildTimelineHeader();var f=1;e.forEach(d,function(a){3===f&&(f=1);b._createTimelineContainer(a,null,null,f);f++});this._buildTimelineBackground();
window&&o(window,"scroll",function(){if("true"===util.getCookie("timelineDocked"))try{var c=n.position(b.domNode);if(c&&8>c.y){if(!a.contains(b.timelineAttach,"timeline-fixed-position")&&(a.add(b.timelineAttach,"timeline-fixed-position"),a.add(b.executionHeader,"timeline-fixed-position"),b.timeline&&b.timeline.maxHeight))b.timelineSpacer.style.height=b.timeline.maxHeight*b.timeline.heightSection+65+"px"}else if(a.contains(b.timelineAttach,"timeline-fixed-position"))a.remove(b.timelineAttach,"timeline-fixed-position"),
a.remove(b.executionHeader,"timeline-fixed-position"),b.timelineSpacer.style.height="0px"}catch(d){}})},toggleExpandTimeline:function(a){var b=this;a?(this.timeline.heightSection=31,this.timeline.marginTopSection=10):(this.timeline.heightSection=11,this.timeline.marginTopSection=25);e.forEach(this.timeline.elements.stepContainers,function(a){a.container.style.top=b.timeline.heightSection*a.step+b.timeline.marginTopSection+"px"});this._buildTimelineBackground()},_buildTimelineHeader:function(){var a=
h.create("div",{className:"timeline-time-container"},this.timeline.line),b=h.create("div",{className:"timeline-header-box-time-left"},a);h.create("div",{innerHTML:i18n("Start"),className:"timeline-header-label"},b);h.create("div",{innerHTML:util.dateFormatShortSeconds(this.timeline.start),className:"timeline-header-text"},b);var b=h.create("div",{className:"inlineBlock timeline-header-box-summary"},a),c=h.create("div",{className:"inlineBlock timeline-header-box"},b);h.create("div",{innerHTML:i18n("Progress"),
className:"timeline-header-label"},c);c.appendChild(t.progressFormatter(this.rootActivity,h.create("div")));c=h.create("div",{className:"inlineBlock timeline-header-box"},b);h.create("div",{innerHTML:i18n("Status"),className:"timeline-header-label"},c);var d=h.create("div",{className:"inlineBlock status-color-block"},c);h.create("div",{innerHTML:t.statusFormatter(this.rootActivity,d),className:"inlineBlock timeline-header-text"},c);b=h.create("div",{className:"inlineBlock timeline-header-box"},b);
h.create("div",{innerHTML:i18n("Duration"),className:"timeline-header-label"},b);h.create("div",{innerHTML:util.formatDuration(this.timeline.duration),className:"timeline-header-text"},b);a=h.create("div",{className:"timeline-header-box-time-right"},a);h.create("div",{innerHTML:i18n("End"),className:"timeline-header-label"},a);h.create("div",{innerHTML:util.dateFormatShortSeconds(this.timeline.end),className:"timeline-header-text"},a)},_timelineChildren:function(a,b,c,d){var h=this;if(c>this.timeline.maxHeight)this.timeline.maxHeight=
c;e.forEach(a,function(a){h._createTimelineChild(a,b,c,d)})},_createTimelineChild:function(a,b,d,e,f,j){var n=this;if(a.componentProcessRequestId||a.childRequestId){var k=h.create("div",{className:"popup-line",innerHTML:i18n("(Click bar to view child execution)")}),f=f||n._createTimelineContainer(a,b,d,e,k);j&&h.place(k,j);this.timeline.elements.loadChild[a.componentProcessRequestId]=function(){if(d+1>n.timeline.maxHeight)n.timeline.maxHeight=d+1;var f=bootstrap.restUrl,f=a.componentProcessRequestId?
f+("workflow/componentProcessRequestChildren/"+a.componentProcessRequestId):f+("process/request/"+a.childRequestId+"/children");c.get({url:f,handleAs:"json",sync:!0,load:function(a){n._timelineChildren(a,b,d+1,e);n._buildTimelineBackground();h.destroy(k)}})};if(this.loadTimelineElement[a.componentProcessRequestId])this.timeline.elements.loadChild[a.componentProcessRequestId](),this.timeline.elements.loadChild[a.componentProcessRequestId]=function(){};else var q=o(f,"click",function(){n.timeline.elements.loadChild[a.componentProcessRequestId]();
n.timeline.elements.loadChild[a.componentProcessRequestId]=function(){};q.remove()})}else n._createTimelineContainer(a,b,d,e)},_createTimelineContainer:function(b,c,d,e,f){d||(d=1);var j=h.create("div",{className:"name-label"});h.place(t.nameFormatter(b),j);var n="timeline-step-group-",n=c&&c.id?n+c.id:n+b.id,k=b.startDate,q=100*((k-this.timeline.start)/this.timeline.totalEnd),l=100*(b.duration/this.timeline.duration)-0.5||0;0>l&&(l=0);var m=h.create("div",{className:"timeline-step timeline-step-color-"+
e+" "+n,style:{marginLeft:q+"%",position:"absolute",top:this.timeline.heightSection*d+this.timeline.marginTopSection+"px",width:k?l+"%":"1px"}},this.timeline.line);c&&c.id?(this.timeline.elements.steps[c.id].push(m),this.timeline.elements.step[b.id]=c.id):(this.timeline.elements.step[b.id]=b.id,this.timeline.elements.steps[b.id]=[m]);this.timeline.elements.stepContainers.push({step:d,container:m});h.create("div",{className:"inlineBlock timeline-step-border timeline-step-border-left"},m);h.create("div",
{className:"inlineBlock timeline-step-border timeline-step-border-right"},m);o(m,s.enter,function(){var c=r("."+b.id)[0];c&&(a.add(c,"hover"),o(m,s.leave,function(){a.remove(c,"hover")}))});n=h.create("div",{className:"popup-contents-container"});h.place(j,n);if(k){q=h.create("div",{className:"popup-line"},n);h.create("div",{className:"inlineBlock popup-label",innerHTML:"Start Time: "},q);h.create("div",{className:"inlineBlock popup-text",innerHTML:util.dateFormatShortSeconds(k)},q);if(k=b.duration)q=
h.create("div",{className:"popup-line"},n),h.create("div",{className:"inlineBlock popup-label",innerHTML:"Duration: "},q),h.create("div",{className:"inlineBlock popup-text",innerHTML:util.formatDuration(k)},q);k=t.progressFormatter(b,h.create("div"),!0);"0 / 0"!==k&&(q=h.create("div",{className:"popup-line"},n),h.create("div",{className:"inlineBlock popup-label",innerHTML:"Progress: "},q),h.create("div",{className:"inlineBlock popup-text",innerHTML:k},q))}k=h.create("div",{className:"popup-line"},
n);h.create("div",{className:"inlineBlock popup-label",innerHTML:"Status: "},k);k=h.create("div",{className:"inlineBlock popup-text"},k);q=h.create("div",{className:"inlineBlock status-container"},k);q=t.statusFormatter(b,q);l=q.replace(" ","-");m.className+="timeline-step timeline-step-color-"+l.toLowerCase();h.create("span",{innerHTML:q},k);f&&h.place(f,n);f=new u({attachPoint:m,contents:n,autoWidth:!0});a.add(f.domNode,"popup"+b.id);this.timeline.elements[b.id]={bar:m,popup:f};(f=b.children)?this._timelineChildren(f,
c||b,d+1,e):b.componentProcess&&1===d&&this._createTimelineChild(b,b,d,e,m,n);c=r(".general-icon",j);e=h.create("div");e.className=c[0]?c[0].className:"process-icon execution-timeline-icon";this.timeline.elements.iconStep[d]||(this.timeline.elements.iconStep[d]=e);return m},_buildTimelineBackground:function(){this.timeline.background&&h.destroy(this.timeline.background);this.timeline.background=h.create("div",{className:"timeline-time-container timeline-background",style:{height:this.timeline.maxHeight*
this.timeline.heightSection+1+"px"}},this.timeline.line);for(var a=0;a<this.timeline.maxHeight;a++){var b=h.create("div",{className:"timeline-section"+(a===this.timeline.maxHeight-1?" bottom-timeline-section":"")},this.timeline.background),c=this.timeline.elements.iconStep[a+1];c&&(b=h.create("div",{className:"timeline-icon-section"},b),h.place(c,b))}}})})},"url:dijit/templates/Menu.html":'<table class="dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role="menu" tabIndex="${tabIndex}"\n\t   data-dojo-attach-event="onkeypress:_onKeyPress" cellspacing="0">\n\t<tbody class="dijitReset" data-dojo-attach-point="containerNode"></tbody>\n</table>\n',
"deploy/widgets/componentProcess/ComponentProcessEditManager":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/on,dojo/dom-construct,js/webext/widgets/TwoPaneListManager,deploy/widgets/componentProcess/EditComponentProcess,deploy/widgets/property/PropDefs".split(","),function(l,m,k,j,f,e,d,c){return m([e],{postCreate:function(){this.inherited(arguments);this.showList();void 0!==appState.goBack.id&&this.selectEntryById(appState.goBack.id)},showList:function(){var b=this;b.addEntry({id:"basic",
label:i18n("Basic Settings"),action:function(){b.addHeading(i18n("Basic Settings"));b.showBasicSettings()}});b.addEntry({id:"properties",label:i18n("Component Process Properties"),action:function(){b.addHeading(i18n("Component Process Properties"));b.showProperties()}})},addHeading:function(b){f.create("div",{innerHTML:b,"class":"containerLabel",style:{padding:"10px"}},this.detailAttach)},addDescription:function(b){f.create("div",{innerHTML:b,style:{marginBottom:"10px"}},this.detailAttach)},showBasicSettings:function(){var b=
!0;appState.component?b=!appState.component.security["Manage Processes"]||appState.componentProcess.version!==appState.componentProcess.versionCount:appState.componentTemplate&&(b=!appState.componentTemplate.security["Manage Processes"]||appState.componentProcess.version!==appState.componentProcess.versionCount);(new d({readOnly:b,component:appState.component,componentTemplate:appState.componentTemplate,componentProcess:appState.componentProcess})).placeAt(this.detailAttach)},showProperties:function(){var b=
!0;appState.component?b=!appState.component.security["Manage Processes"]||appState.componentProcess.version!==appState.componentProcess.versionCount:appState.componentTemplate&&(b=!appState.componentTemplate.security["Manage Processes"]||appState.componentProcess.version!==appState.componentProcess.versionCount);(new c({getUrl:bootstrap.restUrl+"deploy/componentProcess/"+appState.componentProcess.id+"/"+appState.componentProcess.version+"/propDefs",deleteUrl:bootstrap.restUrl+"deploy/componentProcess/"+
appState.componentProcess.id+"/deletePropDef/{propertyName}",saveUrl:bootstrap.restUrl+"deploy/componentProcess/"+appState.componentProcess.id+"/savePropDef",readOnly:b,refreshHash:"componentProcess/"+appState.componentProcess.id+"/-1/configuration/properties",propSheetDef:appState.componentProcess.propSheetDef,deleteHeaders:{componentProcessVersion:appState.componentProcess.version},addData:function(a){a.componentProcessVersion=appState.componentProcess.version}})).placeAt(this.detailAttach)}})})},
"dojo/dom-prop":function(){define("exports,./_base/kernel,./sniff,./_base/lang,./dom,./dom-style,./dom-construct,./_base/connect".split(","),function(l,m,k,j,f,e,d,c){var b={},a=0,h=m._scopeName+"attrid";l.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",valuetype:"valueType"};l.get=function(a,b){var a=f.byId(a),c=b.toLowerCase();return a[l.names[c]||b]};l.set=function(q,o,n){q=f.byId(q);if(2==arguments.length&&
"string"!=typeof o){for(var s in o)l.set(q,s,o[s]);return q}s=o.toLowerCase();s=l.names[s]||o;if("style"==s&&"string"!=typeof n)return e.set(q,n),q;if("innerHTML"==s)return k("ie")&&q.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(d.empty(q),q.appendChild(d.toDom(n,q.ownerDocument))):q[s]=n,q;if(j.isFunction(n)){var r=q[h];r||(r=a++,q[h]=r);b[r]||(b[r]={});var m=b[r][s];if(m)c.disconnect(m);else try{delete q[s]}catch(w){}n?b[r][s]=c.connect(q,s,n):q[s]=null;
return q}q[s]=n;return q}})},"dijit/_DialogMixin":function(){define("dijit/_DialogMixin",["dojo/_base/declare","./a11y"],function(l,m){return l("dijit._DialogMixin",null,{execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"))},_getFocusItems:function(){var k=m._getTabNavigable(this.containerNode);this._firstFocusItem=k.lowest||k.first||this.closeButtonNode||this.domNode;this._lastFocusItem=k.last||k.highest||this._firstFocusItem}})})},
"deploy/widgets/applicationTemplate/ComponentTagRequirement":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/array,dojo/on,dojo/json,dojo/mouse,dojo/_base/declare,dojo/_base/Color,dojo/_base/xhr,dojo/dom-construct,dojo/dom-class,dojo/dom-style,dojo/dom-attr,js/webext/widgets/Alert,js/webext/widgets/GenericConfirm".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o){return d([m,l],{templateString:'<div class="inlineBlock tagRequirement tagBox"><span class="tagName" data-dojo-attach-point="nameSpan"></span><select data-dojo-attach-point="requirementType" class="requirementType"><option value="EQUALS">=</option><option value="GREATER_THAN">&gt;</option><option value="LESS_THAN">&lt;</option></select><input type="text" data-dojo-attach-point="requirementNumber" class="requirementValue"><span class="tagDelete" data-dojo-attach-point="delSpan" title="'+
i18n("Delete")+'">x</span></div>',postCreate:function(){this.inherited(arguments);var a=this.tag;null!==util.getIE()&&h.add(this.domNode,"ieTagRequirement");this.nameSpan.textContent=a.name;this.requirementNumber.value=this.number;this.requirementType.value=this.type;var b=this.getShade(a.color);q.set(this.domNode,"backgroundColor",a.color);q.set(this.domNode,"borderColor",b);q.set(this.delSpan,"borderColor",b);this._isDark(a.color)&&h.add(this.domNode,"darkColor");this.readOnly&&(q.set(this.delSpan,
"display","none"),o.set(this.requirementType,"disabled","disabled"),o.set(this.requirementNumber,"disabled","disabled"));j(this.delSpan,"click",this.deleteHandler)},_getValueAttr:function(){return{name:this.tag.name,type:this.requirementType.value,number:this.requirementNumber.value}},_isDark:function(a){a=(new c(a)).toRgb();return 0.5<1-(0.25*a[0]+0.6*a[1]+0.1*a[2])/255},getShade:function(a){var a=(new c(a)).toRgb(),b=[];k.forEach(a,function(a){b.push(0.6*a)});return c.fromArray(b).toHex()}})})},
"dijit/form/_CheckBoxMixin":function(){define("dijit/form/_CheckBoxMixin",["dojo/_base/declare","dojo/dom-attr","dojo/_base/event"],function(l,m,k){return l("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:!1,_aria_attr:"aria-checked",_setReadOnlyAttr:function(j){this._set("readOnly",j);m.set(this.focusNode,"readOnly",j)},_setLabelAttr:void 0,_getSubmitValue:function(j){return null==j||""===j?"on":j},_setValueAttr:function(j){j=this._getSubmitValue(j);this._set("value",j);m.set(this.focusNode,
"value",j)},reset:function(){this.inherited(arguments);this._set("value",this._getSubmitValue(this.params.value));m.set(this.focusNode,"value",this.value)},_onClick:function(j){return this.readOnly?(k.stop(j),!1):this.inherited(arguments)}})})},"deploy/widgets/resource/ResourceResourceTree":function(){define(["dojo/_base/declare","dojo/dom-class","js/webext/widgets/form/MenuButton","deploy/widgets/resource/ResourceTree"],function(l,m,k,j){return l([j],{addTopButtons:function(){if(config.data.permissions[security.system.createResources]){var f=
this.getCreateOptions(),f=new k({label:i18n("Create ..."),options:f});m.add(f.domNode,"idxButtonSpecial");f.placeAt(this.buttonAttach)}},getCreateOptions:function(){var f=this,e=[],d=this.resource;if(d){var c={label:i18n("Group Resource"),onClick:function(){f.showNewResourceDialog(d)}};e.push(c);(!d.type||!("agent"===d.type.toLowerCase()||"agent pool"===d.type.toLowerCase()))&&!d.role?(c={label:i18n("Agent"),onClick:function(){f.showNewResourceDialog(d,"agent")}},e.push(c),c={label:i18n("Agent Pool"),
onClick:function(){f.showNewResourceDialog(d,"agentPool")}}):c={label:i18n("Component"),onClick:function(){f.showNewResourceDialog(d,"component")}};e.push(c)}return e}})})},"deploy/widgets/applicationProcess/ApplicationProcessEditManager":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/on,dojo/dom-construct,js/webext/widgets/TwoPaneListManager,deploy/widgets/applicationProcess/EditApplicationProcess,deploy/widgets/property/PropDefs".split(","),function(l,m,k,j,f,e,d,c){return m([e],
{postCreate:function(){this.inherited(arguments);this.showList();void 0!==appState.goBack.id&&this.selectEntryById(appState.goBack.id)},showList:function(){var b=this;b.addEntry({id:"basic",label:i18n("Basic Settings"),action:function(){b.addHeading(i18n("Basic Settings"));b.showBasicSettings()}});b.addEntry({id:"properties",label:i18n("Application Process Properties"),action:function(){b.addHeading(i18n("Application Process Properties"));b.showProperties()}})},addHeading:function(b){f.create("div",
{innerHTML:b,"class":"containerLabel",style:{padding:"10px"}},this.detailAttach)},addDescription:function(b){f.create("div",{innerHTML:b,style:{marginBottom:"10px"}},this.detailAttach)},showBasicSettings:function(){(new d({readOnly:!this.hasManageProcessesPermission()||!this.hasLatestVersion(),application:appState.application,applicationTemplate:this.applicationTemplate,applicationProcess:appState.applicationProcess})).placeAt(this.detailAttach)},showProperties:function(){(new c({getUrl:bootstrap.restUrl+
"deploy/applicationProcess/"+appState.applicationProcess.id+"/"+appState.applicationProcess.version+"/propDefs",deleteUrl:bootstrap.restUrl+"deploy/applicationProcess/"+appState.applicationProcess.id+"/deletePropDef/{propertyName}",saveUrl:bootstrap.restUrl+"deploy/applicationProcess/"+appState.applicationProcess.id+"/savePropDef",readOnly:!this.hasManageProcessesPermission()||!this.hasLatestVersion(),refreshHash:"applicationProcess/"+appState.applicationProcess.id+"/-1/configuration/properties",
propSheetDef:appState.applicationProcess.propSheetDef,deleteHeaders:{applicationProcessVersion:appState.applicationProcess.version},addData:function(b){b.applicationProcessVersion=appState.applicationProcess.version}})).placeAt(this.detailAttach)},hasManageProcessesPermission:function(){var b=!1;this.application?b=this.application.security["Manage Processes"]:this.applicationTemplate&&(b=this.applicationTemplate.security["Manage Processes"]);return b},hasLatestVersion:function(){return appState.applicationProcess.version===
appState.applicationProcess.versionCount}})})},"dojo/_base/json":function(){define(["./kernel","../json"],function(l,m){l.fromJson=function(k){return eval("("+k+")")};l._escapeString=m.stringify;l.toJsonIndentStr="\t";l.toJson=function(k,j){return m.stringify(k,function(f,e){if(e){var d=e.__json__||e.json;if("function"==typeof d)return d.call(e)}return e},j&&l.toJsonIndentStr)};return l})},"deploy/widgets/applicationTemplate/ApplicationTemplateList":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Select,dijit/form/Button,dijit/form/CheckBox,dojo/_base/declare,dojo/_base/xhr,dojo/_base/array,dojo/dom-class,dojo/dom-geometry,dojo/dom-construct,dojo/on,deploy/widgets/applicationTemplate/EditApplicationTemplate,deploy/widgets/Formatters,js/webext/widgets/Alert,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/form/MenuButton,js/util/blocker/BlockingContainer,js/webext/widgets/table/TreeTable,dojo/io/iframe".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u,x,v){return e("deploy.widgets.application.ApplicationTemplateList",[m,l],{templateString:'<div class="applicationTemplateList"><div class="listTopButtons" data-dojo-attach-point="buttonAttach"></div><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);this.addTopButtons();this.makeTable()},makeTable:function(){var b=this;this.grid=new x({url:bootstrap.restUrl+"deploy/applicationTemplate",serverSideProcessing:!1,
noDataMessage:i18n("No application templates found."),tableConfigKey:"applicationTemplateList",hidePagination:!1,hideExpandCollapse:!0,columns:[{name:i18n("Name"),formatter:function(c,d,e){e.style.position="relative";d=h.create("div",{"class":"inlineBlock",style:"margin-"+(a.isBodyLtr()?"right":"left")+":130px;"});e=h.create("div",{"class":"inlineBlock"});h.place(e,d);var f=n.applicationTemplateLinkFormatter(c);h.place(f,e);h.place(b.actionsFormatter(c),d);return d},orderField:"name",filterField:"name",
filterType:"text",getRawValue:function(a){return a.name}},{name:i18n("Description"),field:"description"},{name:i18n("Created"),field:"created",formatter:util.tableDateFormatter,orderField:"created",getRawValue:function(a){return new Date(a.created)}},{name:i18n("By"),field:"user",orderField:"user",getRawValue:function(a){return a.user}}]});this.grid.placeAt(this.gridAttach)},addTopButtons:function(){var a=this;if(config.data.permissions[security.system.createApplicationTemplates]){var c={label:i18n("Create Application Template"),
showTitle:!1,onClick:function(){a.showNewApplicationTemplateDialog()}},c=(new j(c)).placeAt(this.buttonAttach);b.add(c.domNode,"idxButtonSpecial");c={label:i18n("Import Application Template"),showTitle:!1,onClick:function(){a.showImportApplicationTemplateDialog()}};(new j(c)).placeAt(this.buttonAttach)}},addEditActions:function(a,b){var c=this;(new j({showTitle:!1,iconClass:"editIcon",title:i18n("Edit"),onClick:function(){c.editApplicationTemplate(a)}})).placeAt(b)},getRowWriteActions:function(a){var b=
this;return[{label:i18n("Delete"),onClick:function(){b.confirmDelete(a)}}]},getRowReadActions:function(a){return[{label:i18n("Export"),onClick:function(){util.downloadFile(bootstrap.restUrl+"deploy/applicationTemplate/"+a.id+"/export")}}]},actionsFormatter:function(a){var b=h.create("div",{dir:util.getUIDir(),align:util.getUIDirAlign(),"class":"tableHoverActions"}),d=[];a.security.read&&c.forEach(this.getRowReadActions(a),function(a){d.push(a)});a.security["Edit Basic Settings"]&&(this.addEditActions(a,
b),c.forEach(this.getRowWriteActions(a),function(a){d.push(a)}));d.length&&(new w({options:d,label:i18n("Actions...")})).placeAt(b);return b},editApplicationTemplate:function(a){var b=this;d.get({url:bootstrap.restUrl+"deploy/applicationTemplate/"+a.id,handleAs:"json",load:function(a){var c=new r({title:i18n("Edit Application Template"),closable:!0,draggable:!0});(new o({applicationTemplate:a,readOnly:!a.security["Edit Basic Settings"],noRedirect:!0,callback:function(){c.hide();c.destroy();b.grid.refresh()},
cancelCallback:function(){c.hide();c.destroy()}})).placeAt(c);c.show()},error:function(a){(new r({title:i18n("Error retrieving application template for edit."),content:util.escape(a.responseText),closable:!0,draggable:!0})).show()}})},confirmDelete:function(a){var b=this;new t({message:i18n("Are you sure you want to delete %s? This will permanently delete it from the system.",a.name.escape()),action:function(){b.grid.block();d.del({url:bootstrap.restUrl+"deploy/applicationTemplate/"+a.id,handleAs:"json",
load:function(){b.grid.unblock();b.grid.refresh()},error:function(a){(new r({title:i18n("Error deleting application template"),content:util.escape(a.responseText),closable:!0,draggable:!0})).show();b.grid.unblock()}})}})},destroy:function(){this.inherited(arguments);this.grid.destroy()},showImportApplicationTemplateDialog:function(){var a=this,b=new u,c=new r({title:i18n("Import Application Template"),closable:!0,draggable:!0});b.placeAt(c.containerNode);a.importIsUpgrade=!1;var d=h.create("form",
{target:"formTarget",method:"Post",enctype:"multipart/form-data",encoding:"multipart/form-data"}),e=h.create("div",{className:"filInputContainer"}),o=h.create("input",{type:"file",name:"file",className:"fileInput"});h.place(o,e);var n=h.create("div",{className:"labelsAndValues-row"}),q=h.create("div",{className:"labelsAndValues-valueCell inlineBlock"}),l=h.create("label",{"for":"upgradeApplication",className:"labelsAndValues-labelCell inlineBlock",innerHTML:i18n("Upgrade Application Template")});
(new f({name:"upgradeApplication",checked:!1,onChange:function(){a.importIsUpgrade=this.get("checked");a.setFormAction(d)}})).placeAt(q);n.appendChild(l);n.appendChild(q);var q=h.create("div",{className:"labelsAndValues-row"}),l=h.create("div",{className:"labelsAndValues-valueCell inlineBlock"}),m=h.create("div",{className:"labelsAndValues-labelCell inlineBlock",innerHTML:i18n("Generic Process Upgrade Type")}),t=new k({name:"processUpgradeTypeInput",options:[{label:i18n("Use Existing Process"),value:"USE_EXISTING_IF_EXISTS"},
{label:i18n("Create Process"),value:"CREATE_NEW_IF_EXISTS"},{label:i18n("Fail If Process Exists"),value:"FAIL_IF_EXISTS"},{label:i18n("Fail If Process Does Not Exist"),value:"FAIL_IF_DOESNT_EXIST"},{label:i18n("Upgrade Process If Exists"),value:"UPGRADE_IF_EXISTS"}],onChange:function(){a.processUpgradeType=this.get("value");a.setFormAction(d)}});a.processUpgradeType=t.get("value");t.placeAt(l);q.appendChild(m);q.appendChild(l);var l=h.create("div",{className:"labelsAndValues-row"}),m=h.create("div",
{className:"labelsAndValues-valueCell inlineBlock"}),t=h.create("div",{className:"labelsAndValues-labelCell inlineBlock",innerHTML:i18n("Resource Template Upgrade Type")}),x=new k({name:"resourceTemplateUpgradeTypeInput",options:[{label:i18n("Use Existing Resource Template"),value:"USE_EXISTING_IF_EXISTS"},{label:i18n("Create Resource Template"),value:"CREATE_NEW_IF_EXISTS"},{label:i18n("Fail If Resource Template Exists"),value:"FAIL_IF_EXISTS"},{label:i18n("Fail If Resource Template Does Not Exist"),
value:"FAIL_IF_DOESNT_EXIST"},{label:i18n("Upgrade Resource Template If Exists"),value:"UPGRADE_IF_EXISTS"}],onChange:function(){a.resourceTemplateUpgradeType=this.get("value");a.setFormAction(d)}});a.resourceTemplateUpgradeType=x.get("value");x.placeAt(m);l.appendChild(t);l.appendChild(m);m=h.create("div",{style:"display:block; margin-top:10px;"});(new j({label:i18n("Submit"),type:"submit"})).placeAt(m);d.appendChild(n);d.appendChild(q);d.appendChild(l);d.appendChild(e);d.appendChild(m);b.containerNode.appendChild(d);
d.onsubmit=function(){var e=!0;o.value?(b.block(),a.setFormAction(d),v.send({form:d,handleAs:"json",load:function(d){b.unblock();"ok"===d.status?(c.hide(),c.destroy(),a.grid.refresh()):(new s({message:i18n("Error importing application template: %s",util.escape(d.error||""))})).startup()},error:function(a){b.unblock();(new s({message:i18n("Error importing application template: %s",util.escape(a.error||""))})).startup()}})):(new s({message:i18n("Please choose a template json file to import.")}),e=!1);
return e};c.show()},setFormAction:function(a){var b=util.getCookie(bootstrap.expectedSessionCookieName);a.action=bootstrap.restUrl+"deploy/applicationTemplate/import?"+bootstrap.expectedSessionCookieName+"="+b+"&processUpgradeType="+this.processUpgradeType+"&resourceTemplateUpgradeType="+this.resourceTemplateUpgradeType+"&isUpgrade="+this.importIsUpgrade},showNewApplicationTemplateDialog:function(){var a=new r({title:i18n("Create Application Template"),closable:!0,draggable:!0});(new o({callback:function(){a.hide();
a.destroy()}})).placeAt(a.containerNode);a.show()}})})},"dojox/calendar/Mouse":function(){define("dojox/calendar/Mouse","dojo/_base/array,dojo/_base/declare,dojo/_base/event,dojo/_base/lang,dojo/_base/window,dojo/dom-geometry,dojo/mouse,dojo/on,dojo/keys".split(","),function(l,m,k,j,f,e,d,c){return m("dojox.calendar.Mouse",null,{triggerExtent:3,postMixInProperties:function(){this.inherited(arguments);this.on("rendererCreated",j.hitch(this,function(b){var a=b.renderer,e;if(!a.__handles)a.__handles=
[];e=c(a.domNode,"click",j.hitch(this,function(b){k.stop(b);this._onItemClick({triggerEvent:b,renderer:a,item:this.renderItemToItem(a.item,this.get("store"))})}));a.__handles.push(e);e=c(a.domNode,"dblclick",j.hitch(this,function(b){k.stop(b);this._onItemDoubleClick({triggerEvent:b,renderer:a,item:this.renderItemToItem(a.item,this.get("store"))})}));a.__handles.push(e);e=c(a.domNode,"contextmenu",j.hitch(this,function(b){this._onItemContextMenu({triggerEvent:b,renderer:a,item:this.renderItemToItem(a.item,
this.get("store"))})}));a.__handles.push(e);a.resizeStartHandle&&(e=c(a.resizeStartHandle,"mousedown",j.hitch(this,function(b){this._onRendererHandleMouseDown(b,a,"resizeStart")})),a.__handles.push(e));a.moveHandle&&(e=c(a.moveHandle,"mousedown",j.hitch(this,function(b){this._onRendererHandleMouseDown(b,a,"move")})),a.__handles.push(e));a.resizeEndHandle&&(e=c(a.resizeEndHandle,"mousedown",j.hitch(this,function(b){this._onRendererHandleMouseDown(b,a,"resizeEnd")})),a.__handles.push(e));e=c(a.domNode,
"mousedown",j.hitch(this,function(b){this._rendererMouseDownHandler(b,a)}));a.__handles.push(e);e=c(b.container,d.enter,j.hitch(this,function(c){a.item&&!this._editingGesture&&(this._setHoveredItem(a.item.item,b.renderer),this._onItemRollOver(this.__fixEvt({item:this.renderItemToItem(a.item,this.get("store")),renderer:a,triggerEvent:c})))}));a.__handles.push(e);e=c(a.domNode,d.leave,j.hitch(this,function(b){a.item&&!this._editingGesture&&(this._setHoveredItem(null),this._onItemRollOut(this.__fixEvt({item:this.renderItemToItem(a.item,
this.get("store")),renderer:a,triggerEvent:b})))}));a.__handles.push(e)}))},_onItemRollOver:function(b){this._dispatchCalendarEvt(b,"onItemRollOver")},onItemRollOver:function(){},_onItemRollOut:function(b){this._dispatchCalendarEvt(b,"onItemRollOut")},onItemRollOut:function(){},_rendererMouseDownHandler:function(b,a){k.stop(b);var c=this.renderItemToItem(a.item,this.get("store"));this.selectFromEvent(b,c,a,!0);this._setTabIndexAttr&&this[this._setTabIndexAttr].focus()},_onRendererHandleMouseDown:function(b,
a,d){k.stop(b);this.showFocus=!1;var e=a.item.item;if(!this.isItemBeingEdited(e))this._isEditing&&this._endItemEditing("mouse",!1),this.selectFromEvent(b,this.renderItemToItem(a.item,this.get("store")),a,!0),this._setTabIndexAttr&&this[this._setTabIndexAttr].focus(),this._edProps={editKind:d,editedItem:e,rendererKind:a.rendererKind,tempEditedItem:e,liveLayout:this.liveLayout},this.set("focusedItem",this._edProps.editedItem);a=[];a.push(c(f.doc,"mouseup",j.hitch(this,this._editingMouseUpHandler)));
a.push(c(f.doc,"mousemove",j.hitch(this,this._editingMouseMoveHandler)));e=this._edProps;e.handles=a;e.eventSource="mouse";e.editKind=d;this._startPoint={x:b.screenX,y:b.screenY}},_editingMouseMoveHandler:function(b){var a=this._edProps;if(this._editingGesture)this._autoScroll(b.pageX,b.pageY,!0)||this._moveOrResizeItemGesture([this.getTime(b)],"mouse",b);else if(Math.abs(this._startPoint.x-b.screenX)>=this.triggerExtent||Math.abs(this._startPoint.y-b.screenY)>=this.triggerExtent)this._isEditing||
this._startItemEditing(a.editedItem,"mouse"),a=this._edProps,this._startItemEditingGesture([this.getTime(b)],a.editKind,"mouse",b)},_editingMouseUpHandler:function(b){var a=this._edProps;this._stopAutoScroll();this._isEditing?(this._editingGesture&&this._endItemEditingGesture("mouse",b),this._endItemEditing("mouse",!1)):l.forEach(a.handles,function(a){a.remove()})},_autoScroll:function(b,a,c){if(!this.scrollable||!this.autoScroll)return!1;var d=e.position(this.scrollContainer,!0),b=c?a-d.y:b-d.x,
c=c?d.h:d.w;if(0>b||b>c)return step=Math.floor((0>b?b:b-c)/2)/3,this._startAutoScroll(step),!0;this._stopAutoScroll();return!1}})})},"deploy/widgets/workflow/activity/EachAgentIteratorActivity":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/on","deploy/widgets/workflow/activity/BaseActivity"],function(l,m,k,j){return m([j],{postCreate:function(){this.inherited(arguments);this.isContainer=!0;if(!this.initialized)this.data.name=util.randomString(30),this.initialized=!0},getLabel:function(){return i18n("For Every Agent...")},
getStyle:function(){return"parallelStyle"},canEdit:function(){return!1},canDelete:function(){return!0},canCopy:function(){return!1}})})},"dijit/form/_Spinner":function(){require({cache:{"url:dijit/form/templates/Spinner.html":'<div class="dijit dijitReset dijitInline dijitLeft"\n\tid="widget_${id}" role="presentation"\n\t><div class="dijitReset dijitButtonNode dijitSpinnerButtonContainer"\n\t\t><input class="dijitReset dijitInputField dijitSpinnerButtonInner" type="text" tabIndex="-1" readonly="readonly" role="presentation"\n\t\t/><div class="dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitUpArrowButton"\n\t\t\tdata-dojo-attach-point="upArrowNode"\n\t\t\t><div class="dijitArrowButtonInner"\n\t\t\t\t><input class="dijitReset dijitInputField" value="&#9650; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t\t><div class="dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitDownArrowButton"\n\t\t\tdata-dojo-attach-point="downArrowNode"\n\t\t\t><div class="dijitArrowButtonInner"\n\t\t\t\t><input class="dijitReset dijitInputField" value="&#9660; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t></div\n\t><div class=\'dijitReset dijitValidationContainer\'\n\t\t><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n\t/></div\n\t><div class="dijitReset dijitInputField dijitInputContainer"\n\t\t><input class=\'dijitReset dijitInputInner\' data-dojo-attach-point="textbox,focusNode" type="${type}" data-dojo-attach-event="onkeypress:_onKeyPress"\n\t\t\trole="spinbutton" autocomplete="off" ${!nameAttrSetting}\n\t/></div\n></div>\n'}});
define("dijit/form/_Spinner","dojo/_base/declare,dojo/_base/event,dojo/keys,dojo/_base/lang,dojo/sniff,dojo/mouse,../typematic,./RangeBoundTextBox,dojo/text!./templates/Spinner.html,./_TextBoxMixin".split(","),function(l,m,k,j,f,e,d,c,b,a){return l("dijit.form._Spinner",c,{defaultTimeout:500,minimumTimeout:10,timeoutChangeRate:0.9,smallDelta:1,largeDelta:10,templateString:b,baseClass:"dijitTextBox dijitSpinner",cssStateNodes:{upArrowNode:"dijitUpArrowButton",downArrowNode:"dijitDownArrowButton"},
adjust:function(a){return a},_arrowPressed:function(b,c,d){!this.disabled&&!this.readOnly&&(this._setValueAttr(this.adjust(this.get("value"),c*d),!1),a.selectInputText(this.textbox,this.textbox.value.length))},_arrowReleased:function(){this._wheelTimer=null},_typematicCallback:function(a,b,c){var d=this.smallDelta;if(b==this.textbox)b=c.charOrCode,d=b==k.PAGE_UP||b==k.PAGE_DOWN?this.largeDelta:this.smallDelta,b=b==k.UP_ARROW||b==k.PAGE_UP?this.upArrowNode:this.downArrowNode;-1==a?this._arrowReleased(b):
this._arrowPressed(b,b==this.upArrowNode?1:-1,d)},_wheelTimer:null,_mouseWheeled:function(a){m.stop(a);var b=a.wheelDelta/120;Math.floor(b)!=b&&(b=0<a.wheelDelta?1:-1);a=a.detail?-1*a.detail:b;if(0!==a){var c=this[0<a?"upArrowNode":"downArrowNode"];this._arrowPressed(c,a,this.smallDelta);this._wheelTimer&&this._wheelTimer.remove();this._wheelTimer=this.defer(function(){this._arrowReleased(c)},50)}},_setConstraintsAttr:function(a){this.inherited(arguments);this.focusNode&&(void 0!==this.constraints.min?
this.focusNode.setAttribute("aria-valuemin",this.constraints.min):this.focusNode.removeAttribute("aria-valuemin"),void 0!==this.constraints.max?this.focusNode.setAttribute("aria-valuemax",this.constraints.max):this.focusNode.removeAttribute("aria-valuemax"))},_setValueAttr:function(a,b){this.focusNode.setAttribute("aria-valuenow",a);this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,e.wheel,"_mouseWheeled");this.own(d.addListener(this.upArrowNode,
this.textbox,{charOrCode:k.UP_ARROW,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),d.addListener(this.downArrowNode,this.textbox,{charOrCode:k.DOWN_ARROW,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),d.addListener(this.upArrowNode,this.textbox,{charOrCode:k.PAGE_UP,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",
this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),d.addListener(this.downArrowNode,this.textbox,{charOrCode:k.PAGE_DOWN,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout))}})})},"dijit/Menu":function(){define("dijit/Menu","require,dojo/_base/array,dojo/_base/declare,dojo/_base/event,dojo/dom,dojo/dom-attr,dojo/dom-geometry,dojo/dom-style,dojo/keys,dojo/_base/lang,dojo/on,dojo/sniff,dojo/_base/window,dojo/window,./popup,./DropDownMenu,dojo/ready".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t){q("dijit-legacy-requires")&&t(0,function(){l(["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"])});return k("dijit.Menu",r,{constructor:function(){this._bindings=[]},targetNodeIds:[],selector:"",contextMenuForWindow:!1,leftClickToOpen:!1,refocus:!0,postCreate:function(){this.contextMenuForWindow?this.bindDomNode(this.ownerDocumentBody):m.forEach(this.targetNodeIds,this.bindDomNode,this);this.inherited(arguments)},_iframeContentWindow:function(a){return n.get(this._iframeContentDocument(a))||
this._iframeContentDocument(a).__parent__||a.name&&o.doc.frames[a.name]||null},_iframeContentDocument:function(a){return a.contentDocument||a.contentWindow&&a.contentWindow.document||a.name&&o.doc.frames[a.name]&&o.doc.frames[a.name].document||null},bindDomNode:function(c){var c=f.byId(c,this.ownerDocument),d;if("iframe"==c.tagName.toLowerCase()){var n=c,k=this._iframeContentWindow(n);d=o.body(k.document)}else d=c==o.body(this.ownerDocument)?this.ownerDocument.documentElement:c;var q={node:c,iframe:n};
e.set(c,"_dijitMenu"+this.id,this._bindings.push(q));var r=a.hitch(this,function(a){var c=this.selector,d=c?function(a){return h.selector(c,a)}:function(a){return a},e=this;return[h(a,d(this.leftClickToOpen?"click":"contextmenu"),function(a){j.stop(a);e._scheduleOpen(this,n,{x:a.pageX,y:a.pageY})}),h(a,d("keydown"),function(a){a.shiftKey&&a.keyCode==b.F10&&(j.stop(a),e._scheduleOpen(this,n))})]});q.connects=d?r(d):[];if(n)q.onloadHandler=a.hitch(this,function(){var a=this._iframeContentWindow(n);
d=o.body(a.document);q.connects=r(d)}),n.addEventListener?n.addEventListener("load",q.onloadHandler,!1):n.attachEvent("onload",q.onloadHandler)},unBindDomNode:function(a){var b;try{b=f.byId(a,this.ownerDocument)}catch(c){return}a="_dijitMenu"+this.id;if(b&&e.has(b,a)){for(var d=e.get(b,a)-1,h=this._bindings[d],j;j=h.connects.pop();)j.remove();(j=h.iframe)&&(j.removeEventListener?j.removeEventListener("load",h.onloadHandler,!1):j.detachEvent("onload",h.onloadHandler));e.remove(b,a);delete this._bindings[d]}},
_scheduleOpen:function(a,b,c){if(!this._openTimer)this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:a,iframe:b,coords:c})},1)},_openMyself:function(a){function b(){r.refocus&&l&&l.focus();s.close(r)}var e=a.target,h=a.iframe,a=a.coords;this.currentTarget=e;if(a){if(h){var e=d.position(h,!0),j=this._iframeContentWindow(h),j=d.docScroll(j.document),n=c.getComputedStyle(h),o=c.toPixelValue,k=(q("ie")&&q("quirks")?0:o(h,n.paddingLeft))+(q("ie")&&q("quirks")?o(h,n.borderLeftWidth):
0),h=(q("ie")&&q("quirks")?0:o(h,n.paddingTop))+(q("ie")&&q("quirks")?o(h,n.borderTopWidth):0);a.x+=e.x+k-j.x;a.y+=e.y+h-j.y}}else a=d.position(e,!0),a.x+=10,a.y+=10;var r=this,h=this._focusManager.get("prevNode"),e=this._focusManager.get("curNode"),l=!e||f.isDescendant(e,this.domNode)?h:e;s.open({popup:this,x:a.x,y:a.y,onExecute:b,onCancel:b,orient:this.isLeftToRight()?"L":"R"});this.focus();this._onBlur=function(){this.inherited("_onBlur",arguments);s.close(this)}},destroy:function(){m.forEach(this._bindings,
function(a){a&&this.unBindDomNode(a.node)},this);this.inherited(arguments)}})})},"dijit/layout/utils":function(){define("dijit/layout/utils","dojo/_base/array,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/_base/lang,../main".split(","),function(l,m,k,j,f,e){function d(c,b){var a=c.resize?c.resize(b):k.setMarginBox(c.domNode,b);a?f.mixin(c,a):(f.mixin(c,k.getMarginBox(c.domNode)),f.mixin(c,b))}e=f.getObject("layout",!0,e);e.marginBox2contentBox=function(c,b){var a=j.getComputedStyle(c),d=k.getMarginExtents(c,
a),e=k.getPadBorderExtents(c,a);return{l:j.toPixelValue(c,a.paddingLeft),t:j.toPixelValue(c,a.paddingTop),w:b.w-(d.w+e.w),h:b.h-(d.h+e.h)}};e.layoutChildren=function(c,b,a,e,j){b=f.mixin({},b);m.add(c,"dijitLayoutContainer");a=l.filter(a,function(a){return"center"!=a.region&&"client"!=a.layoutAlign}).concat(l.filter(a,function(a){return"center"==a.region||"client"==a.layoutAlign}));l.forEach(a,function(a){var c=a.domNode,f=a.region||a.layoutAlign;if(!f)throw Error("No region setting for "+a.id);var k=
c.style;k.left=b.l+"px";k.top=b.t+"px";k.position="absolute";m.add(c,"dijitAlign"+(f.substring(0,1).toUpperCase()+f.substring(1)));c={};e&&e==a.id&&(c["top"==a.region||"bottom"==a.region?"h":"w"]=j);"top"==f||"bottom"==f?(c.w=b.w,d(a,c),b.h-=a.h,"top"==f?b.t+=a.h:k.top=b.t+b.h+"px"):"left"==f||"right"==f?(c.h=b.h,d(a,c),b.w-=a.w,"left"==f?b.l+=a.w:k.left=b.l+b.w+"px"):("client"==f||"center"==f)&&d(a,b)})};return{marginBox2contentBox:e.marginBox2contentBox,layoutChildren:e.layoutChildren}})},"deploy/widgets/settings/CleanupProgressBar":function(){define(["dojo/_base/declare",
"js/webext/widgets/ProgressBar","deploy/util/TimeUtil"],function(l,m,k){return l([m],{_cleanupCountCommonTitle:i18n("Daily Deployment History Cleanup in Progress")+"  -  ",_cleanupRecordsRemovedTitle:i18n("deployment records removed."),_cleanupTotalRecordsTitle:i18n("total historical deployment records."),postCreate:function(){this.inherited(arguments);this.setLabel(i18n("Daily Deployment History Cleanup in Progress"));this.setProgressDetailsLabel(i18n("deployment records removed"))},updateCleanupProgress:function(j,
f,e){e=k.formatToHrsAndMinsString(e);""!==e&&(e=e+" "+i18n("remaining"));this.showProgressDetailsTimeInfo&&this.setProgressDetailsTimeInfo(e);this.setProgressCount(j);this.setTitleForProgressCount(this._cleanupCountCommonTitle+j+" "+this._cleanupRecordsRemovedTitle+" "+e);this.setTotalCount(f);this.setTitleForTotalCount(this._cleanupCountCommonTitle+f+" "+this._cleanupTotalRecordsTitle+" "+e);this.setProgressPercent(100*j/f)},updateProgress:function(){var j=this;this.getProgress("/rest/historyCleanupRecord/latest").then(function(f){if(null!==
f){var e=(new Date).getTime()-f.dateCleanupStarted;j.updateCleanupProgress(f.deploymentsDeleted,f.totalDeploymentsForCleanup,36E5*f.historyCleanupDuration-e);j.show()}else j.hide()},function(f){j.setCleanupError(f)})},showProgress:function(){var j=this;this.updateProgress();this._cleanupProgressIntervalId=setInterval(function(){j.updateProgress()},3E4)},destroy:function(){clearInterval(this._cleanupProgressIntervalId)}})})},"deploy/widgets/resource/EditResource":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dojo/_base/array,dojo/_base/declare,dojox/data/JsonRestStore,dojo/_base/xhr,dojo/json,dojo/dom-class,js/webext/widgets/Alert,js/webext/widgets/ColumnForm,js/webext/widgets/select/WebextSelect,deploy/widgets/resource/ResourceRolePropertyEditor,deploy/widgets/resource/EditResourceCondition,deploy/widgets/security/TeamSelector".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s){return f("deploy.widgets.resource.EditResource",[m,l],{templateString:'<div class="editResource">  <div data-dojo-attach-point="formAttach"></div></div>',showCancel:!0,cancelCallback:void 0,agentPlaceholderName:"Agent Prototype",parentIds:[],postCreate:function(){this.inherited(arguments);var b=this;this.existingValues={};if(this.resource)if(this.existingValues=this.resource,this.resource.role)if("COMPONENT"===this.resource.role.specialType)this.type="component";
else if("AGENT_PLACEHOLDER"===this.resource.role.specialType)this.type="agentPlaceholder";else{if("DYNAMIC_GROUP"!==this.resource.role.specialType)this.type="role"}else if(this.resource.agent)this.type="agent";else if(this.resource.agentPool)this.type="agentPool";else{if(this.resource.componentTag)this.type="componentTag"}else this.parent?(this.existingValues.inheritTeam=!0,d.get({url:bootstrap.restUrl+"resource/resource/teamInheritence/"+this.parent.id,handleAs:"json",sync:!0,load:function(a){b.existingValues.extendedSecurity=
{teams:a}}})):this.parentIds&&this.parentIds.length?(this.existingValues.inheritTeam=!0,this.existingValues.extendedSecurity={teams:[]}):d.get({url:bootstrap.restUrl+"security/teamsWithCreateAction/Resource",handleAs:"json",sync:!0,load:function(a){b.existingValues.extendedSecurity={teams:a}}});var e=i18n("Cancel");this.showCancel||(e=null);this.form=new h({submitUrl:bootstrap.restUrl+"resource/resource",readOnly:b.readOnly,showButtons:!b.readOnly,cancelLabel:e,postSubmit:function(a){void 0!==b.callback?
b.callback():navBar.setHash("resource/"+a.id)},addData:function(a){if(b.resource&&(a.existingId=b.existingValues.id,b.resource.parent))a.parentId=b.resource.parent.id;if(b.parent)a.parentId=b.parent.id;if(b.parentIds&&b.parentIds.length)a.parentIds=b.parentIds;if(b.resourceTemplate)a.resourceTemplateId=b.resourceTemplate.id;a.teamMappings=b.forceSecurityInheritence?[]:b.teamSelector.teams;if(b.inheritTeam)a.inheritTeam=b.inheritTeam;if("true"===a.dynamic||!0===a.dynamic){var d=[];j.forEach(b.conditions,
function(a){d.push(a.value)});a.roleProperties={rules:c.stringify(d)}}if("agentPlaceholder"===b.type){if(!a.name)a.name=b.agentPlaceholderName;a.agentPlaceholder=!0}if(!a.roleId&&b.resource&&b.resource.role)a.roleId=b.resource.role.id},onError:function(b){b.responseText&&new a({message:util.escape(b.responseText)})},onCancel:function(){void 0!==b.cancelCallback?b.cancelCallback():void 0!==b.callback&&b.callback()},validateFields:function(){var a=[];b.rolePropertyEditor&&(a=b.rolePropertyEditor.getValidationErrors());
return a}});(!this.type||"agentPlaceholder"===this.type&&this.existingValues.name!==this.agentPlaceholderName)&&this.form.addField({name:"name",label:i18n("Name"),required:!0,type:"Text",value:this.existingValues.name});this.form.addField({name:"_typeInsert",type:"Invisible"});this.form.addField({name:"_nameInsert",type:"Invisible"});this.form.addField({name:"description",label:i18n("Description"),type:"Text",value:this.existingValues.description});this.existingValues.prototype&&(this.form.addField({type:"Label",
label:"",name:"_prototypeLabel",value:i18n("This template resource is a prototype. When it is applied to an actual resource, it may create multiple copies of the template. The number of copies is controlled using the Prototype Iterations field. Use the token ${p:#} to reference the current iteration number in the name or properties of this resource and any of its children.")}),this.form.addField({name:"prototypeIterations",label:i18n("Prototype Iterations"),type:"Text",required:!0,value:this.existingValues.prototypeIterations}));
this.forceSecurityInheritence||((this.parent||this.parentIds&&this.parentIds.length||this.resource&&this.resource.parent)&&this.form.addField({name:"inheritTeam",label:i18n("Inherit Teams From Parent"),type:"Checkbox",description:i18n("This option makes the new resource available to the same teams as the resource's parent."),value:!!this.existingValues.inheritTeam,onChange:function(a){b.form.hasField("teams")&&b.form.removeField("teams");a?b._addTeamField(!0,"useImpersonation"):b._addTeamField(!1,
"useImpersonation")}}),this.existingValues.inheritTeam?this._addTeamField(!0):this._addTeamField(!1));this.form.addField({name:"_impersonationMainInsert",type:"Invisible"});this.form.addField({name:"_rolePropertyInsert",type:"Invisible"});b.typeChanged(b.type);e=!1;if(this.resource&&this.resource.hasAgent&&this.resource.role&&"AGENT_PLACEHOLDER"!==this.resource.role.specialType)e=!0;else if(this.parent&&this.parent.hasAgent)e=!0;else if("agent"===this.type||"agentPool"===this.type)e=!0;e&&(this.form.addField({name:"useImpersonation",
label:i18n("Default Impersonation"),type:"Checkbox",description:i18n("Select this option to define default user impersonation credentials for a resource. Credentials are frequently required by agents on target machines. Typically, credentials are defined on plug-in steps, but any step that does not have its own credentials will use credentials defined on the associated resource."),value:!!this.existingValues.impersonationUser,onChange:function(a){a?b.showImpersonationOptions():b.hideImpersonationOptions()}},
"_impersonationMainInsert"),this.form.addField({name:"_impersonationInsert",type:"Invisible"},"_impersonationMainInsert"),this.form.addField({name:"impersonationLabel",label:"",type:"Label",value:i18n("Default impersonation can be configured here. Any steps which do not specify their own impersonation settings will fall back to the settings provided here.")},"_impersonationMainInsert"),this.existingValues.impersonationUser?this.showImpersonationOptions():this.hideImpersonationOptions());this.form.placeAt(this.formAttach)},
_addTeamField:function(a,b){var c=this,d=[];if(c.existingValues&&c.existingValues.extendedSecurity&&c.existingValues.extendedSecurity.teams)d=c.existingValues.extendedSecurity.teams;c.teamSelector=new s({resourceRoleType:"Resource",noneLabel:i18n("Standard Resource"),readOnly:!!a,teams:d,onChanged:function(a){if(!c.readOnly&&c.form.hasField("dynamic"))a=0===a.length,(c.autoIncludeAgents.widget.disabled=a)&&c.form.setValue("dynamic",!1)}});this.form.addField({name:"teams",label:i18n("Teams"),type:"Text",
description:i18n("This field contains the teams that should be able to use this resource."),widget:c.teamSelector},b)},typeChanged:function(a){var b=this;this.form.hasField("agentId")&&this.form.removeField("agentId");this.form.hasField("agentPoolId")&&this.form.removeField("agentPoolId");var c,d=null;if("agent"===a){c=!1;if(this.existingValues.agent)d=this.existingValues.agent.id,this.existingValues.name!==this.existingValues.agent.name&&(c=!0);if(this.selectedValue)d=this.selectedValue.id;b.form.addField({name:"agentId",
label:i18n("Agent"),type:"TableFilterSelect",url:bootstrap.restUrl+"agent",defaultQuery:{filterFields:"requiredActions",filterType_requiredActions:"eq",filterValue_requiredActions:security.agent.createResources},value:d,onChange:function(a,d){if(c&&b.existingValues||d)b.form.removeField("name"),b.form.addField({name:"name",label:i18n("Name"),required:!0,value:c?b.existingValues.name:d.name,type:"Text"},"_typeInsert")}},"_typeInsert")}else if("agentPool"===a){c=!1;if(this.existingValues.agentPool)d=
this.existingValues.agentPool.id,this.existingValues.name!==this.existingValues.agentPool.name&&(c=!0);b.form.addField({name:"agentPoolId",label:i18n("Agent Pool"),required:!0,type:"TableFilterSelect",url:bootstrap.restUrl+"agent/pool",allowNone:!1,autoSelectFirst:!0,noDataMessage:i18n("No agent pools found"),value:d,defaultQuery:{outputType:["BASIC","SECURITY"]},onSetItem:function(a,d){if(c&&b.existingValues||d)b.form.hasField("name")&&b.form.removeField("name"),b.form.addField({name:"name",label:i18n("Name"),
required:!0,value:c?b.existingValues.name:d.name,type:"Text"},"_typeInsert")}},"_typeInsert")}else if("component"===a||"role"===a){c=!1;if(this.selectedValue&&(this.existingValues.role=this.selectedValue,this.existingValues.name=this.selectedValue.name,this.selectedValue.parentRole))this.existingValues.parentRole=this.selectedValue.parentRole;if(this.existingValues.role)d=this.existingValues.role.id,this.existingValues.name!==this.existingValues.role.name&&(c=!0),this.createNameWidget(b.getAllowedNamesFromExistingValues(this.existingValues),
c?b.existingValues.name:this.existingValues.role.name),this.showRoleProperties(this.existingValues.role);var h;"component"===a?h=appState.application&&!this.existingValues.name?bootstrap.restUrl+"resource/resourceRole/componentRolesForApplication/"+appState.application.id:bootstrap.restUrl+"resource/resourceRole/componentRoles":"role"===a&&(h=bootstrap.restUrl+"resource/resourceRole");if(this.selectedValue)d=this.selectedValue.id;h=new e({target:h,idAttribute:"id"});d=new q({store:h,searchAttr:"name",
autoComplete:!1,pageSize:10,value:d,readOnly:!!d,onChange:function(a,d){if(c&&b.existingValues||d){b.form.removeField("name");var e=b.getAllowedNamesFromExistingValues(b.existingValues);b.createNameWidget(e,c?b.existingValues.name:d.name);b.showRoleProperties(d)}}});b.form.addField({name:"roleId",label:"component"===a?i18n("Component"):i18n("Role"),required:!0,widget:d},"_typeInsert")}else if("componentTag"===a){c=!1;if(this.existingValues.componentTag)d=this.existingValues.componentTag.id,this.existingValues.name!==
this.existingValues.componentTag.name&&(c=!0);if(this.selectedValue)d=this.selectedValue.id;this.form.addField({name:"componentTagId",label:i18n("Component Tag"),type:"TagDropDown",objectType:"Component",value:d,readOnly:b.readOnly,noneLabel:i18n("All Components"),allowNone:!1,onChange:function(a,d){if(c&&b.existingValues||d)b.form.hasField("name")&&b.form.removeField("name"),b.form.addField({name:"name",label:i18n("Name"),required:!0,value:c?b.existingValues.name:d.name,type:"Text"},"_typeInsert")}},
"_typeInsert")}else if("agentPlaceholder"===a){if(this.form.hasField("name")&&this.form.removeField("name"),!b.existingValues.role||"Agent Placeholder"===b.existingValues.role.name){var f;if(this.existingValues.roleProperties)f=this.existingValues.roleProperties.agentNamePatterns;this.form.addField({name:"agentNamePatterns",label:i18n("Agent Name Patterns"),value:f,type:"TextArea",description:i18n("After an environment is created, the agent prototype will automatically find agents matching these patterns and place them in the prototype's location. One pattern may be entered per line, and use the following special tokens: ${p:application.name}, ${p:environment.name}.")})}}else if(!a)a=
!1,this.existingValues.role&&"DYNAMIC_GROUP"===this.existingValues.role.specialType&&(a=!0),b.autoIncludeAgents=this.form.addField({name:"dynamic",label:i18n("Include Agents Automatically"),type:"Checkbox",description:i18n("When checked, this folder will automatically find agents matching the configured conditions and create resources for them inside the folder. Agents added manually will be removed if they do not match the criteria. Only agents sharing a team with this group will be eligible to belong to the group."),
value:a,onChange:function(a){b.toggleDynamicFields(a)}},"_typeInsert"),b.toggleDynamicFields(a),!a&&b.resource&&b.resource.role&&b.showRoleProperties(b.resource.role)},showImpersonationOptions:function(){this.form.addField({name:"impersonationUser",label:i18n("User"),type:"Text",description:i18n("Enter the default impersonation user name."),value:this.existingValues.impersonationUser},"_impersonationInsert");this.form.addField({name:"impersonationPassword",label:i18n("Password"),type:"Secure",description:i18n("Enter the default impersonation password."),
value:this.existingValues.impersonationPassword},"_impersonationInsert");this.form.addField({name:"impersonationGroup",label:i18n("Group"),type:"Text",description:i18n("Enter the authentication realm group to impersonate by default."),value:this.existingValues.impersonationGroup},"_impersonationInsert");this.form.addField({name:"impersonationUseSudo",label:i18n("Use Sudo"),type:"Checkbox",description:i18n("To use the sudo command for impersonation, select the <b>Use Sudo</b> check box. If the resource is on a UNIX or Linux machine, you can use this option. If the resource is on a Windows machine, this option has no effect."),
value:this.existingValues.impersonationUseSudo},"_impersonationInsert");this.form.addField({name:"impersonationForce",label:i18n("Always Use Default Impersonation"),type:"Checkbox",description:i18n("To always use the credentials that are defined on the resource and override any defined on process steps, select the <b>Always Use Default Impersonation</b> option."),value:this.existingValues.impersonationForce},"_impersonationInsert")},hideImpersonationOptions:function(){this.form.removeField("impersonationUser");
this.form.removeField("impersonationPassword");this.form.removeField("impersonationGroup");this.form.removeField("impersonationUseSudo");this.form.removeField("impersonationForce")},showRoleProperties:function(a){this.form.hasField("roleProperties")&&this.form.removeField("roleProperties");this.rolePropertyEditor=new o({role:a,resource:this.resource,doubleWidth:!0});this.form.addField({widget:this.rolePropertyEditor,name:"roleProperties"},"_rolePropertyInsert")},toggleDynamicFields:function(a){var b=
this;a?(b.conditions=[],b.showConditionButton(),b.resource&&b.resource.roleProperties?(a=b.resource.roleProperties.rules)&&j.forEach(c.parse(a),function(a){b.addCondition(a)}):b.addCondition()):(b.form.hasField("conditionButton")&&b.form.removeField("conditionButton"),j.forEach(b.conditions,function(a){b.form.removeField(a)}),b.conditions=[])},showConditionButton:function(){var a=this,b=new k({label:i18n("Add Condition"),onClick:function(){a.addCondition()}});a.form.addField({widget:b,name:"conditionButton",
label:""},"_typeInsert")},addCondition:function(a){var b=this,c=new n({value:a,onDelete:function(){util.removeFromArray(b.conditions,c);b.form.removeField(c)}});this.form.addField({widget:c,name:"condition_"+this.conditions.length,label:""},"conditionButton");this.conditions.push(c)},getAllowedNames:function(a,b){var c=!0,d=[];j.forEach(a,function(a){if(!0===c&&a.name===b)void 0===a.allowedName||null===a.allowedName||""===a.allowedName?(c=!1,d=void 0):d[d.length]=a.allowedName});return d},getAllowedNamesFromExistingValues:function(a){var b=
[];if(a.parentRole){var c=a.parentRole.name;a.role&&a.role.allowedParentResourceRoles&&(b=this.getAllowedNames(a.role.allowedParentResourceRoles,c))}return b},createNameWidget:function(a,b){void 0!==a&&0!==a.length?this.form.addField({allowedValues:a,name:"name",label:i18n("Name"),required:!0,value:b,type:"Select"},"_nameInsert"):this.form.addField({name:"name",label:i18n("Name"),required:!0,value:b,type:"Text"},"_nameInsert")}})})},"js/webext/widgets/Pager":function(){define("js/webext/widgets/Pager",
"dojo/_base/declare,dijit/_WidgetBase,dijit/_TemplatedMixin,dojo/dom-attr,dojo/dom-class,dojo/dom-construct,dojo/dom-style,dojo/on,dijit/form/TextBox".split(","),function(l,m,k,j,f,e,d,c,b){return l([m,k],{templateString:'<span style="display: inline-block; position:absolute; right: 6px; bottom: 0px;"><div data-dojo-attach-point="pageNumbers" class="pageNumbers"></div></span>',pageNumbers:null,pageCountLabel:null,pageBox:null,firstImg:null,backImg:null,nextImg:null,lastImg:null,disabled:!1,itemsPerPage:50,
totalItems:0,pageNumber:null,totalPages:null,startItem:0,buildRendering:function(){var a=this;a.inherited("buildRendering",arguments);a.totalPages=Math.ceil(a.totalItems/a.itemsPerPage);var d=e.create("a",{"class":"linkPointer pagerItem"});c(d,"click",function(){a.setPageNumber(0)});a._setupEnterToDoClick(d);a.firstImg=a._createImg("arrow_fastBackwards",{alt:"first page"},d);a.pageNumbers.appendChild(d);d=e.create("a",{"class":"linkPointer pagerItem"});c(d,"click",function(){a.setPageNumber(a.pageNumber-
1)});a._setupEnterToDoClick(d);a.backImg=a._createImg("arrow_backwards",{alt:"previous page"},d);a.pageNumbers.appendChild(d);a.pageBox=new b({title:i18n("current page"),name:"page",value:"",style:{width:"40px"},onKeyPress:function(b){13===b.charOrCode&&(b=parseInt(a.pageBox.textbox.value,10)-1,isNaN(b)?this.set("value",isNaN(a.pageNumber)?"":a.pageNumber+1):b!==a.pageNumber&&a.setPageNumber(b))},onFocus:function(){a.pageBox.textbox.select()}});a.pageBox.textbox.style.textAlign="center";a.pageBox.placeAt(a.pageNumbers);
a.pageCountLabel=e.create("span",{"class":"pagerItem"},a.pageNumbers);d=e.create("a",{"class":"linkPointer pagerItem"});c(d,"click",function(){a.setPageNumber(a.pageNumber+1)});a._setupEnterToDoClick(d);a.nextImg=a._createImg("arrow_forward",{alt:i18n("next page")},d);a.pageNumbers.appendChild(d);d=e.create("a",{"class":"linkPointer pagerItem"});c(d,"click",function(){a.setPageNumber(a.totalPages-1)});a._setupEnterToDoClick(d);a.lastImg=a._createImg("arrow_fastForward",{alt:i18n("last page")},d);
a.pageNumbers.appendChild(d);a.updateRendering()},setItemsPerPage:function(a){this.itemsPerPage=a;this.pageNumber=Math.ceil(this.startRecord/this.itemsPerPage);this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage);this.updateRendering()},setTotalItems:function(a){this.totalItems=a;this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage);d.set(this.pageBox.domNode,{width:10*((""+this.totalPages).length+2)+"px"});this.setPageNumber(this.pageNumber)},setPageNumber:function(a){a=Number(a);
if(!this.disabled&&!isNaN(a)){var a=Math.min(a,this.totalPages-1),a=Math.max(a,0),b=this.pageNumber;this.pageNumber=a;this.startItem=this.pageNumber*this.itemsPerPage;if(isNaN(this.startItem))this.startItem=0;this.updateRendering();if(b!==this.pageNumber)this.onPageChange()}},updateRendering:function(){this.totalItems?d.set(this.pageNumbers,{display:"block"}):d.set(this.pageNumbers,{display:"none"});var a=!isNaN(this.pageNumber)&&0<this.pageNumber;this._enablePaggerControl(this.firstImg,a);this._enablePaggerControl(this.backImg,
a);a=!isNaN(this.pageNumber)&&this.pageNumber<this.totalPages-1;this._enablePaggerControl(this.nextImg,a);this._enablePaggerControl(this.lastImg,a);this.pageBox.set("value",isNaN(this.pageNumber)?"":this.pageNumber+1);this.pageCountLabel.innerHTML="/ "+this.totalPages},_enablePaggerControl:function(a,b){var b=void 0===b||!!b,c=a.parentNode;c.tabIndex=b?0:-1;f.toggle(a,"arrow_disabled",!b);f.toggle(c,"linkPointer",b);(c=j.get(a,"alt"))&&(b?j.set(a,"alt",c.replace(/page disabled$/,"page")):j.set(a,
"alt",c.replace(/page$/,"page disabled")))},onPageChange:function(){},_createImg:function(a,b,c,d){b||(b={});b.src=this._blankGif;b=e.create("img",b,c,d);f.add(b,a);return b},_setupEnterToDoClick:function(a){return c(a,"keypress",function(a){13===a.charOrCode&&(document.createEvent?(a=document.createEvent("HTMLEvents"),a.initEvent("click",!0,!0),this.dispatchEvent(a)):this.fireEvent&&this.fireEvent("onclick"))})}})})},"deploy/widgets/report/securityReportComponent/SecurityReportComponentForm":function(){define(["dijit/_TemplatedMixin",
"dijit/_Widget","dojo/_base/declare"],function(l,m,k){return k("deploy.widgets.report.securityReportComponent.SecurityReportComponentForm",[m,l],{templateString:"<div></div>",constructor:function(){},buildRendering:function(){this.inherited(arguments)},destroy:function(){this.inherited(arguments)},setProperties:function(){},getProperties:function(){return[]}})})},"deploy/widgets/GetStartedPopup":function(){define("dojo/_base/declare,dojo/_base/xhr,dijit/_WidgetBase,dojo/on,dojo/dom-class,dojo/dom-construct,dojo/DeferredList,dijit/Dialog,dijit/focus,js/webext/widgets/Alert".split(","),
function(l,m,k,j,f,e,d,c,b,a){return l("deploy.widgets.GetStartedPopup",[k],{name:void 0,alertName:void 0,dismissUrl:void 0,dismissedPrefix:"dismissed_",userIntent:!1,links:{},postCreate:function(){var a=this;this.createDialog();var b=bootstrap.restUrl+"deploy/docLinks",c=bootstrap.restUrl+"security/userPreferences";this.alertName="";0!==this.name.indexOf(this.dismissedPrefix)&&(this.alertName+=this.dismissedPrefix);this.alertName+=this.name;if(!this.dismissUrl)this.dismissUrl=c+"/dismissAlert/"+
this.alertName;c=dojo.xhrGet({url:c,handleAs:"json"});b=dojo.xhrGet({url:b,handleAs:"json"});(new d([c,b])).then(function(b){var c=b[0][1];a.links=b[1][1];!c.suppressAlerts&&!c.dismissedUserAlerts[a.alertName]&&a.open(!1)})},createDialog:function(){var a=this;this.gsDialog=new c({className:"get-started-popup",closeable:!0});var b=e.create("div",{className:"close-popup-button",title:i18n("Close")},this.gsDialog.titleNode);j(b,"click",function(){a.close()});e.create("div",{innerHTML:'<h1 class="title">'+
i18n("Getting Started with IBM UrbanCode Deploy")+'</h1><div class="content"><div class="bottomrow"><div class="badgecontainer tutorial-container" tabindex="1"><div class="secondarytaskbadges tutorial"></div><div class="secondarytasklbl">'+i18n("TUTORIAL")+'</div></div><div class="badgecontainer videos-container" tabindex="2"><div class="secondarytaskbadges videos"></div><div class="secondarytasklbl">'+i18n("INSTRUCTIONAL VIDEOS")+'</div></div><div class="badgecontainer questions-container" tabindex="3"><div class="secondarytaskbadges questions"></div><div class="secondarytasklbl">'+
i18n("QUESTIONS")+'</div></div><div class="badgecontainer documentation-container" tabindex="4"><div class="secondarytaskbadges documentation"></div><div class="secondarytasklbl">'+i18n("DOCUMENTATION")+'</div></div></div><div class="message">'+i18n("Access this Getting Started anytime from the banner help menu")+"</div></div>"},this.gsDialog.containerNode);b=dojo.query(".get-started-popup .badgecontainer");dojo.forEach(b,function(b){f.contains(b,"tutorial-container")?j(b,"click, keypress",function(b){a.launch(b,
"tutorial")}):f.contains(b,"videos-container")?j(b,"click, keypress",function(b){a.launch(b,"video")}):f.contains(b,"questions-container")?j(b,"click, keypress",function(b){a.launch(b,"question")}):f.contains(b,"documentation-container")&&j(b,"click, keypress",function(b){a.launch(b,"documentation")})})},a11yClick:function(a){if("click"===a.type||"keypress"===a.type&&(a=a.charCode||a.keyCode,32===a||13===a))return!0;return!1},launch:function(a,b){this.a11yClick(a)&&this.links[b+"Url"]&&window.open(this.links[b+
"Url"],"_blank")},onDismiss:function(){m.post({url:this.dismissUrl,headers:{"Content-Type":"application/json"},handleAs:"json",error:function(b){new a({messages:[i18n("Error dismissing get started:"),"",util.escape(b.responseText)]})}})},open:function(a){this.userIntent=a;this.gsDialog&&this.gsDialog.show()},close:function(){if(this.gsDialog&&(this.gsDialog.hide(),!this.userIntent))this.onDismiss()}})})},"deploy/widgets/report/securityReportEnvironment/SecurityReportEnvironmentForm":function(){define(["dijit/_TemplatedMixin",
"dijit/_Widget","dojo/_base/declare"],function(l,m,k){return k("deploy.widgets.report.securityReportEnvironment.SecurityReportEnvironmentForm",[m,l],{templateString:"<div></div>",constructor:function(){},buildRendering:function(){this.inherited(arguments)},destroy:function(){this.inherited(arguments)},setProperties:function(){},getProperties:function(){return[]}})})},"deploy/widgets/applicationProcess/ApplicationProcessActivities":function(){define("dojo/_base/declare,dojo/request/xhr,dojo/dom-class,dojo/dom-construct,dojo/json,deploy/widgets/workflow/BaseGraph,deploy/widgets/process/RequiredCommentForm,js/webext/widgets/Alert,js/webext/widgets/GenericConfirm,js/webext/widgets/Dialog,js/webext/widgets/table/TreeTable".split(","),
function(l,m,k,j,f,e,d,c,b,a,h){return l("deploy.widgets.applicationProcess.ApplicationProcessActivities",[e],{postCreate:function(){this.inherited(arguments);var a=this;if(mxClient.isBrowserSupported()){this.toolBarContainer.className="mx-graph-pane mx-graph-top-pane";this.processStepContainer.className="mx-graph-pane mx-graph-bottom-pane";this.mxgraphAttach.className="";if(void 0!==this.applicationProcess)this.applicationProcessId=this.applicationProcess.id;m(bootstrap.restUrl+"deploy/applicationProcess/"+
this.applicationProcessId+"/"+this.applicationProcessVersion,{handleAs:"json"}).then(function(b){a.application=b.application;a.applicationProcess=b;a.readOnly=!a.hasManageProcessesPermission()||b.versionCount!==b.version?!0:!1;void 0!==a.applicationProcess.rootActivity?a.graphStartup(a.applicationProcess.rootActivity):a.graphStartup(null)})}else mxUtils.error(i18n("This browser is not compatible with the rich workflow editor."),200,!1)},graphStartup:function(a){this.inherited(arguments);var b=this;
b.buildToolbar();if(!this.readOnly){var c=document.createElement("div");c.className="fileTree";b.stepTreeTable=new h({rowPadding:15,allowHeaderLocking:!1,hideFooterLinks:!0,hidePagination:!0,floatCollapseSpace:!0,tableConfigKey:"applicationProcessTreeTable",url:bootstrap.restUrl+"deploy/applicationProcess/"+b.applicationProcess.id+"/activityTree",orderField:"name",draggable:!1,idAttribute:"path",serverSideProcessing:!1,columns:[{name:i18n("Step Palette"),"class":"activityTreeCell",styleHeading:{display:"none"},
filterField:"name",filterType:"text",orderField:"name",getRawValue:function(a){var b=i18n(a.name);return b=a.name===i18n("Finish")?" 1 "+i18n("Finish"):!a.children&&!a.hasChildren?" 2 "+a.name:a.name===i18n("Utility Steps")||a.name===i18n("Clipboard")||a.name===i18n("Configuration Discovery")?" 3 "+a.name:" 4 "+a.name},formatter:function(a,c,d){return b.stepTreeFormatter(a,d,b.applicationProcess)}}],hasChildren:function(a){var b=!1;if(void 0!==a.children||a.hasChildren)b=!0;return b},getChildUrl:function(a){return bootstrap.restUrl+
"deploy/component/"+a.id+"/processesForStepPalette"},noDataMessage:i18n("No steps found")});b.stepTreeTable.placeAt(c);k.add(b.stepTreeTable.expandCollapseAttach,"centered-expand-collapse");c=new mxWindow(i18n("Step Palette"),c,0,0,240,500,!1,!1,this.addAttach);c.setMaximizable(!1);c.setScrollable(!0);c.setResizable(!0);c.setVisible(!0)}},destroy:function(){j.empty(this.toolbarAttach)},saveProcessDesign:function(a){var b=this,c=b.getWorkflowJson();if(a)c.comment=a;m.put(bootstrap.restUrl+"deploy/applicationProcess/"+
b.applicationProcess.id+"/saveActivities",{data:f.stringify(c),handleAs:"json",headers:{applicationProcessVersion:b.applicationProcess.version,"Content-Type":"application/json"}}).then(function(){b.showSavePopup(i18n("Process design saved successfully."));document.hasChanges=!1;b.clearChangedActivities();navBar.setHash("applicationProcess/"+b.applicationProcess.id+"/-1",!1,!0)},function(a){b.showSaveErrorPopup(a)})},hasManageProcessesPermission:function(){var a=!1;this.application?a=this.application.security["Manage Processes"]:
this.applicationTemplate&&(a=this.applicationTemplate.security["Manage Processes"]);return a}})})},"deploy/widgets/resourceRole/ResourceRoleResources":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/_base/xhr,dojo/dom-construct,dojo/on,deploy/widgets/Formatters,js/webext/widgets/GenericConfirm,js/webext/widgets/Table".split(","),function(l,m,k,j,f,e,d,c,b){return k("deploy.widgets.resourceRole.ResourceRoleResources",[m,l],{templateString:'<div class="resourceList"><div data-dojo-attach-point="buttonTopAttach"></div><div data-dojo-attach-point="resourcesGrid"></div><div data-dojo-attach-point="activeBoxAttach" style="margin: 2px;"></div><div data-dojo-attach-point="buttonBottomAttach"></div></div>',
postCreate:function(){this.inherited(arguments);var a=bootstrap.restUrl+"resource/resourceRole/"+this.resourceRole.id+"/resources",c=[{name:i18n("Name"),formatter:d.resourcePathFormatter,orderField:"name",filterField:"name",filterType:"text",getRawValue:function(a){return a.name}},{name:i18n("Type"),field:"type",orderField:"type",filterField:"type",filterType:"select",filterOptions:[{label:i18n("Agent"),value:"agent"},{label:i18n("Subresource"),value:"subresource"}],formatter:function(a,b){return b.cap()},
getRawValue:function(a){return a.type}},{name:i18n("Description"),field:"description"},{name:i18n("Status"),formatter:d.resourceStatusFormatter},{name:i18n("Version"),field:"version"},{name:i18n("Actions"),formatter:this.actionsFormatter,parentWidget:this}];this.grid=new b({url:a,serverSideProcessing:!1,noDataMessage:i18n("No resources found using this role."),tableConfigKey:"resourceRoleResources",columns:c});this.grid.placeAt(this.resourcesGrid)},actionsFormatter:function(a){var b=this.parentWidget,
c=document.createElement("div");if(a.security["Edit Basic Settings"]){var d=document.createElement("a");d.innerHTML=i18n("Edit");d.className="actionsLink";d.href="#resource/"+a.id+"/edit";c.appendChild(d);a.connected&&"agent"===a.type&&(f.create("a",{"class":"actionsLink linkPointer",innerHtml:i18n("Restart")},c),e(d,"click",function(){b.confirmRestart(a)}),f.create("a",{"class":"actionsLink linkPointer",innerHtml:i18n("Upgrade")},c),e(d,"click",function(){b.confirmUpgrade(a)}))}return c},confirmRestart:function(a){var b=
this;new c({message:i18n("Are you sure you want to restart '%s'?",a.name.escape()),action:function(){j.get({url:bootstrap.restUrl+"resource/resource/"+a.id+"/restart",load:function(){b.grid.block();setTimeout(function(){b.grid.unblock();b.grid.refresh()},1E3)}})}})},confirmUpgrade:function(a){var b=this;new c({message:i18n("Are you sure you want to upgrade '%s'?",a.name.escape()),action:function(){j.get({url:bootstrap.restUrl+"resource/resource/"+a.id+"/upgrade",load:function(){b.grid.block();setTimeout(function(){b.grid.unblock();
b.grid.refresh()},1E3)}})}})}})})},"dojo/i18n":function(){define("./_base/kernel,require,./has,./_base/array,./_base/config,./_base/lang,./_base/xhr,./json,module".split(","),function(l,m,k,j,f,e,d,c,b){k.add("dojo-preload-i18n-Api",1);var a=l.i18n={},h=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,q=function(a,b,c,d){for(var e=[c+d],b=b.split("-"),h="",f=0;f<b.length;f++)h+=(h?"-":"")+b[f],(!a||a[h])&&e.push(c+h+"/"+d);return e},o={},n=function(a,b,c){c=c?c.toLowerCase():l.locale;a=a.replace(/\./g,"/");
b=b.replace(/\./g,"/");return/root/i.test(c)?a+"/nls/"+b:a+"/nls/"+c+"/"+b};l.getL10nName=function(a,c,d){return b.id+"!"+n(a,c,d)};var s=function(a,b,c,d,h,f){a([b],function(j){var n=e.clone(j.root),k=q(!j._v1x&&j,h,c,d);a(k,function(){for(var a=1;a<k.length;a++)n=e.mixin(e.clone(n),arguments[a]);o[b+"/"+h]=n;f()})})},r=function(a){var b=f.extraLocale||[],b=e.isArray(b)?b:[b];b.push(a);return b},t=function(a,b,d){if(k("dojo-preload-i18n-Api")){var f=a.split("*"),n="preload"==f[1];n&&(o[a]||(o[a]=
1,y(f[2],c.parse(f[3]),1,b)),d(1));if(!(f=n))x&&v.push([a,b,d]),f=x;if(f)return}var a=h.exec(a),q=a[1]+"/",m=a[5]||a[4],z=q+m,f=(a=a[5]&&a[4])||l.locale,t=z+"/"+f,a=a?[f]:r(f),B=a.length,u=function(){--B||d(e.delegate(o[t]))};j.forEach(a,function(a){var c=z+"/"+a;k("dojo-preload-i18n-Api")&&A(c);o[c]?u():s(b,z,q,m,a,u)})};if(k("dojo-unit-tests"))var w=a.unitTests=[];k("dojo-preload-i18n-Api");var u=a.normalizeLocale=function(a){a=a?a.toLowerCase():l.locale;return"root"==a?"ROOT":a},x=0,v=[],y=a._preloadLocalizations=
function(a,b,c,d){function e(a,b){d.isXdUrl(m.toUrl(a+".js"))||c?d([a],b):D([a],b,d)}function h(a,b){for(var c=a.split("-");c.length;){if(b(c.join("-")))return;c.pop()}b("ROOT")}function f(c){c=u(c);h(c,function(c){if(0<=j.indexOf(b,c)){var d=a.replace(/\./g,"/")+"_"+c;x++;e(d,function(a){for(var b in a)o[m.toAbsMid(b)+"/"+c]=a[b];for(--x;!x&&v.length;)t.apply(null,v.shift())});return!0}return!1})}d=d||m;f();j.forEach(l.config.extraLocale,f)},A=function(){},z={},B=new Function("__bundle","__checkForLegacyModules",
"__mid","__amdValue","var define = function(mid, factory){define.called = 1; __amdValue.result = factory || mid;},\t   require = function(){define.called = 1;};try{define.called = 0;eval(__bundle);if(define.called==1)return __amdValue;if((__checkForLegacyModules = __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),D=function(a,b,c){var e=[];j.forEach(a,function(a){function b(c){c=B(c,A,a,z);c===z?e.push(o[h]=z.result):
(c instanceof Error&&(console.error("failed to evaluate i18n bundle; url="+h,c),c={}),e.push(o[h]=/nls\/[^\/]+\/[^\/]+$/.test(h)?c:{root:c,_v1x:1}))}var h=c.toUrl(a+".js");if(o[h])e.push(o[h]);else{var f=c.syncLoadNls(a);if(f)e.push(f);else if(d)d.get({url:h,sync:!0,load:b,error:function(){e.push(o[h]={})}});else try{c.getText(h,!0,b)}catch(j){e.push(o[h]={})}}});b&&b.apply(null,e)},A=function(a){for(var b,c=a.split("/"),d=l.global[c[0]],e=1;d&&e<c.length-1;d=d[c[e++]]);d&&((b=d[c[e]])||(b=d[c[e].replace(/-/g,
"_")]),b&&(o[a]=b));return b};a.getLocalization=function(a,b,c){var d,a=n(a,b,c);t(a,!m.isXdUrl(m.toUrl(a+".js"))?function(a,b){D(a,b,m)}:m,function(a){d=a});return d};k("dojo-unit-tests")&&w.push(function(a){a.register("tests.i18n.unit",function(a){var b;b=B("{prop:1}",A,"nonsense",z);a.is({prop:1},b);a.is(void 0,b[1]);b=B("({prop:1})",A,"nonsense",z);a.is({prop:1},b);a.is(void 0,b[1]);b=B("{'prop-x':1}",A,"nonsense",z);a.is({"prop-x":1},b);a.is(void 0,b[1]);b=B("({'prop-x':1})",A,"nonsense",z);
a.is({"prop-x":1},b);a.is(void 0,b[1]);b=B("define({'prop-x':1})",A,"nonsense",z);a.is(z,b);a.is({"prop-x":1},z.result);b=B("define('some/module', {'prop-x':1})",A,"nonsense",z);a.is(z,b);a.is({"prop-x":1},z.result);b=B("this is total nonsense and should throw an error",A,"nonsense",z);a.is(b instanceof Error,!0)})});return e.mixin(a,{dynamic:!0,normalize:function(a,b){return/^\./.test(a)?b(a):a},load:t,cache:o})})},"js/webext/widgets/color/Color":function(){define("js/webext/widgets/color/Color",
["dojo/_base/array","dojo/_base/lang"],function(l,m){return{colors:{"#F04E37":{name:i18n("Vermillion"),simpleName:i18n("Light Red"),baseColor:i18n("Red"),value:"#F04E37",fallback:"#D9182D",full:!0},"#D9182D":{name:i18n("Crimson"),simpleName:i18n("Red"),baseColor:i18n("Red"),value:"#D9182D",simple:!0,basic:!0,standard:!0,full:!0},"#A91024":{name:i18n("Firebrick"),simpleName:i18n("Dark Red"),baseColor:i18n("Red"),value:"#A91024",fallback:"#D9182D",basic:!0,standard:!0,full:!0},"#F19027":{name:i18n("Carrot Orange"),
simpleName:i18n("Light Orange"),baseColor:i18n("Orange"),value:"#F19027",fallback:"#DD731C",full:!0},"#DD731C":{name:i18n("Cinnamon"),simpleName:i18n("Orange"),baseColor:i18n("Orange"),value:"#DD731C",simple:!0,basic:!0,standard:!0,full:!0},"#B8461B":{name:i18n("Rust"),simpleName:i18n("Dark Orange"),baseColor:i18n("Orange"),value:"#B8461B",fallback:"#DD731C",basic:!0,standard:!0,full:!0},"#FFE14F":{name:i18n("Mustard"),simpleName:i18n("Light Yellow"),baseColor:i18n("Yellow"),value:"#FFE14F",fallback:"#FFCF01",
light:!0,full:!0},"#FFCF01":{name:i18n("Tangerine Yellow"),simpleName:i18n("Yellow"),baseColor:i18n("Yellow"),value:"#FFCF01",light:!0,simple:!0,basic:!0,standard:!0,full:!0},"#FDB813":{name:i18n("Golden Poppy"),simpleName:i18n("Dark Yellow"),baseColor:i18n("Yellow"),value:"#FDB813",fallback:"#FFCF01",light:!0,basic:!0,standard:!0,full:!0},"#8CC63F":{name:i18n("Yellow Green"),simpleName:i18n("Light Green"),baseColor:i18n("Green"),value:"#8CC63F",fallback:"#17AF4B",full:!0},"#17AF4B":{name:i18n("Mountain Meadow"),
simpleName:i18n("Green"),baseColor:i18n("Green"),value:"#17AF4B",simple:!0,basic:!0,standard:!0,full:!0},"#008A52":{name:i18n("Sea Green"),simpleName:i18n("Dark Green"),baseColor:i18n("Green"),value:"#008A52",fallback:"#17AF4B",basic:!0,standard:!0,full:!0},"#00A6A0":{name:i18n("Persian Green"),simpleName:i18n("Light Teal"),baseColor:i18n("Green"),value:"#00A6A0",fallback:"#007670",basicFallback:"#17AF4B",full:!0},"#007670":{name:i18n("Pine Green"),simpleName:i18n("Teal"),baseColor:i18n("Green"),
value:"#007670",fallback:"#17AF4B",standard:!0,full:!0},"#006059":{name:i18n("Bottle Green"),simpleName:i18n("Dark Teal"),baseColor:i18n("Green"),value:"#006059",fallback:"#007670",basicFallback:"#17AF4B",standard:!0,full:!0},"#82D1F5":{name:i18n("Baby Blue"),simpleName:i18n("Light Blue"),baseColor:i18n("Blue"),value:"#82D1F5",fallback:"#00B2EF",light:!0,full:!0},"#00B2EF":{name:i18n("Bright Cerulean"),simpleName:i18n("Blue"),baseColor:i18n("Blue"),value:"#00B2EF",simple:!0,basic:!0,standard:!0,full:!0},
"#00648D":{name:i18n("Sea Blue"),simpleName:i18n("Dark Blue"),baseColor:i18n("Blue"),value:"#00648D",fallback:"#00B2EF",basic:!0,standard:!0,full:!0},"#00B0DA":{name:i18n("Iris Blue"),simpleName:i18n("Light Blue 2"),baseColor:i18n("Blue"),value:"#00B0DA",fallback:"#00B2EF",basicFallback:"#00B2EF",full:!0},"#008ABF":{name:i18n("Bondi Blue"),simpleName:i18n("Blue 2"),baseColor:i18n("Blue"),value:"#008ABF",fallback:"#00B2EF",standard:!0,full:!0},"#003F69":{name:i18n("Prussian Blue"),simpleName:i18n("Dark Blue 2"),
baseColor:i18n("Blue"),value:"#003F69",fallback:"#00648D",basicFallback:"#00648D",standard:!0,full:!0},"#AB1A86":{name:i18n("Red Violet"),simpleName:i18n("Light Purple"),baseColor:i18n("Purple"),value:"#AB1A86",fallback:"#7F1C7D",basic:!0,standard:!0,full:!0},"#7F1C7D":{name:i18n("Mardi Gras"),simpleName:i18n("Purple"),baseColor:i18n("Purple"),value:"#7F1C7D",simple:!0,basic:!0,standard:!0,full:!0},"#3B0256":{name:i18n("Indigo"),simpleName:i18n("Dark Purple"),baseColor:i18n("Purple"),value:"#3B0256",
fallback:"#7F1C7D",full:!0},"#F389AF":{name:i18n("Mauvelous"),simpleName:i18n("Light Pink"),baseColor:i18n("Pink"),value:"#F389AF",fallback:"#EE3D96",basic:!0,standard:!0,full:!0},"#EE3D96":{name:i18n("French Rose"),simpleName:i18n("Pink"),baseColor:i18n("Pink"),value:"#EE3D96",simple:!0,basic:!0,standard:!0,full:!0},"#BA006E":{name:i18n("Jazzberry Jam"),simpleName:i18n("Dark Pink"),baseColor:i18n("Pink"),value:"#BA006E",fallback:"#EE3D96",full:!0},"#A5A215":{name:i18n("Brass"),simpleName:i18n("Light Taupe"),
baseColor:i18n("Yellow"),value:"#A5A215",fallback:"#838329",basicFallback:"#FFCF01",full:!0},"#838329":{name:i18n("Olive"),simpleName:i18n("Taupe"),baseColor:i18n("Yellow"),value:"#838329",fallback:"#FDB813",basicFallback:"#FFCF01",standard:!0,full:!0},"#594F13":{name:i18n("Antique Bronze"),simpleName:i18n("Dark Taupe"),baseColor:i18n("Yellow"),value:"#594F13",fallback:"#838329",basicFallback:"#FDB813",standard:!0,full:!0},"#929497":{name:i18n("Aluminum"),simpleName:i18n("Light Gray"),baseColor:i18n("Black"),
value:"#929497",fallback:"#6D6E70",full:!0},"#6D6E70":{name:i18n("Dim Gray"),simpleName:i18n("Gray"),baseColor:i18n("Black"),value:"#6D6E70",simple:!0,basic:!0,standard:!0,full:!0},"#404041":{name:i18n("Jet"),simpleName:i18n("Dark Gray"),baseColor:i18n("Black"),value:"#404041",fallback:"#6D6E70",basic:!0,standard:!0,full:!0},"#A8A7A5":{name:i18n("Silver Chalice"),simpleName:i18n("Light Gray 2"),baseColor:i18n("Black"),value:"#A8A7A5",fallback:"#83827F",basicFallback:"#6D6E70",full:!0},"#83827F":{name:i18n("Battleship Grey"),
simpleName:i18n("Gray 2"),baseColor:i18n("Black"),value:"#83827F",standard:!0,fallback:"#6D6E70",full:!0},"#605F5C":{name:i18n("Sonic Silver"),simpleName:i18n("Dark Gray 2"),baseColor:i18n("Black"),value:"#605F5C",fallback:"#83827F",basicFallback:"#404041",standard:!0,full:!0}},getColors:function(){var k=this,j=[];l.forEach("#F04E37,#D9182D,#A91024,#F19027,#DD731C,#B8461B,#FFE14F,#FFCF01,#FDB813,#8CC63F,#17AF4B,#008A52,#00A6A0,#007670,#006059,#82D1F5,#00B2EF,#00648D,#00B0DA,#008ABF,#003F69,#AB1A86,#7F1C7D,#3B0256,#F389AF,#EE3D96,#BA006E,#A5A215,#838329,#594F13,#929497,#6D6E70,#404041,#A8A7A5,#83827F,#605F5C".split(","),
function(f){j.push(m.clone(k.getColor(f)))});return j},getColor:function(k){return this.colors[k]||this.getDojoColor(k)},getColorOrConvert:function(k){var j=null;k&&(j=this.colors[k.toUpperCase()],j||(j=this.getDojoColor(k.toUpperCase()))&&(j=this.getColor(j.fallback)));j||(j=this.colors["#00B2EF"]);return j},dojoColors:{"#FFFFFF":{name:i18n("White"),baseColor:i18n("Gray"),value:"#FFFFFF",fallback:"#A8A7A5"},"#D3D3D3":{name:i18n("Light Gray"),baseColor:i18n("Gray"),value:"#D3D3D3",fallback:"#A8A7A5"},
"#C0C0C0":{name:i18n("Silver"),baseColor:i18n("Gray"),value:"#C0C0C0",fallback:"#A8A7A5"},"#808080":{name:i18n("Gray"),baseColor:i18n("Gray"),value:"#808080",fallback:"#83827F"},"#696969":{name:i18n("Dim Gray"),baseColor:i18n("Gray"),value:"#696969",fallback:"#6D6E70"},"#2F4F4F":{name:i18n("Dark Slate Gray"),baseColor:i18n("Gray"),value:"#2F4F4F",fallback:"#404041"},"#000000":{name:i18n("Black"),baseColor:i18n("Gray"),value:"#000000",fallback:"#404041"},"#FFF5EE":{name:i18n("Seashell"),baseColor:i18n("Orange"),
value:"#FFF5EE",fallback:"#F19027"},"#FFC0CB":{name:i18n("Pink"),baseColor:i18n("Pink"),value:"#FFC0CB",fallback:"#F389AF"},"#F08080":{name:i18n("Light Coral"),baseColor:i18n("Pink"),value:"#F08080",fallback:"#F389AF"},"#FF0000":{name:i18n("Red"),baseColor:i18n("Red"),value:"#FF0000",fallback:"#F04E37"},"#DC143C":{name:i18n("Crimson"),baseColor:i18n("Red"),value:"#DC143C",fallback:"#D9182D"},"#B22222":{name:i18n("Fire Brick"),baseColor:i18n("Red"),value:"#B22222",fallback:"#A91024"},"#8B0000":{name:i18n("Dark Red"),
baseColor:i18n("Red"),value:"#8B0000",fallback:"#A91024"},"#FFF8DC":{name:i18n("Cornsilk"),baseColor:i18n("Yellow"),value:"#FFF8DC",fallback:"#FFE14F"},"#FFE4C4":{name:i18n("Bisque"),baseColor:i18n("Orange"),value:"#FFE4C4",fallback:"#F19027"},"#F4A460":{name:i18n("Sandy Brown"),baseColor:i18n("Orange"),value:"#F4A460",fallback:"#F19027"},"#FF4500":{name:i18n("Orange Red"),baseColor:i18n("Red"),value:"#F04E37",fallback:"#F19027"},"#D2691E":{name:i18n("Chocolate"),baseColor:i18n("Orange"),value:"#D2691E",
fallback:"#DD731C"},"#8B4513":{name:i18n("Saddle Brown"),baseColor:i18n("Orange"),value:"#8B4513",fallback:"#B8461B"},"#800000":{name:i18n("Maroon"),baseColor:i18n("Red"),value:"#800000",fallback:"#A91024"},"#FFFACD":{name:i18n("Lemon Chiffon"),baseColor:i18n("Yellow"),value:"#FFFACD",fallback:"#FFE14F"},"#FFE4B5":{name:i18n("Moccasin"),baseColor:i18n("Orange"),value:"#FFE4B5",fallback:"#F19027"},"#FFA500":{name:i18n("Orange"),baseColor:i18n("Orange"),value:"#FFA500",fallback:"#F19027"},"#FF8C00":{name:i18n("Dark Orange"),
baseColor:i18n("Orange"),value:"#FF8C00",fallback:"#F19027"},"#FF7F50":{name:i18n("Coral"),baseColor:i18n("Orange"),value:"#FF7F50",fallback:"#F19027"},"#A0522D":{name:i18n("Sienna"),baseColor:i18n("Orange"),value:"#A0522D",fallback:"#B8461B"},"#A52A2A":{name:i18n("Brown"),baseColor:i18n("Red"),value:"#A52A2A",fallback:"#A91024"},"#FFFFE0":{name:i18n("Light Yellow"),baseColor:i18n("Yellow"),value:"#FFFFE0",fallback:"#FFE14F"},"#F0E68C":{name:i18n("Khaki"),baseColor:i18n("Yellow"),value:"#F0E68C",
fallback:"#FFE14F"},"#EEE8AA":{name:i18n("Pale Goldenrod"),baseColor:i18n("Yellow"),value:"#EEE8AA",fallback:"#FFE14F"},"#FFFF00":{name:i18n("Yellow"),baseColor:i18n("Yellow"),value:"#FFFF00",fallback:"#FFCF01"},"#FFD700":{name:i18n("Gold"),baseColor:i18n("Yellow"),value:"#FFD700",fallback:"#FFCF01"},"#808000":{name:i18n("Olive"),baseColor:i18n("Taupe"),value:"#808000",fallback:"#838329"},"#556B2F":{name:i18n("Dark Olive Green"),baseColor:i18n("Green"),value:"#556B2F",fallback:"#008A52"},"#98FB98":{name:i18n("Pale Green"),
baseColor:i18n("Green"),value:"#98FB98",fallback:"#8CC63F"},"#90EE90":{name:i18n("Light Green"),baseColor:i18n("Green"),value:"#90EE90",fallback:"#8CC63F"},"#7FFF00":{name:i18n("Chartreuse"),baseColor:i18n("Green"),value:"#7FFF00",fallback:"#8CC63F"},"#32CD32":{name:i18n("Lime Green"),baseColor:i18n("Green"),value:"#32CD32",fallback:"#17AF4B"},"#228B22":{name:i18n("Forest Green"),baseColor:i18n("Green"),value:"#228B22",fallback:"#008A52"},"#008000":{name:i18n("Green"),baseColor:i18n("Green"),value:"#008000",
fallback:"#008A52"},"#006400":{name:i18n("Dark Green"),baseColor:i18n("Green"),value:"#006400",fallback:"#008A52"},"#AFEEEE":{name:i18n("Pale Turquoise"),baseColor:i18n("Blue"),value:"#AFEEEE",fallback:"#82D1F5"},"#20B2AA":{name:i18n("Light Sea Green"),baseColor:i18n("Teal"),value:"#20B2AA",fallback:"#00A6A0"},"#48D1CC":{name:i18n("Medium Turquoise"),baseColor:i18n("Teal"),value:"#48D1CC",fallback:"#00A6A0"},"#8FBC8F":{name:i18n("Sea Green"),baseColor:i18n("Green"),value:"#8FBC8F",fallback:"#8CC63F"},
"#2E8B57":{name:i18n("Dark Sea Green"),baseColor:i18n("Green"),value:"#2E8B57",fallback:"#008A52"},"#008B8B":{name:i18n("Dark Cyan"),baseColor:i18n("Teal"),value:"#008B8B",fallback:"#007670"},"#191970":{name:i18n("Midnight Blue"),baseColor:i18n("Blue"),value:"#191970",fallback:"#3B0256"},"#E0FFFF":{name:i18n("Light Cyan"),baseColor:i18n("Blue"),value:"#E0FFFF",fallback:"#82D1F5"},"#87CEFA":{name:i18n("Light Sky Blue"),baseColor:i18n("Blue"),value:"#87CEFA",fallback:"#82D1F5"},"#87CEEB":{name:i18n("Sky Blue"),
baseColor:i18n("Blue"),value:"#87CEEB",fallback:"#82D1F5"},"#4169E1":{name:i18n("Royal Blue"),baseColor:i18n("Blue"),value:"#4169E1",fallback:"#00648D"},"#0000FF":{name:i18n("Blue"),baseColor:i18n("Blue"),value:"#0000FF",fallback:"#00B2EF"},"#0000CD":{name:i18n("Medium Blue"),baseColor:i18n("Blue"),value:"#0000CD",fallback:"#00648D"},"#000080":{name:i18n("Navy"),baseColor:i18n("Blue"),value:"#000080",fallback:"#003F69"},"#E6E6FA":{name:i18n("Lavender"),baseColor:i18n("Purple"),value:"#E6E6FA",fallback:"#AB1A86"},
"#6495ED":{name:i18n("Cornflower Blue"),baseColor:i18n("Blue"),value:"#6495ED",fallback:"#008ABF"},"#7B68EE":{name:i18n("Medium Slate Blue"),baseColor:i18n("Blue"),value:"#7B68EE",fallback:"#008ABF"},"#6A5ACD":{name:i18n("Slate Blue"),baseColor:i18n("Blue"),value:"#6A5ACD",fallback:"#00648D"},"#8A2BE2":{name:i18n("Blue Violet"),baseColor:i18n("Purple"),value:"#8A2BE2",fallback:"#AB1A86"},"#483D8B":{name:i18n("Dark Slate Blue"),baseColor:i18n("Purple"),value:"#483D8B",fallback:"#3B0256"},"#4B0082":{name:i18n("Indigo"),
baseColor:i18n("Purple"),value:"#4B0082",fallback:"#3B0256"},"#DDA0DD":{name:i18n("Plum"),baseColor:i18n("Purple"),value:"#DDA0DD",fallback:"#F389AF"},"#EE82EE":{name:i18n("Violet"),baseColor:i18n("Purple"),value:"#EE82EE",fallback:"#F389AF"},"#DA70D6":{name:i18n("Orchid"),baseColor:i18n("Purple"),value:"#DA70D6",fallback:"#AB1A86"},"#BA55D3":{name:i18n("Medium Orchid"),baseColor:i18n("Purple"),value:"#BA55D3",fallback:"#AB1A86"},"#9932CC":{name:i18n("Dark Orchid"),baseColor:i18n("Purple"),value:"#9932CC",
fallback:"#AB1A86"},"#8B008B":{name:i18n("Dark Magenta"),baseColor:i18n("Purple"),value:"#8B008B",fallback:"#7F1C7D"},"#800080":{name:i18n("Purple"),baseColor:i18n("Purple"),value:"#800080",fallback:"#7F1C7D"},"#B3D66D":{name:i18n("Yellow Green"),baseColor:i18n("Green"),value:"#B3D66D",fallback:"#8CC63F"},"default":{name:i18n("Cerulean"),baseColor:i18n("Blue"),fallback:"#00B2EF"}},getDojoColor:function(k){return this.dojoColors[k.toUpperCase()]||this.dojoColors["default"]},dojoToIBM:function(k){(k=
this.dojoColors[k.toUpperCase()])||(k=this.dojoColors["default"]);return k=k.fallback},getBasicColorName:function(k){return this.getColor(k).baseColor.toLowerCase()}}})},"dojo/selector/acme":function(){define(["../dom","../sniff","../_base/array","../_base/lang","../_base/window"],function(l,m,k,j,f){var e=j.trim,d=k.forEach,c="BackCompat"==f.doc.compatMode,b=!1,a=function(){return!0},h=function(a){for(var a=0<=">~+".indexOf(a.slice(-1))?a+" * ":a+" ",c=function(b,c){return e(a.slice(b,c))},d=[],
h=-1,f=-1,j=-1,n=-1,o=-1,k=-1,q=-1,l,r="",m="",s,z=0,v=a.length,y=null,t=null,A=function(){if(0<=k)y.id=c(k,z).replace(/\\/g,""),k=-1;if(0<=q){var a=q==z?null:c(q,z);y[0>">~+".indexOf(a)?"tag":"oper"]=a;q=-1}0<=o&&(y.classes.push(c(o+1,z).replace(/\\/g,"")),o=-1)};r=m,m=a.charAt(z),z<v;z++)if("\\"!=r)if(y||(s=z,y={query:null,pseudos:[],attrs:[],classes:[],tag:null,oper:null,id:null,getTag:function(){return b?this.otag:this.tag}},q=z),l)m==l&&(l=null);else if("'"==m||'"'==m)l=m;else if(0<=h)if("]"==
m){t.attr?t.matchFor=c(j||h+1,z):t.attr=c(h+1,z);if((h=t.matchFor)&&('"'==h.charAt(0)||"'"==h.charAt(0)))t.matchFor=h.slice(1,-1);if(t.matchFor)t.matchFor=t.matchFor.replace(/\\/g,"");y.attrs.push(t);t=null;h=j=-1}else{if("="==m)j=0<="|~^$*".indexOf(r)?r:"",t.type=j+m,t.attr=c(h+1,z-j.length),j=z+1}else if(0<=f){if(")"==m){if(0<=n)t.value=c(f+1,z);n=f=-1}}else if("#"==m)A(),k=z+1;else if("."==m)A(),o=z;else if(":"==m)A(),n=z;else if("["==m)A(),h=z,t={};else if("("==m)0<=n&&(t={name:c(n+1,z),value:null},
y.pseudos.push(t)),f=z;else if(" "==m&&r!=m){A();0<=n&&y.pseudos.push({name:c(n+1,z)});y.loops=y.pseudos.length||y.attrs.length||y.classes.length;y.oquery=y.query=c(s,z);y.otag=y.tag=y.oper?null:y.tag||"*";if(y.tag)y.tag=y.tag.toUpperCase();if(d.length&&d[d.length-1].oper)y.infixOper=d.pop(),y.query=y.infixOper.query+" "+y.query;d.push(y);y=null}return d},q=function(a,b){return!a?b:!b?a:function(){return a.apply(window,arguments)&&b.apply(window,arguments)}},o=function(a,b){var c=b||[];a&&c.push(a);
return c},n=function(a){return 1==a.nodeType},s=function(a,c){return!a?"":"class"==c?a.className||"":"for"==c?a.htmlFor||"":"style"==c?a.style.cssText||"":(b?a.getAttribute(c):a.getAttribute(c,2))||""},r={"*=":function(a,b){return function(c){return 0<=s(c,a).indexOf(b)}},"^=":function(a,b){return function(c){return 0==s(c,a).indexOf(b)}},"$=":function(a,b){return function(c){var c=" "+s(c,a),d=c.lastIndexOf(b);return-1<d&&d==c.length-b.length}},"~=":function(a,b){var c=" "+b+" ";return function(b){return 0<=
(" "+s(b,a)+" ").indexOf(c)}},"|=":function(a,b){var c=b+"-";return function(d){d=s(d,a);return d==b||0==d.indexOf(c)}},"=":function(a,b){return function(c){return s(c,a)==b}}},t="undefined"==typeof f.doc.firstChild.nextElementSibling,w=!t?"nextElementSibling":"nextSibling",u=!t?"previousElementSibling":"previousSibling",x=t?n:a,v=function(a){for(;a=a[u];)if(x(a))return!1;return!0},y=function(a){for(;a=a[w];)if(x(a))return!1;return!0},A=function(a){var b=a.parentNode,b=7!=b.nodeType?b:b.nextSibling,
c=0,d=b.children||b.childNodes,e=a._i||a.getAttribute("_i")||-1,h=b._l||("undefined"!==typeof b.getAttribute?b.getAttribute("_l"):-1);if(!d)return-1;d=d.length;if(h==d&&0<=e&&0<=h)return e;m("ie")&&"undefined"!==typeof b.setAttribute?b.setAttribute("_l",d):b._l=d;e=-1;for(b=b.firstElementChild||b.firstChild;b;b=b[w])if(x(b))m("ie")?b.setAttribute("_i",++c):b._i=++c,a===b&&(e=c);return e},z=function(a){return!(A(a)%2)},B=function(a){return A(a)%2},D={checked:function(){return function(a){return!!("checked"in
a?a.checked:a.selected)}},disabled:function(){return function(a){return a.disabled}},enabled:function(){return function(a){return!a.disabled}},"first-child":function(){return v},"last-child":function(){return y},"only-child":function(){return function(a){return v(a)&&y(a)}},empty:function(){return function(a){for(var b=a.childNodes,a=a.childNodes.length-1;0<=a;a--){var c=b[a].nodeType;if(1===c||3==c)return!1}return!0}},contains:function(a,b){var c=b.charAt(0);if('"'==c||"'"==c)b=b.slice(1,-1);return function(a){return 0<=
a.innerHTML.indexOf(b)}},not:function(a,b){var c=h(b)[0],d={el:1};if("*"!=c.tag)d.tag=1;if(!c.classes.length)d.classes=1;var e=C(c,d);return function(a){return!e(a)}},"nth-child":function(a,b){var c=parseInt;if("odd"==b)return B;if("even"==b)return z;if(-1!=b.indexOf("n")){var d=b.split("n",2),e=d[0]?"-"==d[0]?-1:c(d[0]):1,h=d[1]?c(d[1]):0,f=0,j=-1;0<e?0>h?h=h%e&&e+h%e:0<h&&(h>=e&&(f=h-h%e),h%=e):0>e&&(e*=-1,0<h&&(j=h,h%=e));if(0<e)return function(a){a=A(a);return a>=f&&(0>j||a<=j)&&a%e==h};b=h}var n=
c(b);return function(a){return A(a)==n}}},G=9>m("ie")||9==m("ie")&&m("quirks")?function(a){var c=a.toLowerCase();"class"==c&&(a="className");return function(d){return b?d.getAttribute(a):d[a]||d[c]}}:function(a){return function(b){return b&&b.getAttribute&&b.hasAttribute(a)}},C=function(c,e){if(!c)return a;var e=e||{},h=null;"el"in e||(h=q(h,n));"tag"in e||"*"!=c.tag&&(h=q(h,function(a){return a&&(b?a.tagName:a.tagName.toUpperCase())==c.getTag()}));"classes"in e||d(c.classes,function(a,b){var c=RegExp("(?:^|\\s)"+
a+"(?:\\s|$)");h=q(h,function(a){return c.test(a.className)});h.count=b});"pseudos"in e||d(c.pseudos,function(a){var b=a.name;D[b]&&(h=q(h,D[b](b,a.value)))});"attrs"in e||d(c.attrs,function(a){var b,c=a.attr;a.type&&r[a.type]?b=r[a.type](c,a.matchFor):c.length&&(b=G(c));b&&(h=q(h,b))});"id"in e||c.id&&(h=q(h,function(a){return!!a&&a.id==c.id}));h||"default"in e||(h=a);return h},S=function(a){return function(b,c,d){for(;b=b[w];)if(!t||n(b)){(!d||H(b,d))&&a(b)&&c.push(b);break}return c}},K=function(a){return function(b,
c,d){for(b=b[w];b;){if(x(b)){if(d&&!H(b,d))break;a(b)&&c.push(b)}b=b[w]}return c}},L=function(b){b=b||a;return function(a,c,d){for(var e=0,h=a.children||a.childNodes;a=h[e++];)x(a)&&(!d||H(a,d))&&b(a,e)&&c.push(a);return c}},M={},I=function(b){var d=M[b.query];if(d)return d;var e=b.infixOper,e=e?e.oper:"",h=C(b,{el:1}),j="*"==b.tag,n=f.doc.getElementsByClassName;if(e){n={el:1};if(j)n.tag=1;h=C(b,n);"+"==e?d=S(h):"~"==e?d=K(h):">"==e&&(d=L(h))}else if(b.id)h=!b.loops&&j?a:C(b,{el:1,id:1}),d=function(a,
c){var d=l.byId(b.id,a.ownerDocument||a);if(d&&h(d)){if(9==a.nodeType)return o(d,c);for(var e=d.parentNode;e&&!(e==a);)e=e.parentNode;if(e)return o(d,c)}};else if(n&&/\{\s*\[native code\]\s*\}/.test(""+n)&&b.classes.length&&!c)var h=C(b,{el:1,classes:1,id:1}),k=b.classes.join(" "),d=function(a,b,c){for(var b=o(0,b),d,e=0,f=a.getElementsByClassName(k);d=f[e++];)h(d,a)&&H(d,c)&&b.push(d);return b};else!j&&!b.loops?d=function(a,c,d){for(var c=o(0,c),e=0,h=b.getTag(),h=h?a.getElementsByTagName(h):[];a=
h[e++];)H(a,d)&&c.push(a);return c}:(h=C(b,{el:1,tag:1,id:1}),d=function(a,c,d){for(var c=o(0,c),e,f=0,j=(e=b.getTag())?a.getElementsByTagName(e):[];e=j[f++];)h(e,a)&&H(e,d)&&c.push(e);return c});return M[b.query]=d},J={},U={},Q=function(a){var b=h(e(a));if(1==b.length){var c=I(b[0]);return function(a){if(a=c(a,[]))a.nozip=!0;return a}}return function(a){for(var a=o(a),c,d,e=b.length,h,f,j=0;j<e;j++){f=[];c=b[j];d=a.length-1;if(0<d)h={},f.nozip=!0;d=I(c);for(var n=0;c=a[n];n++)d(c,f,h);if(!f.length)break;
a=f}return f}},R=m("ie")?"commentStrip":"nozip",V=!!f.doc.querySelectorAll,X=/\\[>~+]|n\+\d|([^ \\])?([>~+])([^ =])?/g,N=function(a,b,c,d){return c?(b?b+" ":"")+c+(d?" "+d:""):a},T=/([^[]*)([^\]]*])?/g,F=function(a,b,c){return b.replace(X,N)+(c||"")},E=function(a,b){a=a.replace(T,F);if(V){var d=U[a];if(d&&!b)return d}if(d=J[a])return d;var d=a.charAt(0),e=-1==a.indexOf(" ");0<=a.indexOf("#")&&e&&(b=!0);if(V&&!b&&-1==">~+".indexOf(d)&&(!m("ie")||-1==a.indexOf(":"))&&!(c&&0<=a.indexOf("."))&&-1==a.indexOf(":contains")&&
-1==a.indexOf(":checked")&&-1==a.indexOf("|=")){var h=0<=">~+".indexOf(a.charAt(a.length-1))?a+" *":a;return U[a]=function(b){try{if(!(9==b.nodeType||e))throw"";var c=b.querySelectorAll(h);c[R]=!0;return c}catch(d){return E(a,!0)(b)}}}var f=a.match(/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g);return J[a]=2>f.length?Q(a):function(a){for(var b=0,c=[],d;d=f[b++];)c=c.concat(Q(d)(a));return c}},O=0,Y=m("ie")?function(a){return b?a.getAttribute("_uid")||a.setAttribute("_uid",++O)||O:a.uniqueID}:
function(a){return a._uid||(a._uid=++O)},H=function(a,b){if(!b)return 1;var c=Y(a);return!b[c]?b[c]=1:0},P=function(a){if(a&&a.nozip)return a;var c=[];if(!a||!a.length)return c;a[0]&&c.push(a[0]);if(2>a.length)return c;O++;var d,e;if(m("ie")&&b){var h=O+"";a[0].setAttribute("_zipIdx",h);for(d=1;e=a[d];d++)a[d].getAttribute("_zipIdx")!=h&&c.push(e),e.setAttribute("_zipIdx",h)}else if(m("ie")&&a.commentStrip)try{for(d=1;e=a[d];d++)n(e)&&c.push(e)}catch(f){}else{a[0]&&(a[0]._zipIdx=O);for(d=1;e=a[d];d++)a[d]._zipIdx!=
O&&c.push(e),e._zipIdx=O}return c},W=function(a,c){c=c||f.doc;b="div"===(c.ownerDocument||c).createElement("div").tagName;var d=E(a)(c);return d&&d.nozip?d:P(d)};W.filter=function(a,b,c){for(var d=[],e=h(b),e=1==e.length&&!/[^\w#\.]/.test(b)?C(e[0]):function(a){return-1!=k.indexOf(W(b,l.byId(c)),a)},f=0,j;j=a[f];f++)e(j)&&d.push(j);return d};return W})},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(l,m,k){return l("dojo.store.Memory",
null,{constructor:function(j){for(var f in j)this[f]=j[f];this.setData(this.data||[])},data:null,idProperty:"id",index:null,queryEngine:k,get:function(j){return this.data[this.index[j]]},getIdentity:function(j){return j[this.idProperty]},put:function(j,f){var e=this.data,d=this.index,c=this.idProperty,c=j[c]=f&&"id"in f?f.id:c in j?j[c]:Math.random();if(c in d){if(f&&!1===f.overwrite)throw Error("Object already exists");e[d[c]]=j}else d[c]=e.push(j)-1;return c},add:function(j,f){(f=f||{}).overwrite=
!1;return this.put(j,f)},remove:function(j){var f=this.index,e=this.data;if(j in f)return e.splice(f[j],1),this.setData(e),!0},query:function(j,f){return m(this.queryEngine(j,f)(this.data))},setData:function(j){var a;j.items?(this.idProperty=j.identifier,a=this.data=j.items,j=a):this.data=j;this.index={};for(var f=0,e=j.length;f<e;f++)this.index[j[f][this.idProperty]]=f}})})},"deploy/widgets/application/wizard/AgentMappingTargetTree":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/_base/lang,dojo/dom-attr,dojo/dom-class,dojo/dom-style,dojo/dom-geometry,dojo/dom-construct,dojo/on,deploy/widgets/Formatters,deploy/widgets/tag/Tagger,js/webext/widgets/table/TreeTable,js/webext/widgets/color/Color".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n){return k([m,l],{templateString:'<div class="agentMappingTargetTree">  <div data-dojo-attach-point="environmentNameContainer" class="environment-name-container">    <span data-dojo-attach-point="environmentName" class="environment-name"></span>  </div>  <div data-dojo-attach-point="resourcesGrid"></div></div>',USETHISSOMEDAYMAYBE:i18n("Drag agents here"),postCreate:function(){this.inherited(arguments);var a=this;if(!a.environment.mappings)a.environment.mappings=
{};this.setName();this.environment.watch("name",function(){a.setName()});this.setDescription();this.environment.watch("description",function(){a.setDescription()});this.setColor();this.setupTree();this.environment.watch("template",function(){a.environment.mappings={};a.setColor();a.setupTree()})},setName:function(){this.environmentName.textContent=this.environment.name},setDescription:function(){var a=this.environment.get("description");a&&f.set(this.environmentNameContainer,"title",util.escape(a))},
setColor:function(){var a=n.getColorOrConvert(this.environment.get("template").get("color"));!a.standard&&a.fallback&&(a=n.getColor(a.fallback));var b=a.value;util.getTint(b,0.25);a.light&&e.add(this.domNode,"light-colored-environment");util.isDarkColor(b)&&e.add(this.domNode,"dark-colored-environment");d.set(this.environmentNameContainer,"backgroundColor",b)},setupTree:function(){var a=this;b.empty(this.resourcesGrid);var c={url:bootstrap.restUrl+"resource/resourceTemplate/"+this.environment.get("template").get("resourceTemplateId")+
"/resources",xhrMethod:"POST",serverSideProcessing:!1,orderField:"name",columns:[this.getNameColumn()],draggable:!0,selectable:!1,hideExpandCollapse:!0,hidePagination:!0,hideFooterLinks:!0,expandRoots:!0,suppressDefaultOnDrop:!0,canDragItem:function(){return!1},canDropOnItem:function(b,c){var d=!1,e;a._isAgentPrototype(c)&&c.parent&&(d=!0,e=a.environment.mappings[c.parent.id]);Array.isArray(e)&&0<e.length&&(d=b.every(function(a){return e.every(function(b){return b.id!==a.id})}));return d},onDrop:function(b,
c){if(c){var d=this;setTimeout(function(){var b=a.crossWidgetDnDState.sources,e=c.parent.id,h=a.environment.mappings;h[e]||(h[e]=[]);b.forEach(function(a){if(!h[e].some(function(b){return b.id===a.id})){var b=j.mixin({},a);h[e].push(b);b.parentPath=c.parent.path}});d.loadTable()},100)}},getChildUrl:function(b){return a.getChildUrl(b)},hasChildren:function(a){return a.hasChildren},drawHeadings:function(){}};this.grid=new o(c);this.grid.placeAt(this.resourcesGrid)},getChildUrl:function(a){return bootstrap.restUrl+
"resource/resourceTemplate/"+this.environment.get("template").get("resourceTemplateId")+"/resources/"+a.id+"/children"},getNameColumn:function(){var c=this;return{name:i18n("Name"),formatter:function(d){var f=b.create("div",{"class":"inlineBlock"}),j=h.resourceNonLinkFormatter(d,!0);e.add(j,"inlineBlock");b.place(j,f);c.showTags(d,f);if(c._isAgentPrototype(d)&&d.parent){var n=c.environment.mappings[d.parent.id];n&&n.forEach(function(c){c.agent=!0;var d=h.resourceNonLinkFormatter(c,!0);e.add(d,"assignedAgent");
var j=b.toDom('<span class="del">\u00d7</span>');a(j,"click",function(){var a=n.indexOf(c);n.splice(a,1);b.destroy(d)});b.place(j,d);b.place(d,f)})}return f},getRawValue:function(a){return a.path}}},showTags:function(a,b){var c=this;c.tagger=new q({objectType:"Resource",allowTagAdd:!1,item:a,callback:function(){c.grid.refresh()}});c.tagger.placeAt(b)},_isAgentPrototype:function(a){return!!a.path.match("Agent Prototype[/]?$")}})})},"deploy/widgets/rightPanel/RightPanelComponents":function(){define("dojo/_base/declare,dojo/_base/array,deploy/widgets/rightPanel/ResourceRightPanel,dojo/dom-class,dojo/dom-construct,dijit/form/TextBox,deploy/widgets/Formatters,deploy/widgets/tag/Tagger,deploy/widgets/filter/TagFilter,js/webext/widgets/Alert,js/webext/widgets/table/TreeTable".split(","),
function(l,m,k,j,f,e,d,c,b,a){return l("deploy.widgets.resource.RightPanelComponents",[k],{header:i18n("Components"),subheader:i18n("Drag and drop components into agents"),url:bootstrap.restUrl+"resource/resourceRole/componentRoles",selectable:!0,getColumns:function(){return[{name:i18n("Name"),formatter:function(a,b,c){c.style.positon="relative";a=f.create("span",{innerHTML:a.name.escape()});f.place(d.createIcon("componentIcon"),a,"first");return a},orderField:"name",filterField:"name",filterType:"text"}]},
onDrop:function(b){var c=this,d=this.parent.target;m.forEach(b,function(b){var e=d;e&&(e=d.hasAgent||d.resourceTemplate);e?c.submitData(c.optionsSwitch.value?"component":"role",d,b,c.optionsSwitch.value):new a({message:i18n("Invalid component resource location")})})}})})},"dojox/calendar/Keyboard":function(){define("dojox/calendar/Keyboard","dojo/_base/array,dojo/_base/lang,dojo/_base/declare,dojo/on,dojo/_base/event,dojo/keys".split(","),function(l,m,k,j,f,e){return k("dojox.calendar.Keyboard",null,
{keyboardUpDownUnit:"minute",keyboardUpDownSteps:15,keyboardLeftRightUnit:"day",keyboardLeftRightSteps:1,allDayKeyboardUpDownUnit:"day",allDayKeyboardUpDownSteps:7,allDayKeyboardLeftRightUnit:"day",allDayKeyboardLeftRightSteps:1,postCreate:function(){this.inherited(arguments);this._viewHandles.push(j(this.domNode,"keydown",m.hitch(this,this._onKeyDown)))},resizeModifier:"ctrl",maxScrollAnimationDuration:1E3,tabIndex:"0",focusedItem:null,_isItemFocused:function(d){return null!=this.focusedItem&&this.focusedItem.id==
d.id},_setFocusedItemAttr:function(d){if(d!=this.focusedItem){var c=this.focusedItem;this._set("focusedItem",d);this.updateRenderers([c,this.focusedItem],!0);this.onFocusChange({oldValue:c,newValue:d})}null!=d&&(null!=this.owner&&null!=this.owner.get("focusedItem")&&this.owner.set("focusedItem",null),null!=this._secondarySheet&&null!=this._secondarySheet.set("focusedItem")&&this._secondarySheet.set("focusedItem",null))},onFocusChange:function(){},showFocus:!1,_focusNextItem:function(d){if(!this.renderData||
!this.renderData.items||0==this.renderData.items.length)return null;var c=-1,b=this.renderData.items,a=b.length-1,e=this.get("focusedItem");null==e?c=0<d?0:a:(l.some(b,m.hitch(this,function(a,b){var d=a.id==e.id;d&&(c=b);return d})),c=this._focusNextItemImpl(d,c,a));for(var f=!1,j=-1;j!=c&&(!f||0!=c);){!f&&0==c&&(f=!0);j=b[c];if(null!=this.itemToRenderer[j.id]){this.set("focusedItem",j);break}j=c;c=this._focusNextItemImpl(d,c,a)}},_focusNextItemImpl:function(d,c,b){if(-1==c)c=0<d?0:b;else{if(0==c&&
-1==d||c==b&&1==d)return c;c=0<d?++c:--c}return c},_handlePrevNextKeyCode:function(d,c){this.isLeftToRight()||(c=1==c?-1:1);this.showFocus=!0;this._focusNextItem(c);var b=this.get("focusedItem");!d.ctrlKey&&b&&this.set("selectedItem",b);b&&this.ensureVisibility(b.startTime,b.endTime,"both",void 0,this.maxScrollAnimationDuration)},_keyboardItemEditing:function(d,c){f.stop(d);var b=this._edProps,a,e;b.editedItem.allDay||this.roundToDay||"label"==b.rendererKind?(a="up"==c||"down"==c?this.allDayKeyboardUpDownUnit:
this.allDayKeyboardLeftRightUnit,e="up"==c||"down"==c?this.allDayKeyboardUpDownSteps:this.allDayKeyboardLeftRightSteps):(a="up"==c||"down"==c?this.keyboardUpDownUnit:this.keyboardLeftRightUnit,e="up"==c||"down"==c?this.keyboardUpDownSteps:this.keyboardLeftRightSteps);if("up"==c||!this.isLeftToRight()&&"right"==c||this.isLeftToRight()&&"left"==c)e=-e;var j=d[this.resizeModifier+"Key"]?"resizeEnd":"move",o="resizeEnd"==j?b.editedItem.endTime:b.editedItem.startTime;a=this.renderData.dateModule.add(o,
a,e);this._startItemEditingGesture([o],j,"keyboard",d);this._moveOrResizeItemGesture([a],"keyboard",d);this._endItemEditingGesture(j,"keyboard",d,!1);"move"==j?-1==this.renderData.dateModule.compare(a,o)?this.ensureVisibility(b.editedItem.startTime,b.editedItem.endTime,"start"):this.ensureVisibility(b.editedItem.startTime,b.editedItem.endTime,"end"):this.ensureVisibility(b.editedItem.startTime,b.editedItem.endTime,"end")},_onKeyDown:function(d){var c=this.get("focusedItem");switch(d.keyCode){case e.ESCAPE:if(this._isEditing)this._editingGesture&&
this._endItemEditingGesture("keyboard",d,!0),this._endItemEditing("keyboard",!0),this._edProps=null;break;case e.SPACE:f.stop(d);null!=c&&this.setItemSelected(c,d.ctrlKey?!this.isItemSelected(c):!0);break;case e.ENTER:f.stop(d);if(null!=c)if(this._isEditing)this._endItemEditing("keyboard",!1);else if((d=this.itemToRenderer[c.id])&&0<d.length&&this.isItemEditable(c,d[0].kind))this._edProps={renderer:d[0],rendererKind:d[0].kind,tempEditedItem:c,liveLayout:this.liveLayout},this.set("selectedItem",c),
this._startItemEditing(c,"keyboard");break;case e.LEFT_ARROW:f.stop(d);this._isEditing?this._keyboardItemEditing(d,"left"):this._handlePrevNextKeyCode(d,-1);break;case e.RIGHT_ARROW:f.stop(d);this._isEditing?this._keyboardItemEditing(d,"right"):this._handlePrevNextKeyCode(d,1);break;case e.UP_ARROW:this._isEditing?this._keyboardItemEditing(d,"up"):this.scrollable&&this.scrollView(-1);break;case e.DOWN_ARROW:this._isEditing?this._keyboardItemEditing(d,"down"):this.scrollable&&this.scrollView(1)}}})})},
"dojox/calendar/ColumnViewSecondarySheet":function(){require({cache:{"url:dojox/calendar/templates/ColumnViewSecondarySheet.html":'<div data-dojo-attach-events="keydown:_onKeyDown">\n\t<div  data-dojo-attach-point="rowHeader" class="dojoxCalendarRowHeader">\n\t\t<table data-dojo-attach-point="rowHeaderTable" class="dojoxCalendarRowHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t</div>\t\n\t<div data-dojo-attach-point="grid" class="dojoxCalendarGrid">\n\t\t<table data-dojo-attach-point="gridTable" class="dojoxCalendarGridTable" cellpadding="0" cellspacing="0"></table>\n\t</div>\n\t<div data-dojo-attach-point="itemContainer" class="dojoxCalendarContainer" data-dojo-attach-event="mousedown:_onGridMouseDown,mouseup:_onGridMouseUp,ondblclick:_onGridDoubleClick,touchstart:_onGridTouchStart,touchmove:_onGridTouchMove,touchend:_onGridTouchEnd">\n\t\t<table data-dojo-attach-point="itemContainerTable" class="dojoxCalendarContainerTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t</div>\n</div>\n'}});
define("dojox/calendar/ColumnViewSecondarySheet","./MatrixView,dojo/text!./templates/ColumnViewSecondarySheet.html,dojo/_base/html,dojo/_base/declare,dojo/_base/event,dojo/_base/lang,dojo/_base/sniff,dojo/dom,dojo/dom-class,dojo/dom-geometry,dojo/dom-construct,dojo/date,dojo/date/locale,dojo/query,dojox/html/metrics,dojo/_base/fx,dojo/on,dojo/i18n,dojo/window".split(","),function(l,m,k,j,f,e,d,c,b,a){return j("dojox.calendar.ColumnViewSecondarySheet",l,{templateString:m,rowCount:1,cellPaddingTop:4,
roundToDay:!1,_defaultHeight:-1,layoutDuringResize:!0,_defaultItemToRendererKindFunc:function(a){return a.allDay?"horizontal":null},_formatGridCellLabel:function(){return null},_formatRowHeaderLabel:function(){return null},__fixEvt:function(a){a.sheet="secondary";a.source=this;return a},_dispatchCalendarEvt:function(a,b){a=this.inherited(arguments);if(this.owner.owner)this.owner.owner[b](a)},_layoutExpandRenderers:function(b,c,d){if(this.expandRenderer){var e=a.getMarginBox(this.domNode).h;if(-1==
this._defaultHeight)this._defaultHeight=e;-1!=this._defaultHeight&&this._defaultHeight!=e&&e>=this._getExpandedHeight()?this._layoutExpandRendererImpl(0,this._expandedRowCol,null,!0):this.inherited(arguments)}},expandRendererClickHandler:function(b,c){f.stop(b);var d=a.getMarginBox(this.domNode).h;this._defaultHeight==d||d<this._getExpandedHeight()?(this._expandedRowCol=c.columnIndex,this.owner.resizeSecondarySheet(this._getExpandedHeight())):this.owner.resizeSecondarySheet(this._defaultHeight)},
_getExpandedHeight:function(){return this.naturalRowsHeight[0]+this.expandRendererHeight+this.verticalGap+this.verticalGap},_layoutRenderers:function(a){this._domReady&&this.inherited(arguments)}})})},"url:dojox/calendar/templates/ColumnView.html":'<div data-dojo-attach-events="keydown:_onKeyDown">\n\t\n\t<div data-dojo-attach-point="header" class="dojoxCalendarHeader">\n\t\t<div class="dojoxCalendarYearColumnHeader" data-dojo-attach-point="yearColumnHeader">\n\t\t\t<table cellspacing="0" cellpadding="0"><tr><td><span data-dojo-attach-point="yearColumnHeaderContent"></span></td></tr></table>\t\t\n\t\t</div>\n\t\t<div data-dojo-attach-point="columnHeader" class="dojoxCalendarColumnHeader">\n\t\t\t<table data-dojo-attach-point="columnHeaderTable" class="dojoxCalendarColumnHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t\t</div>\n\t</div>\n\t\n\t<div data-dojo-attach-point="secondarySheetNode"></div>\n\t\n\t<div data-dojo-attach-point="scrollContainer" class="dojoxCalendarScrollContainer">\n\t\t<div data-dojo-attach-point="sheetContainer" style="position:relative;left:0;right:0;margin:0;padding:0">\n\t\t\t<div data-dojo-attach-point="rowHeader" class="dojoxCalendarRowHeader">\n\t\t\t\t<table data-dojo-attach-point="rowHeaderTable" class="dojoxCalendarRowHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t\t\t</div>\n\t\t\t<div data-dojo-attach-point="grid" class="dojoxCalendarGrid">\n\t\t\t\t<table data-dojo-attach-point="gridTable" class="dojoxCalendarGridTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t\t\t</div>\n\t\t\t<div data-dojo-attach-point="itemContainer" class="dojoxCalendarContainer" data-dojo-attach-event="mousedown:_onGridMouseDown,mouseup:_onGridMouseUp,ondblclick:_onGridDoubleClick,touchstart:_onGridTouchStart,touchmove:_onGridTouchMove,touchend:_onGridTouchEnd">\n\t\t\t\t<table data-dojo-attach-point="itemContainerTable" class="dojoxCalendarContainerTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t\t\t</div>\n\t\t</div> \n\t</div>\n\t\n\t<div data-dojo-attach-point="vScrollBar" class="dojoxCalendarVScrollBar">\n\t\t<div data-dojo-attach-point="vScrollBarContent" style="visibility:hidden;position:relative;width:1px;height:1px;" ></div>\n\t</div>\n\t\n</div>\n',
"deploy/widgets/environment/EnvironmentComponentProperties":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/array,dojo/_base/declare,dojo/dom-construct,dojo/_base/lang,dojo/_base/xhr,deploy/widgets/environment/EnvironmentComponentProperty,js/webext/widgets/Alert,js/webext/widgets/ColumnForm,js/webext/widgets/FieldList,js/webext/widgets/select/WebextSelect,dojox/data/JsonRestStore,deploy/widgets/property/PropSheetDefValues".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o,n){return j("deploy.widgets.environment.EnvironmentComponentProperties",
[m,l],{templateString:'<div class="environmentComponentProperties"><div data-dojo-attach-point="filterScrollAttach" style="margin-bottom: 20px;"></div><hr><div data-dojo-attach-point="noDataMessageAttach" style="margin-top: 20px; font-size: 14px; text-align: center;"></div><div data-dojo-attach-point="formAttach"></div></div>',form:null,componentPropSheetForm:null,postCreate:function(){this.inherited(arguments);var a=this,b=new o({target:bootstrap.restUrl+"deploy/application/"+this.environment.application.id+
"/components",idAttribute:"id"}),b=new q({store:b,onChange:function(b){a.componentPropSheetForm&&a.componentPropSheetForm.destroy();a.form&&a.form.destroy();a.noDataMessageAttach&&f.empty(a.noDataMessageAttach);b&&""!==b?a.showComponentProperties(b):d.get({url:bootstrap.restUrl+"deploy/environment/"+a.environment.id+"/componentProperties",handleAs:"json",load:function(b){a.showAllProperties(b)}})},allowNone:!0,pageSize:10,label:"Filter By Component"});this.filterContainer=new h;this.filterContainer.insertField(b);
this.filterContainer.placeAt(this.filterScrollAttach);d.get({url:bootstrap.restUrl+"deploy/environment/"+a.environment.id+"/componentProperties",handleAs:"json",load:function(b){a.showAllProperties(b)}})},showComponentProperties:function(a){var b=this;d.get({url:bootstrap.restUrl+"deploy/environment/"+b.environment.id+"/componentPropertySheets/"+a,handleAs:"json",load:function(a){b.componentPropSheetForm=new n({propSheetDefPath:a.propSheetDef.path,propSheetPath:a.propSheet.path,showVersions:!0,propSheetVersion:a.propSheet.version,
propSheetVersionCount:a.propSheet.versionCount,readOnly:!b.environment.extendedSecurity["Manage Properties"]});b.componentPropSheetForm.placeAt(b.formAttach)}})},showAllProperties:function(d){var e=this,h=[];d[0]?(this.form=new a({submitUrl:bootstrap.restUrl+"deploy/environment/"+this.environment.id+"/componentProperties",validateFields:function(){var a=[];k.forEach(h,function(b){0<b.form.validateRequired().length&&a.push(i18n("Missing required value for field %s",b.getLabel()));b.validatePattern(a)});
return a},readOnly:!this.environment.security["Manage Properties"],cancelLabel:null,addData:function(a){e.flattenProperties(a)},postSubmit:function(){new b({message:i18n("Properties saved.")})}}),k.forEach(d,function(a){var b=new c({readOnly:!e.environment.security["Manage Properties"],propertyData:a});h.push(b);e.form.addField({name:a.name,widget:b})}),this.form.placeAt(this.formAttach)):this.noDataMessageAttach.innerHTML=i18n("There are no Component Environment Properties to display.")},flattenProperties:function(a){var b=
e.clone(a),c;for(c in b)if(b.hasOwnProperty(c)){delete a[c];var d=b[c],h;for(h in d)d.hasOwnProperty(h)&&(a[h]=d[h])}}})})},"deploy/widgets/workflow/BaseGraph":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/_base/lang,dojo/window,dojo/dom-class,dojo/dom-construct,dojo/dom-attr,dojo/on,dojo/mouse,dojo/query,dijit/form/Button,dijit/form/CheckBox,dijit/form/NumberSpinner,deploy/widgets/workflow/GraphEdgeManager,deploy/widgets/workflow/activity/ActivityCreator,js/webext/widgets/Alert,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,deploy/widgets/process/ProcessIconsFormatter,deploy/widgets/process/RequiredCommentForm".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u,x,v,y,A){return j("deploy.widgets.workflow.BaseGraph",[m,l],{templateString:'<div class="baseGraph" style="position: relative;"><div data-dojo-attach-point="alternateContentAttach" class="hidden"></div><div class="hidden" data-dojo-attach-point="toolBarContainer"><div data-dojo-attach-point="toolbarAttach"></div><div data-dojo-attach-point="outlineAttach" class="process-outline-box"></div></div><div class="hidden" data-dojo-attach-point="processStepContainer"><div data-dojo-attach-point="addAttach"></div></div><div data-dojo-attach-point="dialogAttach" class="hide-notification process-save-dialog"></div><div data-dojo-attach-point="mxgraphAttach" class="hidden" style="height: 100%; margin-left: 240px;"></div></div>',
graph:null,edgeManager:null,activityCreator:null,initialized:!1,postCreate:function(){this.inherited(arguments);var a=this,b=this.mxgraphAttach;b.style.overflow="hidden";b.style.height=d.getBox().h+"px";mxEvent.disableContextMenu(b);mxConstants.SHADOWCOLOR="#CCCCCC";mxConstants.VERTEX_SELECTION_COLOR="#888888";mxConstants.HANDLE_FILLCOLOR="#FFFFFF";mxConstants.HIGHLIGHT_COLOR="#00B2EF";mxConstants.TARGET_HIGHLIGHT_COLOR="#00B2EF";mxConstants.VERTEX_HIGHLIGHT_COLOR="#00B2EF";this.graph=new mxGraph(b);
this.configureGraph();this.setGraphStyling();new mxOutline(this.graph,this.outlineAttach);mxClient.IS_IE&&(new mxDivResizer(b),new mxDivResizer(this.outlineAttach));this.edgeManager=new t({graphEditor:this,graphHasChanges:function(){a.graphHasChanges()}});this.activityCreator=new w({graphEditor:this,graphHasChanges:function(){a.graphHasChanges()}});if("true"===util.getCookie("processSaved")){var b=util.getCookie("processSavedMessage"),e="true"===util.getCookie("error");this.showSavePopup(b,e)}body&&
c.add(body,"process-editor");var h,j;if(this.applicationProcess)j=this.applicationProcess.id,h="application";else if(this.componentProcess)j=this.componentProcess.id,h=this.componentProcess.component?"component":"componentTemplate";a.cache=["",""];h&&j&&(f.get({url:bootstrap.restUrl+"process/"+h+"/"+j+"/propContextPrefixes",handleAs:"json",load:function(b){b&&(a.cache[0]=b)}}),f.get({url:bootstrap.restUrl+"process/"+h+"/"+j+"/propContext",handleAs:"json",load:function(b){b&&(a.cache[1]=b)}}))},refreshStepPalette:function(){this.stepTreeTable&&
this.stepTreeTable.refresh()},showSavePopup:function(a,b){var d=this;util.setCookie("processSaved","true");util.setCookie("processSavedMessage",a);util.setCookie("processSavedError",b);c.remove(this.dialogAttach,"hide-notification");c.remove(this.dialogAttach,"show-notification");c.remove(this.dialogAttach,"process-saved");c.remove(this.dialogAttach,"process-error");var e="";!0===b||"true"===b?(e='<div class="inline-block general-icon warning-icon-large"></div>'+util.escape(a),c.add(this.dialogAttach,
"process-error")):(e='<div class="inline-block general-icon check-icon-large"></div>'+util.escape(a),c.add(this.dialogAttach,"process-saved"));this.dialogAttach.innerHTML=e;setTimeout(function(){d.dialogAttach&&(c.add(d.dialogAttach,"hide-notification"),c.remove(d.dialogAttach,"show-notification"));util.setCookie("processSaved","false")},2E3);h(this.dialogAttach,q.enter,function(){d.dialogAttach&&(c.add(d.dialogAttach,"hide-notification"),c.remove(d.dialogAttach,"show-notification"))})},showSaveErrorPopup:function(a){a&&
a.response?409===a.response.status?new u({message:i18n("Design not saved; this process has been modified since you last opened it. Refresh the page before making changes")}):a.response.text&&new u({messages:[i18n("An error occurred while saving the process design."),"",util.escape(a.response.text)]}):new u({message:i18n("An error occurred while saving the process design.")})},stepTreeFormatter:function(d,h,j){var n=this,k=b.create("div"),q=b.create("div",{className:"iconContainer inline-block"},k);
h&&d.description&&a.set(h,"title",i18n(d.description.escape()));var l=null;if("folder"===d.type)b.create("div",{"class":"inline-block process-icon process-folder-icon"},q),l=b.create("div",{className:"processActivityName process-folder-cell"},k),b.create("div",{className:"process-name-wrapper",innerHTML:i18n(d.name)},l);else{var r=y.getIconForTree(d);b.place(r,q);h&&c.add(h,"process-step-cell");q="";q=d.copy&&d.label?i18n(util.escape(d.label)).replace(/\n/g,"<br/>"):i18n(util.escape(d.name));l=b.create("div",
{className:"processActivityName draggableProcessStepName"},k);b.create("div",{className:"process-name-wrapper process-name-wrapper-draggable",innerHTML:q},l);mxUtils.makeDraggable(h,n.graph,function(a,b,c,h,f){a=n.graph.getModel();d.process=j;a.beginUpdate();d.copy&&d.activity?n.activityCreator.addSavedActivity(e.clone(d.activity),h,f,c):n.activityCreator.addNewActivity(d,h,f,c);a.endUpdate()},r,null,null,null,null,!0,n.getCellDropTarget)}d.copy&&(l=b.create("div",{"class":"closeStepIcon inline-block",
title:i18n("Delete"),onclick:function(){new v({message:i18n("Are you sure you want to remove the step '%s' from your Clipboard?",d.label),action:function(){f.del({url:bootstrap.restUrl+"copiedStep/"+d.id,handleAs:"json",load:function(){n.stepTreeTable.refresh()},error:function(){(new u({message:i18n("Error deleting copied step.")})).startup()}})}})}}),r=o(".cellWrapper",h),c.add(r.length?r[0]:h,"copied-step-cell"),b.place(l,r.length?r[0]:h));return k},getLowestGraphChild:function(a){var b=a;k.forEach(a.children,
function(a){"graph"===a.type&&(b=a)});b!==a&&(b=this.getLowestGraphChild(b));return b},graphStartup:function(a){var b=this,c=this.graph.getDefaultParent(),d=this.graph.getModel();a&&a.children&&(a=this.getLowestGraphChild(a));d.beginUpdate();var e=this.graph.container.offsetWidth/2-180;this.activityCreator.addSavedActivity({type:"start"},e,0);if(a&&a.children){k.forEach(a.children,function(c){var d=null,h=null,f=null,j=null,n=util.getNamedProperty(a.offsets,c.name);if(n)d=n.x+e,h=n.y,f=n.h,j=n.w;
b.activityCreator.addSavedActivity(c,d,h,null,f,j)});var h=this.getStartCell();k.forEach(a.edges,function(a){var e;e=a.from?d.filterCells(c.children,function(b){return b.activity&&b.activity.getName()===a.from})[0]:h;var f;a.to&&(f=d.filterCells(c.children,function(b){return b.activity&&b.activity.getName()===a.to})[0]);e&&f&&b.restoreEdge({from:e,to:f,type:a.type,value:a.value})})}this.getFinishCells().length||this.activityCreator.addNewActivity({type:"finish"},e-5,420);d.endUpdate();document.hasChanges=
!1;this.initialized=!0},buildToolbar:function(){var a=this,d=document.createElement("div");d.className="toolbar-container";var e=new mxToolbar(d);e.addItem(i18n("Zoom In"),bootstrap.imageUrl+"icons/blank18x18.png",function(){a.graph.zoomIn()},null,"mxToolbarItem general-icon zoom-in-icon");e.addItem(i18n("Zoom Out"),bootstrap.imageUrl+"icons/blank18x18.png",function(){a.graph.zoomOut()},null,"mxToolbarItem general-icon zoom-out-icon");e.addItem(i18n("Actual Size"),bootstrap.imageUrl+"icons/blank18x18.png",
function(){a.graph.zoomActual()},null,"mxToolbarItem general-icon zoom-actual-icon");e.addItem(i18n("Print Preview"),bootstrap.imageUrl+"icons/blank18x18.png",function(){var d=new x({title:i18n("Print Preview"),closable:!0,draggable:!0}),e=!0,f=!0,j=2,o=b.create("div",{},d.containerNode),q=b.create("div",{className:"graph-print-container"},o);b.create("div",{className:"graph-print-container-title",innerHTML:i18n("Print Format")},q);var l=b.create("div",{className:"inline-block graph-print-format-container selected-print-option"},
q);b.create("div",{className:"normal-print-block"},l);b.create("div",{innerHTML:i18n("Normal"),className:"graph-print-container-subtitle"},l);var m=b.create("div",{className:"inline-block graph-print-format-container"},q),v=b.create("div",{className:"poster-print-block-container"},m);b.create("div",{className:"inline-block poster-print-block poster-print-block-left"},v);b.create("div",{className:"inline-block poster-print-block"},v);b.create("div",{className:"inline-block poster-print-block poster-print-block-left"},
v);b.create("div",{className:"inline-block poster-print-block"},v);b.create("div",{innerHTML:i18n("Poster"),className:"graph-print-container-subtitle"},m);var y=b.create("div",{className:"hidden"},q);b.create("div",{innerHTML:i18n("Number of pages"),className:"graph-print-poster-pages-title"},y);(new r({value:2,constraints:{min:1,max:100,places:0},focused:!1,onChange:function(a){j=a}})).placeAt(y);h(l,"click",function(){c.remove(m,"selected-print-option");c.add(y,"hidden");c.add(l,"selected-print-option");
e=!0});h(m,"click",function(){c.remove(l,"selected-print-option");c.remove(y,"hidden");c.add(m,"selected-print-option");e=!1});q=b.create("div",{className:"graph-print-container"},o);b.create("div",{className:"graph-print-container-title",innerHTML:i18n("Graph Style")},q);var t=b.create("div",{className:"inline-block graph-print-style-container selected-print-option"},q),v=b.create("div",{className:"normal-print-style-block"},t);b.create("div",{className:"graph-print-style-container-image"},v);b.create("div",
{innerHTML:i18n("Shaded"),className:"graph-print-style-container-subtitle"},v);var A=b.create("div",{className:"inline-block graph-print-style-container"},q),v=b.create("div",{className:"outline-print-style-block"},A);b.create("div",{className:"graph-print-style-container-image-dark"},v);b.create("div",{innerHTML:i18n("Outline"),className:"graph-print-style-container-subtitle"},v);h(t,"click",function(){c.remove(A,"selected-print-option");c.add(t,"selected-print-option");f=!0});h(A,"click",function(){c.remove(t,
"selected-print-option");c.add(A,"selected-print-option");f=!1});var B=!0,q=b.create("div",{},q),v=(new s({value:!0,checked:!0,onChange:function(a){B=a}})).placeAt(q);b.create("label",{innerHTML:i18n("Show Overlays"),"for":v.id},q);o=b.create("div",{className:"graph-print-buttons-container"},o);q=(new n({label:i18n("Preview"),onClick:function(){d.hide();var b=[],c=[],h=[],n=[],o=[],q=null;if(!f&&a.graph&&a.graph.model&&a.graph.model.cells){var q=a.graph.model.cells,l=null;for(l in q)if(q.hasOwnProperty(l)){var r=
q[l];if(r.activity&&r.style){var m=r.style;0===m.indexOf("shape")?(-1!==m.indexOf(".png")&&(m=m.replace(".png","-dark.png"),r.setStyle(m)),-1!==m.indexOf("fillColor=#00649D")?o.push(r):b.push(r)):0===m.indexOf("utilityStyle")?c.push(r):0===m.indexOf("noteStyle")?h.push(r):0===m.indexOf("parallelStyle")&&n.push(r)}}b&&0<b.length&&(mxUtils.setCellStyles(a.graph.model,b,"fillColor","#FFF"),mxUtils.setCellStyles(a.graph.model,b,"strokeColor","#3B0256"),mxUtils.setCellStyles(a.graph.model,b,"fontColor",
"#222"));c&&0<c.length&&(mxUtils.setCellStyles(a.graph.model,c,"fillColor","#FFF"),mxUtils.setCellStyles(a.graph.model,c,"strokeColor","#222"),mxUtils.setCellStyles(a.graph.model,c,"fontColor","#222"),mxUtils.setCellStyles(a.graph.model,c,"fontSize","16"));h&&0<h.length&&(mxUtils.setCellStyles(a.graph.model,h,"fillColor","#EEE"),mxUtils.setCellStyles(a.graph.model,h,"strokeColor","#AAA"),mxUtils.setCellStyles(a.graph.model,h,"shadow","1"));n&&0<n.length&&(mxUtils.setCellStyles(a.graph.model,n,"fillColor",
"#EEE"),mxUtils.setCellStyles(a.graph.model,n,"strokeColor","#888"),mxUtils.setCellStyles(a.graph.model,n,"fontColor","#222"));o&&0<o.length&&(mxUtils.setCellStyles(a.graph.model,o,"fillColor","#F0F0F0"),mxUtils.setCellStyles(a.graph.model,o,"strokeColor","#888"),mxUtils.setCellStyles(a.graph.model,o,"fontColor","#222"))}q=i18n("Printer-friendly version");e?q=new mxPrintPreview(a.graph,1,null,null,null,null,null,q,null):(q=i18n("Poster Printer-friendly version"),l=mxUtils.getScaleForPageCount(j,a.graph),
q=new mxPrintPreview(a.graph,l,null,null,null,null,null,q,null));q.printOverlays=B;q.open();b&&0<b.length&&(k.forEach(b,function(a){var b=a.style;-1!==b.indexOf("-dark.png")&&(b=b.replace("-dark.png",".png"),a.setStyle(b))}),mxUtils.setCellStyles(a.graph.model,b,"fillColor","#7F1C7D"),mxUtils.setCellStyles(a.graph.model,b,"strokeColor","#FFF"),mxUtils.setCellStyles(a.graph.model,b,"fontColor","#FFF"));c&&0<c.length&&(mxUtils.setCellStyles(a.graph.model,c,"fillColor","#888"),mxUtils.setCellStyles(a.graph.model,
c,"strokeColor","#FFF"),mxUtils.setCellStyles(a.graph.model,c,"fontColor","#FFF"),mxUtils.setCellStyles(a.graph.model,c,"fontSize","14"));h&&0<h.length&&(mxUtils.setCellStyles(a.graph.model,h,"fillColor","#FDB813"),mxUtils.setCellStyles(a.graph.model,h,"strokeColor","#FFF"),mxUtils.setCellStyles(a.graph.model,h,"shadow","0"));n&&0<n.length&&(mxUtils.setCellStyles(a.graph.model,n,"fillColor","#82D1F5"),mxUtils.setCellStyles(a.graph.model,n,"strokeColor","#00B2EF"),mxUtils.setCellStyles(a.graph.model,
n,"fontColor","#222"));o&&0<o.length&&(k.forEach(o,function(a){var b=a.style;-1!==b.indexOf("-dark.png")&&(b=b.replace("-dark.png",".png"),a.setStyle(b))}),mxUtils.setCellStyles(a.graph.model,o,"fillColor","#00649D"),mxUtils.setCellStyles(a.graph.model,o,"strokeColor","#FFF"),mxUtils.setCellStyles(a.graph.model,o,"fontColor","#FFF"))}})).placeAt(o);(new n({label:i18n("Cancel"),onClick:function(){d.hide()}})).placeAt(o);c.add(q.domNode,"idxButtonSpecial");d.show()},null,"mxToolbarItem general-icon print-icon");
if(!this.readOnly)this.saveButton=e.addItem(i18n("Save"),bootstrap.imageUrl+"icons/blank18x18.png",function(){if(document.hasChanges)if(0===a.getFinishCells().length)new u({message:i18n("This process has no 'Finish' step. Processes must end in a finish step to execute successfully.")});else if(config.data.systemConfiguration.requiresCommitComment){var b=new x({title:i18n("Process Change Comment"),closable:!0});(new A({callback:function(c){c&&a.saveProcessDesign(c.comment);b.hide();b.destroy()}})).placeAt(b);
b.show()}else a.saveProcessDesign();else a.showSavePopup(i18n("No changes have been made."),!0)},null,"mxToolbarItem general-icon save-icon"),e.addItem(i18n("Discard Changes"),bootstrap.imageUrl+"icons/blank18x18.png",function(){new v({message:i18n("Discard all changes and revert the graph to its last saved state?"),action:function(){location.reload(!0)}})},null,"mxToolbarItem general-icon discard-changes-icon");d=new mxWindow(i18n("Tools"),d,0,0,240,40,!1,!1,this.toolbarAttach,"tool-palette mxWindow");
d.setMaximizable(!1);d.setScrollable(!1);d.setResizable(!1);d.setVisible(!0)},restoreEdge:function(a){var b=this.graph.getDefaultParent();this.getStartCell();var c=a.from,d=a.type,e=a.value,a=this.graph.insertEdge(b,null,null,c,a.to);if(c.activity&&"switch"===c.activity.data.type)a.data.value=e,c=a.data.value||i18n("Default"),this.graph.labelChanged(a,c),e?this.graph.setDefaultEdge(a):this.graph.setDefaultEdge(a,!0);else if(!c.activity||"start"!==c.activity.data.type)"FAILURE"===d?this.edgeManager.addErrorOverlay(a):
"ALWAYS"===d&&this.edgeManager.addAlwaysOverlay(a);return a},getFinishCells:function(){return this.graph.getModel().filterDescendants(function(a){var b=!1;a.activity&&a.activity.data&&"finish"===a.activity.data.type&&(b=!0);return b})},getWorkflowJson:function(){var a=this.graph.getDefaultParent(),b=this.graph.getCellGeometry(this.getStartCell());return this.getGraphJson(a,b.x,b.y)},getGraphJson:function(a,b,c){var d=this,e={type:"graph",children:[],edges:[],offsets:[]};if(a.activity){var h=d.getStartCell(a);
if(h)h=d.graph.getCellGeometry(h),e.startX=h.x-b,e.startY=h.y-c}k.forEach(a.children,function(a){if(a.edge){var h={};if(a.source.activity&&!a.source.activity.isUtilityCell())h.from=a.source.activity.getName();if(a.target.activity&&!a.target.activity.isUtilityCell())h.to=a.target.activity.getName();h.type=a.data.type;h.value=a.data.value;e.edges.push(h)}else if(a.activity&&!a.activity.isUtilityCell()){var f=d.graph.getCellGeometry(a),h=f.x-b,j=f.y-c,n=f.height,f=f.width;e.children.push(a.activity.data);
h={name:a.activity.getName(),x:h,y:j,h:n,w:f};e.offsets.push(h);if(a.activity.isContainer)a.activity.data.children=[d.getGraphJson(a,0,0)]}});return e},getStartCell:function(a){a||(a=this.graph.getDefaultParent());var b=null;k.forEach(a.children,function(a){a.activity&&"start"===a.activity.data.type&&(b=a)});return b},getChildrenByName:function(a,b,c){var d=this,e=[];c?(c.name&&c.name===a&&e.push({cell:b,activity:c}),k.forEach(c.children,function(c){c&&!b.activity.isContainer&&(e=e.concat(d.getChildrenByName(a,
b,c)))})):(c=this.graph.getModel().filterDescendants(function(a){return a.activity&&a.activity.data}),k.forEach(c,function(b){e=e.concat(d.getChildrenByName(a,b,b.activity.data))}));return e},graphHasChanges:function(){document.hasChanges=!0;this.saveButton&&c.add(this.saveButton,"save-icon-pending-changes")},clearHasChanges:function(){document.hasChanges=!1;this.saveButton&&c.remove(this.saveButton,"save-icon-pending-changes")},registerChangedActivity:function(a){if(!this._editedActivities)this._editedActivities=
[];a.data.id&&this._editedActivities.push(a.data.id)},isActivityChanged:function(a){var b=!0;if(a.data.id){if(!this._editedActivities)this._editedActivities=[];b=-1!==k.indexOf(this._editedActivities,a.data.id)}return b},clearChangedActivities:function(){this._editedActivities=[]},configureGraph:function(){var a=this;this.graph.ordered=!0;this.graph.setAllowLoops(!1);this.graph.setConnectable(!0);this.graph.setDropEnabled(!0);this.graph.setPanning(!0);this.graph.panningHandler.useLeftButtonForPanning=
!0;this.graph.setTooltips(!0);this.graph.foldingEnabled=!0;this.graph.graphHandler.guidesEnabled=!0;this.graph.setAutoSizeCells(!0);mxGraph.prototype.setCellsEditable(!1);this.graph.connectionHandler.connectImage=new mxImage(bootstrap.imageUrl+"icons/process/step_connector.png",16,16);(new Image).src=this.graph.connectionHandler.connectImage.src;this.graph.isValidDropTarget=function(a){return a.activity&&a.activity.isContainer};this.graph.setDefaultEdge=function(b,c){var d=c?"#00A6A0":"#00649D";mxUtils.setCellStyles(a.graph.model,
[b],"fontColor",d);mxUtils.setCellStyles(a.graph.model,[b],"labelBorderColor",d);mxUtils.setCellStyles(a.graph.model,[b],"strokeColor",d)};this.graph.setEdgeState=function(b,c){var d=c?"#D9182D":null;"always"===c&&(d="#777");mxUtils.setCellStyles(a.graph.model,[b],"strokeColor",d)};this.graph.getTooltipForCell=function(a){return a.tooltip||""};this.graph.createEdge=function(b,c,d,e,h,f){if(h){var j=!1;k.forEach(e.edges,function(a){if(a.source===e&&a.target===h||a.source===h&&a.target===e)j=!0});if(!j){a.graphHasChanges();
var n=mxGraph.prototype.createEdge(arguments);a.edgeManager.addEdgeOverlays(n,e);a.initialized&&a.graphHasChanges();return n}}};this.graph.splitEdge=function(b,c,d,e,h){var f=c[0];if(f&&!this.model.getEdgeCount(f)&&"Finish"!==f.value){e=e||0;h=h||0;if(0===e&&0===h)var j=f.geometry.height||0,e=e-(f.geometry.width||0)/2,h=h-j/2;var j=a.graph.getDefaultParent(),n=this.model.getTerminal(b,!0),o=this.model.getTerminal(b,!1);this.model.beginUpdate();try{d=a.graph.connectionHandler.connect(f,o,null,f),this.cellsMoved(c,
e,h,!1,!1),this.cellsAdded(c,j,this.model.getChildCount(j),null,null,!0),this.cellsAdded([d],j,this.model.getChildCount(j),n,f,!1),this.cellConnected(b,f,!1),this.fireEvent(new mxEventObject(mxEvent.SPLIT_EDGE,"edge",b,"cells",c,"newEdge",d,"dx",e,"dy",h))}finally{this.model.endUpdate()}return d}};this.graph.addListener(mxEvent.MOVE_CELLS,function(b,c){k.forEach(c.properties.cells,function(b){var c=[];k.forEach(b.edges,function(a){a.source.parent!==a.target.parent&&c.push(a)});0<c.length&&a.graph.removeCells(c)})});
this.graph.isHtmlLabel=function(a){return a.htmlLabels?a.htmlLabels:!1};this.graph.oldCellsResized=this.graph.cellsResized;this.graph.cellsResized=function(b,c){var d=[];k.forEach(b,function(a){k.forEach(a.children,function(b){b.edge||d.push({child:b,parent:a,x:a.geometry.x+b.geometry.x,y:a.geometry.y+b.geometry.y})})});a.graph.oldCellsResized(b,c);k.forEach(d,function(a){var b=a.parent,c=a.x,a=a.y;if(c<b.geometry.x)b.geometry.width+=b.geometry.x-c,b.geometry.x=c;if(a<b.geometry.y)b.geometry.height+=
b.geometry.y-a,b.geometry.y=a});k.forEach(d,function(b){var c=b.child,d=b.parent,e=b.x,b=b.y,h=d.geometry.y+c.geometry.y;if(d.geometry.x+c.geometry.x!==e||h!==b)c.geometry.x=e-d.geometry.x,c.geometry.y=b-d.geometry.y;a.graph.extendParent(c)})};this.graph.addListener(mxEvent.CELLS_RESIZED,function(){a.readOnly||a.graphHasChanges()});this.graph.addListener(mxEvent.CELLS_MOVED,function(){a.readOnly||a.graphHasChanges()});this.graph.isCellSelectable=function(a){return!a.edge};this.graph.connectionHandler.isValidSource=
function(b){var c=a.graph.isValidSource(b);if(b.activity&&("finish"===b.activity.data.type||"note"===b.activity.data.type))c=!1;return c};this.graph.connectionHandler.isValidTarget=function(b){var c=a.graph.isValidTarget(b);if(b.activity&&("start"===b.activity.data.type||"note"===b.activity.data.type))c=!1;return c};this.graph.isValidConnection=function(a,b){return a.parent===b.parent};var b=this.graph.cellRenderer.initializeShape;this.graph.cellRenderer.initializeShape=function(a){b.apply(this,arguments);
a.shape.node&&a.cell&&a.cell.id&&a.shape.node.setAttribute("id","shape-"+a.cell.id)};var c=this.graph.cellRenderer.initializeLabel;this.graph.cellRenderer.initializeLabel=function(a){c.apply(this,arguments);a.text.node&&a.cell&&a.cell.id&&a.text.node.setAttribute("id","label-"+a.cell.id)};var d=this.graph.cellRenderer.initializeOverlay;this.graph.cellRenderer.initializeOverlay=function(a,b){d.apply(this,arguments);if(b.image&&b.node&&a.cell&&a.cell.id){var c=b.image.split("/"),c=c[c.length-1];0<c.indexOf(".")&&
(c=c.split(".")[0],b.node.setAttribute("id","overlay-"+a.cell.id+"-"+c))}}},getCellDropTarget:function(a,b,c){a=a.getCellAt(b,c);b=null;a&&a.isVertex()?a.activity&&a.activity.isContainer&&(b=a):b=a;return b},setGraphStyling:function(){var a=this.graph.getStylesheet().getDefaultEdgeStyle();a[mxConstants.STYLE_STROKEWIDTH]=2;a[mxConstants.STYLE_LABEL_BACKGROUNDCOLOR]="#FFFFFF";a[mxConstants.STYLE_LABEL_PADDING]=4;a[mxConstants.STYLE_STROKECOLOR]="#3B0256";a[mxConstants.STYLE_LABEL_BORDERCOLOR]="#7F1C7D";
a[mxConstants.STYLE_FONTCOLOR]="#7F1C7D";a[mxConstants.STYLE_FONTSIZE]="12";a[mxConstants.STYLE_SPACING_TOP]=15;a[mxConstants.STYLE_MOVABLE]=0;mxConstants.VALID_COLOR="#00B2EF";mxConstants.HIGHLIGHT_COLOR="#00B2EF";mxConstants.TARGET_HIGHLIGHT_COLOR="#00B2EF";mxConstants.OUTLINE_STROKEWIDTH=0;mxConstants.INVALID_COLOR="#F04E37";mxConstants.OUTLINE_HANDLE_FILLCOLOR="#00B2EF";mxConstants.OUTLINE_HANDLE_STROKECOLOR="#00B2EF";mxConstants.VERTEX_SELECTION_STROKEWIDTH=2;a={};a[mxConstants.STYLE_ENDARROW]=
void 0;this.graph.getStylesheet().putCellStyle("noArrowEdgeStyle",a);a=this.graph.getStylesheet().getDefaultVertexStyle();a[mxConstants.STYLE_SPACING]=8;a[mxConstants.STYLE_FONTCOLOR]="#000000";a[mxConstants.VERTEX_HIGHLIGHT_COLOR]="#000000";a={};a[mxConstants.STYLE_SHAPE]=mxConstants.SHAPE_IMAGE;a[mxConstants.STYLE_IMAGE]=bootstrap.imageUrl+"/mxgraph/add.png";a[mxConstants.STYLE_IMAGE_WIDTH]="16";a[mxConstants.STYLE_IMAGE_HEIGHT]="16";this.graph.getStylesheet().putCellStyle("plusStyle",a);a={};a[mxConstants.STYLE_SHAPE]=
"rectangle";a[mxConstants.STYLE_STROKECOLOR]="#ffffff";a[mxConstants.STYLE_FILLCOLOR]="#ffffff";this.graph.getStylesheet().putCellStyle("topContainerStyle",a);a={};a[mxConstants.STYLE_VERTICAL_ALIGN]=mxConstants.ALIGN_TOP;a[mxConstants.STYLE_ALIGN]=mxConstants.ALIGN_RIGHT;a[mxConstants.STYLE_SPACING_TOP]=-7;a[mxConstants.STYLE_SPACING_RIGHT]=-3;a[mxConstants.STYLE_SPACING_LEFT]=15;a[mxConstants.STYLE_FONTSIZE]="12";a[mxConstants.STYLE_FONTFAMILY]="helvetica, arial, tahoma, verdana, sans-serif, 'lucida grande'";
a[mxConstants.STYLE_SHAPE]="rectangle";a[mxConstants.STYLE_GRADIENTCOLOR]="#ddddff";a[mxConstants.STYLE_STROKECOLOR]="#bbc6ff";a[mxConstants.STYLE_FILLCOLOR]="#eeeeff";this.graph.getStylesheet().putCellStyle("sequenceStyle",a);a={};a[mxConstants.STYLE_VERTICAL_ALIGN]=mxConstants.ALIGN_TOP;a[mxConstants.STYLE_ALIGN]=mxConstants.ALIGN_LEFT;a[mxConstants.STYLE_SPACING_TOP]=-7;a[mxConstants.STYLE_SPACING_RIGHT]=-3;a[mxConstants.STYLE_SPACING_LEFT]=5;a[mxConstants.STYLE_FONTSIZE]="12";a[mxConstants.STYLE_FONTFAMILY]=
"helvetica, arial, tahoma, verdana, sans-serif, 'lucida grande'";a[mxConstants.STYLE_SHAPE]="rectangle";a[mxConstants.STYLE_GRADIENTCOLOR]="#ffdddd";a[mxConstants.STYLE_STROKECOLOR]="#ffbbc6";a[mxConstants.STYLE_FILLCOLOR]="#ffeeee";this.graph.getStylesheet().putCellStyle("iterationStyle",a);a={};a[mxConstants.STYLE_VERTICAL_ALIGN]=mxConstants.ALIGN_TOP;a[mxConstants.STYLE_ALIGN]=mxConstants.ALIGN_LEFT;a[mxConstants.STYLE_SPACING_TOP]=-5;a[mxConstants.STYLE_SPACING_RIGHT]=-3;a[mxConstants.STYLE_SPACING_LEFT]=
15;a[mxConstants.STYLE_FONTSIZE]="14";a[mxConstants.STYLE_FONTFAMILY]="helvetica, arial, tahoma, verdana, sans-serif, 'lucida grande'";a[mxConstants.STYLE_SHAPE]="rectangle";a[mxConstants.STYLE_FILLCOLOR]="#82D1F5";a[mxConstants.STYLE_STROKEWIDTH]="2";a[mxConstants.STYLE_STROKECOLOR]="#00B2EF";this.graph.getStylesheet().putCellStyle("parallelStyle",a);a={};a[mxConstants.STYLE_SHAPE]="label";a[mxConstants.STYLE_VERTICAL_ALIGN]=mxConstants.ALIGN_MIDDLE;a[mxConstants.STYLE_ALIGN]=mxConstants.ALIGN_CENTER;
a[mxConstants.STYLE_SPACING_LEFT]=15;a[mxConstants.STYLE_SPACING_TOP]=5;a[mxConstants.STYLE_SPACING_BOTTOM]=5;a[mxConstants.STYLE_SPACING_RIGHT]=15;a[mxConstants.STYLE_STROKEWIDTH]="2";a[mxConstants.STYLE_STROKECOLOR]="#FFF";a[mxConstants.STYLE_FILLCOLOR]="#888";a[mxConstants.STYLE_FONTFAMILY]="helvetica, arial, tahoma, verdana, sans-serif, 'lucida grande'";a[mxConstants.STYLE_FONTSIZE]="14";a[mxConstants.STYLE_FONTCOLOR]="#FFFFFF";a[mxConstants.STYLE_SHADOW]="0";a[mxConstants.STYLE_ROUNDED]=!1;this.graph.getStylesheet().putCellStyle("utilityStyle",
a);a={};a[mxConstants.STYLE_SHAPE]="label";a[mxConstants.STYLE_VERTICAL_ALIGN]=mxConstants.ALIGN_MIDDLE;a[mxConstants.STYLE_ALIGN]=mxConstants.ALIGN_CENTER;a[mxConstants.STYLE_SPACING_LEFT]=5;a[mxConstants.STYLE_SPACING_TOP]=5;a[mxConstants.STYLE_SPACING_BOTTOM]=5;a[mxConstants.STYLE_SPACING_RIGHT]=5;a[mxConstants.STYLE_STROKEWIDTH]="2";a[mxConstants.STYLE_STROKECOLOR]="#FFF";a[mxConstants.STYLE_FILLCOLOR]="#FDB813";a[mxConstants.STYLE_FONTFAMILY]="helvetica, arial, tahoma, verdana, sans-serif, 'lucida grande'";
a[mxConstants.STYLE_FONTSIZE]="12";a[mxConstants.STYLE_FONTSTYLE]="0";a[mxConstants.STYLE_SHADOW]="0";a[mxConstants.STYLE_ROUNDED]=!1;a[mxConstants.STYLE_WHITE_SPACE]="wrap";a[mxConstants.STYLE_OVERFLOW]="width";a[mxConstants.STYLE_AUTOSIZE]="1";this.graph.getStylesheet().putCellStyle("noteStyle",a);a={};a[mxConstants.STYLE_SHAPE]="label";a[mxConstants.STYLE_VERTICAL_ALIGN]=mxConstants.ALIGN_MIDDLE;a[mxConstants.STYLE_ALIGN]=mxConstants.ALIGN_LEFT;a[mxConstants.STYLE_SPACING_LEFT]=45;a[mxConstants.STYLE_SPACING_TOP]=
-10;a[mxConstants.STYLE_SPACING_BOTTOM]=-10;a[mxConstants.STYLE_SPACING_RIGHT]=-20;a[mxConstants.STYLE_STROKECOLOR]="#7F1C7D";a[mxConstants.STYLE_FILLCOLOR]="#7F1C7D";a[mxConstants.STYLE_FONTCOLOR]="#FFFFFF";a[mxConstants.STYLE_FONTFAMILY]="helvetica, arial, tahoma, verdana, sans-serif, 'lucida grande'";a[mxConstants.STYLE_FONTSIZE]="12";a[mxConstants.STYLE_FONTSTYLE]="0";a[mxConstants.STYLE_SHADOW]="0";a[mxConstants.STYLE_ROUNDED]=!1;a[mxConstants.STYLE_IMAGE]=bootstrap.imageUrl+"icons/mxgraph/process_step.png";
a[mxConstants.STYLE_IMAGE_WIDTH]="32";a[mxConstants.STYLE_IMAGE_HEIGHT]="32";this.graph.getStylesheet().putCellStyle("activityStyle",a)},getActivityStyle:function(){}})})},"dojo/promise/tracer":function(){define("dojo/promise/tracer",["../_base/lang","./Promise","../Evented"],function(l,m,k){function j(d){setTimeout(function(){e.apply(f,d)},0)}var f=new k,e=f.emit;f.emit=null;m.prototype.trace=function(){var d=l._toArray(arguments);this.then(function(c){j(["resolved",c].concat(d))},function(c){j(["rejected",
c].concat(d))},function(c){j(["progress",c].concat(d))});return this};m.prototype.traceRejected=function(){var d=l._toArray(arguments);this.otherwise(function(c){j(["rejected",c].concat(d))});return this};return f})},"deploy/widgets/applicationTemplate/ApplicationTemplateApplications":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dijit/form/CheckBox,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/on,deploy/widgets/application/EditApplication,deploy/widgets/application/wizard/ApplicationWizard,deploy/widgets/application/wizard/WizardProgressVisualization,js/webext/widgets/Dialog,deploy/widgets/wizard/WizardDialog,js/webext/widgets/GenericConfirm,js/webext/widgets/table/TreeTable".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t){return e("deploy.widgets.applicationTemplate.ApplicationTemplateApplications",[m,l],{templateString:'<div class="applicationList"><div class="listTopButtons" data-dojo-attach-point="buttonTopAttach"></div><div data-dojo-attach-point="gridAttach"></div><div data-dojo-attach-point="activeBoxAttach" style="margin: 2px;"></div></div>',postCreate:function(){this.inherited(arguments);var a=this,b=bootstrap.restUrl+"deploy/application/",d=[{name:i18n("Name"),formatter:this.applicationFormatter,
orderField:"name",filterField:"name",filterType:"text",getRawValue:function(a){return a.name}},{name:i18n("Template Version"),formatter:function(a){a=a.templateVersion;-1===a&&(a=i18n("Latest Version"));return a},orderField:"templateVersion",getRawValue:function(a){var b=a.templateVersion;-1===a.templateVersion&&(b=1E6);return b}},{name:i18n("Description"),field:"description"},{name:i18n("Created"),field:"created",formatter:util.tableDateFormatter,orderField:"dateCreated",getRawValue:function(a){return new Date(a.created)}},
{name:i18n("By"),field:"user.name",orderField:"user.name",getRawValue:function(a){return a.user}},{name:i18n("Actions"),formatter:this.actionsFormatter,parentWidget:this}],e=[{name:"active",type:"eq",className:"Boolean",values:[!0]},{name:"templateId",type:"eq",className:"UUID",values:[a.applicationTemplate.id]}];this.grid=new t({url:b,orderField:"name",serverSideProcessing:!0,noDataMessage:i18n("No applications found."),tableConfigKey:"applicationTemplateComponentList",columns:d,hidePagination:!1,
hideExpandCollapse:!0,queryData:{outputType:["BASIC","LINKED","SECURITY"]},baseFilters:e});this.grid.placeAt(this.gridAttach);config.data.permissions[security.system.createApplicationsFromTemplate]&&(b={label:i18n("Create Application"),showTitle:!1,onClick:function(){a.showNewApplicationDialog()}},b=new k(b),c.add(b.domNode,"idxButtonSpecial"),b.placeAt(this.buttonTopAttach))},destroy:function(){this.inherited(arguments);this.grid.destroy()},applicationFormatter:function(a){var b=document.createElement("a");
b.innerHTML=a.name.escape();b.href="#application/"+a.id;return b},actionsFormatter:function(c){var d=this.parentWidget,e=document.createElement("div");if(c.security.Delete){var h=b.create("a",{"class":"actionsLink linkPointer",innerHTML:i18n("Delete")},e);a(h,"click",function(){d.confirmDelete(c)})}return e},confirmDelete:function(a){var b=this;new r({message:i18n("Are you sure you want to delete application %s?",a.name.escape()),action:function(){b.grid.block();d.del({url:bootstrap.restUrl+"deploy/application/"+
a.id,handleAs:"json",load:function(){b.grid.unblock();b.grid.refresh()}})}})},showNewApplicationDialog:function(){var a=this,b=new q({applicationTemplate:this.applicationTemplate}),c=new s({title:i18n("Create Application"),closable:!0,draggable:!0,progressVisualization:o,wizard:b});b.cleanup=function(){c.hide();c.destroy();a.grid.refresh()};c.connect(c,"hide",function(){b.destroy();c.destroy()});b.startup();c.show()}})})},"dijit/form/_DateTimeTextBox":function(){require({cache:{"url:dijit/form/templates/DropDownBox.html":'<div class="dijit dijitReset dijitInline dijitLeft"\n\tid="widget_${id}"\n\trole="combobox"\n\taria-haspopup="true"\n\tdata-dojo-attach-point="_popupStateNode"\n\t><div class=\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\'\n\t\tdata-dojo-attach-point="_buttonNode" role="presentation"\n\t\t><input class="dijitReset dijitInputField dijitArrowButtonInner" value="&#9660; " type="text" tabIndex="-1" readonly="readonly" role="button presentation" aria-hidden="true"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class=\'dijitReset dijitValidationContainer\'\n\t\t><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n\t/></div\n\t><div class="dijitReset dijitInputField dijitInputContainer"\n\t\t><input class=\'dijitReset dijitInputInner\' ${!nameAttrSetting} type="text" autocomplete="off"\n\t\t\tdata-dojo-attach-point="textbox,focusNode" role="textbox"\n\t/></div\n></div>\n'}});
define("dijit/form/_DateTimeTextBox","dojo/date,dojo/date/locale,dojo/date/stamp,dojo/_base/declare,dojo/_base/lang,./RangeBoundTextBox,../_HasDropDown,dojo/text!./templates/DropDownBox.html".split(","),function(l,m,k,j,f,e,d,c){return j("dijit.form._DateTimeTextBox",[e,d],{templateString:c,hasDownArrow:!0,cssStateNodes:{_buttonNode:"dijitDownArrowButton"},pattern:m.regexp,datePackage:"",postMixInProperties:function(){this.inherited(arguments);this._set("type","text")},compare:function(b,a){var c=
this._isInvalidDate(b),d=this._isInvalidDate(a);return c?d?0:-1:d?1:l.compare(b,a,this._selector)},forceWidth:!0,format:function(b,a){return!b?"":this.dateLocaleModule.format(b,a)},parse:function(b,a){return this.dateLocaleModule.parse(b,a)||(this._isEmpty(b)?null:void 0)},serialize:function(b,a){b.toGregorian&&(b=b.toGregorian());return k.toISOString(b,a)},dropDownDefaultValue:new Date,value:new Date(""),_blankValue:null,popupClass:"",_selector:"",constructor:function(b){this.dateModule=b.datePackage?
f.getObject(b.datePackage,!1):l;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=b.datePackage?f.getObject(b.datePackage+".locale",!1):m;this._set("pattern",this.dateLocaleModule.regexp);this._invalidDate=this.constructor.prototype.value.toString()},buildRendering:function(){this.inherited(arguments);if(!this.hasDownArrow)this._buttonNode.style.display="none";if(!this.hasDownArrow)this._buttonNode=this.domNode,this.baseClass+=" dijitComboBoxOpenOnClick"},_setConstraintsAttr:function(b){b.selector=
this._selector;b.fullYear=!0;var a=k.fromISOString;if("string"==typeof b.min)b.min=a(b.min);if("string"==typeof b.max)b.max=a(b.max);this.inherited(arguments)},_isInvalidDate:function(b){return!b||isNaN(b)||"object"!=typeof b||b.toString()==this._invalidDate},_setValueAttr:function(b,a,c){void 0!==b&&("string"==typeof b&&(b=k.fromISOString(b)),this._isInvalidDate(b)&&(b=null),b instanceof Date&&!(this.dateClassObj instanceof Date)&&(b=new this.dateClassObj(b)));this.inherited(arguments);if(this.value instanceof
Date)this.filterString="";this.dropDown&&this.dropDown.set("value",b,!1)},_set:function(b,a){"value"==b&&this.value instanceof Date&&0==this.compare(a,this.value)||this.inherited(arguments)},_setDropDownDefaultValueAttr:function(b){this._isInvalidDate(b)&&(b=new this.dateClassObj);this.dropDownDefaultValue=b},openDropDown:function(b){this.dropDown&&this.dropDown.destroy();var a=f.isString(this.popupClass)?f.getObject(this.popupClass,!1):this.popupClass,c=this,d=this.get("value");this.dropDown=new a({onChange:function(a){c.set("value",
a,!0)},id:this.id+"_popup",dir:c.dir,lang:c.lang,value:d,currentFocus:!this._isInvalidDate(d)?d:this.dropDownDefaultValue,constraints:c.constraints,filterString:c.filterString,datePackage:c.params.datePackage,isDisabledDate:function(a){return!c.rangeCheck(a,c.constraints)}});this.inherited(arguments)},_getDisplayedValueAttr:function(){return this.textbox.value},_setDisplayedValueAttr:function(b,a){this._setValueAttr(this.parse(b,this.constraints),a,b)}})})},"deploy/widgets/navigation/Components":function(){define(["dojo/_base/kernel",
"dojox/html/entities"],function(l,m){l.provide("deploy.widgets.navigation.Components");config.data.tabSets.push({id:"components",hashPattern:["tab"],breadcrumbs:["home","topLevelTab"],selectedTopLevelTab:"components",defaultTab:"components",tabs:[{id:"components",label:i18n("Components"),view:"deploy/views/component/componentList"},{id:"templates",label:i18n("Templates"),view:"deploy/views/componentTemplate/componentTemplateList"}]});config.data.tabSets.push({id:"component",hashPattern:["component",
"tab"],breadcrumbs:["home","topLevelTab","component"],selectedTopLevelTab:"components",getDetailTitle:function(){return i18n("Component: %s",appState.component.name.escape())},getDetailFields:function(){var k=[{label:i18n("Created By"),value:m.encode(appState.component.user)},{label:i18n("Created On"),value:util.dateFormatShort(appState.component.created)}];if(appState.component.template){var j=appState.component.template;k.push({label:i18n("Template"),value:'<a href="#componentTemplate/'+j.id+"/"+
j.version+'">'+m.encode(j.name)+"</a>"})}if(0<appState.component.applications.length){var f="";l.forEach(appState.component.applications,function(e){0<f.length&&(f+=", ");e.active||(f+="<i>");f+='<a href="#application/'+e.id+'">'+m.encode(e.name)+"</a>";e.active||(f+=i18n(" (Inactive)")+"</i>")});k.push({label:i18n("Used By"),value:f})}return k},getPageAlerts:function(){var k=[];l.forEach(appState.component.sourceConfigAlerts,function(j){k.push({className:"errorText",text:m.encode(j)})});appState.component.integrationFailed&&
k.push({className:"errorText",text:i18n("A version import failed. Check the component's configuration for more details.")});!1===appState.component.sourceConfigPluginNameMatchesPlugin&&k.push({className:"errorText",text:i18n("The source configuration was modified on this component's template. Please make any necessary updates to this component's configuration and save.  You will not be able to do version imports for this component until you reconfigure.")});return k},getDetailDescription:function(){return m.encode(appState.component.description)},
stateCalls:[{targetAppStateEntry:"component",getUrl:function(k){return bootstrap.restUrl+"deploy/component/"+k.component}}],defaultTab:"dashboard",tabs:[{id:"dashboard",label:i18n("Dashboard"),view:"deploy/views/component/componentDashboard"},{id:"usage",label:i18n("Usage"),view:"deploy/views/component/versionHistoryManager"},{id:"configuration",label:i18n("Configuration"),className:"configurationTab",view:"deploy/views/component/componentConfiguration"},{id:"calendar",label:i18n("Calendar"),view:"deploy/views/component/componentCalendar"},
{id:"versions",label:i18n("Versions"),view:"deploy/views/component/componentVersions"},{id:"processes",label:i18n("Processes"),view:"deploy/views/component/componentProcesses"},{id:"changes",label:i18n("Changes"),view:"deploy/views/component/componentChangelog"}]});config.data.tabSets.push({id:"componentTemplate",hashPattern:["componentTemplate","componentTemplateVersion","tab","navData"],breadcrumbs:["home","componentTemplates","componentTemplate"],selectedTopLevelTab:"components",getDetailTitle:function(){return i18n("Component Template: %s",
appState.componentTemplate.name.escape())},getDetailFields:function(){var k=[];k.push({label:i18n("Version"),value:m.encode(i18n("%s of %s",appState.componentTemplate.version,appState.componentTemplate.versionCount))});k.push({label:"",value:util.vc.generateVersionControls(appState.componentTemplate,function(j){return"componentTemplate/"+appState.componentTemplate.id+"/"+j})});return k},getDetailDescription:function(){return m.encode(appState.componentTemplate.description)},stateCalls:[{targetAppStateEntry:"componentTemplate",
getUrl:function(k,j){j.componentTemplateVersion={id:k.componentTemplateVersion};return bootstrap.restUrl+"deploy/componentTemplate/"+k.componentTemplate+"/"+k.componentTemplateVersion}},{getUrl:function(k,j){j.goBack={id:k.navData}}}],defaultTab:"components",tabs:[{id:"components",label:i18n("Components"),view:"deploy/views/componentTemplate/componentTemplateComponents"},{id:"configuration",label:i18n("Configuration"),className:"configurationTab",view:"deploy/views/componentTemplate/componentTemplateConfiguration"},
{id:"processes",label:i18n("Processes"),view:"deploy/views/componentTemplate/componentTemplateProcesses"},{id:"changes",label:i18n("Changes"),view:"deploy/views/componentTemplate/componentTemplateChangelog"}]});require("js/webext/widgets/Link,js/webext/widgets/Dialog,js/webext/widgets/ColumnForm,dojo/_base/url,js/webext/widgets/RestSelect,dojo/dom-construct,dojo/_base/xhr".split(","),function(k,j,f,e,d,c,b){config.data.tabSets.push({id:"version",hashPattern:["version","tab"],breadcrumbs:["home","topLevelTab",
"component","versions","version"],selectedTopLevelTab:"components",getDetailTitle:function(){return i18n("Version: %s",m.encode(appState.version.name))},getDetailFields:function(){var a=[];appState.version.creator&&a.push({label:i18n("Created By"),value:m.encode(appState.version.creator)});a.push({label:i18n("Created On"),value:util.dateFormatShort(appState.version.created)});if("ZOS"===appState.component.componentType){var h=util.getNamedProperty(appState.version.properties,"ucd.repository.type"),
q="",q=h?"HFS"===h.value?h.value:"CODESTATION"===h.value?"CodeStation":"UNKNOWN":"HFS";a.push({label:i18n("Repository Type"),value:m.encode(q)})}appState.version.propSheets&&(h=util.getNamedProperty(appState.version.propSheets,"backlinks"))&&h.properties.forEach(function(b){var c=b.value;(new e(c)).scheme||(c="http://"+c);a.push({value:'<a href="'+c+'" target="_blank">'+m.encode(b.name)+"</a>"})});if(appState.component.sourceConfigPlugin)if(h=appState.component.sourceConfigPlugin.name,"AnthillPro"===
h)q=util.getNamedPropertyValue(appState.component.properties,"AnthillComponentProperties/anthillUrl"),h=appState.version.name,a.push({value:'<a href="'+q+"/tasks/project/BuildLifeTasks/viewBuildLife?buildLifeId="+h+'" target="_blank">'+i18n("View Build Life %s in Anthill",m.encode(h))+"</a>"});else if("uBuild"===h)q=util.getNamedPropertyValue(appState.component.properties,"uBuildComponentProperties/uBuildUrl"),h=appState.version.name,a.push({value:'<a href="'+q+"/tasks/project/BuildLifeTasks/viewBuildLife?buildLifeId="+
h+'" target="_blank">'+i18n("View Build Life %s in uBuild",m.encode(h))+"</a>"});if(appState.component.extendedSecurity[security.component.manageVersions]){var h=new k({labelText:i18n("add"),onClick:function(){var a=new j({title:i18n("Add Link"),closable:!0,draggable:!0});this.form=new f({submitUrl:bootstrap.restUrl+"deploy/version/"+appState.version.id+"/link/",postSubmit:function(){a.hide();a.destroy();navBar.setHash(navBar.recentHash,!1,!0)},onCancel:function(){a.hide();a.destroy()}});this.form.addField({name:"name",
label:i18n("Name"),required:!0,textDir:util.getBaseTextDir(),type:"Text"});this.form.addField({name:"url",label:i18n("URL"),required:!0,type:"Text",bidiDynamicSTT:"URL",value:"<url>"});this.form.placeAt(a.containerNode);a.show()}}),q=new k({labelText:i18n("remove"),"class":"margin5Left link",onClick:function(){var a=new j({title:i18n("Remove Link"),closable:!0,draggable:!0});this.form=new f({saveLabel:i18n("Delete"),onSubmit:function(){b.del({url:bootstrap.restUrl+"deploy/version/"+appState.version.id+
"/link/"+this.getValue("name"),handleAs:"json"})},postSubmit:function(){a.hide();a.destroy();navBar.setHash(navBar.recentHash,!1,!0)},addData:function(){},onCancel:function(){a.hide();a.destroy()}});this.form.addField({name:"name",label:i18n("Link"),required:!0,type:"Select",widget:new d({restUrl:bootstrap.restUrl+"deploy/version/"+appState.version.id+"/link/",getValue:function(a){return a.name},allowNone:!1})});this.form.placeAt(a.containerNode);a.show()}}),o=c.create("div");h.placeAt(o);q.placeAt(o);
a.push({label:i18n("Links"),value:o})}return a},getDetailDescription:function(){return m.encode(appState.version.description)},stateCalls:[{targetAppStateEntry:"version",getUrl:function(a){return bootstrap.restUrl+"deploy/version/"+a.version},stateCalls:[{targetAppStateEntry:"component",getUrl:function(a,b){return bootstrap.restUrl+"deploy/component/"+b.version.component.id}}]}],defaultTab:"main",tabs:[{id:"main",label:i18n("Main"),view:"deploy/views/version/versionMain"},{id:"configuration",label:i18n("Configuration"),
className:"configurationTab",view:"deploy/views/version/versionConfiguration"},{id:"history",label:i18n("History"),view:"deploy/views/version/versionHistory"}]})});config.data.tabSets.push({id:"componentProcess",hashPattern:["componentProcess","componentProcessVersion","tab","navData"],breadcrumbs:["home","topLevelComponentsOrTemplates","componentOrTemplate","componentProcesses","componentProcess"],selectedTopLevelTab:"components",getDetailTitle:function(){return i18n("Process: %s",appState.componentProcess.name.escape())},
getDetailFields:function(){var k=[];k.push({label:i18n("Version"),value:i18n("%s of %s",appState.componentProcess.version,appState.componentProcess.versionCount)});k.push({label:"",value:util.vc.generateVersionControls(appState.componentProcess,function(j){return"componentProcess/"+appState.componentProcess.id+"/"+j})});return k},getDetailDescription:function(){return m.encode(appState.componentProcess.description)},stateCalls:[{targetAppStateEntry:"componentProcess",getUrl:function(k,j){j.componentProcessVersion=
{id:k.componentProcessVersion};return bootstrap.restUrl+"deploy/componentProcess/"+k.componentProcess+"/"+k.componentProcessVersion},postGet:function(k,j){j.component=k.component;j.componentTemplate=k.componentTemplate}},{getUrl:function(k,j){j.goBack={id:k.navData}}}],defaultTab:"activities",tabs:[{id:"activities",label:i18n("Design"),view:"deploy/views/componentProcess/componentProcessActivities"},{id:"configuration",label:i18n("Configuration"),className:"configurationTab",view:"deploy/views/componentProcess/componentProcessConfiguration"},
{id:"changes",label:i18n("Changes"),view:"deploy/views/componentProcess/componentProcessChangelog"}]});config.data.breadcrumbItems.push({id:"component",getHash:function(){return"component/"+appState.component.id},isUserData:!0,getLabel:function(){return m.encode(appState.component.name)}});config.data.breadcrumbItems.push({id:"componentTemplate",getHash:function(){return"componentTemplate/"+appState.componentTemplate.id+"/-1"},isUserData:!0,getLabel:function(){return m.encode(appState.componentTemplate.name)}});
config.data.breadcrumbItems.push({id:"topLevelComponentsOrTemplates",getHash:function(){var k="";appState.component?k="components":appState.componentTemplate&&(k="components/templates");return k},isUserData:!0,getLabel:function(){var k="";appState.component?k=i18n("Components"):appState.componentTemplate&&(k=i18n("Component Templates"));return k}});config.data.breadcrumbItems.push({id:"componentOrTemplate",getHash:function(){var k="";appState.component?k="component/"+appState.component.id:appState.componentTemplate&&
(k="componentTemplate/"+appState.componentTemplate.id+"/-1");return k},isUserData:!0,getLabel:function(){var k="";appState.component?k=m.encode(appState.component.name):appState.componentTemplate&&(k=m.encode(appState.componentTemplate.name));return k}});config.data.breadcrumbItems.push({id:"componentTemplates",getHash:function(){return"components/templates"},isUserData:!1,getLabel:function(){return i18n("Component Templates")}});config.data.breadcrumbItems.push({id:"componentProcesses",getHash:function(){var k=
"";appState.component?k="component/"+appState.component.id+"/processes":appState.componentTemplate&&(k="componentTemplate/"+appState.componentTemplate.id+"/-1/processes");return k},isUserData:!1,getLabel:function(){return i18n("Processes")}});config.data.breadcrumbItems.push({id:"versions",getHash:function(){return"component/"+appState.component.id+"/versions"},isUserData:!1,getLabel:function(){return i18n("Versions")}});config.data.breadcrumbItems.push({id:"version",getHash:function(){return"version/"+
appState.version.id},isUserData:!1,getLabel:function(){return i18n("Version: %s",m.encode(appState.version.name))}});config.data.breadcrumbItems.push({id:"componentProcess",getHash:function(){return"componentProcess/"+appState.componentProcess.id},isUserData:!1,getLabel:function(){return i18n("Process: %s",appState.componentProcess.name.escape())}})})},"deploy/widgets/snapshot/SnapshotRequestHistory":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/dom-construct,dojo/on,deploy/widgets/Formatters,js/webext/widgets/table/TreeTable".split(","),
function(l,m,k,j,f,e,d){return k("deploy.widgets.snapshot.SnapshotRequestHistory",[m,l],{templateString:'<div class="snapshotRequestHistory"><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var c=[{name:i18n("Process"),formatter:function(b){b.applicationProcess.application=b.application;return e.applicationProcessLinkFormatter(b.applicationProcess)}},{name:i18n("Scheduled For"),field:"calendarEntry.scheduledDate",formatter:function(b){return util.dateFormatShort(b.entry.scheduledDate)},
orderField:"calendarEntry.scheduledDate"},{name:i18n("By"),field:"userName"},{name:i18n("Status"),formatter:function(b,a,c){return e.requestStatusFormatter(b,a,c)}},{name:i18n("Actions"),formatter:function(b){var a=document.createElement("div"),c=document.createElement("a");c.className="actionsLink";c.innerHTML=i18n("View Request");c.href="#applicationProcessRequest/"+b.id;a.appendChild(c);return a}}];this.grid=new d({url:bootstrap.restUrl+"deploy/applicationProcessRequest/table",baseFilters:[{name:"environment.id",
type:"eq",className:"UUID",values:[this.environment.id]},{name:"snapshot.id",type:"eq",className:"UUID",values:[this.snapshot.id]}],columns:c,orderField:"calendarEntry.scheduledDate",sortType:"desc",pageOptions:[5,10,25,50,100,250],rowsPerPage:5,tableConfigKey:"snapshotProcessHistory"+this.snapshot.id+"-"+this.environment.id,noDataMessage:i18n("No process history found."),hideExpandCollapse:!0,hidePagination:!1,queryData:{outputType:["BASIC","LINKED"]}});this.grid.placeAt(this.gridAttach)},destroy:function(){this.inherited(arguments);
this.grid.destroy()}})})},"dijit/form/Select":function(){require({cache:{"url:dijit/form/templates/Select.html":'<table class="dijit dijitReset dijitInline dijitLeft"\n\tdata-dojo-attach-point="_buttonNode,tableNode,focusNode,_popupStateNode" cellspacing=\'0\' cellpadding=\'0\'\n\trole="listbox" aria-haspopup="true"\n\t><tbody role="presentation"><tr role="presentation"\n\t\t><td class="dijitReset dijitStretch dijitButtonContents" role="presentation"\n\t\t\t><div class="dijitReset dijitInputField dijitButtonText"  data-dojo-attach-point="containerNode" role="presentation"></div\n\t\t\t><div class="dijitReset dijitValidationContainer"\n\t\t\t\t><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n\t\t\t/></div\n\t\t\t><input type="hidden" ${!nameAttrSetting} data-dojo-attach-point="valueNode" value="${value}" aria-hidden="true"\n\t\t/></td\n\t\t><td class="dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer"\n\t\t\tdata-dojo-attach-point="titleNode" role="presentation"\n\t\t\t><input class="dijitReset dijitInputField dijitArrowButtonInner" value="&#9660; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n\t\t\t\t${_buttonInputDisabled}\n\t\t/></td\n\t></tr></tbody\n></table>\n'}});
define("dijit/form/Select","dojo/_base/array,dojo/_base/declare,dojo/dom-attr,dojo/dom-class,dojo/dom-geometry,dojo/_base/event,dojo/i18n,dojo/_base/lang,dojo/sniff,./_FormSelectWidget,../_HasDropDown,../Menu,../MenuItem,../MenuSeparator,../Tooltip,dojo/text!./templates/Select.html,dojo/i18n!./nls/validate".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r){var t=m("dijit.form._SelectMenu",q,{autoFocus:!0,buildRendering:function(){this.inherited(arguments);var a=this.menuTableNode=this.domNode,
b=this.domNode=this.ownerDocument.createElement("div");b.style.cssText="overflow-x: hidden; overflow-y: scroll";a.parentNode&&a.parentNode.replaceChild(b,a);j.remove(a,"dijitMenuTable");b.className=a.className+" dijitSelectMenu";a.className="dijitReset dijitMenuTable";b.setAttribute("role","listbox");a.setAttribute("role","presentation");b.appendChild(a)},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onselectstart",e.stop)},focus:function(){var a=!1,b=this.parentWidget.value;
c.isArray(b)&&(b=b[b.length-1]);b&&l.forEach(this.parentWidget._getChildren(),function(c){c.option&&b===c.option.value&&(a=!0,this.focusChild(c,!1))},this);a||this.inherited(arguments)},resize:function(a){if(a&&(f.setMarginBox(this.domNode,a),"w"in a))this.menuTableNode.style.width="100%"}}),m=m("dijit.form.Select",[a,h],{baseClass:"dijitSelect dijitValidationTextBox",templateString:r,_buttonInputDisabled:b("ie")?"disabled":"",required:!1,state:"",message:"",tooltipPosition:[],emptyLabel:"&#160;",
_isLoaded:!1,_childrenLoaded:!1,_fillContent:function(){this.inherited(arguments);if(this.options.length&&!this.value&&this.srcNodeRef){var a=this.srcNodeRef.selectedIndex||0;this.value=this.options[0<=a?a:0].value}this.dropDown=new t({id:this.id+"_menu",parentWidget:this});j.add(this.dropDown.domNode,this.baseClass.replace(/\s+|$/g,"Menu "))},_getMenuItemForOption:function(a){if(!a.value&&!a.label)return new n({ownerDocument:this.ownerDocument});var b=c.hitch(this,"_setValueAttr",a),a=new o({option:a,
label:a.label||this.emptyLabel,onClick:b,ownerDocument:this.ownerDocument,dir:this.dir,disabled:a.disabled||!1});a.focusNode.setAttribute("role","option");return a},_addOptionItem:function(a){this.dropDown&&this.dropDown.addChild(this._getMenuItemForOption(a))},_getChildren:function(){return!this.dropDown?[]:this.dropDown.getChildren()},_loadChildren:function(a){!0===a?(this.dropDown&&delete this.dropDown.focusedChild,this.options.length?this.inherited(arguments):(l.forEach(this._getChildren(),function(a){a.destroyRecursive()}),
this.dropDown.addChild(new o({ownerDocument:this.ownerDocument,label:this.emptyLabel})))):this._updateSelection();this._isLoaded=!1;this._childrenLoaded=!0;this._loadingStore||this._setValueAttr(this.value,!1)},_refreshState:function(){this._started&&this.validate(this.focused)},startup:function(){this.inherited(arguments);this._refreshState()},_setValueAttr:function(a){this.inherited(arguments);k.set(this.valueNode,"value",this.get("value"));this._refreshState()},_setDisabledAttr:function(a){this.inherited(arguments);
this._refreshState()},_setRequiredAttr:function(a){this._set("required",a);this.focusNode.setAttribute("aria-required",a);this._refreshState()},_setOptionsAttr:function(a){this._isLoaded=!1;this._set("options",a)},_setDisplay:function(a){a=a||this.emptyLabel;this.containerNode.innerHTML='<span role="option" class="dijitReset dijitInline '+this.baseClass.replace(/\s+|$/g,"Label ")+'">'+a+"</span>"},validate:function(a){a=this.disabled||this.isValid(a);this._set("state",a?"":this._hasBeenBlurred?"Error":
"Incomplete");this.focusNode.setAttribute("aria-invalid",a?"false":"true");var b=a?"":this._missingMsg;b&&this.focused&&this._hasBeenBlurred?s.show(b,this.domNode,this.tooltipPosition,!this.isLeftToRight()):s.hide(this.domNode);this._set("message",b);return a},isValid:function(){return!this.required||0===this.value||!/^\s*$/.test(this.value||"")},reset:function(){this.inherited(arguments);s.hide(this.domNode);this._refreshState()},postMixInProperties:function(){this.inherited(arguments);this._missingMsg=
d.getLocalization("dijit.form","validate",this.lang).missingMessage},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onselectstart",e.stop);this.domNode.setAttribute("aria-expanded","false");9>b("ie")&&this.defer(function(){try{var a=domStyle.getComputedStyle(this.domNode);if(a){var b=a.fontFamily;if(b){var c=this.domNode.getElementsByTagName("INPUT");if(c)for(a=0;a<c.length;a++)c[a].style.fontFamily=b}}}catch(d){}})},_setStyleAttr:function(a){this.inherited(arguments);
j.toggle(this.domNode,this.baseClass.replace(/\s+|$/g,"FixedWidth "),!!this.domNode.style.width)},isLoaded:function(){return this._isLoaded},loadDropDown:function(a){this._loadChildren(!0);this._isLoaded=!0;a()},closeDropDown:function(){this.inherited(arguments);if(this.dropDown&&this.dropDown.menuTableNode)this.dropDown.menuTableNode.style.width=""},destroy:function(a){this.dropDown&&!this.dropDown._destroyed&&(this.dropDown.destroyRecursive(a),delete this.dropDown);this.inherited(arguments)},_onFocus:function(){this.validate(!0);
this.inherited(arguments)},_onBlur:function(){s.hide(this.domNode);this.inherited(arguments);this.validate(!1)}});m._Menu=t;return m})},"deploy/widgets/settings/Patches":function(){define(["dijit/_TemplatedMixin","dijit/_Widget","dojo/_base/declare","js/webext/widgets/table/TreeTable"],function(l,m,k,j){return k("deploy.widgets.settings.Patches",[m,l],{templateString:'<div class="logging">  <div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);this.existingValues=
{};if(this.version)this.existingValues=this.version;var f=[{name:i18n("Name"),field:"name"},{name:i18n("Last Modified"),field:"time",formatter:util.tableDateFormatter}];this.grid=new j({url:bootstrap.restUrl+"system/configuration/patches",serverSideProcessing:!1,noDataMessage:i18n("No patches have been installed on your server"),tableConfigKey:"patches",hidePagination:!0,columns:f});this.grid.placeAt(this.gridAttach)}})})},"js/webext/widgets/FormDelegates":function(){var l="dojo/_base/declare,dojo/_base/array,dojo/_base/kernel,dojo/_base/lang,dojo/dom-class,dojo/dom-construct,dojo/dom-style,dijit/_WidgetBase,dijit/ColorPalette,dijit/form/CheckBox,dijit/form/DateTextBox,dijit/form/MultiSelect,dijit/form/NumberTextBox,dijit/form/NumberSpinner,dijit/form/Select,dijit/form/SimpleTextarea,dijit/form/TextBox,dijit/form/TimeTextBox,dijit/form/ValidationTextBox,dojo/store/Cache,dojo/store/JsonRest,dojo/store/Memory,dojox/html/entities,dojox/form/CheckedMultiSelect,js/webext/widgets/DateTime,js/webext/widgets/DialogMultiSelect,js/webext/widgets/DomNode,js/webext/widgets/FilteringScrollSelect,js/webext/widgets/CheckboxGroup,js/webext/widgets/RadioButtonGroup,js/webext/widgets/Switch,js/webext/widgets/SourceBrowser,js/webext/widgets/color/ColorPicker,js/webext/widgets/select/WebextSelect,js/webext/widgets/select/WebextMultiSelect,js/webext/widgets/BidiDateUtil".split(",");
(function(){var m,k,j;if((m=config?config.getProperty("extraFormIncludes"):[])&&m instanceof Array)for(k=0;k<m.length;k++)j=m[k].replace(/\./g,"/"),l.push(j),console&&console.warn&&console.warn("DEPRECATED: config extraFormIncludes is deprecated, value="+j)})();define("js/webext/widgets/FormDelegates",l,function(l,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u,x,v,y,A,z,B,D,G,C,S,K,L,M,I,J,U,Q,R){var V={},X=function(a,b){f.isArray(a)?k.forEach(a,function(a){X(a,b)}):V[a.toUpperCase()]=b},l=l([],{delegates:null,
constructor:function(a){this.delegates=f.delegate(V);if(a)this.params=a,f.mixin(this,a);this.initDelegates()},getDelegate:function(a){return this.delegates[a.toUpperCase()]},addDelegate:function(a,b){var c=this;f.isArray(a)?k.forEach(a,function(a){c.addDelegate(a,b)}):c.delegates[a.toUpperCase()]=b},initDelegates:function(){var a=this;k.forEach(config.getProperty("extraFormDelegates"),function(b){j.deprecated("config extraFormDelegates should be replaced with calls to #addDelegate or #registerDelegate");
a.addDelegate(b.name,b.delegateFunction)})}});l.registerDelegate=X;l.retrieveDelegate=function(a){return V[a.toUpperCase()]};var N=function(a){(a=a.style)||(a={width:"300px"});return a};l.registerDelegate("TEXT",function(a){var b=new w({label:a.label?a.label.escapeHTML():a.label,name:a.name?a.name.escapeHTML():a.name,value:a.value,placeHolder:a.placeHolder,disabled:a.readOnly?!0:!1,style:N(a),textDir:a.textDir||util.getBaseTextDir()||"auto"});if(a.onChange)b.onChange=a.onChange;a.intermediateChanges&&
b.set("intermediateChanges",a.intermediateChanges);return b});l.registerDelegate("SECURE",function(a){var b=new w({label:a.label?a.label.escapeHTML():a.label,name:a.name?a.name.escapeHTML():a.name,value:a.value,placeHolder:a.placeHolder,style:N(a),disabled:a.readOnly?!0:!1,textDir:"ltr",type:"password"});if(a.onChange)b.onChange=a.onChange;return b});l.registerDelegate(["Text Area","TEXTAREA"],function(a){var b=N(a);if("300px"===b.width)b.width="284px";b=new t({rows:5,label:a.label?a.label.escapeHTML():
a.label,name:a.name?a.name.escapeHTML():a.name,value:a.value,placeHolder:a.placeHolder,style:b,textDir:a.textDir||util.getBaseTextDir()||"auto",disabled:a.readOnly?!0:!1});if(a.onChange)b.onChange=a.onChange;return b});l.registerDelegate(["PASSWORD"],function(a){var b=new x({label:a.label,name:a.name,value:a.value,placeHolder:a.placeHolder,style:N(a),disabled:a.readOnly?!0:!1,required:a.required?!0:!1,textDir:"ltr",type:a.textType||"Password"});if(a.promptMessage)b.promptMessage=a.promptMessage;else if(b.required)b.promptMessage=
i18n("Required");return b});l.registerDelegate(["Validation Text","VALIDATION_TEXT"],function(a){a.regExp&&j.deprecated('See dijit/form/ValidationTextBox.js line 74: "regExp: Deprecated [extension protected] String.  Use "pattern" instead."');var b=new x({label:a.label,name:a.name,value:a.value,placeHolder:a.placeHolder,style:N(a),disabled:a.readOnly?!0:!1,required:a.required?!0:!1,type:a.textType||"text",regExp:a.regExp||"",pattern:a.pattern||".*"});if(void 0!==a.message)b.message=a.message;if(void 0!==
a.invalidMessage)b.invalidMessage=a.invalidMessage;if(void 0!==a.missingMessage)b.missingMessage=a.missingMessage;if(void 0!==a.promptMessage)b.promptMessage=a.promptMessage;else if(void 0!==a.missingMessage)b.promptMessage=a.missingMessage;else if(b.required)b.promptMessage=i18n("Required");if(void 0!==a.pattern)b.pattern=a.pattern;if(a.onChange)b.onChange=a.onChange;return b});l.registerDelegate("Number",function(a){var b=new n({name:a.name,label:a.label,value:a.value,placeHolder:a.placeHolder,
style:N(a),textDir:"ltr",disabled:a.readOnly?!0:!1,constraints:{pattern:"#"}});if(a.onChange)b.onChange=a.onChange;return b});l.registerDelegate("NumberBox",function(a){var b=new s({name:a.name,label:a.label,value:a.value,placeHolder:a.placeHolder,smallDelta:a.smallDelta||1,style:N(a),textDir:"ltr",disabled:a.readOnly?!0:!1,required:a.required?!0:!1,constraints:a.constraints||{places:0}});if(void 0!==a.message)b.message=a.message;if(void 0!==a.promptMessage)b.promptMessage=a.promptMessage;else if(void 0!==
a.missingMessage)b.promptMessage=a.missingMessage;if(void 0!==a.rangeMessage)b.rangeMessage=a.rangeMessage;if(a.onChange)b.onChange=a.onChange;return b});l.registerDelegate("CHECKBOX",function(a){var b=!1;if(!0===a.value||"true"===a.value||"on"===a.value)b=!0;b=new h({label:a.label?a.label.escapeHTML():a.label,name:a.name?a.name.escapeHTML():a.name,checked:b,value:"true",style:{marginTop:"3px"},disabled:a.readOnly?!0:!1});if(a.onChange)b.onChange=a.onChange;return b});l.registerDelegate("Checkbox Group",
function(a){return new K({name:a.name,label:a.label,options:a.options})});l.registerDelegate("SWITCH",function(a){var b=!1;if(!0===a.value||"true"===a.value||"on"===a.value)b=!0;b=new M({label:a.label,name:a.name,value:b,disabled:a.readOnly?!0:!1,color:a.color||"blue"});if(a.onChange)b.onChange=a.onChange;return b});var T=function(a){var b=[];k.forEach(a.allowedValues,function(c){void 0!==c.label&&void 0!==c.value?b.push({label:c.label?c.label.escapeHTML():c.label,value:""+c.value,selected:c.value===
a.value,checked:c.value===a.value}):b.push({label:c,id:""+c,value:""+c,selected:c===a.value,checked:c===a.value})});return b};l.registerDelegate(["SELECT","PROPERTY_VALUE_GROUP"],function(a){var b=new r({label:a.label?a.label.escapeHTML():a.label,name:a.name?a.name.escapeHTML():a.name,options:T(a),disabled:a.readOnly?!0:!1});if(a.onChange)b.onChange=a.onChange;return b});l.registerDelegate("RADIO",function(a){return new L({label:a.label,name:a.name,options:a.allowedValues||a.options,value:a.value,
disabled:a.readOnly?!0:!1,onChange:a.onChange})});l.registerDelegate("LabeledSelect",function(a){k.forEach(a.allowedValues,function(b){if(a.value===b.value)b.selected=!0});var b=new r({label:a.label,name:a.name,options:a.allowedValues,disabled:a.readOnly?!0:!1});if(a.onChange)b.onChange=a.onChange;return b});l.registerDelegate("FilteringScrollSelect",function(a){return new S(a)});l.registerDelegate("FilteringSelect",function(a){var b=a.store,c=a.autoComplete,d=a.pageSize;if(!b)a.url?("/"!==a.url.substring(a.url.length-
1)&&(a.url+="/"),b=new y({target:a.url,idAttribute:a.idProperty||"id"}),c=!1,d=30):a.allowedValues?(k.forEach(a.allowedValues,function(b){if(a.value===b.value)b.checked=!0}),b=new A({data:a.allowedValues,idProperty:a.idProperty||"id"})):(a.searchAttr="label",b=new A({data:T(a),idProperty:"value"}));b=new S({label:a.label,name:a.name,value:a.value,placeHolder:a.placeHolder,store:b,defaultQuery:a.defaultQuery,multiple:a.multiple,autoSelectFirst:a.autoSelectFirst||!1,searchAttr:a.searchAttr?a.searchAttr:
"name",autoComplete:c,pageSize:d,required:a.required?!0:!1,disabled:a.readOnly?!0:!1,readOnly:a.readOnly?!0:!1,allowNone:a.allowNone||!a.required,idProperty:a.idProperty||"id",validate:a.validate?a.validate:!0,onLoad:a.onLoad||function(){}});if(a.onChange)b.onChange=a.onChange;return b});var F=function(a,b){if(b&&b.pattern){var c=util.getNormalizedRegExp(b.pattern);a.onFilterResult=function(a){return k.filter(a,function(a){return a&&a.value&&c.test(a.value)})}}};l.registerDelegate(["HTTP_SELECT"],
function(a){delete a.inherited;a.searchAttr="label";if(a.id)a.id="";if(a.resolveHttpValuesUrl)a.url=bootstrap.baseUrl+a.resolveHttpValuesUrl;a.url&&"/"!==a.url.substring(a.url.length-1)&&(a.url+="/");a.label=a.label?a.label.escapeHTML():a.label;var b=new y({target:a.url,idProperty:"value"});if(a.value&&a.defaultLabel){var c=new A({data:[{value:a.value,label:a.defaultLabel}],idProperty:"value"});a.store=new v(b,c)}else a.store=b;b=new U(a);F(b,a);return b});l.registerDelegate(["HTTP_MULTI_SELECT"],
function(a){delete a.inherited;a.searchAttr="label";a.idAttribute="value";if(a.id)a.id="";if(a.resolveHttpValuesUrl)a.url=bootstrap.baseUrl+a.resolveHttpValuesUrl;a.url&&"/"!==a.url.substring(a.url.length-1)&&(a.url+="/");var b=new y({target:a.url,idProperty:"value"});if(a.value){var c=[],d;a.defaultLabel&&(d=a.defaultLabel.split(","));k.forEach(a.value.split(","),function(a,b){c.push({label:d?d[b]:a,value:a,checked:!0})});a.value=c;var e=new A({data:c,idProperty:"value"});a.store=new v(b,e)}else a.store=
b;b=new Q(a);F(b,a);return b});var E=function(a){a=f.clone(a);a.style=N(a);if(a.url)"/"!==a.url.substring(a.url.length-1)&&(a.url+="/"),a.store=new y({target:a.url,idProperty:a.idAttribute||"id"});else if(a.data)a.store=new A({data:a.data,idProperty:a.idAttribute||"id"});return a};l.registerDelegate(["TableFilterSelect"],function(a){return new U(E(a))});l.registerDelegate(["TableFilterMultiSelect"],function(a){return new Q(E(a))});l.registerDelegate(["MULTI-SELECT","MULTI_SELECT"],function(a){var b=
new o({label:a.label?a.label.escapeHTML():a.label,name:a.name?a.name.escapeHTML():a.name,style:N(a),disabled:a.readOnly?!0:!1});if(a.onChange)b.onChange=a.onChange;var c=[];a.value&&(c=f.isArray(a.value)?a.value:a.value.split(","));k.forEach(a.allowedValues,function(a){var e=d.create("option");void 0!==a.label&&void 0!==a.value?(e.innerHTML=z.encode(a.label),e.value=a.value):(e.innerHTML=z.encode(a),e.value=a);if(-1<c.indexOf(a)||-1<c.indexOf(a.value))e.selected="selected";b.containerNode.appendChild(e)});
return b});l.registerDelegate(["CHECKED-MULTI-SELECT","CHECKED_MULTI_SELECT"],function(a){var b=new B({label:a.label,name:a.name,style:N(a),multiple:void 0===a.multiple?!0:a.multiple,disabled:a.readOnly?!0:!1});k.forEach(a.allowedValues,function(a){void 0!==a.label&&void 0!==a.value&&b.addOption(a)});return b});l.registerDelegate("Date",function(a){var b=new q({label:a.label,datePackage:R.getDatePackage(),name:a.name,disabled:a.readOnly?!0:!1,value:a.value,format:function(a){return util.dayFormatShort(a)},
placeHolder:a.placeHolder,constraints:{fullYear:!0,datePattern:util.dateFormatPattern},promptMessage:util.dateFormatPattern,required:a.required?!0:!1});if(a.onChange)b.onChange=a.onChange;if(void 0!==a.message)b.message=a.message;if(void 0!==a.promptMessage)b.promptMessage=a.promptMessage;else if(void 0!==a.missingMessage)b.promptMessage=a.missingMessage;if(void 0!==a.rangeMessage)b.rangeMessage=a.rangeMessage;return b});l.registerDelegate("Time",function(a){var b=new u({label:a.label,name:a.name,
disabled:a.readOnly?!0:!1,value:a.value,placeHolder:a.placeHolder,constraints:{timePattern:util.timeFormatPattern},required:a.required?!0:!1});if(a.onChange)b.onChange=a.onChange;if(void 0!==a.message)b.message=a.message;if(void 0!==a.promptMessage)b.promptMessage=a.promptMessage;else if(void 0!==a.missingMessage)b.promptMessage=a.missingMessage;if(void 0!==a.rangeMessage)b.rangeMessage=a.rangeMessage;return b});l.registerDelegate("DateTime",function(a){var b=new D({label:a.label,name:a.name,datePackage:R.getDatePackage(),
disabled:a.readOnly?!0:!1,value:a.value});if(a.onChange)b.onChange=a.onChange;return b});l.registerDelegate("Color",function(b){var c=new a({label:b.label,name:b.name,value:b.value,disabled:b.readOnly?!0:!1,_imagePaths:{"7x10":bootstrap.imageUrl+"webext/colors7x10.png"}});if(b.onChange)c.onChange=b.onChange;return c});l.registerDelegate("ColorPicker",function(a){var b=new J({label:a.label,name:a.name,value:a.value,mode:a.mode||"standard",disabled:a.readOnly?!0:!1});if(a.onChange)b.onChange=a.onChange;
return b});l.registerDelegate("Source",function(a){var b=new I({label:a.label,name:a.name,value:a.value,required:a.required,disabled:a.readOnly?!0:!1});if(a.onChange)b.onChange=a.onChange;b.startup();return b});l.registerDelegate("Label",function(a){var b=new C({name:a.name,label:a.label||""}),e=d.create("div");e.innerHTML=z.encode(a.value);a.style?c.set(e,a.style):(e.style.width="400px",e.style.marginTop="15px");if(a.width)e.style.width=a.width;if(a.height)e.style.height=a.height;b.domAttach.appendChild(e);
return b});l.registerDelegate("SectionLabel",function(a){a.label="";var b=new C({name:a.name,label:a.label||""}),h=d.create("div");h.innerHTML=z.encode(a.value);a.style&&c.set(h,a.style);e.add(h,"sectionLabel");b.domAttach.appendChild(h);return b});l.registerDelegate(["Invisible","Hidden"],function(a){return new C({name:a.name,label:"",rowClass:"hidden",value:a.value})});l.registerDelegate("MultiSelect",function(a){var b=new G({url:a.url,name:a.name,label:a.label,value:a.value,disabled:a.readOnly?
!0:!1});if(a.onChange)b.onChange=a.onChange;return b});return l})},"deploy/widgets/workflow/activity/ComponentRunComponentProcessActivity":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dojo/on,deploy/widgets/workflow/activity/BaseActivity,js/webext/widgets/RestSelect,js/webext/widgets/Alert".split(","),function(l,m,k,j,f,e,d){return m("deploy.widgets.workflow.activity.ComponentRunComponentProcessActivity",[f],{postCreate:function(){this.inherited(arguments);this.initialized||
this.editProperties()},getLabel:function(){var c="";return c=this.initialized?c+(this.data.name+"\n"+this.data.componentProcessName):c+i18n("Run Another Process")},editProperties:function(c){var b=this,a=b.createPropertyDialog(),h=b.createPropertyForm({dialog:a,validateFields:function(a){return b.validateName(a.name)},onSubmit:function(d){c&&c();b.initialized=!0;b.data.type="componentProcess";b.data.name=d.name;b.data.allowFailure=d.allowFailure;if(b.graphEditor.component)b.data.componentName=b.graphEditor.component.name;
else if(b.graphEditor.componentTemplate)b.data.componentTemplateName=b.graphEditor.componentTemplate.name;b.data.componentProcessName=d.componentProcessName;var e={};l.forEach(b.extraPropertyNames,function(a){var b=a.substring(2);e[b]=d[a]});b.data.properties=e;b.updateLabel();a.hide();h.destroy();a.destroy()},readOnly:b.readOnly});h.addField({name:"name",label:i18n("Name"),type:"Text",required:!0,value:b.data.name});var f=null;b.graphEditor.component?f=bootstrap.restUrl+"deploy/component/"+b.graphEditor.component.id+
"/fullProcesses/false":b.graphEditor.componentTemplate&&(f=bootstrap.restUrl+"deploy/componentTemplate/"+b.graphEditor.componentTemplate.id+"/-1/fullProcesses/false");f=new e({restUrl:f,getLabel:function(a){var b=a.name;a.componentTemplate&&(b+=i18n(" (Template)"));return b},autoSelectFirst:!1,getValue:function(a){return a.name},onChange:function(a,c){l.forEach(b.extraPropertyNames,function(a){b.removePropertyField(h,a)});b.extraPropertyNames=[];c&&(c.name===b.graphEditor.componentProcess.name&&new d({message:i18n("This will call the current process and risk the creation of an infinite loop. Are you sure you want this process to run itself?")}),
l.forEach(c.unfilledProperties,function(a){var c="p_"+a.name,d=a.value,e=!1;b.data.properties&&b.data.properties[a.name]&&(d=b.data.properties[a.name],e=!0);var f=k.clone(a);f.name=c;f.value=d;if(a.description)f.description=a.description.escape();b.extraPropertyNames.push(c);b.addPropertyField(h,f,e,"allowFailure")}))},allowNone:!1,value:b.data.componentProcessName,disabled:b.readOnly});h.addField({name:"componentProcessName",label:i18n("Component Process"),required:!0,description:i18n("The process to run."),
widget:f},"allowFailure");(config.data.systemConfiguration.enableAllowFailure||b.data.allowFailure)&&h.addField({name:"allowFailure",label:i18n("Ignore Failure"),description:i18n("When checked, this step will always be considered successful."),type:"Checkbox",value:b.data.allowFailure});h.placeAt(a.containerNode);a.show()}})})},"dojo/has":function(){define(["require","module"],function(l){var m=l.has||function(){};m.add("dom-addeventlistener",!!document.addEventListener);m.add("touch","ontouchstart"in
document||0<window.navigator.msMaxTouchPoints);m.add("device-width",screen.availWidth||innerWidth);l=document.createElement("form");m.add("dom-attributes-explicit",0==l.attributes.length);m.add("dom-attributes-specified-flag",0<l.attributes.length&&40>l.attributes.length);m.clearElement=function(k){k.innerHTML="";return k};m.normalize=function(k,j){var f=k.match(/[\?:]|[^:\?]*/g),e=0,d=function(c){var b=f[e++];if(":"==b)return 0;if("?"==f[e++]){if(!c&&m(b))return d();d(!0);return d(c)}return b||0};
return(k=d())&&j(k)};m.load=function(k,j,f){k?j([k],f):f()};return m})},"url:dijit/form/templates/Select.html":'<table class="dijit dijitReset dijitInline dijitLeft"\n\tdata-dojo-attach-point="_buttonNode,tableNode,focusNode,_popupStateNode" cellspacing=\'0\' cellpadding=\'0\'\n\trole="listbox" aria-haspopup="true"\n\t><tbody role="presentation"><tr role="presentation"\n\t\t><td class="dijitReset dijitStretch dijitButtonContents" role="presentation"\n\t\t\t><div class="dijitReset dijitInputField dijitButtonText"  data-dojo-attach-point="containerNode" role="presentation"></div\n\t\t\t><div class="dijitReset dijitValidationContainer"\n\t\t\t\t><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n\t\t\t/></div\n\t\t\t><input type="hidden" ${!nameAttrSetting} data-dojo-attach-point="valueNode" value="${value}" aria-hidden="true"\n\t\t/></td\n\t\t><td class="dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer"\n\t\t\tdata-dojo-attach-point="titleNode" role="presentation"\n\t\t\t><input class="dijitReset dijitInputField dijitArrowButtonInner" value="&#9660; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n\t\t\t\t${_buttonInputDisabled}\n\t\t/></td\n\t></tr></tbody\n></table>\n',
"deploy/widgets/security/role/RoleResourceTypeManager":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/dom-construct,js/webext/widgets/TwoPaneListManager,js/webext/widgets/PopDown,deploy/widgets/security/role/RoleDefaultActions,deploy/widgets/security/role/RoleResourceTypeGrid,dijit/Tooltip".split(","),function(l,m,k,j,f,e,d,c,b){return m("deploy/widgets/security/role/RoleResourceTypeManager",[f],{postCreate:function(){this.inherited(arguments);this.showList()},showList:function(a){var b=
this;this.defaultSelectionId=a;k.get({url:bootstrap.baseUrl+"security/resourceType",handleAs:"json",load:function(a){l.forEach(a,function(a){var c=document.createElement("div");c.style.position="relative";var d=document.createElement("div");d.className="twoPaneEntryLabel";d.innerHTML=i18n(a.name.escape());c.appendChild(d);b.addEntry({id:a.id,domNode:c,action:function(){b.selectEntry(a)}})})}})},refresh:function(a){a=a||this.selectedEntry.id;this.clearDetail();this.clearList();this.showList(a)},selectEntry:function(a){var e=
j.create("div",{"class":"resourceRole-tooltipTitle"});j.create("h2",{innerHTML:this.header||i18n("Permissions Granted to Role Members"),"class":"title-text"},e);var f=j.create("div",{"class":"labelsAndValues-helpCell title-helpCell"},e);new b({connectId:[f],label:i18n("When configuring a new role, select which permissions users with the role should have. Users will not be able to interact with those objects in the Web UI unless they are given permission to the correct tabs from the Web UI menu as well."),
showDelay:100,position:["after","above","below","before"]});j.place(e,this.detailAttach);a="Web UI"===a.name||"Server Configuration"===a.name?new d({role:this.role,resourceType:a}):new c({role:this.role,resourceType:a});a.placeAt(this.detailAttach);this.registerDetailWidget(a)}})})},"deploy/widgets/application/ApplicationEnvironmentConditions":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/json,deploy/widgets/environment/EnvironmentConditions,js/webext/widgets/Alert".split(","),
function(l,m,k,j,f,e,d,c,b,a,h){return f("deploy.widgets.application.ApplicationEnvironmentConditions",[m,l],{templateString:'<div class="applicationEnvironmentConditions"><div class="listTopButtons" data-dojo-attach-point="buttonAttach"></div><div data-dojo-attach-point="listAttach"></div></div>',postCreate:function(){this.inherited(arguments);this.environmentConditionBoxes=[];this.saveButtonShown=!1;if(this.application)this.managePermission=this.application.security["Manage Environments"],this.putUrl=
bootstrap.restUrl+"deploy/application/"+this.application.id+"/environmentConditions",this.getUrl=bootstrap.restUrl+"deploy/application/"+this.application.id+"/environments/false";else if(this.applicationTemplate)this.managePermission=this.applicationTemplate.version===this.applicationTemplate.versionCount?this.applicationTemplate.security["Manage Environment Templates"]:!1,this.putUrl=bootstrap.restUrl+"deploy/applicationTemplate/"+this.applicationTemplate.id+"/environmentConditions",this.getUrl=
bootstrap.restUrl+"deploy/applicationTemplate/"+this.applicationTemplate.id+"/"+this.applicationTemplate.version+"/environmentTemplates";(!this.application||!this.applicationTemplate)&&this.managePermission&&this.showSaveButton();this.showEnvironments()},showSaveButton:function(){var a=this;this.saveButtonShown=!0;var c=new k({label:i18n("Save Conditions"),showTitle:!1,onClick:function(){var c=[];j.forEach(a.environmentConditionBoxes,function(a){a.readOnly||c.push(a.getValue())});e.put({url:a.putUrl,
putData:b.stringify(c),load:function(){new h({message:i18n("Conditions saved successfully.")});a.application||navBar.setHash("applicationTemplate/"+a.applicationTemplate.id+"/-1/configuration/gates",!1,!0)},error:function(a){new h({messages:[i18n("Error saving conditions:"),"",util.escape(a.responseText)]})}})}});d.add(c.domNode,"idxButtonSpecial");c.placeAt(this.buttonAttach)},showEnvironments:function(){var b=this;e.get({url:b.getUrl,handleAs:"json",load:function(d){j.forEach(d,function(d){var e=
new a({environment:d,application:b.application,applicationTemplate:b.applicationTemplate});e.placeAt(b.listAttach);b.environmentConditionBoxes.push(e);!d.version&&!d.templateId&&!b.saveButtonShown&&b.managePermission&&b.showSaveButton();c.create("div",{},b.listAttach)})}})},destroy:function(){this.inherited(arguments)}})})},"deploy/widgets/configuration/ConfigurationTree":function(){define("dijit/_Widget,dijit/_TemplatedMixin,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/dom-construct,dojo/dom-class,js/webext/widgets/table/TreeTable,deploy/widgets/component/ComponentConfigTemplates,deploy/widgets/environment/EnvironmentResourceTree,deploy/widgets/property/PropDefs,deploy/widgets/property/PropValues,deploy/widgets/property/PropSheetDefValues".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o){return j([l,m],{templateString:'<div class="configurationTree"><div class="configurationTreeContainer"><div class="configurationTreeDiv" data-dojo-attach-point="treeAttach"></div><div class="configurationDetail"><div data-dojo-attach-point="detailAttach"></div></div></div></div>',postCreate:function(){this.inherited(arguments);this.showTree()},destroy:function(){this.inherited(arguments);this.tree.destroy()},showTree:function(){var a=this;void 0!==this.tree&&this.tree.destroy();
var b=[{name:i18n("Application, Component, or Environment"),formatter:function(b,c,d){d.onclick=function(){a.loadConfigurationDetails(b)};return b.name},orderField:"name",filterField:"name",filterType:"text",getRawValue:function(a){return a.name},field:"name",style:{"word-break":"break-word"}}];this.tree=new c({url:bootstrap.restUrl+"deploy/configuration/configurationTree",columns:b,serverSideProcessing:!1,orderField:"name",noDataMessage:i18n("No Applications, Environments or Components have been configured yet."),
tableConfigKey:"configurationTreeTable",style:{wordBreak:"normal"}});d.add(this.tree.expandCollapseAttach,"centered-expand-collapse");this.tree.placeAt(this.treeAttach)},showSelectedArrow:function(a){if(void 0!==this.selectedArrow)this.selectedArrow.className="hidden";a.className="";this.selectedArrow=a},loadConfigurationDetails:function(c){var d=this;e.empty(this.detailAttach);k.forEach(this.detailWidgets,function(a){a.destroy()});this.detailWidgets=[];var j="";"Application"===c.objectType?j=i18n("Application: %s",
c.name):"Component"===c.objectType?j=i18n("Component: %s",c.name):"Environment"===c.objectType&&(j=i18n("Configuration of %s in %s",c.component.name,c.name));var l=document.createElement("div");l.className="containerLabel";l.style.padding="10px";l.innerHTML=j.escape();this.detailAttach.appendChild(l);j=document.createElement("div");j.className="hr";this.detailAttach.appendChild(j);var m,u;"Application"===c.objectType?(u=document.createElement("div"),u.className="containerLabel",u.innerHTML=i18n("Properties"),
u.style.padding="5px 0px 10px 0px",this.detailAttach.appendChild(u),m=new q({propSheet:c.propSheet,readOnly:!c.security["Manage Properties"]}),m.placeAt(this.detailAttach),this.detailWidgets.push(m)):"Component"===c.objectType?f.get({url:bootstrap.restUrl+"deploy/component/"+c.id,handleAs:"json",load:function(a){u=document.createElement("div");u.className="containerLabel";u.innerHTML=i18n("Properties");u.style.padding="5px 0px 10px 0px";d.detailAttach.appendChild(u);m=new q({propSheet:a.propSheet,
readOnly:!a.security["Manage Properties"]});m.placeAt(d.detailAttach);d.detailWidgets.push(m);var c=document.createElement("div");c.className="hr";d.detailAttach.appendChild(c);c=document.createElement("div");c.className="containerLabel";c.innerHTML=i18n("Environment Property Definitions");c.style.padding="5px 0px 10px 0px";d.detailAttach.appendChild(c);c=document.createElement("div");c.className="description";c.innerHTML=i18n("Define properties here to be given values on each environment the component is used in.");
d.detailAttach.appendChild(c);c=new h({propSheetDef:a.environmentPropSheetDef,readOnly:!a.security["Manage Properties"]});c.placeAt(d.detailAttach);d.detailWidgets.push(c);c=document.createElement("div");c.className="hr";d.detailAttach.appendChild(c);c=document.createElement("div");c.className="containerLabel";c.innerHTML=i18n("Configuration Templates");c.style.padding="5px 0px 10px 0px";d.detailAttach.appendChild(c);a=new b({component:a});a.placeAt(d.detailAttach);d.detailWidgets.push(a)}}):"Environment"===
c.objectType&&f.get({url:bootstrap.restUrl+"deploy/component/"+c.component.id,handleAs:"json",load:function(b){var h=document.createElement("div");h.className="containerLabel";h.innerHTML=i18n("Resources");h.style.padding="5px 0px 10px 0px";d.detailAttach.appendChild(h);h=new a({environment:c,rightPanelClass:"configuration-table"});h.placeAt(d.detailAttach);d.detailWidgets.push(h);h=document.createElement("div");h.className="hr";d.detailAttach.appendChild(h);u=document.createElement("div");u.className=
"containerLabel";u.innerHTML=i18n("Environment Properties");u.style.padding="5px 0px 10px 0px";d.detailAttach.appendChild(u);var j=e.create("div");e.place(j,d.detailAttach);f.get({url:bootstrap.restUrl+"deploy/environment/"+c.id+"/mappingProperties/"+b.id,load:function(){var a=new o({propSheetDefPath:b.environmentPropSheetDef.path,propSheetPath:"applications/"+c.application.id+"/environments/"+c.id+"/properties/"+b.id,getValuesUrl:bootstrap.restUrl+"deploy/environment/"+c.id+"/mappingProperties/"+
b.id,noPropertiesMessage:i18n("No environment properties have been defined by this component."),readOnly:!c.security["Manage Properties"]});d.detailWidgets.push(a);a.placeAt(j)}});h=document.createElement("div");h.className="hr";d.detailAttach.appendChild(h);h=document.createElement("div");h.className="containerLabel";h.innerHTML=i18n("Environment Properties (All Components)");h.style.padding="5px 0px 10px 0px";d.detailAttach.appendChild(h);m=new q({propSheet:c.propSheet,readOnly:!c.security["Manage Properties"]});
m.placeAt(d.detailAttach);d.detailWidgets.push(m)}})}})})},"deploy/widgets/component/VersionHistoryManager":function(){define("dojo/_base/declare,dojo/_base/xhr,dojo/_base/array,dojo/dom-construct,dojo/on,deploy/widgets/component/VersionHistory,js/webext/widgets/TwoPaneListManager".split(","),function(l,m,k,j,f,e,d){return l("deploy.widgets.component.VersionHistoryManager",[d],{postCreate:function(){this.inherited(arguments);var c=this;m.get({url:bootstrap.restUrl+"deploy/component/"+c.component.id+
"/applications",handleAs:"json",load:function(b){k.forEach(b,function(a){c.addEntry({id:a.id,label:a.name.escape(),action:function(){c.showApplications(a)}})})}})},showApplications:function(c){var b=document.createElement("div");b.className="containerLabel";b.style.padding="10px";b.innerHTML=c.name.escape();this.detailAttach.appendChild(b);c=new e({application:c,component:this.component});c.placeAt(this.detailAttach);this.registerDetailWidget(c)}})})},"deploy/widgets/process/EditProcess":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/_base/xhr,js/webext/widgets/Alert,js/webext/widgets/ColumnForm,js/webext/widgets/RestSelect,deploy/widgets/security/TeamSelector,deploy/widgets/resource/ResourceSelector".split(","),
function(l,m,k,j,f,e,d,c,b){return k("deploy.widgets.process.EditProcess",[m,l],{templateString:'<div class="editProcess">  <div data-dojo-attach-point="formAttach"></div></div>',postCreate:function(){this.inherited(arguments);var a=this;this.existingValues={};this.properties=[];this.process?(this.existingValues=this.process,this.properties=this.process.properties):this.source?(j.get({url:bootstrap.restUrl+"process/"+this.source.id+"/-1",handleAs:"json",sync:!0,load:function(b){a.source=b}}),this.existingValues=
this.source,this.copyId=this.source.id,this.existingValues.name=void 0,this.properties=this.source.properties):(this.properties.push({name:"contextType",value:"Resource"}),j.get({url:bootstrap.restUrl+"security/teamsWithCreateAction/Process",handleAs:"json",sync:!0,load:function(b){a.existingValues.extendedSecurity={teams:b}}}));a.createForm()},createForm:function(){var a=this;this.form=new e({submitUrl:bootstrap.restUrl+"process",readOnly:a.readOnly,showButtons:!a.readOnly,postSubmit:function(b){navBar.setHash("process/"+
b.id+"/-1");void 0!==a.callback&&a.callback()},onError:function(b){b.responseText&&new f({message:util.escape(b.responseText)});a.process&&navBar.setHash("process/"+a.process.id+"/-1/configuration",!0,!1)},addData:function(b){if(a.process)b.existingId=a.process.id,b.processVersion=a.process.version;if(a.copyId)b.copyId=a.copyId;b.properties={contextType:b.contextType,workingDir:b.workingDir};b.teamMappings=a.teamSelector.teams},onCancel:function(){void 0!==a.callback&&a.callback()},cancelLabel:void 0===
a.process?i18n("Cancel"):void 0});this.form.addField({name:"name",label:i18n("Name"),required:!0,type:"Text",value:this.existingValues.name});this.form.addField({name:"description",label:i18n("Description"),type:"Text",value:this.existingValues.description});var h=[];if(a.existingValues&&a.existingValues.extendedSecurity&&a.existingValues.extendedSecurity.teams)h=a.existingValues.extendedSecurity.teams;a.teamSelector=new c({readOnly:a.readOnly,resourceRoleType:"Process",noneLabel:i18n("Standard Process"),
teams:h});this.form.addField({name:"teams",label:i18n("Teams"),type:"Text",widget:a.teamSelector});h=new b({url:bootstrap.restUrl+"resource/resource/tree",value:a.existingValues.defaultResourceId,isSelectable:function(a){return a.hasAgent}});this.form.addField({name:"defaultResourceId",label:i18n("Default Resource"),widget:h});this.form.addField({name:"workingDir",label:i18n("Default Working Directory"),type:"Text",description:i18n("The default working directory for plugin steps in this process"),
required:!0,bidiDynamicSTT:"FILE_PATH",value:util.getNamedPropertyValue(a.properties,"workingDir")||"${p:resource/work.dir}/${p:process.name}"});h=new d({disabled:a.readOnly,restUrl:bootstrap.restUrl+"notification/notificationScheme",value:this.existingValues.notificationSchemeId});this.form.addField({name:"notificationSchemeId",label:i18n("Notification Scheme"),description:i18n("A notification scheme to use when handling events generated by this process."),widget:h});this.form.placeAt(this.formAttach)}})})},
"deploy/widgets/notification/NotificationSchemeList":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dojo/_base/declare,dojo/dom-class,deploy/widgets/notification/EditNotificationScheme,js/webext/widgets/Dialog,js/webext/widgets/Table".split(","),function(l,m,k,j,f,e,d,c){return j("deploy.widgets.notification.NotificationSchemeList",[m,l],{templateString:'<div class="notificationSchemeList"><div class="listTopButtons" data-dojo-attach-point="buttonTopAttach"></div><div data-dojo-attach-point="gridAttach"></div></div>',
postCreate:function(){this.inherited(arguments);var b=this,a=bootstrap.restUrl+"notification/notificationScheme",d=[{name:i18n("Notification Scheme"),formatter:this.notificationSchemeFormatter},{name:i18n("Description"),field:"description"}];this.grid=new c({url:a,serverSideProcessing:!1,columns:d,tableConfigKey:"notificationSchemeList",noDataMessage:i18n("No notification schemes have been created yet.")});this.grid.placeAt(this.gridAttach);a={label:i18n("Create Notification Scheme"),showTitle:!1,
onClick:function(){b.showNewNotificationSchemeDialog({})}};a=new k(a);f.add(a.domNode,"idxButtonSpecial");a.placeAt(this.buttonTopAttach)},destroy:function(){this.inherited(arguments);this.grid.destroy()},notificationSchemeFormatter:function(b){var a=document.createElement("a");a.href="#notificationScheme/"+b.id;a.innerHTML=i18n(b.name.escape());return a},showNewNotificationSchemeDialog:function(){var b=new d({title:i18n("Create Notification Scheme"),closable:!0,draggable:!0});(new e({callback:function(){b.hide();
b.destroy()}})).placeAt(b.containerNode);b.show()}})})},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./has"],function(l,m,k){function j(a,d,e,h,f){if(h=d.match(/(.*):(.*)/))return d=h[2],h=h[1],c.selector(h,d).call(f,a,e);k("touch")&&(b.test(d)&&(e=A(e)),!k("event-orientationchange")&&"orientationchange"==d&&(d="resize",a=window,e=A(e)));n&&(e=n(e));if(a.addEventListener){var j=d in q,o=j?q[d]:d;a.addEventListener(o,e,j);return{remove:function(){a.removeEventListener(o,
e,j)}}}if(w&&a.attachEvent)return w(a,"on"+d,e);throw Error("Target must be an event emitter");}function f(){this.cancelable=!1}function e(){this.bubbles=!1}var d=window.ScriptEngineMajorVersion;k.add("jscript",d&&d()+ScriptEngineMinorVersion()/10);k.add("event-orientationchange",k("touch")&&!k("android"));k.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);var c=function(a,b,d,e){return"function"==typeof a.on&&"function"!=
typeof b&&!a.nodeType?a.on(b,d):c.parse(a,b,d,j,e,this)};c.pausable=function(a,b,d,e){var h,a=c(a,b,function(){if(!h)return d.apply(this,arguments)},e);a.pause=function(){h=!0};a.resume=function(){h=!1};return a};c.once=function(a,b,d){var e=c(a,b,function(){e.remove();return d.apply(this,arguments)});return e};c.parse=function(a,b,c,d,e,h){if(b.call)return b.call(h,a,c);if(-1<b.indexOf(",")){for(var b=b.split(/\s*,\s*/),f=[],j=0,n;n=b[j++];)f.push(d(a,n,c,e,h));f.remove=function(){for(var a=0;a<
f.length;a++)f[a].remove()};return f}return d(a,b,c,e,h)};var b=/^touch/;c.selector=function(a,b,d){return function(e,h){function f(b){for(j=j&&j.matches?j:m.query;!j.matches(b,a,e);)if(b==e||!1===d||!(b=b.parentNode)||1!=b.nodeType)return;return b}var j="function"==typeof a?{matches:a}:this,n=b.bubble;return n?c(e,n(f),h):c(e,b,function(a){var b=f(a.target);return b&&h.call(b,a)})}};var a=[].slice,h=c.emit=function(b,c,d){var h=a.call(arguments,2),j="on"+c;if("parentNode"in b){var n=h[0]={},o;for(o in d)n[o]=
d[o];n.preventDefault=f;n.stopPropagation=e;n.target=b;n.type=c;d=n}do b[j]&&b[j].apply(b,h);while(d&&d.bubbles&&(b=b.parentNode));return d&&d.cancelable&&d},q={};if(!k("event-stopimmediatepropagation"))var o=function(){this.modified=this.immediatelyStopped=!0},n=function(a){return function(b){if(!b.immediatelyStopped)return b.stopImmediatePropagation=o,a.apply(this,arguments)}};if(k("dom-addeventlistener"))q={focusin:"focus",focusout:"blur"},c.emit=function(a,b,d){if(a.dispatchEvent&&document.createEvent){var e=
a.ownerDocument.createEvent("HTMLEvents");e.initEvent(b,!!d.bubbles,!!d.cancelable);for(var f in d)f in e||(e[f]=d[f]);return a.dispatchEvent(e)&&e}return h.apply(c,arguments)};else{c._fixEvent=function(a,b){if(!a)a=(b&&(b.ownerDocument||b.document||b).parentWindow||window).event;if(!a)return a;s&&a.type==s.type&&(a=s);if(!a.target){a.target=a.srcElement;a.currentTarget=b||a.srcElement;if("mouseover"==a.type)a.relatedTarget=a.fromElement;if("mouseout"==a.type)a.relatedTarget=a.toElement;if(!a.stopPropagation)a.stopPropagation=
u,a.preventDefault=x;switch(a.type){case "keypress":var c="charCode"in a?a.charCode:a.keyCode;10==c?(c=0,a.keyCode=13):13==c||27==c?c=0:3==c&&(c=99);a.charCode=c;c=a;c.keyChar=c.charCode?String.fromCharCode(c.charCode):"";c.charOrCode=c.keyChar||c.keyCode}}return a};var s,r=function(a){this.handle=a};r.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var t=function(a){return function(b){var b=c._fixEvent(b,this),d=a.call(this,b);b.modified&&(s||setTimeout(function(){s=null}),s=b);
return d}},w=function(a,b,c){c=t(c);if(((a.ownerDocument?a.ownerDocument.parentWindow:a.parentWindow||a.window||window)!=top||5.8>k("jscript"))&&!k("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var d=a[b];if(!d||!d.listeners){var e=d,d=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");d.listeners=[];a[b]=d;d.global=
this;e&&d.listeners.push(_dojoIEListeners_.push(e)-1)}d.listeners.push(a=d.global._dojoIEListeners_.push(c)-1);return new r(a)}return l.after(a,b,c,!0)},u=function(){this.cancelBubble=!0},x=c._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(a){}this.defaultPrevented=!0;this.returnValue=!1}}if(k("touch"))var v=function(){},y=window.orientation,A=function(a){return function(b){var c=b.corrected;if(!c){var d=b.type;try{delete b.type}catch(e){}if(b.type){if(k("mozilla")){var c=
{},h;for(h in b)c[h]=b[h]}else v.prototype=b,c=new v;c.preventDefault=function(){b.preventDefault()};c.stopPropagation=function(){b.stopPropagation()}}else c=b,c.type=d;b.corrected=c;if("resize"==d){if(y==window.orientation)return null;y=window.orientation;c.type="orientationchange";return a.call(this,c)}if(!("rotation"in c))c.rotation=0,c.scale=1;var d=c.changedTouches[0],f;for(f in d)delete c[f],c[f]=d[f]}return a.call(this,c)}};return c})},"deploy/widgets/resourceTemplate/SmartCloudDeploymentSelector":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/_base/lang,dojo/aspect,dojo/dom-construct,dojo/dom-class,dojo/store/JsonRest,dijit/form/Button,js/webext/widgets/Dialog,js/webext/widgets/ColumnForm,js/webext/widgets/RestSelect,js/webext/widgets/select/WebextSelect,deploy/widgets/resourceTemplate/CloudConnectionSelect".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n){return k([m,l],{templateString:'<div class="collectionSelector">  <div data-dojo-attach-point="selectorAttach" class="versionSelectorComponent"></div></div>',postCreate:function(){var a=this;this.inherited(arguments);a.connectionSelector=new n({store:a.connectionStore,searchAttr:"name",labelAttr:"name",noDataMessage:i18n("No resources found."),autoComplete:!1,intermediateChanges:!0,blueprintId:a.blueprintId,onChange:function(b){a.connectionId=b;a.form.hasField("cloudQuotaSpace")&&
a.form.removeField("cloudQuotaSpace");a.addCloudQuotaField(b)}});a.form.addField({name:"connection",label:i18n("Cloud Connection"),required:!0,widget:a.connectionSelector});a.form.addField({name:"_cloudLocationInsertionPoint",type:"Invisible"})},addCloudQuotaField:function(a){var b=this;b.cloudQuotaSpaceField=b.form.addField({name:"cloudQuotaSpace",label:i18n("Choose Location"),type:"Select",readOnly:!1,intermediateChanges:!0,value:"environment_profile",allowedValues:[{label:i18n("Environment Profile"),
value:"environment_profile"},{label:i18n("Cloud Group"),value:"cloud_group"}],onChange:function(c){"cloud_group"===c?b.addCloudGroupField(a):"environment_profile"===c&&b.addCloudEnvironmentProfilesField(a)}},"_cloudLocationInsertionPoint");b.form.hasField("cloud_group")?(b.form.removeField("cloud_group"),b.addCloudGroupField(a),b.cloudQuotaSpaceField.widget.set("value","cloud_group")):b.form.hasField("environment_profile")?(b.form.removeField("environment_profile"),b.cloudQuotaSpaceField.widget.set("value",
"environment_profile")):b.addCloudEnvironmentProfilesField(a)},addCloudGroupField:function(a){var b=this;b.cloudGroup=void 0;if(b.form.hasField("environment_profile"))b.form.removeField("environment_profile"),b.environmentProfile=void 0;b.cloudCloudGroupsStore=new c({target:bootstrap.restUrl+"resource/cloud/connection/"+a+"/cloudGroup",idAttribute:"id"});b.cloudGroupSelector=new o({store:b.cloudCloudGroupsStore,searchAttr:"name",labelAttr:"name",noDataMessage:i18n("No resources found."),autoComplete:!1,
intermediateChanges:!0,onChange:function(a){b.cloudGroup=a}});b.cloudGroupField=b.form.addField({name:"cloud_group",label:i18n("Cloud Group"),required:!0,widget:b.cloudGroupSelector},"_cloudLocationInsertionPoint")},addCloudEnvironmentProfilesField:function(a){var b=this;b.environmentProfile=void 0;if(b.form.hasField("cloud_group"))b.form.removeField("cloud_group"),b.cloudGroup=void 0;b.cloudEnvironmentProfilesStore=new c({target:bootstrap.restUrl+"resource/cloud/connection/"+a+"/environmentProfile",
idAttribute:"id"});b.cloudEnvironmentProfilesSelector=new o({store:b.cloudEnvironmentProfilesStore,searchAttr:"name",labelAttr:"name",noDataMessage:i18n("No resources found."),autoComplete:!1,intermediateChanges:!0,onChange:function(a){b.environmentProfile=a}});b.form.addField({name:"environment_profile",label:i18n("Environment Profile"),type:"Select",readOnly:!1,required:!0,widget:b.cloudEnvironmentProfilesSelector},"_cloudLocationInsertionPoint")}})})},"dojo/window":function(){define("./_base/lang,./sniff,./_base/window,./dom,./dom-geometry,./dom-style,./dom-construct".split(","),
function(l,m,k,j,f,e,d){m.add("rtl-adjust-position-for-verticalScrollBar",function(b,a){var c=k.body(a),e=d.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},c,"last"),j=d.create("div",{style:{overflow:"hidden",direction:"ltr"}},e,"last"),n=0!=f.position(j).x;e.removeChild(j);c.removeChild(e);return n});m.add("position-fixed-support",function(b,a){var c=k.body(a),e=d.create("span",{style:{visibility:"hidden",
position:"fixed",left:"1px",top:"1px"}},c,"last"),j=d.create("span",{style:{position:"fixed",left:"0",top:"0"}},e,"last"),n=f.position(j).x!=f.position(e).x;e.removeChild(j);c.removeChild(e);return n});var c={getBox:function(b){var b=b||k.doc,a="BackCompat"==b.compatMode?k.body(b):b.documentElement,d=f.docScroll(b);if(m("touch"))var e=c.get(b),b=e.innerWidth||a.clientWidth,a=e.innerHeight||a.clientHeight;else b=a.clientWidth,a=a.clientHeight;return{l:d.x,t:d.y,w:b,h:a}},get:function(b){if(m("ie")&&
c!==document.parentWindow){b.parentWindow.execScript("document._parentWindow = window;","Javascript");var a=b._parentWindow;b._parentWindow=null;return a}return b.parentWindow||b.defaultView},scrollIntoView:function(b,a){try{var b=j.byId(b),c=b.ownerDocument||k.doc,d=k.body(c),o=c.documentElement||d.parentNode,n=m("ie"),l=m("webkit");if(!(b==d||b==o))if(!m("mozilla")&&!n&&!l&&!m("opera")&&"scrollIntoView"in b)b.scrollIntoView(!1);else{var r="BackCompat"==c.compatMode,t=Math.min(d.clientWidth||o.clientWidth,
o.clientWidth||d.clientWidth),w=Math.min(d.clientHeight||o.clientHeight,o.clientHeight||d.clientHeight),c=l||r?d:o,u=a||f.position(b),x=b.parentNode,l=function(a){return 6>=n||7==n&&r?!1:m("position-fixed-support")&&"fixed"==e.get(a,"position").toLowerCase()};if(!l(b))for(;x;){x==d&&(x=c);var v=f.position(x),y=l(x),A="rtl"==e.getComputedStyle(x).direction.toLowerCase();if(x==c){v.w=t;v.h=w;c==o&&n&&A&&(v.x+=c.offsetWidth-v.w);if(0>v.x||!n||9<=n)v.x=0;if(0>v.y||!n||9<=n)v.y=0}else{var z=f.getPadBorderExtents(x);
v.w-=z.w;v.h-=z.h;v.x+=z.l;v.y+=z.t;var B=x.clientWidth,D=v.w-B;if(0<B&&0<D)A&&m("rtl-adjust-position-for-verticalScrollBar")&&(v.x+=D),v.w=B;B=x.clientHeight;D=v.h-B;if(0<B&&0<D)v.h=B}if(y){if(0>v.y)v.h+=v.y,v.y=0;if(0>v.x)v.w+=v.x,v.x=0;if(v.y+v.h>w)v.h=w-v.y;if(v.x+v.w>t)v.w=t-v.x}var G=u.x-v.x,C=u.y-v.y,S=G+u.w-v.w,K=C+u.h-v.h,L,M;if(0<S*G&&(x.scrollLeft||x==c||x.scrollWidth>x.offsetHeight)){L=Math[0>G?"max":"min"](G,S);if(A&&(8==n&&!r||9<=n))L=-L;M=x.scrollLeft;x.scrollLeft+=L;L=x.scrollLeft-
M;u.x-=L}if(0<K*C&&(x.scrollTop||x==c||x.scrollHeight>x.offsetHeight))L=Math.ceil(Math[0>C?"max":"min"](C,K)),M=x.scrollTop,x.scrollTop+=L,L=x.scrollTop-M,u.y-=L;x=x!=c&&!y&&x.parentNode}}}catch(I){console.error("scrollIntoView: "+I),b.scrollIntoView(!1)}}};l.setObject("dojo.window",c);return c})},"deploy/widgets/blueprint/ApplicationBlueprintManager":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/dom-construct,deploy/widgets/resourceTemplate/EditResourceTemplate,deploy/widgets/resourceTemplate/ResourceTemplateResourceTree,js/webext/widgets/GenericConfirm,js/webext/widgets/PopDown,js/webext/widgets/TwoPaneListManager".split(","),
function(l,m,k,j,f,e,d,c,b){return m([b],{postCreate:function(){this.inherited(arguments);this.showList()},showList:function(a){var b=this;this.defaultSelectionId=a;k.get({url:bootstrap.restUrl+"deploy/application/"+this.application.id+"/blueprints",handleAs:"json",load:function(a){l.forEach(a,function(a){var c=document.createElement("div");c.style.position="relative";var d=document.createElement("div");d.className="twoPaneEntryLabel";d.innerHTML=a.name.escape();var e=document.createElement("div");
e.className="twoPaneActionIcons";if(b.application.security["Manage Blueprints"]){var f=document.createElement("div");f.className="inlineBlock vAlignMiddle cursorPointer margin2Left iconMinus";f.onclick=function(c){util.cancelBubble(c);b.confirmDelete(a)};e.appendChild(f)}c.appendChild(e);c.appendChild(d);b.addEntry({id:a.id,domNode:c,action:function(){b.selectEntry(a)}})});if(b.application.security["Manage Blueprints"]){var a=document.createElement("div"),c=document.createElement("div");c.className=
"vAlignMiddle inlineBlock iconPlus";a.appendChild(c);c=document.createElement("div");c.innerHTML=i18n("Create Blueprint");c.className="vAlignMiddle inlineBlock margin5Left";a.appendChild(c);b.addEntry({id:null,domNode:a,action:function(){b.selectNewBlueprint()}})}}})},refresh:function(a){if(this.selectedEntry&&this.selectedEntry.id)a=this.selectedEntry.id;this.clearDetail();this.clearList();this.showList(a)},selectEntry:function(a){var b=this,d=document.createElement("div");d.className="containerLabel";
d.style.padding="10px";d.innerHTML=a.name.escape();this.detailAttach.appendChild(d);var o=j.create("div",{style:{marginBottom:"15px"}},this.detailAttach),d=new c({label:i18n("Blueprint Resource Hierarchy"),collapsed:!1});d.placeAt(this.detailAttach);var n=new e({resourceTemplate:a,application:this.application});n.placeAt(d.domAttach);this.registerDetailWidget(n);this.registerDetailWidget(d);d=document.createElement("div");d.className="hr";d.style.marginTop="15px";this.detailAttach.appendChild(d);
var l=new c({label:i18n("Edit")});l.placeAt(this.detailAttach);k.get({url:bootstrap.restUrl+"resource/resourceTemplate/"+a.id,handleAs:"json",load:function(a){void 0!==a.parent&&(j.create("span",{innerHTML:i18n("Resource Template:"),style:{marginLeft:"20px",fontWeight:"bold"}},o),j.create("a",{href:"#resourceTemplate/"+a.parent.id,innerHTML:a.parent.name.escape(),style:{marginLeft:"5px"}},o),a.parent.deleted&&j.create("span",{innerHTML:i18n("(Deleted)"),style:{marginLeft:"5px",fontWeight:"bold",color:"#990000"}},
o));a=new f({resourceTemplate:a,callback:function(a){a&&b.refresh()}});a.placeAt(l.domAttach);b.registerDetailWidget(a)}});this.registerDetailWidget(l)},selectNewBlueprint:function(){var a=this,b=document.createElement("div");b.className="containerLabel";b.style.padding="10px";b.innerHTML=i18n("Create Blueprint");this.detailAttach.appendChild(b);b=new f({application:this.application,callback:function(b){b&&a.refresh(b.id)}});b.placeAt(this.detailAttach);this.registerDetailWidget(b)},confirmDelete:function(a){var b=
this;new d({message:i18n("Are you sure you want to delete blueprint '%s'?",a.name),action:function(){k.del({url:bootstrap.restUrl+"resource/resourceTemplate/"+a.id,handleAs:"json",load:function(){b.refresh()}})}})}})})},"deploy/widgets/workflow/activity/ComponentApprovalTaskActivity":function(){define("dojo/_base/array,dojo/_base/declare,dojo/on,deploy/widgets/workflow/activity/BaseActivity,deploy/widgets/property/PropDefs,js/webext/widgets/RestSelect".split(","),function(l,m,k,j,f,e){return m([j],
{postCreate:function(){this.inherited(arguments);if(appState.environment)this.approvalParent=appState.environment;if(appState.environmentTemplate)this.approvalParent=appState.environmentTemplate;this.baseResolveHttpValuesUrl="rest/approval/approvalProcess/"+this.approvalParent.id+"/"+this.data.name+"/propDefs/resolveHttpValues/";if(!this.initialized)this.data.name=util.randomString(30),this.data.children[0].name=util.randomString(30),this.editProperties();if(!this.data.children[0].roleName)this.data.children[0].roleName=
i18n("Deleted Role")},getLabel:function(){var d=i18n("Component Approval");this.initialized&&(d=this.data.children[0].role?d+("\n"+this.data.children[0].role.name):d+("\n"+i18n("Deleted Role")));return d},editProperties:function(d){var c=this,b=this.data.children[0].role,a=c.createPropertyDialog(),h=c.createPropertyForm({dialog:a,onSubmit:function(e){c.initialized=!0;d&&d();c.data.children[0].commentRequired=e.commentRequired;c.data.children[0].commentPrompt=void 0!==e.commentPrompt?e.commentPrompt:
"";c.data.children[0].roleRestrictionData={};c.data.children[0].roleRestrictionData.contextType="COMPONENT";c.data.children[0].roleRestrictionData.roleRestrictions=[{roleId:e.role}];c.data.children[0].role=b;c.data.children[0].templateName=e.templateName;c.data.children[0].propDefs=e.propDefs;l.forEach(c.data.children[0].propDefs,function(a){a.resolveHttpValuesUrl=c.baseResolveHttpValuesUrl+a.name});a.hide();h.destroy();a.destroy();c.updateLabel()},readOnly:c.readOnly}),j=new e({restUrl:bootstrap.baseUrl+
"security/role",value:this.data.role?this.data.role.id:void 0,onChange:function(a,c){b=c},allowNone:!1});h.addField({name:"role",label:i18n("Role"),required:!0,description:i18n("The role the approving user must have."),widget:j});j=new e({restUrl:bootstrap.restUrl+"notification/notificationEntry/templateNames",getLabel:function(a){return a},getValue:function(a){return a},allowNone:!1,value:c.data.children[0].templateName||"ApprovalCreated",disabled:c.readOnly});h.addField({name:"templateName",label:i18n("Notification Template"),
required:!0,widget:j});j=new f({propDefs:c.data.children[0].propDefs||[],propSheetDef:{resolveHttpValuesUrl:c.baseResolveHttpValuesUrl}});h.addField({widget:j,label:"Properties",name:"propDefs"});h.addField({name:"commentRequired",label:i18n("Require Comment"),type:"Checkbox",required:!1,description:i18n("Is a comment required for this approval request ?"),value:c.data.children[0].commentRequired});h.addField({name:"commentPrompt",label:i18n("Comment Prompt"),type:"Text Area",require:!1,description:i18n("The comment that will be shown in the approval request."),
value:c.data.children[0].commentPrompt});h.placeAt(a.containerNode);a.show()}})})},"deploy/widgets/rightPanel/RightPanelAgentsWithNoResource":function(){define(["dojo/_base/declare","deploy/widgets/rightPanel/RightPanelAgents"],function(l,m){return l("deploy.widgets.resource.RightPanelAgentsWithNoResource",[m],{header:i18n("Agents With No Resource"),subheader:i18n("Drag and drop agents into resources"),url:bootstrap.restUrl+"agent/noResource"})})},"deploy/widgets/workflow/activity/ApplicationApprovalTaskActivity":function(){define("dojo/_base/array,dojo/_base/declare,dojo/on,deploy/widgets/workflow/activity/BaseActivity,deploy/widgets/property/PropDefs,js/webext/widgets/RestSelect".split(","),
function(l,m,k,j,f,e){return m([j],{postCreate:function(){this.inherited(arguments);if(appState.environment)this.approvalParent=appState.environment;if(appState.environmentTemplate)this.approvalParent=appState.environmentTemplate;this.baseResolveHttpValuesUrl="rest/approval/approvalProcess/"+this.approvalParent.id+"/"+this.data.name+"/propDefs/resolveHttpValues/";if(!this.initialized)this.data.name=util.randomString(30),this.editProperties()},getLabel:function(){var d=i18n("Application Approval");
this.initialized&&(d=this.data.role?d+("\n"+this.data.role.name):d+i18n("\nDeleted Role"));return d},editProperties:function(d){var c=this,b=this.data.role,a=c.createPropertyDialog(),h=c.createPropertyForm({dialog:a,onSubmit:function(e){c.initialized=!0;d&&d();c.data.commentRequired=e.commentRequired;c.data.commentPrompt=void 0!==e.commentPrompt?e.commentPrompt:"";c.data.roleRestrictionData={};c.data.roleRestrictionData.contextType="APPLICATION";c.data.roleRestrictionData.roleRestrictions=[{roleId:e.role}];
c.data.role=b;c.data.templateName=e.templateName;c.data.propDefs=e.propDefs;l.forEach(c.data.propDefs,function(a){a.resolveHttpValuesUrl=c.baseResolveHttpValuesUrl+a.name});a.hide();h.destroy();a.destroy();c.updateLabel()},readOnly:c.readOnly}),j=new e({restUrl:bootstrap.baseUrl+"security/role",value:this.data.role?this.data.role.id:void 0,onChange:function(a,c){b=c},allowNone:!1});h.addField({name:"role",label:i18n("Role"),required:!0,description:i18n("The role the approving user must have."),widget:j});
j=new e({restUrl:bootstrap.restUrl+"notification/notificationEntry/templateNames",getLabel:function(a){return a},getValue:function(a){return a},allowNone:!1,value:c.data.templateName||"ApprovalCreated",disabled:c.readOnly});h.addField({name:"templateName",label:i18n("Notification Template"),required:!0,widget:j});j=new f({propDefs:c.data.propDefs||[],propSheetDef:{resolveHttpValuesUrl:c.baseResolveHttpValuesUrl}});h.addField({widget:j,label:"Properties",name:"propDefs"});h.addField({name:"commentRequired",
label:i18n("Require Comment"),type:"Checkbox",required:!1,description:i18n("Is a comment required for this approval request ?"),value:c.data.commentRequired});h.addField({name:"commentPrompt",label:i18n("Comment Prompt"),type:"Text Area",require:!1,description:i18n("The comment that will be shown in the approval request."),value:c.data.commentPrompt});h.placeAt(a.containerNode);a.show()}})})},"deploy/widgets/resource/TransientResourceCompareTree":function(){define("dojo/_base/declare,dojo/dom-class,dojo/dom-construct,dojo/on,js/webext/widgets/Dialog,deploy/widgets/Formatters,deploy/widgets/resource/ResourceCompareTree,deploy/widgets/property/TransientPropSheetDiffReportTable".split(","),
function(l,m,k,j,f,e,d,c){return l([d],{readOnly:!0,leftColumnName:i18n("Local Resources"),rightColumnName:i18n("Discovered Resources"),selectable:!1,postCreate:function(){this.inherited(arguments)},viewPropertiesFormatter:function(b){var a=k.create("a",{className:"linkPointer",innerHTML:i18n("View Properties")});j(a,"click",function(){var a=new f({title:i18n("Compare Properties")});(new c({propSheetDiffReport:b.propertyComparison})).placeAt(a.containerNode);a.show()});return a},differenceFormatter:function(b,
a,c){a=k.create("div");"EQUIVALENT"===b.pathChangeType?k.create("div",{innerHTML:i18n("No Change")},a):"RIGHT_ONLY"===b.pathChangeType?(k.create("div",{innerHTML:i18n("Cell Only")},a),m.add(c,"table-compare-changed")):"LEFT_ONLY"===b.pathChangeType?(k.create("div",{innerHTML:i18n("Local Only")},a),m.add(c,"table-compare-changed")):"PROPERTY_DIFFERENCE"===b.pathChangeType?(k.create("div",{innerHTML:i18n("Properties Changed")},a),m.add(c,"table-compare-changed")):"CHILDREN_CHANGED"===b.pathChangeType&&
(k.create("div",{innerHTML:i18n("Children Changed")},a),m.add(c,"table-compare-children-changed"));return a},rightResourceLinkformatter:function(b,a,c){a="";b.rightResource&&(a=e.resourceNonLinkFormatter(b.rightResource));"LEFT_ONLY"===b.pathChangeType&&m.add(c,"resource-compare-placeholder-cell");return a}})})},"deploy/widgets/resource/ResourceInventory":function(){define(["dijit/_TemplatedMixin","dijit/_Widget","dojo/_base/declare","deploy/widgets/Formatters","js/webext/widgets/Table"],function(l,
m,k,j,f){return k("deploy.widgets.resource.ResourceInventory",[m,l],{templateString:'<div class="resourceInventory"><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var e=[{name:i18n("Component"),formatter:function(d){return j.componentLinkFormatter(d.component)}},{name:i18n("Version"),formatter:function(d){return j.versionLinkFormatter(d.version)}},{name:i18n("Date"),field:"date",formatter:util.tableDateFormatter,orderField:"dateCreated",getRawValue:function(d){return new Date(d.date)}},
{name:i18n("Status"),formatter:function(d,c,b){return j.statusFormatter(d.status,c,b)}},{name:i18n("Actions")}];this.grid=new f({url:bootstrap.restUrl+"inventory/resourceInventory/table",columns:e,baseFilters:[{name:"resourceId",type:"eq",values:[appState.resource.id]},{name:"ghostedDate",className:"Long",type:"eq",values:[0]}],orderField:"dateCreated",sortType:"desc",tableConfigKey:"resourceInventoryList",noDataMessage:i18n("No components have been installed to this resource.")});this.grid.placeAt(this.gridAttach)},
destroy:function(){this.inherited(arguments);this.grid.destroy()}})})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(l,m){return function(k,j,f,e){var d=k&&"function"===typeof k.then,c=d&&k instanceof m;if(d){if(!c)d=new l(k.cancel),k.then(d.resolve,d.reject,d.progress),k=d.promise}else return 1<arguments.length?j?j(k):k:(new l).resolve(k);return j||f||e?k.then(j,f,e):k}})},"deploy/widgets/component/ComponentFileTable":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dojo/_base/declare,dojo/dom-construct,dojo/on,js/webext/widgets/Dialog,js/webext/widgets/table/TreeTable,deploy/widgets/resource/TransientResourceCompareTree,dojo/_base/xhr,deploy/widgets/version/VersionFileCompare".split(","),
function(l,m,k,j,f,e,d,c,b,a,h){return j("deploy.widgets.component.ComponentFileTable",[m,l],{templateString:'<div><div class="containerLabel" data-dojo-attach-point="labelAttach"></div><div class="innerContainer"><div data-dojo-attach-point="gridAttach"></div></div></div>',postCreate:function(){this.inherited(arguments);this.labelAttach.innerHTML="ZOS"===this.component.componentType?i18n("Data Set Difference Report for %s",this.component.name.escape()):i18n("File Difference Report for %s",this.component.name.escape());
var a;a=this.title1?i18n("%s - Version: %s (Last Modified)",this.title1,this.version.name):i18n("Version: %s (Last Modified)",this.version.name);var b;b=this.title2?i18n("%s - Version: %s (Last Modified)",this.title2,this.otherVersion.name):i18n("Version: %s (Last Modified)",this.otherVersion.name);var d=[],d="ZOS"===this.component.componentType?this.createzOSCompareTableLayout(a,b):this.createCompareTableLayout(a,b);a=i18n("No file differences found.");this.component.useVfs?this.component.sourceConfigPlugin&&
"AnthillPro"===this.component.sourceConfigPlugin.name&&(a=i18n("This component does not store its artifacts in CodeStation.")):a=i18n("This component does not store its artifacts in CodeStation.");"ZOS"===this.component.componentType&&(a=i18n("No difference between the two versions."));this.grid=new c({url:bootstrap.restUrl+"deploy/component/"+this.component.id+"/"+this.version.id+"/compareVersions/"+this.otherVersion.id,serverSideProcessing:!1,columns:d,tableConfigKey:"versionFileList",noDataMessage:a,
hidePagination:!1,hideExpandCollapse:!0});this.grid.placeAt(this.gridAttach)},modifiedFormatter:function(a,b,c){var d=i18n("Not deployed");if(0===b||b)d=document.createElement("div",{"class":"downContainer"}),d.innerHTML=0<b?util.tableDateFormatter(a,b):i18n("No Date"),!c.archived&&c.component&&c.component.componentType&&"ZOS"!==c.component.componentType&&(f.create("span",{innerHTML:"  (",style:{whiteSpace:"pre"}},d),b=f.create("a",{"class":"linkPointer",innerHTML:i18n("Download")},d),e(b,"click",
function(){util.downloadFile(bootstrap.restUrl+"deploy/version/"+c.id+"/downloadArtifact/"+util.encodeIgnoringSlash(a.download))}),f.create("span",{innerHTML:")"},d));return d},compFormatter:function(c,j,n){var k=document.createElement("div"),l=f.create("a",{"class":"linkPointer",innerHTML:i18n("Compare")},k);e(l,"click",function(){a.get({url:bootstrap.restUrl+"deploy/version/"+c.id+"/fileCompare/"+j.id+"/"+n,handleAs:"json",load:function(a){if("resource"===a.type){var e=new d({title:i18n("Differences"),
closable:!0,draggable:!1,width:-50});(new b({readOnly:!0,data:a.data})).placeAt(e.containerNode);e.show()}else"file"===a.type&&(new h({data:a.data,title:i18n("File Differences"),version1:"Version "+c.name,version2:"Version "+j.name})).show()}})});return k},createzOSCompareTableLayout:function(a,b){var c=this;return[{name:i18n("Artifact"),field:"name",formatter:function(a,b){var c=b;0<b.indexOf("/")&&(c=b.replace(/\//g,"("),c+=")");return c}},{name:"Artifact Type",field:"artifactType",formatter:function(a,
b){return"["+b+"]"}},{name:a,field:"version1Modified",formatter:function(a,b){return c.modifiedFormatter(a,b,c.version)}},{name:b,field:"version2Modified",formatter:function(a,b){return c.modifiedFormatter(a,b,c.otherVersion)}}]},createCompareTableLayout:function(a,b){var c=this;return[{name:i18n("Path"),field:"name"},{name:a,field:"version1Modified",formatter:function(a,b){return c.modifiedFormatter(a,b,c.version)}},{name:b,field:"version2Modified",formatter:function(a,b){return c.modifiedFormatter(a,
b,c.otherVersion)}},{name:i18n("Actions"),field:"changes",formatter:function(a,b){if(b)return c.compFormatter(c.version,c.otherVersion,b)}}]},destroy:function(){this.inherited(arguments);this.grid.destroy();this.compareDialog&&this.compareDialog.destroy()}})})},"dojox/calendar/StoreMixin":function(){define("dojox/calendar/StoreMixin","dojo/_base/declare,dojo/_base/array,dojo/_base/html,dojo/_base/lang,dojo/dom-class,dojo/Stateful,dojo/when".split(","),function(l,m,k,j,f,e,d){return l("dojox.calendar.StoreMixin",
e,{store:null,query:{},startTimeAttr:"startTime",endTimeAttr:"endTime",summaryAttr:"summary",allDayAttr:"allDay",cssClassFunc:null,decodeDate:null,encodeDate:null,displayedItemsInvalidated:!1,itemToRenderItem:function(c,b){return this.owner?this.owner.itemToRenderItem(c,b):{id:b.getIdentity(c),summary:c[this.summaryAttr],startTime:this.decodeDate&&this.decodeDate(c[this.startTimeAttr])||this.newDate(c[this.startTimeAttr],this.dateClassObj),endTime:this.decodeDate&&this.decodeDate(c[this.endTimeAttr])||
this.newDate(c[this.endTimeAttr],this.dateClassObj),allDay:null!=c[this.allDayAttr]?c[this.allDayAttr]:!1,cssClass:this.cssClassFunc?this.cssClassFunc(c):null}},renderItemToItem:function(c,b){if(this.owner)return this.owner.renderItemToItem(c,b);var a={};a[b.idProperty]=c.id;a[this.summaryAttr]=c.summary;a[this.startTimeAttr]=this.encodeDate&&this.encodeDate(c.startTime)||c.startTime;a[this.endTimeAttr]=this.encodeDate&&this.encodeDate(c.endTime)||c.endTime;return j.mixin(b.get(c.id),a)},_computeVisibleItems:function(c){var b=
c.startTime,a=c.endTime;if(this.items)c.items=m.filter(this.items,function(d){return this.isOverlapping(c,d.startTime,d.endTime,b,a)},this)},_initItems:function(c){this.set("items",c);return c},_refreshItemsRendering:function(){},_updateItems:function(c,b,a){var d=!0,e=null,c=this.itemToRenderItem(c,this.store);-1!=b?a!=b?(this.items.splice(b,1),this.setItemSelected&&this.isItemSelected(c)&&(this.setItemSelected(c,!1),this.dispatchChange(c,this.get("selectedItem"),null,null))):(e=this.items[b],b=
this.dateModule,d=0!=b.compare(c.startTime,e.startTime)||0!=b.compare(c.endTime,e.endTime),j.mixin(e,c)):-1!=a&&this.items.splice(a,0,c);d?this._refreshItemsRendering():this.updateRenderers(e)},_setStoreAttr:function(c){this.displayedItemsInvalidated=!0;var b;if(this._observeHandler)this._observeHandler.remove(),this._observeHandler=null;if(c){b=c.query(this.query);if(b.observe)this._observeHandler=b.observe(j.hitch(this,this._updateItems),!0);b=b.map(j.hitch(this,function(a){return this.itemToRenderItem(a,
c)}));b=d(b,j.hitch(this,this._initItems))}else b=this._initItems([]);this._set("store",c);return b}})})},"dojo/_base/loader":function(){define("./kernel,../has,require,module,./json,./lang,./array".split(","),function(l,m,k,j,f,e,d){var c=function(a){return a.replace(/\./g,"/")},b=/\/\/>>built/,a=[],h=[],q=function(b,c,e){a.push(e);d.forEach(b.split(","),function(a){a=S(a,c.module);h.push(a);K(a)});o()},o=function(){var b,c;for(c in G){b=G[c];if(void 0===b.noReqPluginCheck)b.noReqPluginCheck=/loadInit\!/.test(c)||
/require\!/.test(c)?1:0;if(!b.executed&&!b.noReqPluginCheck&&b.injected==v)return}Q(function(){var b=a;a=[];d.forEach(b,function(a){a(1)})})},n=function(a,b,c){var d=/\(|\)/g,e=1;for(d.lastIndex=b;(b=d.exec(a))&&!(e=")"==b[0]?e-1:e+1,0==e););if(0!=e)throw"unmatched paren around character "+d.lastIndex+" in: "+a;return[l.trim(a.substring(c,d.lastIndex))+";\n",d.lastIndex]},s=/(\/\*([\s\S]*?)\*\/|\/\/(.*)$)/mg,r=/(^|\s)dojo\.(loadInit|require|provide|requireLocalization|requireIf|requireAfterIf|platformRequire)\s*\(/mg,
t=/(^|\s)(require|define)\s*\(/m,w=function(a,b){var c,d,e,h=[],f=[];c=[];for(b=b||a.replace(s,function(a){r.lastIndex=t.lastIndex=0;return r.test(a)||t.test(a)?"":a});c=r.exec(b);)d=r.lastIndex,e=d-c[0].length,d=n(b,d,e),"loadInit"==c[2]?h.push(d[0]):f.push(d[0]),r.lastIndex=d[1];c=h.concat(f);return c.length||!t.test(b)?[a.replace(/(^|\s)dojo\.loadInit\s*\(/g,"\n0 && dojo.loadInit("),c.join(""),c]:0},u=k.initSyncLoader(q,o,function(a,c){var d,e,h=[],f=[];if(b.test(c)||!(d=w(c)))return 0;e=a.mid+
"-*loadInit";for(var j in S("dojo",a).result.scopeMap)h.push(j),f.push('"'+j+'"');return"// xdomain rewrite of "+a.mid+"\ndefine('"+e+"',{\n\tnames:"+l.toJson(h)+",\n\tdef:function("+h.join(",")+"){"+d[1]+"}});\n\ndefine("+l.toJson(h.concat(["dojo/loadInit!"+e]))+", function("+h.join(",")+"){\n"+d[0]+"});"}),x=u.sync,v=u.requested,y=u.arrived,A=u.nonmodule,z=u.executing,B=u.executed,D=u.syncExecStack,G=u.modules,C=u.execQ,S=u.getModule,K=u.injectModule,L=u.setArrived,M=u.signal,I=u.finishExec,J=u.execModule,
U=u.getLegacyMode,Q=u.guardCheckComplete,q=u.dojoRequirePlugin;l.provide=function(a){var b=D[0],d=e.mixin(S(c(a),k.module),{executed:z,result:e.getObject(a,!0)});L(d);if(b)(b.provides||(b.provides=[])).push(function(){d.result=e.getObject(a);delete d.provides;d.executed!==B&&I(d)});return d.result};m.add("config-publishRequireResult",1,0,0);l.require=function(a,b){var d=function(a,b){var d=S(c(a),k.module);if(D.length&&D[0].finish)D[0].finish.push(a);else{if(d.executed)return d.result;b&&(d.result=
A);var e=U();K(d);e=U();d.executed!==B&&d.injected===y&&u.guardCheckComplete(function(){J(d)});if(d.executed)return d.result;e==x?d.cjs?C.unshift(d):D.length&&(D[0].finish=[a]):C.push(d)}}(a,b);m("config-publishRequireResult")&&!e.exists(a)&&void 0!==d&&e.setObject(a,d);return d};l.loadInit=function(a){a()};l.registerModulePath=function(a,b){var c={};c[a.replace(/\./g,"/")]=b;k({paths:c})};l.platformRequire=function(a){for(var a=(a.common||[]).concat(a[l._name]||a["default"]||[]),b;a.length;)e.isArray(b=
a.shift())?l.require.apply(l,b):l.require(b)};l.requireIf=l.requireAfterIf=function(a,b,c){a&&l.require(b,c)};l.requireLocalization=function(a,b,c){k(["../i18n"],function(d){d.getLocalization(a,b,c)})};return{extractLegacyApiApplications:w,require:q,loadInit:function(a,b,d){b([a],function(a){b(a.names,function(){for(var e="",h=[],f=0;f<arguments.length;f++)e+="var "+a.names[f]+"= arguments["+f+"]; ",h.push(arguments[f]);eval(e);var n=b.module,o=[],k,e={provide:function(a){a=c(a);a=S(a,n);a!==n&&L(a)},
require:function(a,b){a=c(a);b&&(S(a,n).result=A);o.push(a)},requireLocalization:function(a,b,d){k||(k=["dojo/i18n"]);d=(d||l.locale).toLowerCase();a=c(a)+"/nls/"+(/root/i.test(d)?"":d+"/")+c(b);S(a,n).isXd&&k.push("dojo/i18n!"+a)},loadInit:function(a){a()}},f={},m;try{for(m in e)f[m]=l[m],l[m]=e[m];a.def.apply(null,h)}catch(r){M("error",[{src:j.id,id:"failedDojoLoadInit"},r])}finally{for(m in e)l[m]=f[m]}k&&(o=o.concat(k));o.length?q(o.join(","),b,d):d()})})}}})},"deploy/widgets/security/team/MemberSelector":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/dom-construct,dojo/dom-class,dojo/on,dojo/query,dojo/mouse,dojo/dnd/Source,deploy/widgets/Popup,js/webext/widgets/DialogMultiSelect,deploy/widgets/security/role/RoleResourceTypeManager".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s){return f([m,l],{templateString:'<div class="team-member-selector"><div class="selector-header-container" data-dojo-attach-point="headerContainerAttach"><div class="selector-header-expand linkPointer inline-block" data-dojo-attach-point="expandAttach"></div><div class="selector-header inline-block" data-dojo-attach-point="headerAttach"></div><div class="selector-button inline-block" data-dojo-attach-point="buttonAttach"></div></div><div class="selector-member-container" data-dojo-attach-point="containerAttach"><div class="selector-users" data-dojo-attach-point="usersAttach"><div class="selector-label inline-block" data-dojo-attach-point="userLabelAttach"></div></div><div class="selector-groups" data-dojo-attach-point="groupsAttach"><div class="selector-label inline-block" data-dojo-attach-point="groupLabelAttach"></div></div></div><div class="selector-permission-container" data-dojo-attach-point="permissionAttach"></div>',
rowClass:"labelsAndValues-row team-role-row",postCreate:function(){this.inherited(arguments);this._loadPermissions();this._initializeData();this.showMembers();this._populateHeader();this._setUpDnd()},_loadPermissions:function(){var a=config.data.permissions;this.canAdd=a["Add Team Members"];this.canEdit=a["Manage Security"];this.canModify=this.canAdd||this.canEdit},_initializeData:function(){this.userIds=[];this.groupIds=[];this.ids={user:{},group:{}};this.usersToRemove=[];this.groupsToRemove=[];
this.boxesToRemove=[];this.permissions={};this.userPopups={};this.groupPopups={};this.edit=!1},_populateHeader:function(){if(this.header)this.headerAttach.innerHTML=this.header.escape();(0<this.userIds.length||0<this.groupIds.length)&&this.canModify&&this._createEdit();this._createPermissions();this.canModify&&this._createDialog();this.popuplateContainerLabels()},popuplateContainerLabels:function(){this.userLabelAttach.innerHTML=i18n("Users");this.groupLabelAttach.innerHTML=i18n("Groups")},_createEdit:function(){var a=
this,e=new k({label:i18n("Edit")}),h=new k({label:i18n("Save")}),f=new k({label:i18n("Cancel")});c.add(e.domNode,"idxButtonCompact");c.add(h.domNode,"idxButtonSpecial idxButtonCompact hidden");c.add(f.domNode,"idxButtonCompact hidden");var n=function(){a.edit=!1;c.add(h.domNode,"hidden");c.add(f.domNode,"hidden");c.remove(a.memberSelect.domNode,"hidden");c.remove(e.domNode,"hidden");c.remove(a.domNode,"team-edit-mode")};b(e,"click",function(){a.edit=!0;c.remove(h.domNode,"hidden");c.remove(f.domNode,
"hidden");c.add(a.memberSelect.domNode,"hidden");c.add(e.domNode,"hidden");c.add(a.domNode,"team-edit-mode")});b(h,"click",function(){n();j.forEach(a.usersToRemove,function(b){util.removeFromArray(a.userIds,b)});j.forEach(a.groupsToRemove,function(b){util.removeFromArray(a.groupIds,b)});a.onChange()});b(f,"click",function(){n();j.forEach(a.boxesToRemove,function(a){c.remove(a,"hidden")})});d.place(e.domNode,this.buttonAttach);d.place(h.domNode,this.buttonAttach);d.place(f.domNode,this.buttonAttach)},
_createPermissions:function(){var a=this,e=d.create("div",{className:"team-expander",value:!0},this.expandAttach);c.add(e,"team-collapsed");c.add(a.permissionAttach,"hide-permissions");var h=function(){c.add(a.permissionAttach,"hide-permissions");c.remove(e,"team-expanded");c.remove(e,"team-collapsed");e.value?(a.permissions[a.role.id]||a._createPermissionsTable(),e.value=!1,c.add(e,"team-expanded"),c.remove(a.permissionAttach,"hide-permissions")):(e.value=!0,c.add(e,"team-collapsed"))};b(this.expandAttach,
"click",function(){h()});b(this.headerContainerAttach,"dblclick",function(){h()})},_createPermissionsTable:function(){var a=new s({role:this.role,header:i18n("Permissions granted to members of role: %s",this.role.name.escape())});d.place(a.domNode,this.permissionAttach);this.permissions[this.role.id]=a;if(this.canEdit){var b=d.create("div",{className:"edit-role-permissions-note"});d.create("div",{className:"inline-block required",innerHTML:"*"},b);d.create("div",{className:"inline-block description-text",
innerHTML:i18n("Editing these permissions affects this role in all teams!")},b);d.place(b,a.detailContainerAttach,"first")}},_createDialog:function(){var a=this;this.memberSelect=new n({noSelectionsLabel:i18n("Add"),url:bootstrap.baseUrl+"security/team/"+a.team.id+"/roleMappings/"+a.role.id+"/validMembers",getLabel:function(a){return a.name},getValue:function(a){return a.type+"#"+a.id}});c.add(this.memberSelect.domNode,"dijitButton idxButtonCompact member-select-button-compact");this.memberSelect.placeAt(a.buttonAttach);
b(this.memberSelect.domNode,h.enter,function(){c.add(a.memberSelect.domNode,"dijitHover dijitButtonHover")});b(this.memberSelect.domNode,h.leave,function(){c.remove(a.memberSelect.domNode,"dijitHover dijitButtonHover")});this.memberSelect.on("close",function(){var b=a.memberSelect.get("items");j.forEach(b,function(b){a.showMember(b,b.type)});a.memberSelect.set("value","");a.onChange()})},_setUpDnd:function(){var a=this;this.dnds=new q(this.domNode,{onDropExternal:function(b,c){var d=b.value,e=!1;
j.forEach(c,function(b){var c=(b=b.value)?b.id:null;"user"===d&&!a.ids.user[c]?(a.showMember(b,d),e=!0):"group"===d&&!a.ids.group[c]&&(a.showMember(b,d),e=!0)});if(d&&e)a.onChange()}})},showMembers:function(){var a=this;j.forEach(a.team.roleMappings,function(b){b.role.id===a.role.id&&(b.user?a.showMember(b.user,"user"):b.group&&a.showMember(b.group,"group"))})},showMember:function(e,f){var n=this,o=!1;"user"===f?-1===this.userIds.indexOf(e.id)&&(o=!0,this.userIds.push(e.id),this.ids.user[e.id]=!0):
-1===this.groupIds.indexOf(e.id)&&(o=!0,this.groupIds.push(e.id),this.ids.group[e.id]=!0);if(o){var o=e.name,k=d.create("div",{"class":"team-member-block inline-block member-box-"+e.id,innerHTML:o.escape()});b(k,h.enter,function(){var d=a(".member-box-"+e.id);j.forEach(d,function(a){c.add(a,"hover")});b(k,h.leave,function(){j.forEach(d,function(a){c.remove(a,"hover")})})});"user"===f?d.place(k,n.usersAttach):(n.groupPopups[e.id]||(n.groupPopups[e.id]=b(k,h.enter,function(){n._createGroupPopup(e.id,
k)})),d.place(k,n.groupsAttach));this.canModify&&(o=d.create("div",{className:"inline-block linkPointer remove-team-member icon_delete_red",title:i18n("Remove %s",o.escape())}),d.place(o,k,"first"),b(o,"click",function(){n.edit?(c.add(k,"hidden"),n.boxesToRemove.push(k),"user"===f?n.usersToRemove.push(e.id):n.groupsToRemove.push(e.id)):(d.destroy(k),"user"===f?util.removeFromArray(n.userIds,e.id):util.removeFromArray(n.groupIds,e.id),n.onChange())}))}},_createGroupPopup:function(a,b){this.groupPopups[a]&&
(e.get({url:bootstrap.baseUrl+"security/group/"+a+"/members",handleAs:"json",load:function(a){var c=d.create("div");d.create("div",{className:"group-popup-title",innerHTML:i18n("Group Members (%s)",a.length)},c);j.forEach(a,function(a){var b=d.create("div",{className:"group-member-line"},c);d.create("div",{className:"team-member-label",innerHTML:a.displayName},b)});(new o({attachPoint:b,contents:c})).externalShow()}}),this.groupPopups[a].remove())},_getValueAttr:function(){return{userIds:this.userIds,
groupIds:this.groupIds}},onChange:function(){this.parentForm&&!this.edit&&this.parentForm.submitForm()}})})},"deploy/widgets/version/ArtifactUploadForm":function(){define(["dijit/_Widget","dojo/_base/declare","dojo/topic","js/webext/widgets/Alert","js/webext/widgets/Dialog"],function(l,m,k,j,f){return m("deploy.widgets.version.ArtifactUploadForm",[l],{postCreate:function(){var e=this,d=new f({title:i18n("Upload Artifacts"),closable:!0,draggable:!0}),c=document.createElement("form");c.target="formTarget";
c.action=bootstrap.tasksUrl+"PluginTasks/loadPlugin";c.method="POST";c.enctype="multipart/form-data";c.encoding="multipart/form-data";var b=document.createElement("input");b.type="file";b.name="file";var a=document.createElement("input");a.type="submit";a.value=i18n("Submit");a.style.display="block";c.appendChild(b);c.appendChild(a);d.containerNode.appendChild(c);c.onsubmit=function(){var a=!0;if(b.value)var c=k.subscribe("formTarget",function(){k.unsubscribe(c);setTimeout(function(){d.hide();d.destroy();
e.grid.refresh()},20)});else new j({message:i18n("Please choose a file to upload.")}),a=!1;return a};d.show()}})})},"deploy/widgets/snapshot/SnapshotStatuses":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/on,deploy/widgets/Formatters,js/webext/widgets/ColumnForm,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/RestSelect,js/webext/widgets/table/TreeTable".split(","),function(l,
m,k,j,f,e,d,c,b,a,h,q,o,n){return j("deploy.widgets.snapshot.SnapshotStatuses",[m,l],{templateString:'<div class="snapshotStatuses"><div class="listTopButtons" data-dojo-attach-point="buttonAttach"></div><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var a=this,c=[{name:i18n("Status"),formatter:b.statusFormatter},{name:i18n("Description"),field:"description"},{name:i18n("Created"),field:"created",formatter:util.tableDateFormatter,orderField:"created",
getRawValue:function(a){return new Date(a.created)}},{name:i18n("By"),field:"user",orderField:"user",getRawValue:function(a){return a.user}},{name:i18n("Actions"),formatter:this.actionsFormatter,parentWidget:this}];this.grid=new n({url:bootstrap.restUrl+"deploy/snapshot/"+this.snapshot.id+"/status",serverSideProcessing:!1,hideExpandCollapse:!0,hidePagination:!1,columns:c,tableConfigKey:"snapshotStatusList",noDataMessage:i18n("No statuses have been assigned to this snapshot.")});this.grid.placeAt(this.gridAttach);
appState.application.extendedSecurity[security.application.manageSnapshots]&&(c=new k({label:i18n("Add a Status"),showTitle:!1,onClick:function(){a.showAddStatus()}}),e.add(c.domNode,"idxButtonSpecial"),c.placeAt(this.buttonAttach))},destroy:function(){this.inherited(arguments);this.grid.destroy()},actionsFormatter:function(a){var b=this.parentWidget,e=document.createElement("div");if(appState.application.extendedSecurity[security.application.manageSnapshots]){var h=d.create("a",{innerHTML:i18n("Remove"),
"class":"actionsLink linkPointer"},e);c(h,"click",function(){b.confirmRemoval(a)})}return e},confirmRemoval:function(a){var b=this;new q({message:i18n("Are you sure you want to remove %s?",a.name.escape()),action:function(){f.del({url:bootstrap.restUrl+"deploy/snapshot/"+b.snapshot.id+"/status/"+util.encodeIgnoringSlash(a.name),load:function(){b.grid.refresh()}})}})},showAddStatus:function(){var c=this,d=new h({title:i18n("Add a Status"),closable:!0,draggable:!0}),e=new a({submitUrl:bootstrap.restUrl,
postSubmit:function(){d.hide();d.destroy();c.grid.refresh()},onCancel:function(){d.hide();d.destroy();c.grid.refresh()}}),f=new o({restUrl:bootstrap.restUrl+"deploy/snapshot/"+c.snapshot.id+"/possibleStatuses",getValue:function(a){return a.name},getStyle:function(a){return b.conditionFormatter(a)},allowNone:!1,onChange:function(a,b){if(b&&b.name)e.submitUrl=bootstrap.restUrl+"deploy/snapshot/"+c.snapshot.id+"/status/"+util.encodeIgnoringSlash(b.name)}});e.addField({name:"status",label:i18n("Status"),
required:!0,widget:f});e.placeAt(d.containerNode);d.show()}})})},"deploy/widgets/report/deploymentCount/DeploymentDurationAverageReportTable":function(){define(["dojo/_base/declare","dojo/dom-construct","deploy/widgets/report/ReportTable"],function(l,m,k){return l("deploy.widgets.report.deploymentCount.DeploymentDurationAverageReportTable",[k],{reportRestUrlBase:null,reportTable:null,reportChart:null,requiredFields:["time_unit"],constructor:function(){this.inherited(arguments);this.reportRestUrlBase=
bootstrap.restUrl+"report/"},reportType:"com.urbancode.ds.subsys.report.domain.deployment_count.DeploymentDurationAverageReport",destroyChart:function(){if(this.reportChart)this.reportChart.destroy(),this.reportChart=null},getReportResultLayout:function(){return[]},createChart:function(j,f,e){var f=[],d=[],c,b,a={},h;b={type:"datetime",allowDecimals:!1,min:0,gridLineColor:"#cfcdcc",gridLineDashStyle:"ShortDash",gridLineWidth:1,labels:{formatter:function(){return util.formatDuration(this.value+1)}},
title:{text:i18n("Duration")}};a.text=i18n("Average Deployment Duration");for(h in j)if(j.hasOwnProperty(h)&&j[h]){var k=j[h],o={};o.name=k[i18n("Environment")];o.type="line";var n=[],l;for(l in k)k.hasOwnProperty(l)&&l!==i18n("Application")&&l!==i18n("Environment")&&(0===parseInt(h,10)&&d.push(l),n.push({name:l,y:Number(k[l])}));o.data=n;f.push(o);c||(c=j[h][i18n("Application")])}5>d.length?(j=null,h=1,4===d.length&&(h=2)):(j=Math.ceil(d.length/5),h=Math.min(2,Math.ceil(d.length/(2*j))));l=m.create("div",
{className:"chart-outer-container"},e);m.create("div",{className:"description-text chart-help-link-container",innerHTML:i18n("Click and drag to select an area to zoom in")},e);e=m.create("div",{className:"highcharts-outer-container"},l);this.reportChart=new Highcharts.Chart({chart:{height:300,renderTo:e,zoomType:"xy"},colors:"#53ABCC,#6ECFC7,#86B347,#F0CC00,#E6944A,#E2515B,#C767AE,#9169BF,#53ABCC,#6ECFC7,#86B347,#F0CC00,#E6944A,#E2515B,#C767AE,#9169BF".split(","),labels:{style:{color:"#8a8989"}},
credits:{enabled:!1},title:{text:c,x:-20},subtitle:a,xAxis:{type:"line",categories:d,minorTickWidth:2,tickmarkPlacement:"on",tickInterval:j,labels:{staggerLines:h,style:{color:"#8a8989"}},dateTimeLabelFormats:{month:"%e. %b",year:"%b"}},yAxis:b,plotOptions:{line:{visible:!0,dashStyle:"solid",connectNulls:!0,shadow:!1,dataLabels:{color:"#0000ff"}}},tooltip:{formatter:function(){var a="<b>";this.points&&this.points[0]&&this.points[0].point&&(a+=this.points[0].point.name);var a=a+"</b>",b=[];dojo.forEach(this.points,
function(a){var c=util.formatDuration(a.y);b.push({deployments:a.y,tooltipText:'<br/><span style="color:'+a.series.color+';">'+a.series.name+"</span>: "+c})});b.sort(function(a,b){return b.deployments-a.deployments});for(var c in b)b.hasOwnProperty(c)&&(a+=b[c].tooltipText);return a},crosshairs:!0,shared:!0},legend:{layout:"vertical",borderWidth:0,lineHeight:34,align:"right",verticalAlign:"top",style:{color:"#ff0000",fontSize:"11px"}},series:f})}})})},"deploy/widgets/resourceRole/RolePicker":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dojo/_base/array,dojo/_base/declare,dojo/dom-class,dojo/dom-construct,js/webext/widgets/RestSelect".split(","),
function(l,m,k,j,f,e,d,c){return f("deploy.widgets.resourceRole.RolePicker",[m,l],{templateString:'<div class="rolePicker"><div data-dojo-attach-point="buttonAttach"></div><div data-dojo-attach-point="listAttach"></div></div>',postCreate:function(){this.inherited(arguments);var b=this;this.value=void 0!==this.roles?this.roles:[];this.listAttach.style.paddingTop="5px";j.forEach(this.value,function(a){b.showRole(a)});this.buttonAttach.style.paddingBottom="7px";(new c({restUrl:bootstrap.restUrl+"resource/resourceRole",
onChange:function(a,c){if(c){var d=!1;j.forEach(this.roles,function(a){a.id===c.id&&(d=!0)});d||(b.value.push(c),b.showRole(c));this.setValue("none")}}})).placeAt(this.buttonAttach);(new k({label:i18n("Remove All"),showTitle:!1,onClick:function(){b.clearAll()}})).placeAt(this.buttonAttach)},clearAll:function(){d.empty(this.listAttach);this.value=[]},showRole:function(b){var a=document.createElement("div");a.innerHTML=b.name.escape();e.add(a,"inlineBlock");a.style.padding="3px";a.style.marginLeft=
"3px";a.style.marginBottom="3px";a.style.backgroundColor=b.color;this.listAttach.appendChild(a)}})})},"dijit/_BidiSupport":function(){define("dijit/_BidiSupport",["./_WidgetBase"],function(l){var m,k,j;l.extend({getTextDir:function(f){return"auto"==this.textDir?this._checkContextual(f):this.textDir},_checkContextual:function(f){return(f=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(f))?"z">=f[0]?"ltr":"rtl":this.dir?this.dir:this.isLeftToRight()?"ltr":"rtl"},applyTextDir:function(f,
e){var d="auto"==this.textDir?this._checkContextual(e):this.textDir;if(f.dir!=d)f.dir=d},enforceTextDirWithUcc:function(f,e){return this.textDir?(f.originalText=e,("ltr"==("auto"==this.textDir?this._checkContextual(e):this.textDir)?m:k)+e+j):e},restoreOriginalText:function(f){if(f.originalText)f.text=f.originalText,delete f.originalText;return f}});m="\u202a";j="\u202c";k="\u202b";return l})},"deploy/widgets/workflow/activity/ResourceInventoryActivity":function(){define(["dojo/_base/declare","dojo/on",
"deploy/widgets/workflow/activity/BaseActivity","js/webext/widgets/RestSelect"],function(l,m,k,j){return l("deploy.widgets.workflow.activity.ResourceInventoryActivity",[k],{postCreate:function(){this.inherited(arguments);if(!this.initialized)this.data.name=util.randomString(30),this.editProperties()},getLabel:function(){var f="";"addResourceInventory"===this.data.type?f=i18n("Add Inventory"):"removeResourceInventory"===this.data.type&&(f=i18n("Remove Inventory"));this.data.status&&(f+="\n"+this.data.status);
return f},editProperties:function(f){var e=this,d=e.createPropertyDialog(),c=e.createPropertyForm({dialog:d,onSubmit:function(a){f&&f();e.initialized=!0;e.data.status=a.status;e.updateLabel();d.hide();c.destroy();d.destroy()},readOnly:e.readOnly}),b="";e.graphEditor.component?b=bootstrap.restUrl+"deploy/status/inventoryStatuses":e.graphEditor.componentTemplate&&(b=bootstrap.restUrl+"deploy/status/inventoryStatuses");b=new j({restUrl:b,getValue:function(a){return a.name},getStyle:function(a){return{backgroundColor:a.color}},
allowNone:!1,value:e.data.status,disabled:e.readOnly});c.addField({name:"status",label:i18n("Status"),required:!0,widget:b});c.placeAt(d.containerNode);d.show()}})})},"dijit/form/_FormValueMixin":function(){define("dijit/form/_FormValueMixin",["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/sniff","./_FormWidgetMixin"],function(l,m,k,j,f){return l("dijit.form._FormValueMixin",f,{readOnly:!1,_setReadOnlyAttr:function(e){m.set(this.focusNode,"readOnly",e);this._set("readOnly",e)},postCreate:function(){this.inherited(arguments);
j("ie")&&this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);if(void 0===this._resetValue)this._lastValueReported=this._resetValue=this.value},_setValueAttr:function(e,d){this._handleOnChange(e,d)},_handleOnChange:function(e,d){this._set("value",e);this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1)},reset:function(){this._hasBeenBlurred=!1;this._setValueAttr(this._resetValue,!0)},_onKeyDown:function(e){if(e.keyCode==k.ESCAPE&&!e.ctrlKey&&!e.altKey&&
!e.metaKey&&(9>j("ie")||j("ie")&&j("quirks"))){e.preventDefault();var d=e.srcElement,c=d.ownerDocument.createEventObject();c.keyCode=k.ESCAPE;c.shiftKey=e.shiftKey;d.fireEvent("onkeypress",c)}}})})},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(l,m,k,j){var f={fieldToObject:function(e){var d=null;if(e=m.byId(e)){var c=e.name,b=(e.type||"").toLowerCase();if(c&&b&&!e.disabled)if("radio"==b||"checkbox"==b){if(e.checked)d=e.value}else if(e.multiple){d=[];for(e=
[e.firstChild];e.length;)for(c=e.pop();c;c=c.nextSibling)if(1==c.nodeType&&"option"==c.tagName.toLowerCase())c.selected&&d.push(c.value);else{c.nextSibling&&e.push(c.nextSibling);c.firstChild&&e.push(c.firstChild);break}}else d=e.value}return d},toObject:function(e){for(var d={},e=m.byId(e).elements,c=0,b=e.length;c<b;++c){var a=e[c],h=a.name,j=(a.type||"").toLowerCase();if(h&&j&&0>"file|submit|image|reset|button".indexOf(j)&&!a.disabled){var o=d,n=h,a=f.fieldToObject(a);if(null!==a){var k=o[n];"string"==
typeof k?o[n]=[k,a]:l.isArray(k)?k.push(a):o[n]=a}if("image"==j)d[h+".x"]=d[h+".y"]=d[h].x=d[h].y=0}}return d},toQuery:function(e){return k.objectToQuery(f.toObject(e))},toJson:function(e,d){return j.stringify(f.toObject(e),null,d?4:0)}};return f})},"dijit/ToolbarSeparator":function(){define("dijit/ToolbarSeparator",["dojo/_base/declare","dojo/dom","./_Widget","./_TemplatedMixin"],function(l,m,k,j){return l("dijit.ToolbarSeparator",[k,j],{templateString:'<div class="dijitToolbarSeparator dijitInline" role="presentation"></div>',
buildRendering:function(){this.inherited(arguments);m.setSelectable(this.domNode,!1)},isFocusable:function(){return!1}})})},"dijit/ProgressBar":function(){require({cache:{"url:dijit/templates/ProgressBar.html":'<div class="dijitProgressBar dijitProgressBarEmpty" role="progressbar"\n\t><div  data-dojo-attach-point="internalProgress" class="dijitProgressBarFull"\n\t\t><div class="dijitProgressBarTile" role="presentation"></div\n\t\t><span style="visibility:hidden">&#160;</span\n\t></div\n\t><div data-dojo-attach-point="labelNode" class="dijitProgressBarLabel" id="${id}_label"></div\n\t><img data-dojo-attach-point="indeterminateHighContrastImage" class="dijitProgressBarIndeterminateHighContrastImage" alt=""\n/></div>\n'}});
define("dijit/ProgressBar","require,dojo/_base/declare,dojo/dom-class,dojo/_base/lang,dojo/number,./_Widget,./_TemplatedMixin,dojo/text!./templates/ProgressBar.html".split(","),function(l,m,k,j,f,e,d,c){return m("dijit.ProgressBar",[e,d],{progress:"0",value:"",maximum:100,places:0,indeterminate:!1,label:"",name:"",templateString:c,_indeterminateHighContrastImagePath:l.toUrl("./themes/a11y/indeterminate_progress.gif"),postMixInProperties:function(){this.inherited(arguments);if(!(this.params&&"value"in
this.params))this.value=this.indeterminate?Infinity:this.progress},buildRendering:function(){this.inherited(arguments);this.indeterminateHighContrastImage.setAttribute("src",this._indeterminateHighContrastImagePath.toString());this.update()},update:function(b){j.mixin(this,b||{});var b=this.internalProgress,a=this.domNode,c=1;this.indeterminate?a.removeAttribute("aria-valuenow"):(-1!=(""+this.progress).indexOf("%")?(c=Math.min(parseFloat(this.progress)/100,1),this.progress=c*this.maximum):(this.progress=
Math.min(this.progress,this.maximum),c=this.maximum?this.progress/this.maximum:0),a.setAttribute("aria-valuenow",this.progress));a.setAttribute("aria-labelledby",this.labelNode.id);a.setAttribute("aria-valuemin",0);a.setAttribute("aria-valuemax",this.maximum);this.labelNode.innerHTML=this.report(c);k.toggle(this.domNode,"dijitProgressBarIndeterminate",this.indeterminate);b.style.width=100*c+"%";this.onChange()},_setValueAttr:function(b){this._set("value",b);Infinity==b?this.update({indeterminate:!0}):
this.update({indeterminate:!1,progress:b})},_setLabelAttr:function(b){this._set("label",b);this.update()},_setIndeterminateAttr:function(b){this.indeterminate=b;this.update()},report:function(b){return this.label?this.label:this.indeterminate?"&#160;":f.format(b,{type:"percent",places:this.places,locale:this.lang})},onChange:function(){}})})},"dojox/string/BidiComplex":function(){define("dojox/string/BidiComplex","dojo/_base/kernel,dojo/_base/lang,dojo/_base/array,dojo/_base/connect,dojo/_base/sniff,dojo/keys".split(","),
function(l,m,k,j,f,e){l.experimental("dojox.string.BidiComplex");var d=m.getObject("string.BidiComplex",!0,dojox),c=[];d.attachInput=function(a,b){a.alt=b;j.connect(a,"onkeydown",this,"_ceKeyDown");j.connect(a,"onkeyup",this,"_ceKeyUp");j.connect(a,"oncut",this,"_ceCutText");j.connect(a,"oncopy",this,"_ceCopyText");a.value=d.createDisplayString(a.value,a.alt)};d.createDisplayString=function(a,b){var a=d.stripSpecialCharacters(a),c=d._parse(a,b),e="\u202a"+a,f=1;k.forEach(c,function(a){if(null!=a){var b=
e.substring(0,a+f),a=e.substring(a+f,e.length);e=b+"\u200e"+a;f++}});return e};d.stripSpecialCharacters=function(a){return a.replace(/[\u200E\u200F\u202A-\u202E]/g,"")};d._ceKeyDown=function(a){c=(f("ie")?a.srcElement:a.target).value};d._ceKeyUp=function(a){var b=f("ie")?a.srcElement:a.target,j=b.value,o=a.keyCode;if(!(o==e.HOME||o==e.END||o==e.SHIFT)){var n,k;if(a=d._getCaretPos(a,b))n=a[0],k=a[1];if(f("ie")){var a=n,l=k;if(o==e.LEFT_ARROW){"\u200e"==j.charAt(k-1)&&n==k&&d._setSelectedRange(b,n-
1,k-1);return}if(o==e.RIGHT_ARROW){"\u200e"==j.charAt(k-1)&&(l=k+1,n==k&&(a=n+1));d._setSelectedRange(b,a,l);return}}else{if(o==e.LEFT_ARROW){"\u200e"==j.charAt(k-1)&&d._setSelectedRange(b,n-1,k-1);return}if(o==e.RIGHT_ARROW){"\u200e"==j.charAt(k-1)&&d._setSelectedRange(b,n+1,k+1);return}}a=d.createDisplayString(j,b.alt);if(j!=a){window.status=j+" c="+k;b.value=a;if(o==e.DELETE&&"\u200e"==a.charAt(k))b.value=a.substring(0,k)+a.substring(k+2,a.length);o==e.DELETE?d._setSelectedRange(b,n,k):o==e.BACKSPACE?
c.length>=k&&"\u200e"==c.charAt(k-1)?d._setSelectedRange(b,n-1,k-1):d._setSelectedRange(b,n,k):"\u200e"!=b.value.charAt(k)&&d._setSelectedRange(b,n+1,k+1)}}};d._processCopy=function(a,b){null==b&&(b=f("ie")?document.selection.createRange().text:a.value.substring(a.selectionStart,a.selectionEnd));var c=d.stripSpecialCharacters(b);f("ie")&&window.clipboardData.setData("Text",c);return!0};d._ceCopyText=function(a){if(f("ie"))a.returnValue=!1;return d._processCopy(a,null,!1)};d._ceCutText=function(a){if(!d._processCopy(a,
null,!1))return!1;if(f("ie"))document.selection.clear();else{var b=a.selectionStart;a.value=a.value.substring(0,b)+a.value.substring(a.selectionEnd);a.setSelectionRange(b,b)}return!0};d._getCaretPos=function(a,b){if(f("ie")){var c=0,d=document.selection.createRange().duplicate(),e=d.duplicate(),j=d.text.length;for("textarea"==b.type?e.moveToElementText(b):e.expand("textedit");0<d.compareEndPoints("StartToStart",e);)d.moveStart("character",-1),++c;return[c,c+j]}return[a.target.selectionStart,a.target.selectionEnd]};
d._setSelectedRange=function(a,b,c){if(f("ie")){var d=a.createTextRange();d&&("textarea"==a.type?d.moveToElementText(a):d.expand("textedit"),d.collapse(),d.moveEnd("character",c),d.moveStart("character",b),d.select())}else a.selectionStart=b,a.selectionEnd=c};var b=function(a,b,c){for(;0<b&&!(b==c);){b--;var d=a.charAt(b);if("0"<=d&&"9">=d||"\u00ff"<d)return!0;d=a.charAt(b);if("A"<=d&&"Z">=d||"a"<=d&&"z">=d)break}return!1};d._parse=function(a,c){var d=-1,e=[],f={FILE_PATH:"/\\:.",URL:"/:.?=&#",XPATH:"/\\:.<>=[]",
EMAIL:"<>@.,;"}[c];switch(c){case "FILE_PATH":case "URL":case "XPATH":k.forEach(a,function(c,h){0<=f.indexOf(c)&&b(a,h,d)&&(d=h,e.push(h))});break;case "EMAIL":k.forEach(a,function(c,h){if('"'==c){b(a,h,d)&&(d=h,e.push(h));h++;var j=a.indexOf('"',h);j>=h&&(h=j);b(a,h,d)&&(d=h,e.push(h))}0<=f.indexOf(c)&&b(a,h,d)&&(d=h,e.push(h))})}return e};return dojox.string.BidiComplex})},"url:dijit/form/templates/DropDownButton.html":'<span class="dijit dijitReset dijitInline"\n\t><span class=\'dijitReset dijitInline dijitButtonNode\'\n\t\tdata-dojo-attach-event="ondijitclick:_onClick" data-dojo-attach-point="_buttonNode"\n\t\t><span class="dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point="focusNode,titleNode,_arrowWrapperNode,_popupStateNode"\n\t\t\trole="button" aria-haspopup="true" aria-labelledby="${id}_label"\n\t\t\t><span class="dijitReset dijitInline dijitIcon"\n\t\t\t\tdata-dojo-attach-point="iconNode"\n\t\t\t></span\n\t\t\t><span class="dijitReset dijitInline dijitButtonText"\n\t\t\t\tdata-dojo-attach-point="containerNode"\n\t\t\t\tid="${id}_label"\n\t\t\t></span\n\t\t\t><span class="dijitReset dijitInline dijitArrowButtonInner"></span\n\t\t\t><span class="dijitReset dijitInline dijitArrowButtonChar">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type="${type}" value="${value}" class="dijitOffScreen" tabIndex="-1"\n\t\tdata-dojo-attach-point="valueNode" role="presentation"\n/></span>\n',
"dijit/Toolbar":function(){define("dijit/Toolbar","require,dojo/_base/declare,dojo/has,dojo/keys,dojo/ready,./_Widget,./_KeyNavContainer,./_TemplatedMixin".split(","),function(l,m,k,j,f,e,d,c){k("dijit-legacy-requires")&&f(0,function(){l(["dijit/ToolbarSeparator"])});return m("dijit.Toolbar",[e,c,d],{templateString:'<div class="dijit" role="toolbar" tabIndex="${tabIndex}" data-dojo-attach-point="containerNode"></div>',baseClass:"dijitToolbar",postCreate:function(){this.inherited(arguments);this.connectKeyNavHandlers(this.isLeftToRight()?
[j.LEFT_ARROW]:[j.RIGHT_ARROW],this.isLeftToRight()?[j.RIGHT_ARROW]:[j.LEFT_ARROW])}})})},"deploy/widgets/resource/ResourceCompareTree":function(){define("dijit/_Widget,dijit/_TemplatedMixin,dijit/form/Button,dijit/form/CheckBox,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/json,dojo/on,js/webext/widgets/Alert,js/webext/widgets/Dialog,js/webext/widgets/table/TreeTable,deploy/widgets/Formatters,deploy/widgets/property/PropSheetDiffReportTable".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r){return e([l,m],{templateString:'<div class="resource-compare-tree with-description-text with-top-buttons"><div data-dojo-attach-point="treeAttach"></div></div>',readOnly:!1,leftColumnName:i18n("Left"),rightColumnName:i18n("Right"),selectable:!0,postCreate:function(){this.inherited(arguments);var a=this;a.onlyChangedBox=new j({checked:!0,value:"true",onChange:function(){a.tree.refresh()}});a.tree=new n({url:a.url,data:a.data,selectable:a.selectable,processData:function(b){if(a.onlyChangedBox.get("value")){var c=
[],d;f.forEach(b,function(b){if("EQUIVALENT"!==b.pathChangeType)d=a.shallowCloneResource(b),d.children=a.cloneChangedChildren(b),c.push(d)});return c}return b},hideExpandCollapse:!1,idAttribute:"path",isSelectable:function(a){return"EQUIVALENT"!==a.pathChangeType&&"CHILDREN_CHANGED"!==a.pathChangeType&&"PROP_DEF_MISMATCH"!==a.pathChangeType},cascadeSelectedState:!0,onSelectItem:function(b){for(var b=a.tree._getRowObjectForItem(b).parent,c=[];b;)b.item&&"LEFT_ONLY"===b.item.pathChangeType&&c.push(b.item),
b=b.parent;a.tree.selectItems(c)},columns:[{name:a.leftColumnName,formatter:function(b,c,d){return a.leftResourceLinkFormatter(b,c,d)}},{name:a.rightColumnName,alwaysShowExpandArrow:!0,formatter:function(b,c,d){return a.rightResourceLinkFormatter(b,c,d)}},{name:i18n("Difference"),formatter:function(b,c,d){return a.differenceFormatter(b,c,d)}},{name:i18n("Actions"),formatter:function(b,c,d){a.onlyChangedBox.get("value")&&a.filterIndifferentProperties(b);return a.viewPropertiesFormatter(b,c,d)}}]});
a.tree.placeAt(a.treeAttach);this.readOnly||this.buildApplyInstructions();var c=b.create("div",{style:{paddingTop:"7px"}},a.tree.buttonAttach);a.onlyChangedBox.placeAt(c);b.create("span",{innerHTML:i18n("Only show changes")},c)},buildApplyInstructions:function(){var e=this;b.create("span",{className:"bold",innerHTML:i18n("To apply changes from the first resource tree to the second:")},e.tree.buttonAttach);b.create("div",{innerHTML:i18n("1: Select changes to apply from the left side to the right side.")},
e.tree.buttonAttach);b.create("div",{innerHTML:i18n("2: Click the Continue button to preview changes, then submit to apply all changes.")},e.tree.buttonAttach);var j=new k({showTitle:!1,label:i18n("Continue")});c.add(j.domNode,"idxButtonSpecial");j.placeAt(e.tree.buttonAttach);h(j,"click",function(){var c=new r({propSheetDiffReport:[]}),h=e.tree.getSelectedItems().sort(function(a,b){return a.path.localeCompare(b.path)}),j=new o({title:i18n("Preview Changes")}),n=b.create("div",{},j.containerNode);
b.create("div",{innerHTML:i18n("The following changes will be applied to %s:",appState.rightResource.path.escape()),style:{paddingBottom:"5px"}},n);f.forEach(h,function(a){var d;if("LEFT_ONLY"===a.pathChangeType)d=a.leftResource.path.substring(appState.leftResource.path.length),b.create("div",{innerHTML:i18n("Create %s",d.escape()),style:{paddingBottom:"3px"}},n);else if("RIGHT_ONLY"===a.pathChangeType)d=a.rightResource.path.substring(appState.rightResource.path.length),b.create("div",{innerHTML:i18n("Delete %s",
d.escape()),style:{paddingBottom:"3px"}},n);else if("PROPERTY_DIFFERENCE"===a.pathChangeType){d=a.rightResource.path.substring(appState.rightResource.path.lastIndexOf("/"));var e=b.create("div",{innerHTML:i18n("Apply properties to %s",d.escape()),style:{paddingBottom:"3px"}},n);f.forEach(a.propertyComparison,function(a){function d(a){b.create("div",{innerHTML:a,style:{paddingLeft:"15px"}},e)}var h=c.getDisplayName(a),f=c.getLeftValue(a);a.different&&(void 0===a.leftPropValue?d(i18n("Remove %s",h.escape())):
void 0===a.rightPropValue?d(i18n("Add %s with value %s",h.escape(),f.escape())):d(i18n("Set %s to %s",h.escape(),f.escape())))})}});var l=new k({label:i18n("Apply Changes")});l.placeAt(j.containerNode);l.on("click",function(){var b=[];f.forEach(h,function(a){if("LEFT_ONLY"===a.pathChangeType){var c=appState.rightResource.path+a.path,c=c.substring(0,c.lastIndexOf("/"));b.push({action:"copy",parentPath:c,sourceId:a.leftResource.id})}else"RIGHT_ONLY"===a.pathChangeType?b.push({action:"delete",id:a.rightResource.id,
path:a.rightResource.path}):"PROPERTY_DIFFERENCE"===a.pathChangeType&&b.push({action:"applyProperties",sourceId:a.leftResource.id,targetId:a.rightResource.id})});j.hide();j.destroy();e.tree.block();d.post({url:bootstrap.restUrl+"resource/resource/applyCompareChanges",postData:a.stringify(b),headers:{"Content-Type":"application/json"},load:function(){j.hide();j.destroy();new q({message:i18n("Resource changes applied successfully.")});e.tree.refresh()},error:function(a){new q({messages:[i18n("Error applying resource changes:"),
"",util.escape(a.responseText)]});e.grid.unblock()}})});j.show()})},filterIndifferentProperties:function(a){var b=[];f.forEach(a.propertyComparison,function(a){a.different&&b.push(a)});a.propertyComparison=b},shallowCloneResource:function(a){return{leftResource:a.leftResource,path:a.path,pathChangeType:a.pathChangeType,propertyComparison:a.propertyComparison,rightResource:a.rightResource}},cloneChangedChildren:function(a){var b=this,c=[];f.forEach(a.children,function(a){if("EQUIVALENT"!==a.pathChangeType){var d=
b.shallowCloneResource(a);d.children=b.cloneChangedChildren(a);c.push(d)}});return c},viewPropertiesFormatter:function(a){var c=b.create("a",{className:"linkPointer",innerHTML:i18n("View Properties")});h(c,"click",function(){var b=new o({title:i18n("Compare Properties")});(new r({propSheetDiffReport:a.propertyComparison})).placeAt(b.containerNode);b.show()});return c},differenceFormatter:function(a,d,e){d=b.create("div");"EQUIVALENT"===a.pathChangeType?b.create("div",{innerHTML:i18n("No Change")},
d):"RIGHT_ONLY"===a.pathChangeType?(b.create("div",{innerHTML:i18n("Deleted")},d),c.add(e,"table-compare-removed")):"LEFT_ONLY"===a.pathChangeType?(b.create("div",{innerHTML:i18n("Added")},d),c.add(e,"table-compare-added")):"PROPERTY_DIFFERENCE"===a.pathChangeType?(b.create("div",{innerHTML:i18n("Properties Changed")},d),c.add(e,"table-compare-changed")):"CHILDREN_CHANGED"===a.pathChangeType?(b.create("div",{innerHTML:i18n("Children Changed")},d),c.add(e,"table-compare-children-changed")):"PROP_DEF_MISMATCH"===
a.pathChangeType&&(b.create("div",{innerHTML:i18n("Property definition type mismatch")},d),c.add(e,"table-compare-error"));return d},rightResourceLinkFormatter:function(a,b,d){b="";a.rightResource&&(b=s.resourceLinkFormatter(a.rightResource));"LEFT_ONLY"===a.pathChangeType&&c.add(d,"resource-compare-placeholder-cell");return b},leftResourceLinkFormatter:function(a,b,d){b="";a.leftResource&&(b=s.resourceLinkFormatter(a.leftResource));"RIGHT_ONLY"===a.pathChangeType&&c.add(d,"resource-compare-placeholder-cell");
return b}})})},"deploy/widgets/workflow/activity/RollbackMultipleComponentsActivity":function(){define(["dojo/_base/declare","deploy/widgets/workflow/activity/MultipleComponentsActivity"],function(l,m){return l("deploy.widgets.workflow.activity.RollbackMultipleComponentsActivity",[m],{statusLabel:i18n("Remove Versions With Status"),getLabel:function(){var k="";if(this.initialized){var j=this.getChildChildData(),f;j&&j.children&&(f=j.children[0]);k+=f.name+"\n"+i18n("Rollback Multiple Components")}else k+=
i18n("Rollback Multiple Components");return k},getSelfChildData:function(k,j){return[{name:util.randomString(30),type:"componentEnvironmentIterator",tagId:k.tagId,runOnlyOnFirst:k.runOnlyOnFirst,children:[{name:util.randomString(30),type:"uninstallVersionDiff",selectionType:k.selectionType,status:k.status,children:[{name:k.name,type:"componentProcess",componentProcessName:k.componentProcessName,allowFailure:k.allowFailure,properties:j}]}]}]},addExtraFields:function(k,j,f){k.addField({name:"selectionType",
label:i18n("Rollback Type"),type:"Select",required:!0,value:f.selectionType,allowedValues:[{label:i18n("Remove Undesired Incremental Versions"),value:"UNDESIRED"},{label:i18n("Replace with Last Deployed"),value:"LAST_DEPLOYED"}]},j)},getStatusLabel:function(){return i18n("Remove Versions With Status")}})})},"deploy/widgets/workflow/activity/UninstallMultipleComponentsActivity":function(){define(["dojo/_base/declare","deploy/widgets/workflow/activity/MultipleComponentsActivity"],function(l,m){return l("deploy.widgets.workflow.activity.UninstallMultipleComponentsActivity",
[m],{statusLabel:i18n("Remove Versions With Status"),getLabel:function(){var k="";if(this.initialized){var j=this.getChildChildData(),f;j&&j.children&&(f=j.children[0]);k+=f.name+"\n"+i18n("Uninstall Multiple Components")}else k+=i18n("Uninstall Multiple Components");return k},getSelfChildData:function(k,j){return[{name:util.randomString(30),type:"componentEnvironmentIterator",tagId:k.tagId,runOnlyOnFirst:k.runOnlyOnFirst,children:[{name:util.randomString(30),type:"uninstallAllVersionsIterator",selectionType:k.selectionType,
status:k.status,children:[{name:k.name,type:"componentProcess",componentProcessName:k.componentProcessName,allowFailure:k.allowFailure,properties:j}]}]}]},addExtraFields:function(k,j,f){k.addField({name:"selectionType",label:i18n("Uninstall Type"),type:"Select",required:!0,value:f.selectionType,allowedValues:[{label:i18n("All Existing"),value:"ALL_EXISTING"},{label:i18n("All Selected For Process"),value:"SELECTED"}]},j)}})})},"deploy/widgets/deploymentPreview/SnapshotConfigurationPreview":function(){define(["dojo/_base/declare",
"dojo/_base/xhr","dojo/json","deploy/widgets/applicationProcessRequest/RequestConfigurationChanges"],function(l,m,k,j){return l([j],{makeRequest:function(){var f=this;m.put({url:bootstrap.restUrl+"deploy/application/"+this.snapshot.application.id+"/previewProcessPropertyChanges",handleAs:"json",putData:k.stringify({applicationProcessId:this.applicationProcess.id,environmentId:this.environment.id,snapshotId:this.snapshot.id}),load:function(e){f.makeTable(e)}})}})})},"js/webext/widgets/DateTime":function(){define("js/webext/widgets/DateTime",
["dojo/_base/declare","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/form/TimeTextBox","dijit/form/DateTextBox"],function(l,m,k,j,f){return l([m,k],{templateString:'<div class="dateTimePicker">    <div dojoAttachPoint="dateAttach"></div>    <div dojoAttachPoint="timeAttach"></div></div>',disabled:!1,postCreate:function(){this.inherited(arguments);this.showWidget()},numberToDate:function(e){var e=Number(e),d;isNaN(e)||(d=new Date(e));return d},coerceToDate:function(e){var d;"number"===typeof e?
d=this.numberToDate(e):"string"===typeof e&&e&&e.trim()&&((d=this.numberToDate(e.trim()))||(d=new Date(e.trim())));if(!(d instanceof Date)||!isFinite(d))d=new Date;return d},showWidget:function(){var e=this;this.date=new f({value:this.coerceToDate(this.value),disabled:this.disabled,datePackage:this.datePackage,onChange:function(){e.onChange(e.get("value"))}},this.dateAttach);this.date.domNode.style.width="110px";this.date.domNode.className+=" date-box-picker";this.time=new j({value:this.coerceToDate(this.value),
disabled:this.disabled,onChange:function(){e.onChange(e.get("value"))}},this.timeAttach);this.time.domNode.className+=" time-box-picker"},onChange:function(){},_getValueAttr:function(){var e=this.date.get("value"),d=this.time.get("value"),c=null;e&&d?c=util.combineDateAndTime(e,d).valueOf():e?c=e.valueOf():d&&(e=new Date,e=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0),c=util.combineDateAndTime(e,d).valueOf());return c},_setValueAttr:function(e){this.value=e;this.date&&this.date.set("value",
new Date(e));this.time&&this.time.set("value",new Date(e))},destroy:function(){this.date.destroy();this.time.destroy();this.inherited(arguments)}})})},"deploy/widgets/wizard/_WizardWatcherMixin":function(){define(["dojo/_base/declare","dojo/topic"],function(l,m){return l(null,{postCreate:function(){this.inherited(arguments);this._wizardWatcherCallbacks=[];this.wizard&&this._watchWizard(this.wizard)},_watchWizard:function(k){if(void 0!==this._watchedWizard)throw"Not implemented: Wizard watchers can currently only watch one wizard.";
this._watchedWizard=k;this._subscribeToWizardTopic("addChild");this._subscribeToWizardTopic("removeChild");this._subscribeToWizardTopic("selectChild")},_subscribeToWizardTopic:function(k){var j=this;m.subscribe(this.wizard.id+"-"+k,function(f){j._wizardWatcherCallbacks.forEach(function(e){e(f)})})},_addWizardChangeHandler:function(k){this._wizardWatcherCallbacks.push(k)}})})},"deploy/widgets/FeatureAlertPopup":function(){define("dojo/_base/declare,dojo/_base/xhr,dijit/_WidgetBase,dojo/on,dojo/mouse,dojo/dom-class,dojo/dom-construct,dijit/popup,dijit/TooltipDialog,dijit/form/Button,js/webext/widgets/Alert".split(","),
function(l,m,k,j,f,e,d,c,b,a,h){return l("deploy.widgets.FeatureAlertPopup",[k],{around:void 0,title:null,message:null,dismissText:null,cancelText:null,name:void 0,alertName:void 0,dismissUrl:void 0,width:"360px",dismissedPrefix:"dismissed_",postCreate:function(){var a=this,b=bootstrap.restUrl+"security/userPreferences";this.alertName="";0!==this.name.indexOf(this.dismissedPrefix)&&(this.alertName+=this.dismissedPrefix);this.alertName+=this.name;if(!this.dismissUrl)this.dismissUrl=b+"/dismissAlert/"+
this.alertName;m.get({url:b,handleAs:"json",load:function(b){!b.suppressAlerts&&!b.dismissedUserAlerts[a.alertName]&&(a.createTooltip(),a.onCreate())}})},createTooltip:function(){this.tooltip&&(this.close(),this.tooltip.destroy());var a=d.create("div",{"class":"popupContent"});d.create("div",{"class":"popupTitle",innerHTML:this.title||""},a);d.create("p",{"class":"popupMessage",innerHTML:this.message||""},a);this.addButtons(d.create("div",{"class":"popupButtons"},a));this.tooltip=new b({content:a,
style:"width:"+this.width})},addButtons:function(b){var c=this;(new a({label:c.cancelText||i18n("Remind Me Later"),onClick:function(){c.onCancel()}})).placeAt(b);this.dismissButton=new a({label:c.dismissText||i18n("Got It!"),onClick:function(){c.onDismiss()}});e.add(this.dismissButton.domNode,"idxButtonSpecial");this.dismissButton.placeAt(b)},onDismiss:function(){m.post({url:this.dismissUrl,headers:{"Content-Type":"application/json"},handleAs:"json",error:function(a){new h({messages:[i18n("Error dismissing feature alert:"),
"",util.escape(a.responseText)]})}});this.close()},onCancel:function(){this.close()},open:function(){this.tooltip&&this.around&&c.open({popup:this.tooltip,around:this.around});this.dismissButton&&this.dismissButton.focus()},close:function(){this.tooltip&&c.close(this.tooltip)},onCreate:function(){this.open()}})})},"deploy/widgets/resource/ResourceEditManager":function(){define("dojo/_base/array,dojo/_base/declare,dojo/on,dojo/dom-construct,js/webext/widgets/TwoPaneListManager,deploy/widgets/resource/EditResource,deploy/widgets/property/PropDefs,deploy/widgets/property/PropValues".split(","),
function(l,m,k,j,f,e,d,c){return m([f],{postCreate:function(){this.inherited(arguments);this.showList()},showList:function(){var b=this;b.addEntry({id:"basic",label:i18n("Basic Settings"),action:function(){b.addHeading(i18n("Basic Settings"));b.showBasicSettings()}});b.addEntry({id:"properties",label:i18n("Resource Properties"),action:function(){b.addHeading(i18n("Resource Properties"));b.showProperties()}})},addHeading:function(b){j.create("div",{innerHTML:b,"class":"containerLabel",style:{padding:"10px"}},
this.detailAttach)},addDescription:function(b){j.create("div",{innerHTML:b,style:{marginBottom:"10px"}},this.detailAttach)},showBasicSettings:function(){(new e({resource:appState.resource,readOnly:!appState.resource.security["Edit Basic Settings"]})).placeAt(this.detailAttach)},showProperties:function(){appState.resource.propSheetDef?(new d({propSheetDef:appState.resource.propSheetDef,readOnly:!appState.resource.security["Manage Properties"],onlyValueChange:!0})).placeAt(this.detailAttach):(new c({propSheet:appState.resource.propSheet,
readOnly:!appState.resource.security["Manage Properties"]})).placeAt(this.detailAttach)}})})},"deploy/widgets/security/authorization/AuthorizationRealmManager":function(){define("dojo/_base/declare,dojo/_base/xhr,dojo/dom-construct,dojo/on,deploy/widgets/security/authorization/AuthorizationRealmList,deploy/widgets/security/authorization/EditAuthorizationRealm,deploy/widgets/security/authorization/GroupList,deploy/widgets/security/authorization/GroupMemberList,js/webext/widgets/GenericConfirm,js/webext/widgets/PopDown,js/webext/widgets/TwoPaneListManager,deploy/widgets/TooltipTitle".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q){return l("deploy.widgets.security.authorization.AuthorizationRealmManager",[h],{postCreate:function(){this.inherited(arguments);var a=this;this.addEntry({label:i18n("Authorization Realms"),action:function(){a.showAuthorizationRealms()}});this.addEntry({label:i18n("Groups"),action:function(){a.showGroups()}})},showAuthorizationRealms:function(){(new q({titleText:i18n("Authorization Realms"),tooltipText:i18n("Authorization realms are used by authentication realms to associate users with groups and to determine user access.")})).placeAt(this.detailAttach);
var a=new f;a.placeAt(this.detailAttach);this.registerDetailWidget(a)},showGroups:function(){var a=this;this.clearDetail();var b=document.createElement("div");b.className="containerLabel";b.style.padding="10px";b.innerHTML=i18n("Groups");this.detailAttach.appendChild(b);b=new d({showGroupMembers:function(b){a.showGroupMembers(b)}});b.placeAt(this.detailAttach);this.registerDetailWidget(b)},showGroupMembers:function(a){var b=this;this.clearDetail();var d=document.createElement("div");d.className="containerLabel";
d.style.padding="10px";var e=k.create("a",{innerHTML:i18n("Groups"),"class":"linkPointer"},d);j(e,"click",function(){b.showGroups()});util.appendTextSpan(d,"&nbsp;/ "+a.name.escape());this.detailAttach.appendChild(d);a=new c({group:a});a.placeAt(this.detailAttach);this.registerDetailWidget(a)},selectEntry:function(b){var c=this,d=document.createElement("div");d.className="containerLabel";d.style.padding="10px";d.innerHTML=b.name.escape();this.detailAttach.appendChild(d);d=document.createElement("div");
d.className="hr";d.style.marginTop="15px";this.detailAttach.appendChild(d);d=new a({label:i18n("Edit")});d.placeAt(this.detailAttach);b=new e({authorizationRealm:b,callback:function(a){a&&c.refresh()}});b.placeAt(d.domAttach);this.registerDetailWidget(b);this.registerDetailWidget(d)},selectNewRealm:function(){var a=this,b=document.createElement("div");b.className="containerLabel";b.style.padding="10px";b.innerHTML=i18n("Create Authorization Realm");this.detailAttach.appendChild(b);b=new e({callback:function(b){b&&
a.refresh()}});b.placeAt(this.detailAttach);this.registerDetailWidget(b)},confirmDelete:function(a){var c=this;new b({message:i18n("Are you sure you want to delete authorization realm %s?",a.name.escape()),action:function(){m.del({url:bootstrap.baseUrl+"security/authorizationRealm/"+a.id,handleAs:"json",load:function(){c.refresh()}})}})}})})},"idx/widget/_MenuOpenOnHoverMixin":function(){define("idx/widget/_MenuOpenOnHoverMixin",["dojo/_base/declare"],function(l){return l("idx.widget._MenuOpenOnHoverMixin",
null,{openOnHover:!0,_isActuallyActive:!1,_setOpenOnHoverAttr:function(l){(this.openOnHover=l)?this._forceActive():this._restoreActive()},_markActive:function(){this.inherited(arguments);this._isActuallyActive=!0},_markInactive:function(){this.openOnHover||this.inherited(arguments);this._isActuallyActive=!1},_forceActive:function(){var l=this._isActuallyActive;this._markActive();this._isActuallyActive=l},_restoreActive:function(){this._isActuallyActive?this._markActive():this._markInactive()}})})},
"dojox/calendar/CalendarBase":function(){define("dojox/calendar/CalendarBase","dojo/_base/declare,dojo/_base/sniff,dojo/_base/event,dojo/_base/lang,dojo/_base/array,dojo/cldr/supplemental,dojo/dom,dojo/dom-class,dojo/dom-style,dojo/dom-construct,dojo/date,dojo/date/locale,dojo/_base/fx,dojo/fx,dojo/on,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,./StoreMixin,dojox/widget/_Invalidating,dojox/widget/Selection,dojox/calendar/time,dojo/i18n!./nls/buttons".split(","),function(l,
m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u,x,v,y,A){return l("dojox.calendar.CalendarBase",[r,t,w,u,x,v],{baseClass:"dojoxCalendar",datePackage:h,startDate:null,endDate:null,date:null,dateInterval:"week",dateIntervalSteps:1,viewContainer:null,firstDayOfWeek:-1,formatItemTimeFunc:null,editable:!0,moveEnabled:!0,resizeEnabled:!0,columnView:null,matrixView:null,columnViewProps:null,matrixViewProps:null,createOnGridClick:!1,createItemFunc:null,_currentViewIndex:-1,views:null,_calendar:"gregorian",constructor:function(a){this.views=
[];this.invalidatingProperties="store,items,startDate,endDate,views,date,dateInterval,dateIntervalSteps,firstDayOfWeek".split(",");a=a||{};this._calendar=a.datePackage?a.datePackage.substr(a.datePackage.lastIndexOf(".")+1):this._calendar;this.dateModule=a.datePackage?j.getObject(a.datePackage,!1):h;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=a.datePackage?j.getObject(a.datePackage+".locale",!1):q;this.invalidateRendering()},destroy:function(a){f.forEach(this._buttonHandles,
function(a){a.remove()});this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);(null==this.views||0==this.views.length)&&this.set("views",this._createDefaultViews())},_applyAttributes:function(){this._applyAttr=!0;this.inherited(arguments);delete this._applyAttr},_setStartDateAttr:function(a){this._set("startDate",a);this._timeRangeInvalidated=!0},_setEndDateAttr:function(a){this._set("endDate",a);this._timeRangeInvalidated=!0},_setDateAttr:function(a){this._set("date",a);
this._timeRangeInvalidated=!0},_setDateIntervalAttr:function(a){this._set("dateInterval",a);this._timeRangeInvalidated=!0},_setDateIntervalStepsAttr:function(a){this._set("dateIntervalSteps",a);this._timeRangeInvalidated=!0},_setFirstDayOfWeekAttr:function(a){this._set("firstDayOfWeek",a);if(null!=this.get("date")&&"week"==this.get("dateInterval"))this._timeRangeInvalidated=!0},_setTextDirAttr:function(a){f.forEach(this.views,function(b){b.set("textDir",a)})},refreshRendering:function(){this.inherited(arguments);
this._validateProperties()},_refreshItemsRendering:function(){this.currentView&&this.currentView._refreshItemsRendering()},_validateProperties:function(){var a=this.dateModule,b=this.get("startDate"),c=this.get("endDate"),d=this.get("date");(-1>this.firstDayOfWeek||6<this.firstDayOfWeek)&&this._set("firstDayOfWeek",0);if(null==d&&(null!=b||null!=c)){if(null==b)b=new this.dateClassObj,this._set("startDate",b),this._timeRangeInvalidated=!0;if(null==c)c=new this.dateClassObj,this._set("endDate",c),this._timeRangeInvalidated=
!0;if(0<=a.compare(b,c))c=a.add(b,"day",1),this._set("endDate",c),this._timeRangeInvalidated=!0}else{if(null==this.date)this._set("date",new this.dateClassObj),this._timeRangeInvalidated=!0;b=this.get("dateInterval");if("day"!=b&&"week"!=b&&"month"!=b)this._set("dateInterval","day"),this._timeRangeInvalidated=!0;b=this.get("dateIntervalSteps");j.isString(b)&&(b=parseInt(b),this._set("dateIntervalSteps",b));if(0>=b)this.set("dateIntervalSteps",1),this._timeRangeInvalidated=!0}if(this._timeRangeInvalidated){this._timeRangeInvalidated=
!1;var e=this.computeTimeInterval();if(null==this._timeInterval||a.compare(this._timeInterval[0],0!=e[0])||a.compare(this._timeInterval[1],0!=e[1]))this.onTimeIntervalChange({oldStartTime:null==this._timeInterval?null:this._timeInterval[0],oldEndTime:null==this._timeInterval?null:this._timeInterval[1],startTime:e[0],endTime:e[1]});this._timeInterval=e;var h=this.dateModule.difference(this._timeInterval[0],this._timeInterval[1],"day"),n=this._computeCurrentView(e[0],e[1],h),o=f.indexOf(this.views,
n);if(!(null==n||-1==o))if(this.animateRange&&(!m("ie")||8<m("ie")))if(this.currentView){var k=this.isLeftToRight(),l="left"==this._animRangeInDir||null==this._animRangeInDir,a="left"==this._animRangeOutDir||null==this._animRangeOutDir;this._animateRange(this.currentView.domNode,a&&k,!1,0,a?-100:100,j.hitch(this,function(){this.animateRangeTimer=setTimeout(j.hitch(this,function(){this._applyViewChange(n,o,e,h);this._animateRange(this.currentView.domNode,l&&k,!0,l?-100:100,0);this._animRangeOutDir=
this._animRangeInDir=null}),100)}))}else this._applyViewChange(n,o,e,h);else this._applyViewChange(n,o,e,h)}},_applyViewChange:function(a,c,d,e){this._configureView(a,c,d,e);if(c!=this._currentViewIndex)null==this.currentView?(a.set("items",this.items),this.set("currentView",a)):null==this.items||0==this.items.length?(this.set("currentView",a),this.animateRange&&(!m("ie")||8<m("ie"))&&b.set(this.currentView.domNode,"opacity",0),a.set("items",this.items)):(this.currentView=a,a.set("items",this.items),
this.set("currentView",a),this.animateRange&&(!m("ie")||8<m("ie"))&&b.set(this.currentView.domNode,"opacity",0))},_timeInterval:null,computeTimeInterval:function(){var a=this.dateModule,b=this.get("date");if(null==b)return[this.floorToDay(this.get("startDate")),a.add(this.get("endDate"),"day",1)];var b=this.floorToDay(b),c=this.get("dateInterval"),d=this.get("dateIntervalSteps"),e;switch(c){case "day":e=a.add(b,"day",d);break;case "week":b=this.floorToWeek(b);e=a.add(b,"week",d);break;case "month":b.setDate(1),
e=a.add(b,"month",d)}return[b,e]},onTimeIntervalChange:function(){},views:null,_setViewsAttr:function(a){if(!this._applyAttr)for(var b=0;b<this.views.length;b++)this._onViewRemoved(this.views[b]);if(null!=a)for(b=0;b<a.length;b++)this._onViewAdded(a[b]);this._set("views",null==a?[]:a.concat())},_getViewsAttr:function(){return this.views.concat()},_createDefaultViews:function(){},addView:function(a,b){if(0>=b||b>this.views.length)b=this.views.length;this.views.splice(b,a);this._onViewAdded(a)},removeView:function(){0>
index||index>=this.views.length||(this._onViewRemoved(this.views[index]),this.views.splice(index,1))},_onViewAdded:function(d){d.owner=this;d.buttonContainer=this.buttonContainer;d._calendar=this._calendar;d.datePackage=this.datePackage;d.dateModule=this.dateModule;d.dateClassObj=this.dateClassObj;d.dateLocaleModule=this.dateLocaleModule;b.set(d.domNode,"display","none");c.add(d.domNode,"view");a.place(d.domNode,this.viewContainer);this.onViewAdded(d)},onViewAdded:function(){},_onViewRemoved:function(a){a.owner=
null;a.buttonContainer=null;c.remove(a.domNode,"view");this.viewContainer.removeChild(a.domNode);this.onViewRemoved(a)},onViewRemoved:function(){},_setCurrentViewAttr:function(a){var b=f.indexOf(this.views,a);if(-1!=b){var c=this.get("currentView");this._currentViewIndex=b;this._set("currentView",a);this._showView(c,a);this.onCurrentViewChange({oldView:c,newView:a})}},_getCurrentViewAttr:function(){return this.views[this._currentViewIndex]},onCurrentViewChange:function(){},_configureView:function(a,
b,c,d){b=this.dateModule;if("columns"==a.viewKind)a.set("startDate",c[0]),a.set("columnCount",d);else if("matrix"==a.viewKind)if(7<d){var e=this.floorToWeek(c[0]),d=this.floorToWeek(c[1]);0!=b.compare(d,c[1])&&(d=this.dateModule.add(d,"week",1));d=this.dateModule.difference(e,d,"day");a.set("startDate",e);a.set("columnCount",7);a.set("rowCount",Math.ceil(d/7));a.set("refStartTime",c[0]);a.set("refEndTime",c[1])}else a.set("startDate",c[0]),a.set("columnCount",d),a.set("rowCount",1),a.set("refStartTime",
null),a.set("refEndTime",null)},_computeCurrentView:function(a,b,c){return 7>=c?this.columnView:this.matrixView},matrixViewRowHeaderClick:function(a){var b=this.matrixView.getExpandedRowIndex();if(b==a.index)this.matrixView.collapseRow();else if(-1==b)this.matrixView.expandRow(a.index);else{var c=this.matrixView.on("expandAnimationEnd",j.hitch(this,function(){c.remove();this.matrixView.expandRow(a.index)}));this.matrixView.collapseRow()}},columnViewColumnHeaderClick:function(a){0==this.dateModule.compare(a.date,
this._timeInterval[0])&&"day"==this.dateInterval&&1==this.dateIntervalSteps?this.set("dateInterval","week"):(this.set("date",a.date),this.set("dateInterval","day"),this.set("dateIntervalSteps",1))},viewChangeDuration:0,_showView:function(a,c){null!=a&&b.set(a.domNode,"display","none");null!=c&&(b.set(c.domNode,"display","block"),c.resize(),(!m("ie")||7<m("ie"))&&b.set(c.domNode,"opacity","1"))},_setItemsAttr:function(a){this._set("items",a);this.currentView&&(this.currentView.set("items",a),this.currentView.invalidateRendering())},
floorToDay:function(a,b){return y.floorToDay(a,b,this.dateClassObj)},floorToWeek:function(a){return y.floorToWeek(a,this.dateClassObj,this.dateModule,this.firstDayOfWeek,this.locale)},newDate:function(a){return y.newDate(a,this.dateClassObj)},isToday:function(a){return y.isToday(a,this.dateClassObj)},isStartOfDay:function(a){return y.isStartOfDay(a,this.dateClassObj,this.dateModule)},floorDate:function(a,b,c,d){return y.floor(a,b,c,d,this.classFuncObj)},animateRange:!0,animationRangeDuration:400,
_animateRange:function(a,c,d,e,h,f){this.animateRangeTimer&&(clearTimeout(this.animateRangeTimer),delete this.animateRangeTimer);c=d?o.fadeIn:o.fadeOut;b.set(a,{left:e+"px",right:-e+"px"});n.combine([o.animateProperty({node:a,properties:{left:h,right:-h},duration:this.animationRangeDuration/2,onEnd:f}),c({node:a,duration:this.animationRangeDuration/2})]).play()},_animRangeOutDir:null,_animRangeOutDir:null,nextRange:function(){this._animRangeOutDir="left";this._animRangeInDir="right";this._navigate(1)},
previousRange:function(){this._animRangeOutDir="right";this._animRangeInDir="left";this._navigate(-1)},_navigate:function(a){var b=this.get("date"),c=this.dateModule;if(null==b){var b=this.get("startDate"),d=this.get("endDate"),e=c.difference(b,d,"day");1==a?(d=c.add(d,"day",1),this.set("startDate",d),this.set("endDate",c.add(d,"day",e))):(b=c.add(b,"day",-1),this.set("startDate",c.add(b,"day",-e)),this.set("endDate",b))}else d=this.get("dateInterval"),e=this.get("dateIntervalSteps"),this.set("date",
c.add(b,d,a*e))},goToday:function(){this.set("date",this.floorToDay(new this.dateClassObj,!0));this.set("dateInterval","day");this.set("dateIntervalSteps",1)},postCreate:function(){this.inherited(arguments);this.configureButtons()},configureButtons:function(){var a=[],b=!this.isLeftToRight();this.previousButton&&(this.previousButton.set("label",A[b?"nextButton":"previousButton"]),a.push(s(this.previousButton,"click",j.hitch(this,b?this.nextRange:this.previousRange))));this.nextButton&&(this.nextButton.set("label",
A[b?"previousButton":"nextButton"]),a.push(s(this.nextButton,"click",j.hitch(this,b?this.previousRange:this.nextRange))));if(b&&this.previousButton&&this.nextButton)b=this.previousButton,this.previousButton=this.nextButton,this.nextButton=b;this.todayButton&&(this.todayButton.set("label",A.todayButton),a.push(s(this.todayButton,"click",j.hitch(this,this.todayButtonClick))));this.dayButton&&(this.dayButton.set("label",A.dayButton),a.push(s(this.dayButton,"click",j.hitch(this,this.dayButtonClick))));
this.weekButton&&(this.weekButton.set("label",A.weekButton),a.push(s(this.weekButton,"click",j.hitch(this,this.weekButtonClick))));this.fourDaysButton&&(this.fourDaysButton.set("label",A.fourDaysButton),a.push(s(this.fourDaysButton,"click",j.hitch(this,this.fourDaysButtonClick))));this.monthButton&&(this.monthButton.set("label",A.monthButton),a.push(s(this.monthButton,"click",j.hitch(this,this.monthButtonClick))));this._buttonHandles=a},todayButtonClick:function(){this.goToday()},dayButtonClick:function(){null==
this.get("date")&&this.set("date",this.floorToDay(new this.dateClassObj,!0));this.set("dateInterval","day");this.set("dateIntervalSteps",1)},weekButtonClick:function(){this.set("dateInterval","week");this.set("dateIntervalSteps",1)},fourDaysButtonClick:function(){this.set("dateInterval","day");this.set("dateIntervalSteps",4)},monthButtonClick:function(){this.set("dateInterval","month");this.set("dateIntervalSteps",1)},updateRenderers:function(a,b){this.currentView&&this.currentView.updateRenderers(a,
b)},getIdentity:function(a){return a?a.id:null},_setHoveredItem:function(a,b){if(this.hoveredItem&&a&&this.hoveredItem.id!=a.id||null==a||null==this.hoveredItem){var c=this.hoveredItem;this.hoveredItem=a;this.updateRenderers([c,this.hoveredItem],!0);a&&b&&this.currentView._updateEditingCapabilities(a,b)}},hoveredItem:null,isItemHovered:function(a){return null!=this.hoveredItem&&this.hoveredItem.id==a.id},isItemEditable:function(){return this.editable},isItemMoveEnabled:function(){return this.isItemEditable()&&
this.moveEnabled},isItemResizeEnabled:function(){return this.isItemEditable()&&this.resizeEnabled},onGridClick:function(){},onGridDoubleClick:function(){},onItemClick:function(){},onItemDoubleClick:function(){},onItemContextMenu:function(){},onItemEditBegin:function(){},onItemEditEnd:function(){},onItemEditBeginGesture:function(){},onItemEditMoveGesture:function(){},onItemEditResizeGesture:function(){},onItemEditEndGesture:function(){},onItemRollOver:function(){},onItemRollOut:function(){},onColumnHeaderClick:function(){},
onRowHeaderClick:function(){},onExpandRendererClick:function(){},onRendererCreated:function(){},onRendererRecycled:function(){},onRendererReused:function(){},onRendererDestroyed:function(){},onRenderersLayoutDone:function(){}})})},"deploy/widgets/property/PropertyTextareaBox":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/_base/lang,dojo/Deferred,dojo/store/util/QueryResults,dojo/store/Memory,deploy/widgets/property/PropertyTextarea".split(","),function(l,m,k,j,f,e,
d,c){var b=k("deploy.widgets.property.PropertyTextareaBox",[m,l],{templateString:'<div class="propBox" data-dojo-attach-point="propBoxAttach"></div>',postCreate:function(){var a=new d({data:[],idProperty:"name"});this.propTextArea=new c({store:a,searchAttr:"name",autoComplete:!1,pageSize:this.pageSize||Infinity,value:this.value||"",cache:this.cache});this.propTextArea.placeAt(this.propBoxAttach)},_getValueAttr:function(){return this.propTextArea.get("value")}});config.data.extraFormDelegates.push({name:"PropertyArea",
delegateFunction:function(a){return new b({pageSize:a.pageSize||Infinity,value:a.value,label:a.label,noneLabel:a.noneLabel,name:a.name,cache:a.cache})}});return b})},"deploy/widgets/applicationProcess/ApplicationProcessInventoryChanges":function(){define(["dijit/_TemplatedMixin","dijit/_Widget","dojo/_base/declare","deploy/widgets/Formatters","js/webext/widgets/table/TreeTable"],function(l,m,k,j,f){return k("deploy.widgets.applicationProcess.ApplicationProcessInventoryChanges",[m,l],{templateString:'<div class="applicationProcessInventoryChanges"><div data-dojo-attach-point="gridAttach"></div></div>',
postCreate:function(){this.inherited(arguments);var e=bootstrap.restUrl+"deploy/applicationProcess/"+this.applicationProcess.id+"/"+this.applicationProcessVersion+"/inventoryChanges",d=[{name:i18n("Component"),formatter:function(c,b,a){return j.componentLinkFormatter(c.component,b,a)}},{name:i18n("Change Type"),formatter:function(c,b,a){a.style.textAlign="center";b=document.createElement("img");b.src="ADD"===c.changeType?bootstrap.webextUrl+"images/webext/icons/icon_plus.gif":bootstrap.webextUrl+
"images/webext/icons/icon_minus.gif";return b}},{name:i18n("Status"),formatter:function(c,b,a){return j.statusFormatter(c.status,b,a)}},{name:i18n("Selection"),formatter:function(c){var b="";"ALL_WITHOUT_STATUS"===c.changeSelection?b=i18n("All Without Status (Install/Upgrade)"):"ALL_WITH_STATUS"===c.changeSelection?b=i18n("All With Status (Complete Uninstall)"):"ALL_SELECTED"===c.changeSelection?b=i18n("All Selected Versions (Manual Install)"):"ALL_SELECTED_WITH_STATUS"===c.changeSelection?b=i18n("All Selected Versions With Status (Manual Uninstall)"):
"ALL_NOT_IN_SNAPSHOT"===c.changeSelection&&(b=i18n("All Not in Snapshot (Rollback)"));return b}},{name:i18n("Resource Role"),formatter:function(c,b,a){return j.resourceRoleFormatter(c.resourceRole,b,a)}}];this.grid=new f({url:e,serverSideProcessing:!1,columns:d,hideExpandCollapse:!0,hidePagination:!1});this.grid.placeAt(this.gridAttach)},destroy:function(){this.inherited(arguments);this.grid.destroy()}})})},"url:dojox/calendar/templates/ColumnViewSecondarySheet.html":'<div data-dojo-attach-events="keydown:_onKeyDown">\n\t<div  data-dojo-attach-point="rowHeader" class="dojoxCalendarRowHeader">\n\t\t<table data-dojo-attach-point="rowHeaderTable" class="dojoxCalendarRowHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t</div>\t\n\t<div data-dojo-attach-point="grid" class="dojoxCalendarGrid">\n\t\t<table data-dojo-attach-point="gridTable" class="dojoxCalendarGridTable" cellpadding="0" cellspacing="0"></table>\n\t</div>\n\t<div data-dojo-attach-point="itemContainer" class="dojoxCalendarContainer" data-dojo-attach-event="mousedown:_onGridMouseDown,mouseup:_onGridMouseUp,ondblclick:_onGridDoubleClick,touchstart:_onGridTouchStart,touchmove:_onGridTouchMove,touchend:_onGridTouchEnd">\n\t\t<table data-dojo-attach-point="itemContainerTable" class="dojoxCalendarContainerTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t</div>\n</div>\n',
"deploy/widgets/report/ReportSidebar":function(){define("dijit/TitlePane,dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojox/widget/TitleGroup,js/webext/widgets/Dialog".split(","),function(l,m,k,j,f,e,d,c,b,a){return f("deploy.widgets.report.ReportSidebar",[k,m],{templateString:'<div><div data-dojo-attach-point="sidebarAttach"></div></div>',sideBarAttach:null,typeSelect:null,typeForm:null,report:null,reload:null,constructor:function(a){if(!a.reportRestUrlBase)this.reportRestUrlBase=
bootstrap.restUrl+"report/";if(!a.reportHashBase)this.reportHashBase="reports/";if(a.report)this.report=a.report},postCreate:function(){this.inherited(arguments);this.renderAccordions()},renderAccordions:function(){var a=this;c.empty(a.sidebarAttach);a.systemContainer=new b({"class":"report-accordion"});a.savedContainer=new b({"class":"report-accordion"});a.callsNeeded=1;a.mine=[];e.get({url:a.reportRestUrlBase+"system",handleAs:"json",load:function(b){a.loadSystemAccordion(b)}});e.get({url:a.reportRestUrlBase+
"mine",handleAs:"json",load:function(b){a.loadSavedAccordion(b,"mine")}});a.systemContainer.placeAt(a.sidebarAttach);a.savedContainer.placeAt(a.sidebarAttach)},buildRendering:function(){this.inherited(arguments)},loadSavedAccordion:function(a,b){var c=this;j.forEach(a,function(a){c[b].push(a.name)});c.callsNeeded--;0===c.callsNeeded&&c._loadSavedAccordion()},_loadSavedAccordion:function(){var a=this,b=c.create("div"),e=!1,f=0;j.forEach(a.mine,function(j){var k="report-link-div",l="inlineBlock report-link";
a.report&&a.report.name===j&&(k="report-link-div-selected",l="report-link-selected",e=!0);var m=a.reportHashBase+util.encodeIgnoringSlash(j),k=c.create("div",{"class":k},b),l=c.create("a",{onclick:function(){a.loadReport(m,j)},innerHTML:j.escape(),"class":l},k);d.add(l,"linkPointer");c.create("a",{onclick:function(){a.deleteSavedReport(j)},"class":"inlineBlock iconMinus"},k);f++});f="&nbsp;("+f+")";a.minePane=new l({title:i18n("My Reports")+f,content:b,style:"height:auto"});a.minePane.placeAt(a.savedContainer);
e||(a.minePane.set("open",!1),a.deploymentPane&&a.securityPane&&!a.deploymentPane.open&&!a.securityPane.open&&a.deploymentPane.set("open",!0))},loadSystemAccordion:function(a){var b=this,e=c.create("div"),f=c.create("div"),k=!1,m=!1;j.forEach(a,function(a){var h="report-link-div",j="report-link";b.report&&b.report.name===a.name&&(h="report-link-div-selected",j="report-link-selected");var l=b.reportHashBase+"system/"+util.encodeIgnoringSlash(a.name),v;-1!==a.name.indexOf("Security")&&("report-link-div-selected"===
h&&(k=!0),v=c.create("div",{"class":h},e),v=c.create("a",{onclick:function(){b.loadReport(l,a.name)},innerHTML:i18n(a.name.escape()),"class":j},v),d.add(v,"linkPointer"));-1!==a.name.indexOf("Deployment")&&("report-link-div-selected"===h&&(m=!0),v=c.create("div",{"class":h},f),v=c.create("a",{onclick:function(){b.loadReport(l,a.name)},innerHTML:i18n(a.name.escape()),"class":j},v),d.add(v,"linkPointer"))});b.securityPane=new l({title:i18n("Security"),content:e,style:"height:auto"});b.deploymentPane=
new l({title:i18n("Deployment"),content:f,style:"height:auto"});b.deploymentPane.placeAt(b.systemContainer);b.securityPane.placeAt(b.systemContainer);m||b.deploymentPane.set("open",!1);k||b.securityPane.set("open",!1)},_getFormForType:function(a){var b;if("com.urbancode.ds.subsys.report.domain.deployment_report.DeploymentReport"===a)b=deploy.widgets.report.deploymentReport.DeploymentReportForm;else if("com.urbancode.ds.subsys.report.domain.deployment_count.DeploymentCountReport"===a)b=deploy.widgets.report.deploymentCount.DeploymentCountReportForm;
else if("com.urbancode.ds.subsys.report.domain.security_report.application.SecurityReportApplication"===a)b=deploy.widgets.report.securityReportApplication.SecurityReportApplicationForm;else if("com.urbancode.ds.subsys.report.domain.security_report.component.SecurityReportComponent"===a)b=deploy.widgets.report.securityReportComponent.SecurityReportComponentForm;else if("com.urbancode.ds.subsys.report.domain.security_report.resource.SecurityReportResource"===a)b=deploy.widgets.report.securityReportResource.SecurityReportResourceForm;
else if("com.urbancode.ds.subsys.report.domain.security_report.environment.SecurityReportEnvironment"===a)b=deploy.widgets.report.securityReportEnvironment.SecurityReportEnvironmentForm;else if("com.urbancode.ds.subsys.report.domain.security_report.user.SecurityReportUser"===a)b=deploy.widgets.report.securityReportUser.SecurityReportUserForm;return b},getReportDisplayWidget:function(a){var b;if("com.urbancode.ds.subsys.report.domain.deployment_report.DeploymentReport"===a)b=deploy.widgets.report.deploymentReport.DeploymentReportTable;
else if("com.urbancode.ds.subsys.report.domain.deployment_count.DeploymentCountReport"===a)b=deploy.widgets.report.deploymentCount.DeploymentCountReportTable;else if("com.urbancode.ds.subsys.report.domain.security_report.application.SecurityReportApplication"===a)b=deploy.widgets.report.securityReportApplication.SecurityReportApplicationTable;else if("com.urbancode.ds.subsys.report.domain.security_report.environment.SecurityReportEnvironment"===a)b=deploy.widgets.report.securityReportEnvironment.SecurityReportEnvironmentTable;
else if("com.urbancode.ds.subsys.report.domain.security_report.resource.SecurityReportResource"===a)b=deploy.widgets.report.securityReportResource.SecurityReportResourceTable;else if("com.urbancode.ds.subsys.report.domain.security_report.component.SecurityReportComponent"===a)b=deploy.widgets.report.securityReportComponent.SecurityReportComponentTable;else if("com.urbancode.ds.subsys.report.domain.security_report.user.SecurityReportUser"===a)b=deploy.widgets.report.securityReportUser.SecurityReportUserTable;
return b},destroy:function(){var a=this.systemContainer;a&&a.destroy();(a=this.minePane)&&a.destroy();(a=this.securityPane)&&a.destroy();(a=this.deploymentPane)&&a.destroy();this.inherited(arguments)},closePane:function(a){a&&a.open&&a.toggle()},deleteSavedReport:function(b){var c=this;e.del({url:c.reportRestUrlBase+b,load:function(){c.renderAccordions()},error:function(b){(new a({title:i18n("An error occured while trying to delete this report"),content:b.message,closable:!0,draggable:!0})).show()}})},
loadReport:function(a,b){navBar.setHash(a);this.report&&this.report.name===b&&this.reload&&this.reload()}})})},"deploy/widgets/security/authentication/AuthTokens":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/on,deploy/widgets/security/authentication/EditAuthToken,js/webext/widgets/Alert,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/table/TreeTable".split(","),function(l,
m,k,j,f,e,d,c,b,a,h,q,o){return j("deploy.widgets.security.authentication.AuthTokens",[m,l],{templateString:'<div class="AuthTokens"><div class="listTopButtons" data-dojo-attach-point="buttonTopAttach"></div><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var a=this,b=bootstrap.baseUrl+"security/authtoken/table",c=[{name:i18n("Token"),field:"token",filterField:"token",filterType:"text",filterClass:"UUID",getRawValue:function(a){return a.token}},
{name:i18n("User"),field:"userName",filterField:"user.name",filterType:"text",getRawValue:function(a){return a.userName}},{name:i18n("Expiration Date"),field:"expiration",filterField:"expiration",filterType:"date",filterClass:"Long",getRawValue:function(a){return new Date(a.expiration)},orderField:"expiration",formatter:a.tableDateFormatter},{name:i18n("Description"),field:"description",filterField:"description",filterType:"text",getRawValue:function(a){return a.description}},{name:i18n("Allowed IPs"),
formatter:function(a){a=a.host||"0.0.0.0/0";-1===a.indexOf("/")&&(a+="/32");return a}},{name:i18n("Actions"),formatter:this.actionsFormatter,parentWidget:this}];this.grid=new o({url:b,serverSideProcessing:!0,hidePagination:!1,tableConfigKey:"authTokenList",noDataMessage:i18n("No authentication tokens found."),columns:c,orderField:"expiration"});this.grid.placeAt(this.gridAttach);b={label:i18n("Create Token"),showTitle:!1,onClick:function(){a.showNewTokenDialog()}};b=new k(b);e.add(b.domNode,"idxButtonSpecial");
b.placeAt(this.buttonTopAttach)},tableDateFormatter:function(a,b){var c=util.tableDateFormatter(a,b);if(null===c||void 0===c)c=i18n("Never");return c},destroy:function(){this.inherited(arguments);this.grid.destroy()},showNewTokenDialog:function(){var a=this,c=new h({title:i18n("Create Token"),closable:!0,draggable:!0});(new b({callback:function(){c.hide();c.destroy();a.grid.refresh()}})).placeAt(c.containerNode);c.show()},actionsFormatter:function(a){var b=this.parentWidget,e=document.createElement("div"),
h=d.create("a",{"class":"actionsLink linkPointer",innerHTML:i18n("Delete")},e);c(h,"click",function(){b.confirmDelete(a)});return e},confirmDelete:function(b){var c=this;new q({message:i18n("Are you sure you want to delete this authorization token? This will permanently delete it from the system."),action:function(){c.grid.block();f.del({url:bootstrap.baseUrl+"security/authtoken/"+b.id,handleAs:"json",load:function(){c.grid.unblock();c.grid.refresh()},error:function(b){new a({messages:[i18n("Error deleting authorization token:"),
"",util.escape(b.responseText)]});c.grid.unblock()}})}})}})})},"dojo/sniff":function(){define(["./has"],function(l){var m=navigator,k=m.userAgent,m=m.appVersion,j=parseFloat(m);l.add("air",0<=k.indexOf("AdobeAIR"));l.add("khtml",0<=m.indexOf("Konqueror")?j:void 0);l.add("webkit",parseFloat(k.split("WebKit/")[1])||void 0);l.add("chrome",parseFloat(k.split("Chrome/")[1])||void 0);l.add("safari",0<=m.indexOf("Safari")&&!l("chrome")?parseFloat(m.split("Version/")[1]):void 0);l.add("mac",0<=m.indexOf("Macintosh"));
l.add("quirks","BackCompat"==document.compatMode);l.add("ios",/iPhone|iPod|iPad/.test(k));l.add("android",parseFloat(k.split("Android ")[1])||void 0);if(!l("webkit")){0<=k.indexOf("Opera")&&l.add("opera",9.8<=j?parseFloat(k.split("Version/")[1])||j:j);0<=k.indexOf("Gecko")&&!l("khtml")&&!l("webkit")&&l.add("mozilla",j);l("mozilla")&&l.add("ff",parseFloat(k.split("Firefox/")[1]||k.split("Minefield/")[1])||void 0);if(document.all&&!l("opera"))k=parseFloat(m.split("MSIE ")[1])||void 0,(m=document.documentMode)&&
5!=m&&Math.floor(k)!=m&&(k=m),l.add("ie",k);l.add("wii","undefined"!=typeof opera&&opera.wiiremote)}return l})},"url:dijit/templates/ProgressBar.html":'<div class="dijitProgressBar dijitProgressBarEmpty" role="progressbar"\n\t><div  data-dojo-attach-point="internalProgress" class="dijitProgressBarFull"\n\t\t><div class="dijitProgressBarTile" role="presentation"></div\n\t\t><span style="visibility:hidden">&#160;</span\n\t></div\n\t><div data-dojo-attach-point="labelNode" class="dijitProgressBarLabel" id="${id}_label"></div\n\t><img data-dojo-attach-point="indeterminateHighContrastImage" class="dijitProgressBarIndeterminateHighContrastImage" alt=""\n/></div>\n',
"deploy/widgets/application/ApplicationList":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Select,dijit/form/Button,dijit/form/CheckBox,dijit/form/TextBox,dojo/_base/declare,dojo/_base/xhr,dojo/_base/array,dojo/dom-class,dojo/dom-geometry,dojo/dom-construct,dojo/on,deploy/widgets/Formatters,deploy/widgets/application/EditApplication,deploy/widgets/application/wizard/ApplicationWizard,deploy/widgets/application/wizard/WizardProgressVisualization,deploy/widgets/tag/Tagger,deploy/widgets/filter/TagFilter,js/webext/widgets/Alert,js/webext/widgets/ColumnForm,js/webext/widgets/Dialog,deploy/widgets/wizard/WizardDialog,js/webext/widgets/GenericConfirm,js/webext/widgets/form/MenuButton,js/webext/widgets/Table,js/util/blocker/BlockingContainer,dojo/store/Memory,js/webext/widgets/table/TreeTable,dojo/data/ObjectStore,deploy/widgets/tag/TagDisplay,dojo/io/iframe".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u,x,v,y,A,z,B,D,G,C,S,K,L,M){return d("deploy.widgets.application.ApplicationList",[m,l],{templateString:'<div class="applicationList"><div data-dojo-attach-point="buttonAttach" style="position:relative; z-index=1;"></div><div data-dojo-attach-point="gridAttach"></div><div data-dojo-attach-point="activeBoxAttach" style="margin: 2px;"></div></div>',_BASIC_VIEW:"deploy/application",_ALL_VIEW:"deploy/application/all",_TAG_VIEW:"deploy/application/all/sort?sort=tag",
_TEAM_VIEW:"deploy/application/all/sort?sort=team",postCreate:function(){this.inherited(arguments);var a=this;this.currentView=a._BASIC_VIEW;a.selectStore=q.create("div");a.viewSelect=new k({options:[{label:i18n("Flat list"),value:a._BASIC_VIEW,selected:!0},{label:i18n("By Tag"),value:a._TAG_VIEW},{label:i18n("By Team"),value:a._TEAM_VIEW}],sortByLabel:!1,style:{display:"inline-block",margin:"0.2em"}});a.viewSelect.on("change",function(){if(a.currentView!==this.value){a.currentView=this.value;a.viewSelect.placeAt(a.selectStore);
q.empty(a.activeBoxAttach);a.grid.destroy();var b=a.currentView!==a._BASIC_VIEW;a.makeTable(a.currentView,a.getColumns(),b)}});this.makeTable(a.currentView,a.getColumns())},makeTable:function(c,d,e){var h=this,j=c===h._BASIC_VIEW;this.grid=new S({url:bootstrap.restUrl+c,serverSideProcessing:c===h._BASIC_VIEW,noDataMessage:i18n("No applications found."),tableConfigKey:"applicationList",orderField:"name",selectorField:"id",hidePagination:!1,hideExpandCollapse:j,selectable:function(a){return!a.isRoot},
columns:d,isSelectable:function(a){return!a.isRoot},hasChildren:function(a){return!!a.isRoot},getChildUrl:function(a){return bootstrap.restUrl+"deploy/application/all/"+a.type+"/"+a.id},queryData:{outputType:["BASIC","SECURITY","LINKED"]}});this.grid.placeAt(this.gridAttach);this.buttonAttach=this.grid.buttonAttach;this.addTopButtons();var n=[];b.forEach(this.getBulkReadOptions(),function(a){n.push(a)});b.forEach(this.getBulkWriteOptions(),function(a){n.push(a)});if(n&&0<n.length){var o=new B({options:n,
label:i18n("Actions...")});o.placeAt(this.buttonAttach);c=function(){var a=h.grid.getSelectedItems().length;0===a?(o.set("label",i18n("Actions...")),o.set("disabled",!0)):(o.set("label",i18n("Actions... (%s)",a)),o.set("disabled",!1))};h.grid.on("selectItem",c);h.grid.on("deselectItem",c);h.grid.on("displayTable",c)}if(config.data.systemConfiguration.enableInactiveLinks&&!e)(new f({checked:!1,value:"true",onChange:function(a){h.grid.url=a?bootstrap.restUrl+h._ALL_VIEW:bootstrap.restUrl+h._BASIC_VIEW;
h.grid.refresh()}})).placeAt(this.activeBoxAttach),e=document.createElement("div"),a.add(e,"inlineBlock"),e.style.position="relative",e.style.top="2px",e.style.left="2px",e.innerHTML=i18n("Show Inactive Applications"),this.activeBoxAttach.appendChild(e);h.viewSelect.placeAt(h.buttonAttach)},getColumns:function(){var a=[];a.push(this.getNameColumn());b.forEach(this.getOtherColumns(),function(b){a.push(b)});return a},getNameColumn:function(){var a=this;return{name:i18n("Name"),formatter:function(b,
c,d){d.style.position="relative";c=q.create("div",{"class":"inlineBlock",style:"margin-"+(h.isBodyLtr()?"right":"left")+":130px;"});d=q.create("div",{"class":"inlineBlock"});q.place(d,c);if(b.isRoot)if(b.color)d=[],d.push(b),(new L({readOnly:!0,tags:d})).placeAt(c);else return b.name;else{var e=n.applicationLinkFormatter(b);q.place(e,d);a.tagger=new w({objectType:"Application",item:b,callback:function(){a.grid.refresh()}});a.tagger.placeAt(c);q.place(a.actionsFormatter(b),c)}return c},orderField:"name",
filterField:"name",filterType:"custom",getRawValue:function(a){return a.name},getFilterFields:function(){var b=[];b.push(new e({name:"name","class":"filter",style:{width:"45%"},placeHolder:"basic"===a.currentView?i18n("Application Name"):i18n("Name"),type:"like"}));"basic"===a.currentView&&b.push(new u({name:"tags","class":"filter",style:{width:"45%"},placeHolder:i18n("Tags"),type:"eq"}));return b}}},getOtherColumns:function(){return[{name:i18n("Template"),field:"template",formatter:function(a){var b=
"";if(a.template)b=a.template.name;return b}},{name:i18n("Description"),field:"description",orderField:"description",filterField:"description",filterType:"text",getRawValue:function(a){return a.description}},{name:i18n("Created"),field:"created",formatter:util.tableDateFormatter,orderField:"dateCreated",getRawValue:function(a){return new Date(a.created)}},{name:i18n("By"),field:"user",orderField:"user.name",filterField:"user.name",filterType:"text",getRawValue:function(a){return a.user}}]},addTopButtons:function(){var b=
this,c=config.data.permissions[security.system.createApplications],d=config.data.permissions[security.system.createApplicationsFromTemplate];if(c||d)d={label:i18n("Create Application"),showTitle:!1,onClick:function(){b.showNewApplicationDialog()}},d=(new j(d)).placeAt(this.buttonAttach),a.add(d.domNode,"idxButtonSpecial");c&&(c={label:i18n("Import Applications"),showTitle:!1,onClick:function(){b.showImportApplicationDialog()}},(new j(c)).placeAt(this.buttonAttach))},getBulkWriteOptions:function(){var a=
this;return[{label:i18n("Add Tag"),onClick:function(){var b=a._getSelected();a.tagger.showAddTagDialog(b)}},{label:i18n("Remove Tag"),onClick:function(){var b=a._getSelected();a.tagger.showRemoveTagDialog(b)}},{label:i18n("Delete"),onClick:function(){var b=a._getSelected();a.confirmDeletes(b)}}]},getBulkReadOptions:function(){var a=this;return[{label:i18n("Export"),onClick:function(){b.some(a.grid.getSelectedItems(),function(a){return!!a.templateId});var c=a._getSelected();a.multipleExports(c)}}]},
_getSelected:function(){return b.map(this.grid.getSelectedItems(),function(a){return a.id})},addEditActions:function(a,b){var c=this;(new j({showTitle:!1,iconClass:"editIcon",title:i18n("Edit"),onClick:function(){c.editApplication(a)}})).placeAt(b)},getRowWriteActions:function(a){var b=this;return[{label:i18n("Delete"),onClick:function(){b.confirmDelete(a)}}]},getRowReadActions:function(a){var b=this;return[{label:i18n("Export"),onClick:function(){util.downloadFile(bootstrap.restUrl+"deploy/application/"+
a.id+"/export")}},{label:i18n("Export With Snapshots"),onClick:function(){b.exportWithSnapshots(a)}}]},actionsFormatter:function(a){var c=q.create("div",{dir:util.getUIDir(),align:util.getUIDirAlign(),"class":"tableHoverActions"}),d=[];a.security.read&&b.forEach(this.getRowReadActions(a),function(a){d.push(a)});a.security["Edit Basic Settings"]&&(this.addEditActions(a,c),b.forEach(this.getRowWriteActions(a),function(a){d.push(a)}));d.length&&(new B({options:d,label:i18n("Actions...")})).placeAt(c);
return c},multipleExports:function(a){a.length&&(a="?ids="+a.join(),util.downloadFile(bootstrap.restUrl+"deploy/application/export"+a))},confirmDeletes:function(a,b){var d=this;a.length?new z({message:i18n("Are you sure you want to delete %s applications?",a.length),action:function(){c.del({url:bootstrap.restUrl+"deploy/application/delete",headers:{"Content-Type":"application/json"},putData:JSON.stringify({applicationIds:a}),load:function(){b&&b();d.grid.refresh()},error:function(a){(new y({title:i18n("Error deleting application"),
content:util.escape(a.responseText),closable:!0,draggable:!0})).show();d.grid.unblock()}})}}):(new x({message:i18n("Please select at least one application to delete")})).startup()},editApplication:function(a){var b=this;c.get({url:bootstrap.restUrl+"deploy/application/"+a.id,handleAs:"json",load:function(a){var c=new y({title:i18n("Edit Application"),closable:!0,draggable:!0});(new s({application:a,readOnly:!a.security["Edit Basic Settings"],noRedirect:!0,callback:function(){c.hide();c.destroy();
b.grid.refresh()}})).placeAt(c);c.show()},error:function(){}})},confirmDelete:function(a){var b=this;new z({message:i18n("Are you sure you want to delete %s? This will permanently delete it from the system.",a.name),action:function(){b.grid.block();c.del({url:bootstrap.restUrl+"deploy/application/"+a.id,handleAs:"json",load:function(){b.grid.unblock();b.grid.refresh()},error:function(a){(new y({title:i18n("Error deleting application"),content:util.escape(a.responseText),closable:!0,draggable:!0})).show();
b.grid.unblock()}})}})},exportWithSnapshots:function(a){var b=new G,c=new y({title:i18n("Select Snapshots"),closable:!0,draggable:!0});b.placeAt(c.containerNode);var d=new v({onSubmit:function(c){b.block();var d=bootstrap.restUrl+"deploy/application/"+a.id+"/exportWithArtifacts";c.snapshotIds&&(d+="?snapshotIds="+c.snapshotIds);util.downloadFile(d);this.callback()},postSubmit:function(){void 0!==this.callback&&this.callback()},onCancel:function(){void 0!==this.callback&&this.callback()},callback:function(){b.unblock();
c.hide();c.destroy()}}),e=q.create("p",{innerHTML:i18n("Select snapshots to export with the application.%sOnce submitted, the download may take a few moments to begin.","<br/>"),style:{"margin-left":"10px"}});q.place(e,b.containerNode);d.addField({name:"snapshotIds",label:i18n("Include Snapshots"),required:!0,type:"TableFilterMultiSelect",url:bootstrap.restUrl+"deploy/application/"+a.id+"/snapshots/false"});d.placeAt(b);c.show()},destroy:function(){this.inherited(arguments);this.grid.destroy()},showImportApplicationDialog:function(){var a=
this,b=new G,c=new y({title:i18n("Import Applications"),closable:!0,draggable:!0});b.placeAt(c.containerNode);a.importIsUpgrade=!1;a.includesArtifacts=!1;a.appTemplateUpgradeType="USE_EXISTING_IF_EXISTS";a.importComponentUpgradeType="USE_EXISTING_IF_EXISTS";a.processUpgradeType="USE_EXISTING_IF_EXISTS";a.resourceTemplateUpgradeType="USE_EXISTING_IF_EXISTS";var d=q.create("form",{target:"formTarget",method:"Post",enctype:"multipart/form-data",encoding:"multipart/form-data"}),e=q.create("div",{className:"filInputContainer"}),
h=q.create("input",{type:"file",name:"file",className:"fileInput"});q.place(h,e);var n=q.create("div",{className:"labelsAndValues-row"}),o=q.create("div",{className:"labelsAndValues-valueCell inlineBlock"}),l=q.create("label",{"for":"upgradeApplication",className:"labelsAndValues-labelCell inlineBlock",innerHTML:i18n("Upgrade Application")});(new f({name:"upgradeApplication",checked:!1,onChange:function(){a.importIsUpgrade=this.get("checked");a.setFormAction(d)}})).placeAt(o);n.appendChild(l);n.appendChild(o);
var o=q.create("div",{className:"labelsAndValues-row"}),l=q.create("div",{className:"labelsAndValues-valueCell inlineBlock"}),m=q.create("label",{"for":"includesArtifacts",className:"labelsAndValues-labelCell inlineBlock",innerHTML:i18n("Import with Snapshots")});(new f({name:"includesArtifacts",checked:!1,onChange:function(){a.includesArtifacts=this.get("checked");a.setFormAction(d)}})).placeAt(l);o.appendChild(m);o.appendChild(l);var l=q.create("div",{className:"labelsAndValues-row"}),m=q.create("div",
{className:"labelsAndValues-valueCell inlineBlock"}),r=q.create("div",{className:"labelsAndValues-labelCell inlineBlock",innerHTML:i18n("Application Template Upgrade Type")});(new k({name:"templateUpgradeTypeInput",options:[{label:i18n("Use Existing Template"),value:"USE_EXISTING_IF_EXISTS"},{label:i18n("Create Template"),value:"CREATE_NEW_IF_EXISTS"},{label:i18n("Fail If Template Exists"),value:"FAIL_IF_EXISTS"},{label:i18n("Fail If Template Does Not Exist"),value:"FAIL_IF_DOESNT_EXIST"},{label:i18n("Upgrade Template If Exists"),
value:"UPGRADE_IF_EXISTS"}],onChange:function(){a.appTemplateUpgradeType=this.get("value");a.setFormAction(d)}})).placeAt(m);l.appendChild(r);l.appendChild(m);var m=q.create("div",{className:"labelsAndValues-row"}),r=q.create("div",{className:"labelsAndValues-valueCell inlineBlock"}),v=q.create("div",{className:"labelsAndValues-labelCell inlineBlock",innerHTML:i18n("Component Upgrade Type")});(new k({name:"componentUpgradeTypeInput",options:[{label:i18n("Use Existing Component"),value:"USE_EXISTING_IF_EXISTS"},
{label:i18n("Create Component"),value:"CREATE_NEW_IF_EXISTS"},{label:i18n("Fail If Component Exists"),value:"FAIL_IF_EXISTS"},{label:i18n("Fail If Component Does Not Exist"),value:"FAIL_IF_DOESNT_EXIST"},{label:i18n("Upgrade Component If Exists"),value:"UPGRADE_IF_EXISTS"}],onChange:function(){a.importComponentUpgradeType=this.get("value");a.setFormAction(d)}})).placeAt(r);m.appendChild(v);m.appendChild(r);var r=q.create("div",{className:"labelsAndValues-row"}),v=q.create("div",{className:"labelsAndValues-valueCell inlineBlock"}),
s=q.create("div",{className:"labelsAndValues-labelCell inlineBlock",innerHTML:i18n("Generic Process Upgrade Type")});(new k({name:"processUpgradeTypeInput",options:[{label:i18n("Use Existing Process"),value:"USE_EXISTING_IF_EXISTS"},{label:i18n("Create Process"),value:"CREATE_NEW_IF_EXISTS"},{label:i18n("Fail If Process Exists"),value:"FAIL_IF_EXISTS"},{label:i18n("Fail If Process Does Not Exist"),value:"FAIL_IF_DOESNT_EXIST"},{label:i18n("Upgrade Process If Exists"),value:"UPGRADE_IF_EXISTS"}],onChange:function(){a.processUpgradeType=
this.get("value");a.setFormAction(d)}})).placeAt(v);r.appendChild(s);r.appendChild(v);var v=q.create("div",{className:"labelsAndValues-row"}),s=q.create("div",{className:"labelsAndValues-valueCell inlineBlock"}),A=q.create("div",{className:"labelsAndValues-labelCell inlineBlock",innerHTML:i18n("Resource Template Upgrade Type")});(new k({name:"resourceTemplateUpgradeTypeInput",options:[{label:i18n("Use Existing Resource Template"),value:"USE_EXISTING_IF_EXISTS"},{label:i18n("Create Resource Template"),
value:"CREATE_NEW_IF_EXISTS"},{label:i18n("Fail If Resource Template Exists"),value:"FAIL_IF_EXISTS"},{label:i18n("Fail If Resource Template Does Not Exist"),value:"FAIL_IF_DOESNT_EXIST"},{label:i18n("Upgrade Resource Template If Exists"),value:"UPGRADE_IF_EXISTS"}],onChange:function(){a.resourceTemplateUpgradeType=this.get("value");a.setFormAction(d)}})).placeAt(s);v.appendChild(A);v.appendChild(s);s=q.create("div",{style:"display:block; margin-top:10px;"});(new j({label:i18n("Submit"),type:"submit"})).placeAt(s);
d.appendChild(o);d.appendChild(n);d.appendChild(l);d.appendChild(m);d.appendChild(r);d.appendChild(v);d.appendChild(e);d.appendChild(s);b.containerNode.appendChild(d);d.onsubmit=function(){var e=!0;h.value?(b.block(),a.setFormAction(d),M.send({form:d,handleAs:"json",load:function(d){b.unblock();"ok"===d.status?(c.hide(),c.destroy(),a.grid.refresh()):(new x({message:i18n("Error importing application: %s",util.escape(d.error||""))})).startup()},error:function(a){b.unblock();(new x({message:i18n("Error importing application: %s",
util.escape(a.error||""))})).startup()}})):(new x({message:i18n("Please choose a template json file to import.")}),e=!1);return e};c.show()},setFormAction:function(a){var b=util.getCookie(bootstrap.expectedSessionCookieName);a.action=bootstrap.restUrl+"deploy/application/"+(!0===this.importIsUpgrade?"upgrade":"import")+(!0===this.includesArtifacts?"WithArtifacts":"")+"?upgradeType="+this.importComponentUpgradeType+"&compTempUpgradeType="+this.importComponentUpgradeType+"&processUpgradeType="+this.processUpgradeType+
"&resourceTemplateUpgradeType="+this.resourceTemplateUpgradeType+"&appTempUpgradeType="+this.appTemplateUpgradeType+"&"+bootstrap.expectedSessionCookieName+"="+b},showNewApplicationDialog:function(){var a=this,b=new r({}),c=new A({title:i18n("Create Application"),closable:!0,draggable:!0,progressVisualization:t,wizard:b});b.cleanup=function(){c.hide();c.destroy();a.grid.refresh()};c.connect(c,"hide",function(){b.destroy();c.destroy()});b.startup();c.show()}})})},"dijit/form/DropDownButton":function(){require({cache:{"url:dijit/form/templates/DropDownButton.html":'<span class="dijit dijitReset dijitInline"\n\t><span class=\'dijitReset dijitInline dijitButtonNode\'\n\t\tdata-dojo-attach-event="ondijitclick:_onClick" data-dojo-attach-point="_buttonNode"\n\t\t><span class="dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point="focusNode,titleNode,_arrowWrapperNode,_popupStateNode"\n\t\t\trole="button" aria-haspopup="true" aria-labelledby="${id}_label"\n\t\t\t><span class="dijitReset dijitInline dijitIcon"\n\t\t\t\tdata-dojo-attach-point="iconNode"\n\t\t\t></span\n\t\t\t><span class="dijitReset dijitInline dijitButtonText"\n\t\t\t\tdata-dojo-attach-point="containerNode"\n\t\t\t\tid="${id}_label"\n\t\t\t></span\n\t\t\t><span class="dijitReset dijitInline dijitArrowButtonInner"></span\n\t\t\t><span class="dijitReset dijitInline dijitArrowButtonChar">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type="${type}" value="${value}" class="dijitOffScreen" tabIndex="-1"\n\t\tdata-dojo-attach-point="valueNode" role="presentation"\n/></span>\n'}});
define("dijit/form/DropDownButton","dojo/_base/declare,dojo/_base/lang,dojo/query,../registry,../popup,./Button,../_Container,../_HasDropDown,dojo/text!./templates/DropDownButton.html".split(","),function(l,m,k,j,f,e,d,c,b){return l("dijit.form.DropDownButton",[e,d,c],{baseClass:"dijitDropDownButton",templateString:b,_fillContent:function(){if(this.srcNodeRef){var a=k("*",this.srcNodeRef);this.inherited(arguments,[a[0]]);this.dropDownContainer=this.srcNodeRef}},startup:function(){if(!this._started){if(!this.dropDown&&
this.dropDownContainer){var a=k("[widgetId]",this.dropDownContainer)[0];this.dropDown=j.byNode(a);delete this.dropDownContainer}this.dropDown&&f.hide(this.dropDown);this.inherited(arguments)}},isLoaded:function(){var a=this.dropDown;return!!a&&(!a.href||a.isLoaded)},loadDropDown:function(a){var b=this.dropDown,c=b.on("load",m.hitch(this,function(){c.remove();a()}));b.refresh()},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown}})})},"deploy/widgets/snapshot/SnapshotEnvironmentSummary":function(){define("dijit/form/Button,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/dom-style,dojo/dom-geometry,dojo/on,dojo/mouse,dojox/html/entities,deploy/widgets/Formatters,deploy/widgets/application/RunApplicationProcess,deploy/widgets/environment/EditEnvironment,deploy/widgets/environment/EnvironmentSummary,deploy/widgets/snapshot/SnapshotRequestHistory,js/webext/widgets/color/Color,js/webext/widgets/ColumnForm,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/RestSelect,js/webext/widgets/Table,js/webext/widgets/form/MenuButton".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u,x,v){return k("deploy.widgets.snapshot.SnapshotEnvironmentSummary",[s],{templateString:'<div class="environment-summary snapshot-environment-summary environmentSummary snapshotEnvironmentSummary"><div class="environment-summary-highlight left" data-dojo-attach-point="highlightAttachLeft"></div><div class="environment-summary-highlight right" data-dojo-attach-point="highlightAttachRight"></div><div class="environment-summary-wrapper"><div class="environmentContainer environment-information-container no-double-click-select" data-dojo-attach-point="environmentContainer"><div class="environment-compliancy" data-dojo-attach-point="compliancyBackgroundAttach"><div data-dojo-attach-point="compliancyAttach" class="environment-compliancy-wrapper"></div></div><div class="environment-inner-container"><div data-dojo-attach-point="latestSnapshotAttach" class="inlineBlock environmentLatestSnapshot"></div><div data-dojo-attach-point="blueprintAttach" class="inlineBlock external-blueprint"></div></div></div><div class="environment-name-container" data-dojo-attach-point="nameContainerAttach"><div class="environment-summary-buttons"" data-dojo-attach-point="buttonsAttach"><div data-dojo-attach-point="executeAttach" class="inlineBlock button-container request-process"></div><div data-dojo-attach-point="previewAttach" class="inlineBlock button-container preview-snapshot"></div></div><div data-dojo-attach-point="nameAttach" class="environment-name"></div></div><div class="clear"></div><div data-dojo-attach-point="detailsAttach" class="environment-details"><div data-dojo-attach-point="gridAttach"></div></div></div></div>',
postCreate:function(){var a=this;f.add(this.domNode,"snapshot-environment-summary snapshotEnvironmentSummary");if(this.environment.security.execute){var c=e.create("div",{className:"environment-summary-button",title:i18n("Request Process")},this.executeAttach);e.create("div",{className:"general-icon executeIcon"},c);b(c,"click",function(){a.showRunProcessDialog()})}c=e.create("div",{className:"environment-summary-button",title:i18n("Preview")},this.previewAttach);e.create("div",{className:"general-icon preview-icon"},
c);b(c,"click",function(){a.showPreviewDialog()});this._postCreate();var c=this.environment.desiredVersions,h=this.environment.correctVersions;if(0<c){e.create("div",{className:"successMeter",style:{width:100*(h/c)+"%"}},a.compliancyAttach);e.create("div",{className:"failMeter failed-state-color",style:{width:100-100*(h/c)+"%"}},a.compliancyAttach);var j=e.create("div",{className:"compliancy-label"},a.latestSnapshotAttach,"before");e.create("span",{innerHTML:i18n("%s / %s Snapshot Versions Found",
h,c)},j)}else j=t.getColorOrConvert(a.environment.color),!j.standard&&j.fallback&&(j=t.getColor(j.fallback)),d.set(a.compliancyBackgroundAttach,"backgroundColor",util.getTint(j.value,0.1)),e.create("span",{innerHTML:i18n("%s / %s Snapshot Versions Found",h,c)},a.compliancyAttach)},destroy:function(){this.inherited(arguments);this.historyGrid&&this.historyGrid.destroy()},expandEnvironment:function(){f.add(this.domNode,"expanded");this.showHistoryGrid();this.expanded=!0},showHistoryGrid:function(){if(!this.historyGrid)this.historyGrid=
new r({snapshot:this.snapshot,environment:this.environment,application:this.application}),this.historyGrid.placeAt(this.gridAttach)},showRunProcessDialog:function(){var a=new u({title:i18n("Run Process on %s",util.escape(this.environment.name)),closable:!0,draggable:!0});(new o({application:this.application,environment:this.environment,snapshot:this.snapshot,callback:function(){a.hide();a.destroy()}})).placeAt(a.containerNode);a.show()},showPreviewDialog:function(){var a=this,b=new u({title:i18n("Preview Deployment")}),
c=new w({onSubmit:function(c){b.hide();b.destroy();navBar.setHash("deploymentPreview/"+a.snapshot.id+"/"+a.environment.id+"/"+c.applicationProcessId,!1,!0)},onCancel:function(){b.hide();b.destroy()}}),d=new v({restUrl:bootstrap.restUrl+"deploy/application/"+this.application.id+"/processes/false",allowNone:!1});c.addField({name:"applicationProcessId",label:i18n("Process"),required:!0,widget:d});c.placeAt(b.containerNode);b.show()}})})},"dijit/form/TimeTextBox":function(){define("dijit/form/TimeTextBox",
["dojo/_base/declare","dojo/keys","dojo/_base/lang","../_TimePicker","./_DateTimeTextBox"],function(l,m,k,j,f){return l("dijit.form.TimeTextBox",f,{baseClass:"dijitTextBox dijitComboBox dijitTimeTextBox",popupClass:j,_selector:"time",value:new Date(""),_onKey:function(e){if(!this.disabled&&!this.readOnly)switch(this.inherited(arguments),e.keyCode){case m.ENTER:case m.TAB:case m.ESCAPE:case m.DOWN_ARROW:case m.UP_ARROW:break;default:this.defer(function(){var d=this.get("displayedValue");this.filterString=
d&&!this.parse(d,this.constraints)?d.toLowerCase():"";this._opened&&this.closeDropDown();this.openDropDown()})}}})})},"url:dijit/form/templates/CheckBox.html":'<div class="dijit dijitReset dijitInline" role="presentation"\n\t><input\n\t \t${!nameAttrSetting} type="${type}" role="${type}" aria-checked="false" ${checkedAttrSetting}\n\t\tclass="dijitReset dijitCheckBoxInput"\n\t\tdata-dojo-attach-point="focusNode"\n\t \tdata-dojo-attach-event="onclick:_onClick"\n/></div>\n',"dojo/dnd/autoscroll":function(){define("../_base/lang,../sniff,../_base/window,../dom-geometry,../dom-style,../window".split(","),
function(l,m,k,j,f,e){var d={};l.setObject("dojo.dnd.autoscroll",d);d.getViewport=e.getBox;d.V_TRIGGER_AUTOSCROLL=32;d.H_TRIGGER_AUTOSCROLL=32;d.V_AUTOSCROLL_VALUE=16;d.H_AUTOSCROLL_VALUE=16;var c,b=k.doc,a=Infinity,h=Infinity;d.autoScrollStart=function(d){b=d;c=e.getBox(b);d=k.body(b).parentNode;a=Math.max(d.scrollHeight-c.h,0);h=Math.max(d.scrollWidth-c.w,0)};d.autoScroll=function(f){var j=c||e.getBox(b),n=k.body(b).parentNode,l=0,m=0;f.clientX<d.H_TRIGGER_AUTOSCROLL?l=-d.H_AUTOSCROLL_VALUE:f.clientX>
j.w-d.H_TRIGGER_AUTOSCROLL&&(l=Math.min(d.H_AUTOSCROLL_VALUE,h-n.scrollLeft));f.clientY<d.V_TRIGGER_AUTOSCROLL?m=-d.V_AUTOSCROLL_VALUE:f.clientY>j.h-d.V_TRIGGER_AUTOSCROLL&&(m=Math.min(d.V_AUTOSCROLL_VALUE,a-n.scrollTop));window.scrollBy(l,m)};d._validNodes={div:1,p:1,td:1};d._validOverflow={auto:1,scroll:1};d.autoScrollNodes=function(a){for(var b,c,e,h,l,w,u=0,x=0,v=a.target;v;){if(1==v.nodeType&&v.tagName.toLowerCase()in d._validNodes){e=f.getComputedStyle(v);h=e.overflow.toLowerCase()in d._validOverflow;
l=e.overflowX.toLowerCase()in d._validOverflow;w=e.overflowY.toLowerCase()in d._validOverflow;if(h||l||w)b=j.getContentBox(v,e),c=j.position(v,!0);if(h||l){e=Math.min(d.H_TRIGGER_AUTOSCROLL,b.w/2);l=a.pageX-c.x;if(m("webkit")||m("opera"))l+=k.body().scrollLeft;u=0;0<l&&l<b.w&&(l<e?u=-e:l>b.w-e&&(u=e),v.scrollLeft+=u)}if(h||w){h=Math.min(d.V_TRIGGER_AUTOSCROLL,b.h/2);w=a.pageY-c.y;if(m("webkit")||m("opera"))w+=k.body().scrollTop;x=0;0<w&&w<b.h&&(w<h?x=-h:w>b.h-h&&(x=h),v.scrollTop+=x)}if(u||x)return}try{v=
v.parentNode}catch(y){v=null}}d.autoScroll(a)};return d})},"deploy/widgets/deploymentRequest/RequestChanges":function(){define(["dijit/_TemplatedMixin","dijit/_Widget","dojo/_base/declare","deploy/widgets/Formatters","js/webext/widgets/Table"],function(l,m,k,j,f){return k("deploy.widgets.deploymentRequest.RequestChanges",[m,l],{templateString:'<div class="requestChanges" style="width: 700px"><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var e=
[{name:"&nbsp;",orderField:"changeType",getRawValue:function(d){return d.type},style:{paddingTop:"2px",paddingBottom:"3px",textAlign:"center",width:"20px"},formatter:function(d){var c=document.createElement("img");c.src="ADDED"===d.type?bootstrap.webextUrl+"images/webext/icons/icon_plus.gif":bootstrap.webextUrl+"images/webext/icons/icon_minus.gif";return c}},{name:i18n("Environment"),orderField:"environment",getRawValue:function(d){var c=null;if(d=d.deploymentRequest.rootRequest.environment)c=d.name;
return c},formatter:function(d){return j.environmentLinkFormatter(d.deploymentRequest.rootRequest.environment)}},{name:i18n("Snapshot"),orderField:"snapshot",getRawValue:function(d){var c=null;if(d=d.deploymentRequest.rootRequest.snapshot)c=d.name;return c},formatter:function(d){return j.snapshotLinkFormatter(d.deploymentRequest.rootRequest.snapshot)}},{name:i18n("Component"),orderField:"component",getRawValue:function(d){var c=null;if(d=d.deploymentRequest.rootRequest.component)c=d.name;return c},
formatter:function(d){return j.componentLinkFormatter(d.deploymentRequest.rootRequest.component)}},{name:i18n("Version"),orderField:"version",getRawValue:function(d){var c=null;if(d=d.deploymentRequest.rootRequest.version)c=d.name;return c},formatter:function(d){return j.versionLinkFormatter(d.deploymentRequest.rootRequest.version)}}];this.grid=new f({url:bootstrap.restUrl+"deploy/deploymentRequest/"+appState.deploymentRequest.id+"/changes",serverSideProcessing:!1,hidePagination:!0,columns:e,tableConfigKey:"deploymentRequestChange",
noDataMessage:i18n("No changes found.")});this.grid.placeAt(this.gridAttach)},destroy:function(){this.inherited(arguments);this.grid.destroy()},typeFormatter:function(e){var d="";"INSTALL"===e.type?d=i18n("Installed"):"UNINSTALL"===e.type&&(d=i18n("Uninstalled"));return d}})})},"deploy/widgets/applicationTemplate/EditApplicationTemplate":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/_base/xhr,js/webext/widgets/ColumnForm,js/webext/widgets/RestSelect,js/webext/widgets/Alert,deploy/widgets/security/TeamSelector,deploy/widgets/applicationTemplate/ComponentTagRequirementSelector".split(","),
function(l,m,k,j,f,e,d,c,b){return k("deploy.widgets.application.EditApplication",[m,l],{templateString:'<div class="editApplication">  <div data-dojo-attach-point="formAttach"></div></div>',postCreate:function(){var a=this;a.inherited(arguments);a.existingValues={};a.applicationTemplate?a.existingValues=a.applicationTemplate:j.get({url:bootstrap.restUrl+"security/teamsWithCreateAction/Application Template",handleAs:"json",sync:!0,load:function(b){a.existingValues.extendedSecurity={teams:b}}});a.form=
new f({submitUrl:bootstrap.restUrl+"deploy/applicationTemplate",readOnly:a.readOnly,showButtons:!a.readOnly,postSubmit:function(b){this.noRedirect||navBar.setHash("applicationTemplate/"+b.id+"/-1");void 0!==a.callback&&a.callback()},addData:function(b){if(a.applicationTemplate)b.existingId=a.applicationTemplate.id;"none"===b.notificationSchemeId&&delete b.notificationSchemeId;b.teamMappings=a.teamSelector.teams},onError:function(a){a.responseText&&new d({message:util.escape(a.responseText)})},onCancel:function(){void 0!==
a.cancelCallback?a.cancelCallback():void 0!==a.callback&&a.callback()},validateFields:function(a){var b=[];a.tagRequirements.forEach(function(a){(0>a.number||999<a.number||""===a.number)&&b.push(i18n("The Required Component Tag number %s for the %s tag is invalid. Please enter a number between 0 and 999",a.number,a.name))});return b}});a.form.addField({name:"name",label:i18n("Name"),required:!0,type:"Text",value:a.existingValues.name});a.form.addField({name:"description",label:i18n("Description"),
type:"Text",value:a.existingValues.description});var h=[];if(a.existingValues&&a.existingValues.extendedSecurity&&a.existingValues.extendedSecurity.teams)h=a.existingValues.extendedSecurity.teams;a.teamSelector=new c({readOnly:a.readOnly,resourceRoleType:"Application Template",noneLabel:i18n("Standard Application Template"),teams:h});a.form.addField({name:"teams",label:i18n("Teams"),type:"Text",widget:a.teamSelector});h=new e({disabled:a.readOnly,restUrl:bootstrap.restUrl+"notification/notificationScheme",
value:a.existingValues.notificationSchemeId,getLabel:function(a){return i18n(a.name)}});a.form.addField({name:"notificationSchemeId",label:i18n("Notification Scheme"),description:i18n("A notification scheme to use when handling events generated by applications using this template."),widget:h});a.form.addField({name:"enforceCompleteSnapshots",label:i18n("Enforce Complete Snapshots"),type:"Checkbox",description:i18n("Whether this applications using this template should require that a version be given for each component when creating snapshots."),
value:this.existingValues.enforceCompleteSnapshots});a.requirementSelector=new b({readOnly:this.readOnly,value:this.existingValues.tagRequirements});a.form.addField({name:"tagRequirements",label:i18n("Required Component Tags"),widget:a.requirementSelector,description:i18n("Specify which tags the set of components for applications created from this template must be tagged with as well as the number of components for each tag.")});a.form.placeAt(a.formAttach)}})})},"deploy/widgets/workflow/activity/PluginActivity":function(){define("dijit/form/Button,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/dom-construct,dojo/on,deploy/widgets/scripts/EditScript,deploy/widgets/workflow/activity/BaseActivity,js/webext/widgets/Dialog,js/webext/widgets/DomNode,js/webext/widgets/RestSelect,deploy/widgets/property/PropertyTextareaBox".split(","),
function(l,m,k,j,f,e,d,c,b,a,h){return k("deploy.widgets.workflow.activity.PluginActivity",[c],{postCreate:function(){this.inherited(arguments);this.initialized||this.editProperties()},getLabel:function(){var a=util.applyBTD(this.data.name)+"\n"+i18n("%s (v. %s)",i18n(this.data.commandName),this.data.pluginVersion);null!==this.data.command&&void 0!==this.data.command&&0!==this.data.command.plugin.ghostedDate&&(a+="\n"+i18n("PLUGIN DELETED"));return a},editProperties:function(a){var b=this;this.data.command?
this.showPropertyForm(this.data.command,a):j.get({url:bootstrap.restUrl+"plugin/command/commandByName/"+this.data.pluginName+"/"+this.data.pluginVersion+"/"+this.data.commandName,handleAs:"json",load:function(a){b.data.command=a;b.showPropertyForm(a)}})},showPropertyForm:function(a,b){var c=this,d=c.createPropertyDialog(),e=c.createPropertyForm({dialog:d,validateFields:function(a){return c.validateName(a.name)},onSubmit:function(h){b&&b();c.initialized=!0;c.data.properties={};m.forEach(a.properties,
function(a){var b=h["p_"+a.name];void 0!==b&&(c.data.properties[a.name]=b)});if("true"===h.showHidden)c.data.showHidden=!0;c.data.name=h.name;c.updateLabel();c.data.allowFailure=h.allowFailure;c.data.useImpersonation="true"===h.useImpersonation?!0:!1;c.data.impersonationUsername=h.impersonationUsername;c.data.impersonationGroup=void 0!==h.impersonationGroup?h.impersonationGroup:"";c.data.impersonationPassword=void 0!==h.impersonationPassword?h.impersonationPassword:"";c.data.impersonationUseSudo=
"true"===h.impersonationUseSudo?!0:!1;c.data.workingDir=h.workingDir;c.data.preconditionScript=void 0!==h.preconditionScript?h.preconditionScript:"";c.data.postProcessingScript=void 0!==c.postProcSelect?c.postProcSelect.get("value"):"";if(null===c.data.postProcessingScript||void 0===c.data.postProcessingScript)c.data.postProcessingScript="";c.data.showHidden="true"===h.showHidden?!0:!1;d.hide();e.destroy();d.destroy()},readOnly:c.readOnly});e.addField({name:"name",label:i18n("Name"),type:"Text",required:!0,
value:c.data.name});m.forEach(a.properties,function(a){var b=a.value;m.forEach(a.allowedValues,function(a){a.label=i18n(a.label)});void 0===b&&(b="");var d=!0;if(void 0!==c.data.properties){var h=c.data.properties[a.name];void 0!==h?b=h:d=!1}if(!a.hidden){if(a.type&&c.process&&"text"===a.type.toLowerCase())a.type="PropertyBox";else if(a.type&&c.process&&"textarea"===a.type.toLowerCase())a.type="PropertyArea";a={name:"p_"+a.name,label:i18n(a.label),type:a.type,required:a.required,allowedValues:a.allowedValues,
description:a.description?i18n(a.description).escape():a.description,value:b,cache:c.graphEditor.cache};c.addPropertyField(e,a,d)}});(config.data.systemConfiguration.enableAllowFailure||c.data.allowFailure)&&e.addField({name:"allowFailure",label:i18n("Allow Failure"),type:"Checkbox",required:!1,description:i18n("Allow failures to let the process run normally even if this activity fails."),value:c.data.allowFailure});e.addField({name:"workingDir",label:i18n("Working Directory"),type:"PropertyBox",
require:!1,description:i18n("An alternative absolute path to the working directory for the step. If left blank, it will use the default process-specific working directory."),value:c.data.workingDir,cache:c.graphEditor.cache});i18n("Any Prior Failure");i18n("No Prior Failures");c.createPostProcSelect(c.data.postProcessingScript);e.addField({name:"postProcessingScript",label:i18n("Post Processing Script"),description:i18n("The post processing script to use to determine pass/fail and lines of interest."),
required:!1,widget:c.postProcDomNode});var h="Text Area";c.process&&(h="PropertyArea");e.addField({name:"preconditionScript",label:i18n("Precondition"),type:h,description:i18n("A script to determine whether this step should run. Must evaluate to true or false if not left blank."),value:c.data.preconditionScript,cache:c.graphEditor.cache});e.addField({name:"useImpersonation",label:i18n("Use Impersonation"),type:"Checkbox",required:!1,description:i18n("Run this task as a different user."),value:c.data.useImpersonation,
onChange:function(a){a?(c.showImpersonationFields(e),e.showingImpersonation=!0):(e.showingImpersonation&&(e.removeField("impersonationUsername"),e.removeField("impersonationGroup"),e.removeField("impersonationPassword"),e.removeField("impersonationUseSudo")),e.showingImpersonation=!1)}});e.addField({name:"showHidden",label:i18n("Show Hidden Properties"),type:"Checkbox",required:!1,description:i18n("Modify this plugin step's hidden properties"),value:c.data.showHidden,onChange:function(b){b?c.showHidden(e,
a.properties):c.hideHidden(e,a.properties)}});if(c.data.useImpersonation)c.showImpersonationFields(e),e.showingImpersonation=!0;c.data.showHidden?c.showHidden(e,a.properties):c.hideHidden(e,a.properties);e.placeAt(d.containerNode);d.show()},hideHidden:function(a,b){var c=a.getData(),d=this.data.properties;m.forEach(b,function(b){if(b.hidden){var e=b.value;d&&void 0!==d[b.name]&&(e=d[b.name]);void 0!==c["p_"+b.name]&&(e=c["p_"+b.name]);a.removeField("p_"+b.name);a.addField({name:"p_"+b.name,type:"Invisible",
value:e})}})},showHidden:function(a,b){var c=a.getData(),d=this.data.properties;m.forEach(b,function(b){if(b.hidden){var e=b.value;d&&void 0!==d[b.name]&&(e=d[b.name]);void 0!==c["p_"+b.name]&&(e=c["p_"+b.name]);a.removeField("p_"+b.name);a.addField({name:"p_"+b.name,label:i18n(b.label),type:b.type,required:b.required,allowedValues:b.allowedValues,description:b.description?i18n(b.description).escape():b.description,value:e})}})},showImpersonationFields:function(a){a.addField({name:"impersonationUsername",
label:i18n("User"),type:"Text",required:!0,description:i18n("The username to authenticate as during impersonation."),value:this.data.impersonationUsername});a.addField({name:"impersonationPassword",label:i18n("Password"),type:"Secure",required:!1,description:i18n("The password to use during impersonation."),value:this.data.impersonationPassword});a.addField({name:"impersonationGroup",label:i18n("Group"),type:"Text",required:!1,description:i18n("The group to authenticate as during impersonation."),
value:this.data.impersonationGroup});a.addField({name:"impersonationUseSudo",label:i18n("Use Sudo"),type:"Checkbox",required:!1,description:i18n("If checked, sudo will be used around the su call to perform impersonation."),value:this.data.impersonationUseSudo})},createPostProcSelect:function(b){var c=this;this.postProcDomNode&&this.postProcDomNode.domAttach?f.empty(this.postProcDomNode.domAttach):this.postProcDomNode=new a({});var d=f.create("div");this.postProcSelect=new h({restUrl:bootstrap.restUrl+
"script/postprocessing",required:!1,noneLabel:i18n("Step Default"),onChange:function(){c.addEditButton(d)},value:b,style:{verticalAlign:"bottom"}});b={label:i18n("New"),title:i18n("Create a new post processing script"),onClick:function(){c.showEditScriptDialog()}};b=new l(b);this.postProcSelect.placeAt(this.postProcDomNode.domAttach);f.place(d,this.postProcDomNode.domAttach);c.addEditButton(d);b.placeAt(d)},addEditButton:function(a){var b=this;this.editButton&&this.editButton.destroy();if(this.postProcSelect&&
this.postProcSelect.get("value")){var c={label:i18n("Edit"),title:i18n("Edit the selected post processing script"),onClick:function(){b.showEditScriptDialog(b.postProcSelect._getItemAttr())}};this.editButton=new l(c);this.editButton.placeAt(a)}},showEditScriptDialog:function(a){var c=this,e=new b({title:i18n("Edit Script"),closable:!0,draggable:!0});(new d({script:a,callback:function(b){e.hide();e.destroy();c.createPostProcSelect(b?b.id:a?a.id:void 0)}})).placeAt(e.containerNode);e.show()}})})},"url:dijit/form/templates/DropDownBox.html":'<div class="dijit dijitReset dijitInline dijitLeft"\n\tid="widget_${id}"\n\trole="combobox"\n\taria-haspopup="true"\n\tdata-dojo-attach-point="_popupStateNode"\n\t><div class=\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\'\n\t\tdata-dojo-attach-point="_buttonNode" role="presentation"\n\t\t><input class="dijitReset dijitInputField dijitArrowButtonInner" value="&#9660; " type="text" tabIndex="-1" readonly="readonly" role="button presentation" aria-hidden="true"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class=\'dijitReset dijitValidationContainer\'\n\t\t><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n\t/></div\n\t><div class="dijitReset dijitInputField dijitInputContainer"\n\t\t><input class=\'dijitReset dijitInputInner\' ${!nameAttrSetting} type="text" autocomplete="off"\n\t\t\tdata-dojo-attach-point="textbox,focusNode" role="textbox"\n\t/></div\n></div>\n',
"deploy/widgets/environment/EditLandscaperBlueprintProperties":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/TextBox,dojo/_base/declare,dojo/_base/xhr,dojo/dom-construct,js/webext/widgets/ColumnForm,js/webext/widgets/RestSelect,js/webext/widgets/DomNode,deploy/widgets/Formatters,dojo/store/Memory,dojo/_base/lang,js/webext/widgets/select/WebextSelect".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o){return j([m,l],{templateString:'<div class="editEnvironment">  <div data-dojo-attach-point="formAttach"></div></div>',
postCreate:function(){this.inherited(arguments);var c=this,h;h=this.isApplyToEnvironment()?bootstrap.restUrl+"deploy/environment/"+this.environment.id+"/apply":bootstrap.restUrl+"deploy/environment";var f=this.blueprint?!1:!0;this.form=new d({submitUrl:h,readOnly:c.readOnly,saveLabel:i18n("Apply"),showButtons:f,preSubmit:function(){c.dialog&&c.dialog.hideError()},onSubmit:function(a){var b=c.form.postSubmit;delete c.form.postSubmit;c.validateCloudProperties(a).then(function(){c.form.postSubmit=b;
c.form.submitOverXhr(a)},function(a){c.form.postSubmit=b;c.form.unblock();c.form.onError(a)})},postSubmit:function(a){void 0!==c.callback&&c.callback();navBar.setHash("environment/"+a.id+"/history",!1,!0)},addData:function(a){for(var b in c.environmentData)c.environmentData.hasOwnProperty(b)&&(a[b]=c.environmentData[b]);if(c.environment&&(a.name=c.environment.name,c.isApplyToEnvironment()))a.externalEnvironmentId=c.environment.extEnvironment[0].externalId;a.validate=!0;a.cloudBlueprintId=c.blueprint.id;
a.cloudBlueprintLocation=c.blueprint.location;a.cloudBlueprint=c.blueprint.name;a.cloudBlueprintUrl=c.blueprint.url;a.integrationProviderId=c.blueprint.integrationProviderId;a.cloudProjectId=c.cloudProjectId;a.regionId=c.regionId;delete a.blueprintId;a.parameters={};dojo.forEach(c.parameters,function(b){var c="parameter/"+b,d=a[c];d&&""!==d.trim()&&(a.parameters[b]=d);delete a[c]});if("_no_label"===a.cloudConfiguration)a.configuration="";else if(c.configuration)a.cloudConfigurationId=c.configuration.id,
a.cloudConfiguration=c.configuration.name,a.cloudConfigurationLocation=c.configuration.location},onError:function(a){var b=c.configuration?c.configuration.name:"",a=c._decodeJson(a.responseText);if(c.dialog)try{var d=JSON.parse(a);c.dialog.showError(c.form,c.blueprint.name,b,d)}catch(e){c.dialog.showError(c.form,c.blueprint.name,b,util.escape(a))}},onCancel:function(){void 0!==c.callback&&c.callback();if(void 0!==c.onCancel)c.onCancel()}});this.form.placeAt(this.formAttach);h=new b;e.create("div",
{style:"display: inline-block;","class":"iconCloud"},h.domAttach);e.create("div",{innerHTML:i18n("Cloud Provisioning"),style:{fontWeight:"bold",display:"inline-block",marginBottom:"6px"}},h.domAttach);c.form.addField({name:"",widget:h});this.form.addField({type:"Invisible",name:"_blueprintInsert"});this.form.addField({type:"Invisible",name:"_cloudProjectInsert"});this.form.addField({type:"Invisible",name:"_regionInsert"});this.form.addField({type:"Invisible",name:"_blueprintVersionInsert"});this.form.addField({type:"Invisible",
name:"_configurationInsert"});this.form.addField({type:"Invisible",name:"_configurationVersionInsert"});this.form.addField({type:"Invisible",name:"_blueprintProperties"});this.blueprint?(this.form.addField({name:"cloudBlueprint",label:i18n("Blueprint"),type:"Text",readOnly:!0,value:this.blueprint.name},"_blueprintInsert"),c.blueprintChange()):c.form.addField({name:"blueprintId",label:i18n("Blueprint"),required:!0,type:"TableFilterSelect",url:bootstrap.restUrl+"deploy/application/"+this.application.id+
"/blueprints/external",storeType:"Memory",formatDropDownLabel:a.environmentBlueprintDropDownFormatter,onChange:function(a,b){if(a&&"landscaper"===b.source)c.blueprint=b,c.blueprintChange()}},"_blueprintInsert")},blueprintChange:function(){var a=this;a.form.hasField("cloudProjectId")&&a.form.removeField("cloudProjectId");var b=new c({restUrl:bootstrap.restUrl+"integration/pattern/"+a.blueprint.integrationProviderId+"/cloudprojects/",allowNone:!1,getLabel:function(a){return a.displayName}});a.form.addField({name:"cloudProjectId",
label:i18n("Cloud Project"),widget:b,required:!0,description:i18n("Choose a cloud project to create the environment. Cloud project defines the target cloud for the environment.")},"_cloudProjectInsert");b.on("change",function(b){b?(a.cloudProjectId=b,a.clearProject(),a.refreshRegion(),a.refreshConfiguration()):(a.cloudProjectId=null,a.clearProject())});a.form.hasField("cloudBlueprintVersion")&&a.form.removeField("cloudBlueprintVersion");b=new c({restUrl:bootstrap.restUrl+"integration/pattern/"+a.blueprint.integrationProviderId+
"/blueprint/"+a.blueprint.id+"/version"});a.form.addField({name:"cloudBlueprintVersion",label:i18n("Blueprint Version"),widget:b,required:!0,description:i18n("Choose a blueprint version for the blueprint used to create the environment.")},"_blueprintVersionInsert");b.on("change",function(b){a.blueprintVersion=b?b:null;a.refreshParameters()});a.refreshConfiguration()},clearProject:function(){this.form.hasField("regionId")&&this.form.removeField("regionId");this.form.hasField("cloudConfiguration")&&
this.form.removeField("cloudConfiguration");this.form.hasField("cloudConfiguration")&&this.form.removeField("cloudConfiguration");this.form.hasField("cloudConfigurationVersion")&&this.form.removeField("cloudConfigurationVersion");this.form.hasField("propSectionLabel")&&this.form.removeField("propSectionLabel");this.removeParameters();this.configuration=null},refreshRegion:function(){var a=this;if(a.cloudProjectId){var b=new c({restUrl:bootstrap.restUrl+"integration/pattern/"+a.blueprint.integrationProviderId+
"/cloudProject/"+a.cloudProjectId+"/regions",allowNone:!1,getLabel:function(a){return a.name}});a.form.addField({name:"regionId",label:i18n("Region"),widget:b,required:!0,description:i18n("Choose a region to create the environment.")},"_regionInsert");b.on("change",function(b){a.regionId=b?b:null;a.refreshParameters()})}},refreshConfiguration:function(){var a=this;a.cloudProjectId&&(a.form.block(),dojo.xhrGet({url:bootstrap.restUrl+"integration/pattern/"+a.blueprint.integrationProviderId+"/blueprint/"+
a.blueprint.id+"/cloudproject/"+a.cloudProjectId+"/configuration",handleAs:"json",headers:a.getHeaders(),load:function(b){b=new h({data:b,idProperty:"id"});b=new o({store:b,onChange:function(b,d){a.form.block();a.form.hasField("cloudConfigurationVersion")&&a.form.removeField("cloudConfigurationVersion");if(b){a.removeParameters();a.configuration=d;var e=new c({restUrl:bootstrap.restUrl+"integration/pattern/"+a.blueprint.integrationProviderId+"/blueprint/"+a.blueprint.id+"/configuration/"+d.id+"/version"});
a.form.hasField("cloudConfigurationVersion")||a.form.addField({name:"cloudConfigurationVersion",label:i18n("Configuration Version"),widget:e,required:!0,description:i18n("Choose a configuration version for the configuration used to create the environment.")},"_configurationVersionInsert");e.on("change",function(b){a.configurationVersion=b?b:null;a.refreshParameters()})}else a.configuration=null,a.configurationVersion=null,a.refreshParameters();a.form.unblock()}});a.form.addField({name:"cloudConfiguration",
label:i18n("Configuration"),widget:b,required:!1,description:i18n("Choose a configuration for the blueprint used to create the environment.")},"_configurationInsert");a.form.unblock()},error:function(){a.form.unblock()}}))},refreshParameters:function(){this.form.hasField("propSectionLabel")||this.form.addField({name:"propSectionLabel",type:"SectionLabel",value:i18n("Set property values for nodes to be created for this environment"),style:{fontWeight:"bold"}},"_blueprintProperties");this.form.hasField("_parameters")||
this.form.addField({type:"Invisible",name:"_parameters"});this.removeParameters();this.addParameters()},removeParameters:function(){var a=this;dojo.forEach(a.parameters,function(b){b="parameter/"+b;a.form.hasField(b)&&a.form.removeField(b)});this.parameters=[];a.clearCostSection()},getHeaders:function(){var a={};a.Location=this.blueprint.location;if(this.configuration)a.ConfigurationLocation=this.configuration.location;if(this.regionId)a.Region=this.regionId;return a},addParameters:function(){var a=
this,b=a.configuration&&a.configurationVersion?"/configuration/"+a.configuration.id+"/version/"+a.configurationVersion:"";a.blueprint&&a.cloudProjectId&&a.blueprintVersion&&a.regionId&&(a.form.block(),dojo.xhrGet({url:bootstrap.restUrl+"integration/pattern/"+a.blueprint.integrationProviderId+"/blueprint/"+a.blueprint.id+"/version/"+a.blueprintVersion+"/cloudproject/"+a.cloudProjectId+b+"/parameters",handleAs:"json",headers:a.getHeaders(),load:function(b){var c=["ucd_hostname","ucd_password","ucd_server_url",
"ucd_user"];dojo.forEach(b,function(b){a.creatingParameters=!0;-1===c.indexOf(b.name)&&a.createParameter(b)});a.creatingParameters=!1;a.disableCostComputation=!1;a.form.unblock();a.displayCost()}}))},createParameter:function(a){var b=this,c=b.form,d=a.value,e=a.name;b.parameters.push(a.name);var f=-1!==["image","flavor","size"].indexOf(a.propertyName),j="parameter/"+e;b.form.hasField(j)&&b.form.removeField(j);if("SELECT"===a.type){var l=q.clone(a);l.name=e;var m=d,a=a.allowedValues||[];dojo.forEach(a,
function(a){if(a.value===d||a.label===d)m=a.label});a=new h({data:a,idProperty:"value"});l.placeHolder=m;l.idProperty="value";l.searchAttr="label";l.labelAttr="label";l.store=a;l.style="width: 300px;";l.value="";l.costMetricProperty=f;l.onChange=function(){!b.creatingParameters&&this.costMetricProperty&&b.displayCost()};f=new o(l)}else l="SECURE"===a.type||"PASSWORD"===a.type,f=new k({value:"",placeHolder:l&&d?"****":d,style:"width: 300px;",type:l?"password":"text",costMetricProperty:f,intermediateChanges:!0,
timeout:null,onChange:function(){if(!b.creatingParameters&&this.costMetricProperty)this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){b.displayCost()},1E3)}});c.addField({name:j,label:e,required:!1,widget:f},"_parameters")},_decodeJson:function(a){return a.replace(/&#(\d+);/g,function(a,b){return String.fromCharCode(b)})},submitForm:function(){this.form.submitForm()},displayCost:function(){var a=this;if(!a.disableCostComputation){a.form.block();var c=a.form.getData(),c=a.form.formatData(c);
if(a.form.hasField("estimatedCostLabel")){a.form.removeField("estimatedCostLabel");var d=new b,h=e.create("div",{className:"labelsAndValues-labelCell inlineBlock"});d.domNode.appendChild(h);a.form.addField({name:"estimatedCostLabel",label:"",required:!1,widget:d},"_estimateCostInsert")}dojo.xhrPut({url:bootstrap.restUrl+"integration/pattern/"+a.blueprint.integrationProviderId+"/blueprint/"+a.blueprint.id+"/cost",handleAs:"json",putData:c,headers:a.getHeaders(),sync:!1,load:function(b){if("UNKNOWN_COST_CENTER"===
b.costStatus)a.disableCostComputation=!0,a.clearCostSection();else{var c=null,d=null,e=null;"ERROR"===b.costStatus?(c=i18n("Error estimating cost."),d=b.statusMessage,e="errorIcon inlineBlock"):(c=i18n("$ %s per hour",b.cost.toFixed(2)),"MISSING_DATA"===b.costStatus&&(d=i18n("The estimate is approximate because some cost data are missing."),e="warningIcon inlineBlock"));a.createCostLabel(c,d,e)}a.form.unblock()},error:function(){a.form.unblock()}})}},clearCostSection:function(){this.form.hasField("estimatedCostSectionLabel")&&
this.form.removeField("estimatedCostSectionLabel");this.form.hasField("estimatedCostLabel")&&this.form.removeField("estimatedCostLabel")},createCostLabel:function(a,c,d){this.form.hasField("estimatedCostSectionLabel")||this.form.addField({name:"estimatedCostSectionLabel",type:"SectionLabel",value:i18n("Estimated cost"),style:{fontWeight:"bold"}},"_estimateCostInsert");this.form.hasField("estimatedCostLabel")&&this.form.removeField("estimatedCostLabel");var h=new b,a=e.create("div",{className:"labelsAndValues-labelCell inlineBlock",
innerHTML:a,style:{fontWeight:"normal"}});h.domNode.appendChild(a);c&&(c=e.create("div",{className:d,title:c}),h.domNode.appendChild(c));this.form.addField({name:"estimatedCostLabel",label:"",required:!1,widget:h},"_estimateCostInsert")},getData:function(){return this.form.getData()},validate:function(){return this.form.validateRequired()},validateCloudProperties:function(a){a=this.form.formatData(a);return dojo.xhrPut({url:bootstrap.restUrl+"integration/pattern/"+this.blueprint.integrationProviderId+
"/blueprint/"+this.blueprint.id+"/validate",handleAs:"json",putData:a,headers:this.getHeaders(),sync:!1})},isApplyToEnvironment:function(){return this.environment&&this.environment.extEnvironment&&0<this.environment.extEnvironment.length}})})},"dijit/form/NumberTextBox":function(){define("dijit/form/NumberTextBox",["dojo/_base/declare","dojo/_base/lang","dojo/number","./RangeBoundTextBox"],function(l,m,k,j){var f=l("dijit.form.NumberTextBoxMixin",null,{pattern:k.regexp,value:NaN,editOptions:{pattern:"#.######"},
_formatter:k.format,postMixInProperties:function(){this.inherited(arguments);this._set("type","text")},_setConstraintsAttr:function(e){var d="number"==typeof e.places?e.places:0;d&&d++;if("number"!=typeof e.max)e.max=9*Math.pow(10,15-d);if("number"!=typeof e.min)e.min=-9*Math.pow(10,15-d);this.inherited(arguments,[e]);this.focusNode&&this.focusNode.value&&!isNaN(this.value)&&this.set("value",this.value)},_onFocus:function(){if(!this.disabled){var e=this.get("value");if("number"==typeof e&&!isNaN(e)&&
(e=this.format(e,this.constraints),void 0!==e))this.textbox.value=e;this.inherited(arguments)}},format:function(e,d){var c=""+e;if("number"!=typeof e)return c;if(isNaN(e))return"";if(!("rangeCheck"in this&&this.rangeCheck(e,d))&&!1!==d.exponent&&/\de[-+]?\d/i.test(c))return c;this.editOptions&&this.focused&&(d=m.mixin({},d,this.editOptions));return this._formatter(e,d)},_parser:k.parse,parse:function(e,d){var c=this._parser(e,m.mixin({},d,this.editOptions&&this.focused?this.editOptions:{}));this.editOptions&&
this.focused&&isNaN(c)&&(c=this._parser(e,d));return c},_getDisplayedValueAttr:function(){var e=this.inherited(arguments);return isNaN(e)?this.textbox.value:e},filter:function(e){return null==e||""===e?NaN:this.inherited(arguments)},serialize:function(e,d){return"number"!=typeof e||isNaN(e)?"":this.inherited(arguments)},_setBlurValue:function(){this._setValueAttr(m.hitch(m.mixin({},this,{focused:!0}),"get")("value"),!0)},_setValueAttr:function(e,d,c){if(void 0!==e&&void 0===c)if(c=""+e,"number"==
typeof e)if(isNaN(e))c="";else{if("rangeCheck"in this&&this.rangeCheck(e,this.constraints)||!1===this.constraints.exponent||!/\de[-+]?\d/i.test(c))c=void 0}else e?e=void 0:(c="",e=NaN);this.inherited(arguments,[e,d,c])},_getValueAttr:function(){var e=this.inherited(arguments);if(isNaN(e)&&""!==this.textbox.value){if(!1!==this.constraints.exponent&&/\de[-+]?\d/i.test(this.textbox.value)&&RegExp("^"+k._realNumberRegexp(m.mixin({},this.constraints))+"$").test(this.textbox.value))return e=Number(this.textbox.value),
isNaN(e)?void 0:e}else return e},isValid:function(e){if(!this.focused||this._isEmpty(this.textbox.value))return this.inherited(arguments);var d=this.get("value");return!isNaN(d)&&this.rangeCheck(d,this.constraints)?!1!==this.constraints.exponent&&/\de[-+]?\d/i.test(this.textbox.value)?!0:this.inherited(arguments):!1}}),l=l("dijit.form.NumberTextBox",[j,f],{baseClass:"dijitTextBox dijitNumberTextBox"});l.Mixin=f;return l})},"deploy/widgets/security/team/TeamManager":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/dom,dojo/dom-construct,dojo/dom-class,dojo/on,dijit/form/Button,deploy/widgets/security/team/EditTeam,deploy/widgets/security/team/SecuredObjects,deploy/widgets/TooltipTitle,js/webext/widgets/GenericConfirm,js/webext/widgets/TwoPaneListManager".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o){return m([o],{myTeams:!1,postCreate:function(){this.inherited(arguments);this._loadPermissions();this.rightPanel=!1;this.showList();this.removeOverflow()},_loadPermissions:function(){var a=config.data.permissions;this.canAdd=a["Add Team Members"];this.url=(this.canEdit=a["Manage Security"])&&!this.myTeams?bootstrap.baseUrl+"security/team":bootstrap.restUrl+"security/getTeamsForCurrentUser"},showList:function(a){var b=this;this.defaultSelectionId=a;k.get({url:b.url,
handleAs:"json",load:function(h){var j=0;l.forEach(h,function(a){j++;var c=f.create("div",{style:{position:"relative"}}),d=f.create("div",{className:"twoPaneActionIcons"},c);if("20000000000000000000000100000000"!==a.id&&b.canEdit&&!b.myTeams)f.create("div",{className:"inlineBlock vAlignMiddle cursorPointer margin2Left iconMinus"},d).onclick=function(c){util.cancelBubble(c);b.confirmDelete(a)};var e=a.name.escape();"System Team"===e&&(e=i18n("System Team"));f.place(f.create("div",{className:"twoPaneEntryLabel",
innerHTML:e}),d,"after");b.addEntry({id:a.id,domNode:c,action:function(){b.selectEntry(a)}})});if(b.canEdit)if(b.myTeams){if(b.buttonNode){var o=new c({label:i18n("Manage All Teams")});d(o,"click",function(){if(b.titleNode)b.titleNode.innerHTML=i18n("All Teams");b.buttonNode&&f.empty(b.buttonNode);b.myTeams=!1;b.allTeams=!0;b.refresh(a)});setTimeout(function(){f.place(o.domNode,b.buttonNode)},180)}}else h=f.create("div"),f.create("div",{className:"vAlignMiddle inlineBlock iconPlus"},h),f.create("div",
{innerHTML:i18n("Create Team"),className:"vAlignMiddle inlineBlock margin5Left"},h),b.addEntry({id:null,domNode:h,action:function(){b.selectNewTeam();e.add(b.domNode,"create-new-team")}});if(b.allTeams&&b.buttonNode){var k=new c({label:i18n("View My Teams")});e.add(k.domNode,"idxButtonSpecial");d(k,"click",function(){if(b.titleNode)b.titleNode.innerHTML=i18n("My Teams");b.buttonNode&&f.empty(b.buttonNode);b.myTeams=!0;b.allTeams=!1;b.refresh(a)});setTimeout(function(){f.place(k.domNode,b.buttonNode)},
180)}0===j&&f.create("div",{className:"containerLabel",innerHTML:i18n("You are currently not in any teams")},b.detailAttach)}})},refresh:function(a){this._loadPermissions();if(this.selectedEntry&&this.selectedEntry.id)a=this.selectedEntry.id;this.clearDetail();this.clearList();this.showList(a);this.buttonNode&&f.empty(this.buttonNode)},selectEntry:function(a){var c=this;e.contains(this.domNode,"create-new-team")&&e.remove(this.domNode,"create-new-team");if("System Team"===a.name.escape())a.name=i18n("System Team");
(new h({titleText:a.name.escape(),tooltipText:i18n("Use the Add Users and Groups button to drag users and groups onto roles. You can also add users directly to roles by using the Add button associated with the role.")})).placeAt(this.detailAttach);k.get({url:bootstrap.baseUrl+"security/team/"+a.id,handleAs:"json",load:function(d){d=new b({team:d,showRightPanel:c.rightPanel,callback:function(a,b){c.rightPanel=b;a&&c.refresh()}});d.placeAt(c.detailAttach);c.registerDetailWidget(d);c.showTeamObjects(a)}})},
selectNewTeam:function(){var a=this;f.create("div",{className:"containerLabel",innerHTML:i18n("Create Team"),style:{padding:"10px"}},this.detailAttach);var c=new b({callback:function(b,c,d){b&&a.refresh(d)}});c.placeAt(this.detailAttach);this.registerDetailWidget(c)},confirmDelete:function(a){var b=this;new q({message:i18n("Are you sure you want to delete team %s?",a.name),action:function(){k.del({url:bootstrap.baseUrl+"security/team/"+a.id,handleAs:"json",load:function(){b.refresh()}})}})},showTeamObjects:function(b){this.detailAttach.appendChild(f.create("div",
{className:"team-object-mapping-divider"}));(new h({titleText:i18n("Team Object Mappings"),tooltipText:i18n("When a team is assigned to an object, only team members with the appropriate permissions can interact with the affected object.")})).placeAt(this.detailAttach);this.securedObjects=new a({team:b.id});this.securedObjects.placeAt(this.detailAttach);this.registerDetailWidget(this.securedObjects)},removeOverflow:function(){var a=j.byId("_webext_content");a&&e.add(a,"overflow-visible")}})})},"dojo/dom-construct":function(){define("exports,./_base/kernel,./sniff,./_base/window,./dom,./dom-attr,./on".split(","),
function(l,m,k,j,f,e){function d(a,b){var c=b.parentNode;c&&c.insertBefore(a,b)}function c(a){if(a.canHaveChildren)try{a.innerHTML="";return}catch(c){}for(var d;d=a.lastChild;)b(d,a)}function b(a,b){a.firstChild&&c(a);b&&(k("ie")&&b.canHaveChildren&&"removeNode"in a?a.removeNode(!1):b.removeChild(a))}var a={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],
col:["table","colgroup"],li:["ul"]},h=/<\s*([\w\:]+)/,q={},o=0,n="__"+m._scopeName+"ToDomId",s;for(s in a)if(a.hasOwnProperty(s))m=a[s],m.pre="option"==s?'<select multiple="multiple">':"<"+m.join("><")+">",m.post="</"+m.reverse().join("></")+">";l.toDom=function(b,c){var c=c||j.doc,d=c[n];d||(c[n]=d=++o+"",q[d]=c.createElement("div"));var b=b+"",e=b.match(h),f=e?e[1].toLowerCase():"",d=q[d];if(e&&a[f]){e=a[f];d.innerHTML=e.pre+b+e.post;for(e=e.length;e;--e)d=d.firstChild}else d.innerHTML=b;if(1==
d.childNodes.length)return d.removeChild(d.firstChild);for(f=c.createDocumentFragment();e=d.firstChild;)f.appendChild(e);return f};l.place=function(a,b,c){b=f.byId(b);"string"==typeof a&&(a=/^\s*</.test(a)?l.toDom(a,b.ownerDocument):f.byId(a));if("number"==typeof c){var e=b.childNodes;!e.length||e.length<=c?b.appendChild(a):d(a,e[0>c?0:c])}else switch(c){case "before":d(a,b);break;case "after":c=a;(e=b.parentNode)&&(e.lastChild==b?e.appendChild(c):e.insertBefore(c,b.nextSibling));break;case "replace":b.parentNode.replaceChild(a,
b);break;case "only":l.empty(b);b.appendChild(a);break;case "first":if(b.firstChild){d(a,b.firstChild);break}default:b.appendChild(a)}return a};l.create=function(a,b,c,d){var h=j.doc;if(c)c=f.byId(c),h=c.ownerDocument;"string"==typeof a&&(a=h.createElement(a));b&&e.set(a,b);c&&l.place(a,c,d);return a};l.empty=function(a){c(f.byId(a))};l.destroy=function(a){(a=f.byId(a))&&b(a,a.parentNode)}})},"dijit/form/NumberSpinner":function(){define("dijit/form/NumberSpinner",["dojo/_base/declare","dojo/_base/event",
"dojo/keys","./_Spinner","./NumberTextBox"],function(l,m,k,j,f){return l("dijit.form.NumberSpinner",[j,f.Mixin],{baseClass:"dijitTextBox dijitSpinner dijitNumberTextBox",adjust:function(e,d){var c=this.constraints,b=isNaN(e),a=!isNaN(c.max),h=!isNaN(c.min);b&&0!=d&&(e=0<d?h?c.min:a?c.max:0:a?this.constraints.max:h?c.min:0);var f=e+d;if(b||isNaN(f))return e;if(a&&f>c.max)f=c.max;if(h&&f<c.min)f=c.min;return f},_onKeyPress:function(e){if(!this.disabled&&!this.readOnly&&(e.charOrCode==k.HOME||e.charOrCode==
k.END)&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&"undefined"!=typeof this.get("value")){var d=this.constraints[e.charOrCode==k.HOME?"min":"max"];"number"==typeof d&&this._setValueAttr(d,!1);m.stop(e)}}})})},"deploy/widgets/security/KeyManager":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dijit/form/CheckBox,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-geometry,dojo/dom-construct,dojo/on,deploy/widgets/Formatters,js/webext/widgets/Alert,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/form/MenuButton,dojox/html/entities,js/webext/widgets/table/TreeTable".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t){return f("deploy.widgets.agentPool.AgentPoolList",[m,l],{templateString:'<div class="agentPoolList"><div class="listTopButtons" data-dojo-attach-point="buttonTopAttach"></div><div data-dojo-attach-point="tableAttach"></div><div data-dojo-attach-point="activeBoxAttach" style="margin: 2px;"></div></div>',postCreate:function(){this.inherited(arguments);var a=bootstrap.restUrl+"apikey/",b=[{name:i18n("API Key"),field:"apiKey",orderField:"apiKey",filterField:"apiKey",
filterType:"text",formatter:this.nameWithActionsFormatter,parentWidget:this},{name:i18n("User"),field:"user.name",filterField:"user.name",orderField:"user.name",filterType:"text"},{name:i18n("Date Created"),formatter:util.tableDateFormatter,field:"dateCreated",orderField:"dateCreated"},{name:i18n("Expiration "),formatter:function(a,b,c){return 1>b?i18n("NEVER"):util.tableDateFormatter(a,b,c)},field:"expiration",orderField:"expiration"}];this.grid=new t({url:a,orderField:"user.name",sortType:"asc",
noDataMessage:i18n("No API Keys have been added yet."),tableConfigKey:"apiKeyTableConfig",columns:b,serverSideProcessing:!0,hidePagination:!1,hideExpandCollapse:!0,queryData:{outputType:["BASIC"]}});this.grid.placeAt(this.tableAttach)},nameWithActionsFormatter:function(a,d,e){var h=this.parentWidget;e.style.position="relative";var e=b.create("div",{"class":"inlineBlock",style:"margin-"+(c.isBodyLtr()?"right":"left")+":130px;"}),f=b.create("div",{"class":"inlineBlock"});b.place(f,e);var j=b.create("div",
{"class":"inlineBlock"});j.innerHTML=d.escape();b.place(j,f);b.place(h.actionsFormatter(a),e);return e},actionsFormatter:function(a){var c=b.create("div",{dir:util.getUIDir(),align:util.getUIDirAlign(),"class":"tableHoverActions"}),d=[];d.push(this.getRevokeAction(a));d.length&&(new s({options:d,label:i18n("Actions...")})).placeAt(c);return c},getRevokeAction:function(a){var b=this;return{label:i18n("Revoke"),onClick:function(){b.confirmRevoke(a)}}},confirmRevoke:function(a){var b=this;new n({message:i18n("Are you sure you want to revoke %s? This will permanently remove it from the system.",
a.apiKey.escape()),action:function(){b.grid.block();e.del({url:bootstrap.restUrl+"apikey/"+a.apiKey,handleAs:"json",load:function(){b.grid.unblock();b.grid.refresh()},error:function(a){(new q({messages:[i18n("Error revoking Keys"),"",util.escape(a.responseText)]})).startup();b.grid.unblock()}})}})}})})},"deploy/widgets/workflow/activity/MultipleComponentsActivity":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/store/Memory,dojo/on,deploy/widgets/workflow/activity/BaseActivity,js/webext/widgets/RestSelect,deploy/widgets/property/PropertyTextareaBox".split(","),
function(l,m,k,j,f,e,d){return m("deploy.widgets.workflow.activity.MultipleComponentsActivity",[e],{disableStatusSelect:!1,postCreate:function(){this.inherited(arguments);if(!this.initialized)this.data.name=util.randomString(30),this.editProperties()},editProperties:function(c){var b=this,a=this.getChildData(),e=this.getChildChildData(),f;e&&e.children&&(f=e.children[0]);var j=b.createPropertyDialog(),k=b.createPropertyForm({dialog:j,validateFields:function(a){return b.validateName(a.name)},onSubmit:function(a){c&&
c();b.initialized=!0;b.data=b.getSelfData();b.data.componentTagId=a.componentTagId;if(a.resourceTagId&&""!==a.resourceTagId)b.data.resourceTagId=a.resourceTagId;else if(b.data.resourceTagId)b.data.resourceTagId=void 0;b.data.runOnlyOnFirst=a.runOnlyOnFirst;b.data.maxIteration=a.maxIteration;b.data.failFast=a.failFast;b.data.preconditionScript=a.preconditionScript;var d={};l.forEach(b.extraPropertyNames,function(b){var c=b.substring(2);d[c]=a[b]});b.data.componentProcessName=a.componentProcessName;
b.data.children=b.getSelfChildData(a,d);b.updateLabel();j.hide();k.destroy();j.destroy()},readOnly:b.readOnly});k.addField({name:"name",label:i18n("Name"),type:"Text",required:!0,value:f?f.name:""});f=b.data.componentTagId;if(b.data.componentTag)f=b.data.componentTag.id;k.addField({name:"componentTagId",label:i18n("Component Tag"),type:"TagDropDown",objectType:"Component",value:f,readOnly:b.readOnly,noneLabel:i18n("All Components"),onChange:function(){b.showFieldsForComponent(k,this.get("value"))}});
k.addField({name:"tagId",label:i18n("Limit to Resource Tag"),type:"TagDropDown",objectType:"Resource",value:a.tagId,readOnly:b.readOnly});b.disableStatusSelect||(a=new d({restUrl:bootstrap.restUrl+"deploy/status/inventoryStatuses",getLabel:function(a){return a.name.escape()},getValue:function(a){return a.name},getStyle:function(a){return{backgroundColor:a.color}},value:e.status,allowNone:!1}),k.addField({name:"status",label:b.statusLabel,required:!0,widget:a}));k.addField({name:"maxIteration",label:i18n("Max. # of Concurrent Jobs."),
type:"Text",textDir:"ltr",required:!0,value:b.data.maxIteration||-1,description:i18n("The max number of concurrent component processes to run at any time. Use -1 for unlimited.")});k.addField({name:"failFast",label:i18n("Fail Fast"),type:"Checkbox",description:i18n("When this is checked, this step will not start any more component processes if one fails."),value:b.data.failFast});k.addField({name:"runOnlyOnFirst",label:i18n("Run on First Online Resource Only"),type:"Checkbox",description:i18n("When this is checked, this step will only use one resource. It will not run on all resources."),
value:b.data.runOnlyOnFirst});k.addField({name:"preconditionScript",label:i18n("Precondition"),type:"PropertyArea",description:i18n("A script to determine whether this step should run. Must evaluate to true or false if not left blank."),value:b.data.preconditionScript,cache:b.graphEditor.cache});k.addField({name:"_typeSelectionInsert",type:"hidden"});b.addExtraFields(k,"_typeSelectionInsert",e);b.showFieldsForComponent(k,f);k.placeAt(j.containerNode);j.show()},showFieldsForComponent:function(c){var b=
this;this.getChildData();var a=this.getChildChildData();l.forEach(this.extraPropertyNames,function(a){b.removePropertyField(c,a)});this.extraPropertyNames=[];var d;if(b.data.children)d=b.data.children[0].children[0].children[0].componentProcessName;c.hasField("componentProcessName")||(c.addField({name:"componentProcessName",label:i18n("Component Process"),type:"Text",value:d,required:!0,description:i18n("The precise name of the process to run.")},"tagId"),(config.data.systemConfiguration.enableAllowFailure||
a.allowFailure)&&c.addField({name:"allowFailure",label:i18n("Ignore Failure"),description:i18n("When checked, this step will always be considered successful."),type:"Checkbox",value:a.allowFailure},"resourceTagId"))},getSelfData:function(){return{name:this.data.name,type:"multiComponentEnvironmentIterator"}},addExtraFields:function(){}})})},"deploy/widgets/security/authorization/GroupMemberList":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/on,deploy/widgets/security/authorization/SelectGroupMemberForm,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/Table".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q){return j("deploy.widgets.security.authorization.GroupMemberList",[m,l],{templateString:'<div class="groupMemberList"><div data-dojo-attach-point="buttonAttach"></div><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var a=this,b=bootstrap.baseUrl+"security/group/"+this.group.id+"/members",c=[{name:i18n("User"),field:"displayName",orderField:"name",filterField:"name",filterType:"text",getRawValue:function(a){return a.displayName}},
{name:i18n("Actions"),formatter:this.actionsFormatter,parentWidget:this}];this.grid=new q({url:b,serverSideProcessing:!1,columns:c,tableConfigKey:"secGroupMemberList",noDataMessage:i18n("No members have been added yet.")});this.grid.placeAt(this.gridAttach);b=new k({label:i18n("Add Member"),showTitle:!1,onClick:function(){a.showAddGroupMemberDialog({})}});e.add(b.domNode,"idxButtonSpecial");b.placeAt(this.buttonAttach)},destroy:function(){this.inherited(arguments);this.grid.destroy()},actionsFormatter:function(a){var b=
this.parentWidget,e=d.create("a",{innerHTML:i18n("Remove"),"class":"actionsLink linkPointer"});c(e,"click",function(){b.confirmRemoval(a)});return e},confirmRemoval:function(a){var b=this;new h({message:i18n("Are you sure you want to remove member '%s'?",a.name.escape()),action:function(){f.del({url:bootstrap.baseUrl+"security/group/"+b.group.id+"/members/"+a.id,load:function(){b.grid.refresh()}})}})},showAddGroupMemberDialog:function(){var c=this,d=new a({title:i18n("Add Group Member"),closable:!0,
draggable:!0});(new b({group:c.group,saveUrl:bootstrap.baseUrl+"security/group/"+c.group.id+"/members",callback:function(a){d.hide();d.destroy();a&&c.grid.refresh()}})).placeAt(d.containerNode);d.show()}})})},"deploy/widgets/process/ProcessHistory":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/Tooltip,dojo/_base/declare,dojo/_base/xhr,dojo/query,dojo/dom-construct,dojo/on,dojo/topic,deploy/widgets/Formatters,js/webext/widgets/table/TreeTable,js/webext/widgets/Alert".split(","),function(l,
m,k,j,f,e,d,c,b,a,h,q){return j("deploy.widgets.process.ProcessHistory",[m,l],{templateString:'<div class="processHistory"><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var j=this,n=bootstrap.restUrl+"process/request",l=[{name:i18n("Process Version"),field:"processVersion",orderField:"processVersion",filterField:"processVersion",filterClass:"Integer",filterType:"textExact"},{name:i18n("Scheduled For"),formatter:function(a){return util.dateFormatShort(a.submittedTime)},
orderField:"submittedTime"},{name:i18n("By"),field:"userName",orderField:"user.name",filterField:"user.name",filterType:"text"},{name:i18n("Status"),formatter:function(b,c,d){var e="";b&&(e=a.activityStatusFormatter(b,c,d));return e}},{name:i18n("Actions"),formatter:function(a){var b=document.createElement("div");d.create("a",{"class":"actionsLink",innerHTML:i18n("View Request"),href:"#processRequest/"+a.id},b);if(j.process.security.execute&&a&&"EXECUTING"===a.state){if(a.paused){var e=d.create("a",
{innerHTML:i18n("Resume"),"class":"actionsLink linkPointer"},b);c(e,"click",function(){j.grid.block();f.put({url:bootstrap.restUrl+"workflow/"+a.workflowTraceId+"/resume",handleAs:"json",load:function(){j.grid.unblock();j.grid.refresh()},error:function(){new q({message:i18n("Could not cancel the process.")});j.grid.unblock();j.grid.refresh()}})})}else e=d.create("a",{innerHTML:i18n("Pause"),"class":"actionsLink linkPointer"},b),c(e,"click",function(){j.grid.block();f.put({url:bootstrap.restUrl+"workflow/"+
a.workflowTraceId+"/pause",handleAs:"json",load:function(){j.grid.unblock();j.grid.refresh()},error:function(){new q({message:i18n("Could not cancel the process.")});j.grid.unblock();j.grid.refresh()}})});e=d.create("a",{innerHTML:i18n("Cancel"),"class":"actionsLink linkPointer"},b);c(e,"click",function(){j.grid.block();f.put({url:bootstrap.restUrl+"workflow/"+a.workflowTraceId+"/cancel",handleAs:"json",load:function(){j.grid.unblock();j.grid.refresh()},error:function(){new q({message:i18n("Could not cancel the process.")});
j.grid.unblock();j.grid.refresh()}})})}return b}}];b.subscribe("navigationError",function(a){var b=a.response.url.split("/"),b=e('a[href*="'+b[b.length-1]+'"]')[0].parentNode;if(1===b.children.length){var c=d.create("div",{className:"general-icon failed-icon inlineBlock"});new k({connectId:[c],label:i18n(util.escape(a.responseText)),showDelay:100,position:["after","above","below","before"]});d.place(c,b)}});this.grid=new h({url:n,orderField:"submittedTime",sortType:"desc",columns:l,hidePagination:!1,
hideExpandCollapse:!0,queryData:{outputType:["BASIC"]},baseFilters:[{name:"processPath",type:"eq",values:[j.process.path]}]});this.grid.placeAt(this.gridAttach)},destroy:function(){this.inherited(arguments);this.grid.destroy()}})})},"dojo/NodeList-dom":function(){define("./_base/kernel,./query,./_base/array,./_base/lang,./dom-class,./dom-construct,./dom-geometry,./dom-attr,./dom-style".split(","),function(l,m,k,j,f,e,d,c,b){function a(a){return function(b,c,d){return 2==arguments.length?a["string"==
typeof c?"get":"set"](b,c):a.set(b,c,d)}}var h=function(a){return 1==a.length&&"string"==typeof a[0]},q=function(a){var b=a.parentNode;b&&b.removeChild(a)},o=m.NodeList,n=o._adaptWithCondition,s=o._adaptAsForEach,r=o._adaptAsMap;j.extend(o,{_normalize:function(a,b){var c=!0===a.parse;if("string"==typeof a.template)var d=a.templateFunc||l.string&&l.string.substitute,a=d?d(a.template,a):a;d=typeof a;"string"==d||"number"==d?(a=e.toDom(a,b&&b.ownerDocument),a=11==a.nodeType?j._toArray(a.childNodes):
[a]):j.isArrayLike(a)?j.isArray(a)||(a=j._toArray(a)):a=[a];if(c)a._runParse=!0;return a},_cloneNode:function(a){return a.cloneNode(!0)},_place:function(a,b,c,d){if(!(1!=b.nodeType&&"only"==c))for(var h,f=a.length,j=f-1;0<=j;j--){var k=d?this._cloneNode(a[j]):a[j];if(a._runParse&&l.parser&&l.parser.parse){h||(h=b.ownerDocument.createElement("div"));h.appendChild(k);l.parser.parse(h);for(k=h.firstChild;h.firstChild;)h.removeChild(h.firstChild)}j==f-1?e.place(k,b,c):b.parentNode.insertBefore(k,b);b=
k}},position:r(d.position),attr:n(a(c),h),style:n(a(b),h),addClass:s(f.add),removeClass:s(f.remove),toggleClass:s(f.toggle),replaceClass:s(f.replace),empty:s(e.empty),removeAttr:s(c.remove),marginBox:r(d.getMarginBox),place:function(a,b){var c=m(a)[0];return this.forEach(function(a){e.place(a,c,b)})},orphan:function(a){return(a?m._filterResult(this,a):this).forEach(q)},adopt:function(a,b){return m(a).place(this[0],b)._stash(this)},query:function(a){if(!a)return this;var b=new o;this.map(function(c){m(a,
c).forEach(function(a){void 0!==a&&b.push(a)})});return b._stash(this)},filter:function(a){var b=arguments,c=this,d=0;if("string"==typeof a){c=m._filterResult(this,b[0]);if(1==b.length)return c._stash(this);d=1}return this._wrap(k.filter(c,b[d],b[d+1]),this)},addContent:function(a,b){for(var a=this._normalize(a,this[0]),c=0,d;d=this[c];c++)this._place(a,d,b,0<c);return this}});return o})},"idx/main":function(){define("idx/main",["require","dojo/_base/lang","dojo/_base/kernel","dojo/_base/window",
"dojo/dom-class"],function(l,m,k,j,f){var m=m.getObject("idx",!0),e=function(){var c=j.body();f.add(c,"idx_dojo_"+k.version.major+"_"+k.version.minor)},d=k.version.minor;2>k.version.major&&7>d?dojo.addOnLoad(e):l(["dojo/domReady!"],e);return m})},"deploy/widgets/application/wizard/ComponentPage":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/_Container,dijit/Dialog,dojo/_base/declare,dojo/store/Memory,dojo/store/Observable,deploy/widgets/TooltipTitle,deploy/widgets/application/wizard/AppWizardComponentSelector".split(","),
function(l,m,k,j,f,e,d,c,b){return f([m,l,k],{templateString:'<div class="wizardFullPage">  <div data-dojo-attach-point="callToAction" class="callToAction"></div>  <\!-- begin no permission no component tags --\>  <div class="pageAlerts">    <div data-dojo-attach-point="noPermissionNoTagsAttach" class="pageAlert lowPriority">      <h1 class="msgtitle">'+i18n("You cannot specify components for this application now.")+'      </h1>       <p class="description">'+i18n("Your role does not have the permissions to add components to an application, and the application template does not contain component tags.")+
'      </p>      <h2 class="solutionheader">'+i18n("Solutions")+'      </h2>      <ul class="listheader solutionoptionscontainer">'+i18n("For permissions")+'          <li class="solutionoptions">'+i18n("You can ask your administrator to grant your role the permissions that are required to add components to an application.")+'          </li>      </ul>      <ul class="listheader">'+i18n("For component tags (You must request permission to add components to an application.)")+'          <li class="solutionoptions">'+
i18n("You can add components after you save this application.")+'          </li>          <li class="solutionoptions">'+i18n("You can request that component tags be added to the application template.")+'          </li>          <li class="solutionoptions">'+i18n("If you expected to specify components for this application during creation, confirm that you selected the correct application template.")+'          </li>      </ul>    </div>  </div>  <\!-- end no permission no component tags --\>   <\!-- begin yes permission no component tags --\>  <div class="pageAlerts">    <div data-dojo-attach-point="yesPermissionNoTagsAttach" class="pageAlert lowPriority">      <h1 class="msgtitle">'+
i18n("You cannot specify components for this application now.")+'      </h1>       <p class="description">'+i18n("The application template does not contain component tags.")+'      </p>      <h2 class="solutionheader">'+i18n("Solutions")+'      </h2>      <ul class="listheader">          <li class="solutionoptions">'+i18n("You can add components after you save this application.")+'          </li>          <li class="solutionoptions">'+i18n("You can request that component tags be added to the application template.")+
'          </li>          <li class="solutionoptions">'+i18n("If you expected to specify components for this application during creation, confirm that you selected the correct application template.")+'          </li>      </ul>    </div>  </div>  <\!-- end yes permission no component tags --\>  <\!-- begin no permission yes component tags --\>  <div class="pageAlerts">    <div data-dojo-attach-point="noPermissionYesTagsAttach" class="pageAlert lowPriority">      <h1 class="msgtitle">'+i18n("You cannot specify components for this application now.")+
'      </h1>       <p class="description">'+i18n("Your role does not have the permissions to add components to an application.")+'      </p>      <h2 class="solutionheader">'+i18n("Solutions")+'      </h2>      <ul class="listheader">          <li class="solutionoptions">'+i18n("You can ask your administrator to grant your role the permissions that are required to add components to an application.")+"          </li>      </ul>    </div>  </div>  <\!-- end no permission yes component tags --\></div>",
postCreate:function(){this.inherited(arguments);(new c({titleText:i18n("Select components to deploy in this application."),tooltipText:"<div class='wizard-component-page-tooltip'>"+i18n("An application is a collection of components. Components are deployable items  and the processes that are required to deploy them to an environment.  Applications often contain multiple components, and you might use the same component in multiple applications.")+"<br/><br/>"+i18n("During application creation, you populate the application with a specific number of components that contain the  displayed tags. You can add existing components or create components. If you add components, they must contain the specified tag. If you create components, you must create them from templates that contain the tag. The total number of added and created components must meet the requirements that are specified for each tag.")+
"<br/><br/>"+i18n("If you create a component, you must create a deployment process for the component.")+"</div>"})).placeAt(this.callToAction)},_hasPermission:function(){var a=!1;config.data.permissions["Manage Components"]&&config.data.permissions["View Components"]&&(a=!0);return a},_hasTag:function(){var a=!1;this.sharedData.template&&0<this.sharedData.template.tagRequirements.length&&(a=!0);return a},_onShow:function(){if(!(this.template&&this.template.name===this.sharedData.template.name))this._hasPermission()?
(this._hasTag()?(dojo.style(this.noPermissionNoTagsAttach,"display","none"),dojo.style(this.yesPermissionNoTagsAttach,"display","none")):(dojo.style(this.callToAction,"display","none"),dojo.style(this.yesPermissionNoTagsAttach,"display",""),dojo.style(this.noPermissionNoTagsAttach,"display","none")),dojo.style(this.noPermissionYesTagsAttach,"display","none")):(dojo.style(this.callToAction,"display","none"),this._hasTag()?(dojo.style(this.noPermissionYesTagsAttach,"display",""),dojo.style(this.yesPermissionNoTagsAttach,
"display","none"),dojo.style(this.noPermissionNoTagsAttach,"display","none")):(dojo.style(this.noPermissionNoTagsAttach,"display",""),dojo.style(this.yesPermissionNoTagsAttach,"display","none"),dojo.style(this.noPermissionYesTagsAttach,"display","none"))),this.template=this.sharedData.template,this.sharedData.components=new d(new e({idProperty:"id"})),this.getChildren().forEach(function(a){"deploy.widgets.TooltipTitle"!==a.declaredClass&&a.destroy()}),this._hasPermission()&&this.template.tagRequirements.forEach(function(a){this.addChild(new b({tagRequirement:a,
components:this.sharedData.components}))},this)},validate:function(){var a=[];this.getChildren().forEach(function(b){"deploy.widgets.TooltipTitle"!==b.declaredClass&&(b.isRequirementSatisfied()||a.push(b.getRequirementDescriptionWithTagName()))});return a}})})},"url:dijit/templates/TitlePane.html":'<div>\n\t<div data-dojo-attach-event="onclick:_onTitleClick, onkeydown:_onTitleKey"\n\t\t\tclass="dijitTitlePaneTitle" data-dojo-attach-point="titleBarNode" id="${id}_titleBarNode">\n\t\t<div class="dijitTitlePaneTitleFocus" data-dojo-attach-point="focusNode">\n\t\t\t<img src="${_blankGif}" alt="" data-dojo-attach-point="arrowNode" class="dijitArrowNode" role="presentation"\n\t\t\t/><span data-dojo-attach-point="arrowNodeInner" class="dijitArrowNodeInner"></span\n\t\t\t><span data-dojo-attach-point="titleNode" class="dijitTitlePaneTextNode"></span>\n\t\t</div>\n\t</div>\n\t<div class="dijitTitlePaneContentOuter" data-dojo-attach-point="hideNode" role="presentation">\n\t\t<div class="dijitReset" data-dojo-attach-point="wipeNode" role="presentation">\n\t\t\t<div class="dijitTitlePaneContentInner" data-dojo-attach-point="containerNode" role="region" id="${id}_pane" aria-labelledby="${id}_titleBarNode">\n\t\t\t\t<\!-- nested divs because wipeIn()/wipeOut() doesn\'t work right on node w/padding etc.  Put padding on inner div. --\>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n',
"deploy/widgets/workflow/GraphEdgeManager":function(){define("dijit/_Widget,dojo/_base/declare,dojo/on,dojo/dom-construct,js/webext/widgets/ColumnForm,js/webext/widgets/Dialog".split(","),function(l,m,k,j,f,e){return m("deploy.widgets.workflow.GraphEdgeManager",[l],{graphEditor:null,graph:null,postCreate:function(){this.inherited(arguments);if(!this.graphEditor)throw"Unable to create a GraphEdgeManager without a graphEditor specified.";this.graph=this.graphEditor.graph},setGraphHasChanges:function(){this.graphHasChanges?
this.graphHasChanges():document.hasChanges=!0},addEdgeOverlays:function(d,c){var b=this;this.graph.getModel().getGeometry(d);var a="applicationApprovalTask"===c.activity.data.type||"environmentApprovalTask"===c.activity.data.type||"componentApprovalIterator"===c.activity.data.type;d.data={type:"ALWAYS"};var e=new mxCellOverlay(new mxImage(bootstrap.imageUrl+"icons/process/close_step.png",18,18));e.cursor="hand";var f=0,j=0;c.activity&&"start"!==c.activity.data.type&&!a&&("switch"===c.activity.data.type&&
(j=-10),f=10);e.offset=new mxPoint(f,j);e.addListener(mxEvent.CLICK,mxUtils.bind(this,function(){b.deleteEdge(d)}));this.graph.addCellOverlay(d,e);c.activity&&"switch"===c.activity.data.type&&(this.addEditOverlay(d),b.graph.labelChanged(d,i18n("Default")),b.graph.setDefaultEdge(d,!0));if(c.activity&&"switch"!==c.activity.data.type&&"start"!==c.activity.data.type)a?d.data.type="SUCCESS":this.addCheckOverlay(d)},addCheckOverlay:function(d){var c=this,b=new mxCellOverlay(new mxImage(bootstrap.imageUrl+
"icons/process/step_successful.png",20,20));b.cursor="hand";b.offset=new mxPoint(-11,0);b.align=mxConstants.ALIGN_RIGHT;b.verticalAlign=mxConstants.ALIGN_TOP;b.tooltip=i18n("Run On Success");b.addListener(mxEvent.CLICK,mxUtils.bind(this,function(){c.setGraphHasChanges();c.addErrorOverlay(d);c.graph.removeCellOverlay(d,b)}));d.data.type="SUCCESS";this.graph.setEdgeState(d);this.graph.addCellOverlay(d,b)},addErrorOverlay:function(d){var c=this,b=new mxCellOverlay(new mxImage(bootstrap.imageUrl+"icons/process/step_fail.png",
20,20));b.cursor="hand";b.offset=new mxPoint(-11,0);b.align=mxConstants.ALIGN_RIGHT;b.verticalAlign=mxConstants.ALIGN_TOP;b.tooltip=i18n("Run On Failure");b.addListener(mxEvent.CLICK,mxUtils.bind(this,function(){c.setGraphHasChanges();c.addAlwaysOverlay(d);c.graph.removeCellOverlay(d,b)}));d.data.type="FAILURE";this.graph.setEdgeState(d,!0);this.graph.addCellOverlay(d,b)},addAlwaysOverlay:function(d){var c=this,b=new mxCellOverlay(new mxImage(bootstrap.imageUrl+"icons/process/step_always.png",20,
20));b.cursor="hand";b.offset=new mxPoint(-11,0);b.align=mxConstants.ALIGN_RIGHT;b.verticalAlign=mxConstants.ALIGN_TOP;b.tooltip=i18n("Always Run");b.addListener(mxEvent.CLICK,mxUtils.bind(this,function(){c.setGraphHasChanges();c.addCheckOverlay(d);c.graph.removeCellOverlay(d,b)}));d.data.type="ALWAYS";this.graph.setEdgeState(d,"always");this.graph.addCellOverlay(d,b)},addEditOverlay:function(d){var c=this,b=new mxCellOverlay(new mxImage(bootstrap.imageUrl+"icons/process/step_edit.png",18,18));b.cursor=
"hand";b.offset=new mxPoint(-10,-10);b.align=mxConstants.ALIGN_RIGHT;b.verticalAlign=mxConstants.ALIGN_TOP;b.addListener(mxEvent.CLICK,mxUtils.bind(this,function(){c.editEdgeProperties(d)}));d.data.type="VALUE";this.graph.addCellOverlay(d,b)},deleteEdge:function(d){var c=this.graph.getModel();c.beginUpdate();this.graph.removeCells([d],!0);c.endUpdate();this.setGraphHasChanges()},editEdgeProperties:function(d){var c=this,b=new e({title:i18n("Edit Properties"),closable:!0,draggable:!0}),a=new f({onSubmit:function(e){c.setGraphHasChanges();
d.data.value=e.value||null;"true"===e.isDefault||""===d.data.value||!e.value?(c.graph.labelChanged(d,i18n("Default")),c.graph.setDefaultEdge(d,!0)):(c.graph.labelChanged(d,e.value.replace(/\n/g,", ")),c.graph.setDefaultEdge(d));b.hide();a.destroy();b.destroy()},onCancel:function(){b.hide();this.destroy();b.destroy()}}),h=!d.data.value,k=a.addField({name:"isDefault",label:i18n("Default?"),type:"Switch",value:h,onChange:function(b){b?a.hasField("value")&&(a.removeField("value"),a.removeField("value_description"),
a.removeField("wildcard")):c.addValueFields(a,d)}});j.create("div",{className:"inline-block graph-edit-properties labelsAndValues-valueCell",innerHTML:i18n("When this switch is on, this connection will be taken only when no others are matched.")},k.widget.fieldRow,"last");h||c.addValueFields(a,d);a.placeAt(b.containerNode);b.show()},addValueFields:function(d,c){d.addField({name:"value",label:i18n("Value"),type:"Text Area",required:!0,value:c.data.value});d.addField({name:"value_description",label:"",
type:"Label",value:i18n("Enter the value(s) to match to take this arrow. Multiple values can be entered, one per line. Only one must match for this connection to be valid.")});d.addField({name:"wildcard",label:"",type:"Label",value:i18n("* can be used as a wildcard.")})}})})},"dijit/form/_ButtonMixin":function(){define("dijit/form/_ButtonMixin",["dojo/_base/declare","dojo/dom","dojo/_base/event","../registry"],function(l,m,k,j){return l("dijit.form._ButtonMixin",null,{label:"",type:"button",_onClick:function(f){if(this.disabled)return k.stop(f),
!1;var e=!1===this.onClick(f);if(!e&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var d=this.domNode;d.parentNode;d=d.parentNode){var c=j.byNode(d);if(c&&"function"==typeof c._onSubmit){c._onSubmit(f);e=!0;break}}e&&f.preventDefault();return!e},postCreate:function(){this.inherited(arguments);m.setSelectable(this.focusNode,!1)},onClick:function(){return!0},_setLabelAttr:function(f){this._set("label",f);(this.containerNode||this.focusNode).innerHTML=f}})})},"js/webext/widgets/table/_TableSortingMixin":function(){define("js/webext/widgets/table/_TableSortingMixin",
["dojo/_base/declare","dojo/_base/array"],function(l,m){return l(null,{sort:function(k,j){var f=this;j||(j=0);var e=f.orderField;f.orderField instanceof Array&&f.orderField.length>j&&(e=f.orderField[j]);void 0!==e&&m.forEach(f.columns,function(d){var c=!!d.getRawValue;void 0!==d.orderField&&d.orderField===e&&k.sort(function(b,a){var e=null,j=null;c?(e=d.getRawValue(b.item),j=d.getRawValue(a.item)):(e=b.item[d.orderField],j=a.item[d.orderField]);var k=!0,n=!0;if(null===e||void 0===e)k=!1;if(null===
j||void 0===j)n=!1;var l=0;!k||!n?!k&&!n?l=0:k?l=1:n&&(l=-1):(k=typeof e,"number"===k?l=e-j:"string"===k?l=e.localeCompare(j):"object"===k&&e instanceof Date&&(l=e-j));"desc"===f.sortType&&(l*=-1);return l})});m.forEach(k,function(d){d.children&&0<d.children.length&&f.sort(d.children,j+1)});return k}})})},"url:dijit/form/templates/Button.html":'<span class="dijit dijitReset dijitInline" role="presentation"\n\t><span class="dijitReset dijitInline dijitButtonNode"\n\t\tdata-dojo-attach-event="ondijitclick:_onClick" role="presentation"\n\t\t><span class="dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point="titleNode,focusNode"\n\t\t\trole="button" aria-labelledby="${id}_label"\n\t\t\t><span class="dijitReset dijitInline dijitIcon" data-dojo-attach-point="iconNode"></span\n\t\t\t><span class="dijitReset dijitToggleButtonIconChar">&#x25CF;</span\n\t\t\t><span class="dijitReset dijitInline dijitButtonText"\n\t\t\t\tid="${id}_label"\n\t\t\t\tdata-dojo-attach-point="containerNode"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type="${type}" value="${value}" class="dijitOffScreen"\n\t\ttabIndex="-1" role="presentation" data-dojo-attach-point="valueNode"\n/></span>\n',
"dijit/focus":function(){define("dijit/focus","dojo/aspect,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-construct,dojo/Evented,dojo/_base/lang,dojo/on,dojo/ready,dojo/sniff,dojo/Stateful,dojo/_base/unload,dojo/_base/window,dojo/window,./a11y,./registry,./main".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t){var w=new (m([h,e],{curNode:null,activeStack:[],constructor:function(){var a=d.hitch(this,function(a){k.isDescendant(this.curNode,a)&&this.set("curNode",null);k.isDescendant(this.prevNode,
a)&&this.set("prevNode",null)});l.before(f,"empty",a);l.before(f,"destroy",a)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(b,c){var d=this,e=function(b){d._justMouseDowned=!0;setTimeout(function(){d._justMouseDowned=!1},0);if(!a("ie")||!b||!(b.srcElement&&null==b.srcElement.parentNode))d._onTouchNode(c||b.target||b.srcElement,"mouse")},h=a("ie")?b.document.documentElement:b.document;if(h){if(a("ie")){b.document.body.attachEvent("onmousedown",e);var f=
function(a){var b=a.srcElement.tagName.toLowerCase();"#document"==b||"body"==b||(s.isTabNavigable(a.srcElement)?d._onFocusNode(c||a.srcElement):d._onTouchNode(c||a.srcElement))};h.attachEvent("onfocusin",f);var j=function(a){d._onBlurNode(c||a.srcElement)};h.attachEvent("onfocusout",j);return{remove:function(){b.document.detachEvent("onmousedown",e);h.detachEvent("onfocusin",f);h.detachEvent("onfocusout",j);h=null}}}h.body.addEventListener("mousedown",e,!0);h.body.addEventListener("touchstart",e,
!0);var k=function(a){d._onFocusNode(c||a.target)};h.addEventListener("focus",k,!0);var o=function(a){d._onBlurNode(c||a.target)};h.addEventListener("blur",o,!0);return{remove:function(){h.body.removeEventListener("mousedown",e,!0);h.body.removeEventListener("touchstart",e,!0);h.removeEventListener("focus",k,!0);h.removeEventListener("blur",o,!0);h=null}}}},_onBlurNode:function(){this._clearFocusTimer&&clearTimeout(this._clearFocusTimer);this._clearFocusTimer=setTimeout(d.hitch(this,function(){this.set("prevNode",
this.curNode);this.set("curNode",null)}),0);if(!this._justMouseDowned)this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),this._clearActiveWidgetsTimer=setTimeout(d.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0)},_onTouchNode:function(a,b){this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);var c=[];try{for(;a;){var d=j.get(a,"dijitPopupParent");if(d)a=r.byId(d).domNode;else if(a.tagName&&
"body"==a.tagName.toLowerCase()){if(a===o.body())break;a=n.get(a.ownerDocument).frameElement}else{var e=a.getAttribute&&a.getAttribute("widgetId"),h=e&&r.byId(e);h&&!("mouse"==b&&h.get("disabled"))&&c.unshift(e);a=a.parentNode}}}catch(f){}this._setStack(c,b)},_onFocusNode:function(a){a&&9!=a.nodeType&&(this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(a),a!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",a)))},_setStack:function(a,
b){var c=this.activeStack;this.set("activeStack",a);for(var d=0;d<Math.min(c.length,a.length)&&!(c[d]!=a[d]);d++);for(var e,h=c.length-1;h>=d;h--)if(e=r.byId(c[h]))e._hasBeenBlurred=!0,e.set("focused",!1),e._focusManager==this&&e._onBlur(b),this.emit("widget-blur",e,b);for(h=d;h<a.length;h++)if(e=r.byId(a[h]))e.set("focused",!0),e._focusManager==this&&e._onFocus(b),this.emit("widget-focus",e,b)},focus:function(a){if(a)try{a.focus()}catch(b){}}}));b(function(){var b=w.registerWin(n.get(o.doc));a("ie")&&
q.addOnWindowUnload(function(){b&&(b.remove(),b=null)})});t.focus=function(a){w.focus(a)};for(var u in w)/^_/.test(u)||(t.focus[u]="function"==typeof w[u]?d.hitch(w,u):w[u]);w.watch(function(a,b,c){t.focus[a]=c});return w})},"deploy/widgets/resource/ResourceTree":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dijit/form/TextBox,dijit/Tooltip,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-geometry,dojo/dom-construct,dojo/dom-style,dojo/json,dojo/on,dojo/query,deploy/widgets/Formatters,deploy/widgets/component/ComponentResources,deploy/widgets/log/LiveLogViewer,deploy/widgets/resource/EditResource,deploy/widgets/resource/ResourceSelector,deploy/widgets/resourceTemplate/EditResourceTemplate,js/webext/widgets/RadioButtonGroup,deploy/widgets/resourceTemplate/ApplyResourceTemplate,deploy/widgets/rightPanel/ResourceRightPanelContainer,deploy/widgets/tag/Tagger,deploy/widgets/resource/ResourceCompareSelectorDialog,deploy/widgets/filter/TagFilter,js/webext/widgets/Alert,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/table/TreeTable,js/webext/widgets/ColumnForm,js/webext/widgets/DialogMultiSelect,js/webext/widgets/form/MenuButton".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u,x,v,y,A,z,B,D,G,C,S,K,L,M,I,J){return d([m,l],{templateString:'<div class="resourceList"><div class="listTopButtons" data-dojo-attach-point="buttonAttach" style="position:relative; z-index=1;"></div><div data-dojo-attach-point="resourcesGrid"></div><div class="right-panel-container" data-dojo-attach-point="panelAttach"></div></div>',hideTopButtons:!1,onRowSelect:function(){},postCreate:function(){this.inherited(arguments);var a=this;if(!this.url)this.url=
bootstrap.restUrl+"resource/resource/tree";if(!this.xhrMethod)this.xhrMethod="GET";if(!this.serverSideProcessing)this.serverSideProcessing=!1;this.className&&b.add(this.domNode,this.className);var d=[];d.push(this.getNameColumn());e.forEach(this.getOtherColumns(),function(a){d.push(a)});var h={url:this.url,style:this.treeStyle,xhrMethod:this.xhrMethod,serverSideProcessing:this.serverSideProcessing,orderField:"name",noDataMessage:i18n("No resources have been added yet."),tableConfigKey:"resourceList",
columns:d,draggable:!0,selectable:!0,hideExpandCollapse:!1,hidePagination:!0,suppressDefaultOnDrop:!0,isSelectable:function(b){return a.isSelectable(b)},canDragItem:function(b){return a.isSelectable(b)},canDropOnItem:function(b,c){var d=!0;e.forEach(b,function(b){if(b.allowedParentResourceRoles)if(!c.hasAgent&&!c.resourceTemplate)d=!1;else if(0<b.allowedParentResourceRoles.length){var h=!1,f=a.grid._getRowObjectForItem(c),j=f.item.name,k=a.getLowestParentRole(f);e.forEach(b.allowedParentResourceRoles,
function(a){k&&k.id===a.id&&(null===a.folder||void 0===a.folder?h=!0:a.folder===j&&(h=!0))});h||(d=!1)}if((b.workingDirectory||b.agent)&&c.hasAgent)d=!1});return d},onDrop:function(b,d,h){var f=function(f){void 0===f&&(f=[],d.children&&e.forEach(d.children,function(a){f[f.length]=a.name}));var j=[],k={},l=!1;e.forEach(b,function(a){j.push({id:a.id});if(-1!==e.indexOf(f,a.name))k[a.id]=a.name,l=!0});var n=bootstrap.restUrl+"resource/resource/",n=h?n+"copyTo":n+"moveTo",n=n+("/"+d.id),m=function(f){a.grid.block();
var k={sources:j};if(f)k.renames=f;c.put({url:n,putData:o.stringify(k),handleAs:"json",load:function(){a.grid.unblock();h||e.forEach(b,function(b){a.grid.refreshSiblingsForItem(b)});a.grid.refreshRowChildrenForItem(d)},error:function(b){new C({message:util.escape(b.responseText)});a.grid.refresh()}})};if(l){var q=new S({title:i18n("Rename Resources with Conflicting Names"),closable:!0,draggable:!0}),v=new M({onSubmit:function(a){m(a);q.hide();q.destroy()},onCancel:function(){q.hide();q.destroy()}});
v.placeAt(q.containerNode);for(var r in k)k.hasOwnProperty(r)&&v.addField({name:r,label:i18n("New name for %s",k[r]),value:i18n("%s (Copy)",k[r]),required:!0,type:"Text"});q.show()}else m()};a.target=d;!a.externalDrop&&d&&0<b.length&&(d.hasChildren&&(!d.children||0===d.children.length)?c.get({url:bootstrap.restUrl+"resource/resource/"+d.id+"/resources",handleAs:"json",load:function(a){var b=[];a&&dojo.forEach(a,function(a){b[b.length]=a.name});f(b)},error:function(b){new C({message:util.escape(b.responseText)});
a.grid.refresh()}}):f(void 0))},onRowSelect:a.onRowSelect,getChildUrl:function(b){return a.getChildUrl(b)},hasChildren:function(a){return a.hasChildren}};this.grid=new L(h);this.grid.placeAt(this.resourcesGrid);if(this.grid.dndContainer)this.grid.dndContainer.onDropExternal=function(){a.externalDrop=!0};this.buttonAttach=this.grid.buttonAttach;this.addTopButtons();this.addHoverHandler();(h=this.getSelectOptions())&&0<h.length&&(new J({options:h,label:i18n("Select All...")})).placeAt(this.buttonAttach);
if((h=this.getActionsOptions())&&0<h.length){var f=new J({options:h,label:i18n("Actions...")});f.placeAt(this.buttonAttach);h=function(){var b=a.grid.getSelectedItems().length;0===b?(f.set("label",i18n("Actions...")),f.set("disabled",!0)):(f.set("label",i18n("Actions... (%s)",b)),f.set("disabled",!1))};a.grid.on("selectItem",h);a.grid.on("deselectItem",h);a.grid.on("displayTable",h)}config.data.permissions[security.system.createResources]&&!b.contains(this.domNode,"agent-pool")&&this.buildRightPanels()},
getChildUrl:function(a){return bootstrap.restUrl+"resource/resource/"+a.id+"/resources"},buildRightPanels:function(){(this.resource&&!this.resource.parent||this.url&&0===this.url.indexOf("/rest/agent"))&&b.add(this.domNode,"resource-group");this.rightPanelClass&&b.add(this.domNode,this.rightPanelClass);this.rightPanel=new z({parent:this,buttonAttachPoint:this.buttonAttach})},refreshRightPanel:function(){this.rightPanel&&this.rightPanel.current&&this.rightPanel.current.refresh()},getNameColumn:function(){var c=
this;return{name:i18n("Name"),formatter:function(d){var e=h.create("div",{"class":"inlineBlock resourceList-nameColumn",style:"margin-"+(a.isBodyLtr()?"right":"left")+":130px;"});if(d.discoveryFailed){var j=h.create("div",{className:"general-icon failed-icon inlineBlock"});new f({connectId:[j],label:i18n("Discovery failed. Click this icon to view logs."),showDelay:100,position:["after","above","below","before"]});h.place(j,e);n(j,"click",function(){(new w({url:bootstrap.restUrl+"logView/latestResourceDiscovery/"+
d.id+"/stdOut.txt",title:i18n("Output Log"),autoRefresh:!1,paddingTop:"0px"})).show()})}j=d.isRoot?r.resourceLinkFormatterWithPath(d):r.resourceLinkFormatter(d);b.add(j,"inlineBlock");h.place(j,e);c.showTags(d,e);return e},orderField:"name",filterField:"name",filterType:"custom",getFilterFields:function(){var a=new j({name:"name","class":"filter",style:{width:"45%"},placeHolder:i18n("Resource Name"),type:"like"}),b=new G({name:"tags","class":"filter",style:{width:"45%"},placeHolder:i18n("Tags"),type:"like"});
return[a,b]},getRawValue:function(a){return a.path}}},getOtherColumns:function(){return[{name:i18n("Inventory"),formatter:function(a,b,c){return r.resourceInventoryFormatter(a,c,!0)},orderField:"version",filterField:"version",filterType:"text",getRawValue:function(a){var b="None";if(a.version)b=a.version.name;return b}},{name:i18n("Status"),formatter:r.resourceStatusFormatter},{name:i18n("Description"),formatter:function(a){return h.create("div",{innerHTML:a.description?a.description.escape():"",
style:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",maxWidth:"250px"}})},width:"250px",orderField:"description",filterField:"description",filterType:"text",getRawValue:function(a){return a.description}}]},actionsFormatter:function(a){var b=this,c=h.create("div",{dir:util.getUIDir(),align:util.getUIDirAlign(),"class":"tableHoverActions resourceList-rowHoverActions"}),d=[];a.resourceTemplate||(d.push({label:i18n("Compare or Synchronize"),onClick:function(){b.showCompareDialog(a)}}),
d.push({label:i18n("Define New Template"),onClick:function(){b.showNewTemplateDialog(a)}}),d.push({label:i18n("Synchronize With Template"),onClick:function(){b.showApplyTemplateDialog(a)}}),d.push({label:i18n("Add From Template"),onClick:function(){b.showApplyTemplateDialog(a,!0)}}));a.security["Edit Basic Settings"]&&(this.addEditActions(a,c),e.forEach(this.getCreateActions(a),function(a){d.push(a)}),e.forEach(this.getRunnableActions(a),function(a){d.push(a)}),e.forEach(this.getDeleteActions(a),
function(a){d.push(a)}));(new J({options:d,label:i18n("Actions...")})).placeAt(c);return c},addTopButtons:function(){var a=this;if(!a.hideTopButtons&&config.data.permissions[security.system.createResources]){b.add(this.domNode,"all-resources");var c=new k({label:i18n("Create Top-Level Group"),showTitle:!1,onClick:function(){a.showNewResourceDialog()}});b.add(c.domNode,"idxButtonSpecial");c.placeAt(this.buttonAttach)}},addHoverHandler:function(){var a=this;n(this.grid,"tbody tr:mouseover",function(){if(1>
s(".resourceList-rowHoverActions",this).length){var b=s(".resourceList-nameColumn",this)[0],c=a.grid._getRowObjectForDomNode(this).item;h.place(a.actionsFormatter(c),b)}})},addEditActions:function(a,b){var c=this;(new k({showTitle:!1,iconClass:"editIcon",title:i18n("Edit"),onClick:function(){c.showEditResourceDialog(a)}})).placeAt(b)},getCreateActions:function(a){var b=this,c=[];c.push({label:i18n("Add Group"),onClick:function(){b.showNewResourceDialog(a)}});a.hasAgent?(c.push({label:i18n("Add Component"),
onClick:function(){b.showNewResourceDialog(a,"component")}}),c.push({label:i18n("Add Component Tag"),onClick:function(){b.showNewResourceDialog(a,"componentTag")}})):(c.push({label:i18n("Add Agent"),onClick:function(){b.showNewResourceDialog(a,"agent")}}),c.push({label:i18n("Add Agent Pool"),onClick:function(){b.showNewResourceDialog(a,"agentPool")}}));return c},getDeleteActions:function(a){var b=this;return[{label:i18n("Delete"),onClick:function(){b.confirmDelete(a)}}]},getRunnableActions:function(a){var b=
this,d=[];a.hasAgent&&(e.forEach(a.autoConfigureCommands,function(e){d.push({label:i18n("Configure using %s",i18n(e.name)),onClick:function(){b.grid.block();c.put({url:bootstrap.restUrl+"resource/resource/"+a.id+"/autoConfigure/"+e.id,handleAs:"json",load:function(c){b.grid.unblock();b.grid.refreshRowChildrenForItem(a);(new w({url:bootstrap.restUrl+"logView/resourceDiscovery/"+c.id+"/stdOut.txt",title:i18n("Running configuration step..."),autoRefresh:"EXECUTING"===c.status,paddingTop:"0px"})).show()},
error:function(a){b.grid.unblock();new C({message:util.escape(a.responseText)})}})}})}),e.forEach(a.compareCommands,function(e){d.push({label:i18n("Compare using %s",i18n(e.name)),onClick:function(){b.grid.block();c.put({url:bootstrap.restUrl+"resource/resource/"+a.id+"/compareConfig/"+e.id,handleAs:"json",load:function(c){b.grid.unblock();b.grid.refreshRowChildrenForItem(a);(new w({url:bootstrap.restUrl+"logView/resourceDiscovery/"+c.id+"/stdOut.txt",title:i18n("Running discovery step..."),autoRefresh:"EXECUTING"===
c.status,paddingTop:"0px"})).show()},error:function(a){b.grid.unblock();new C({message:util.escape(a.responseText)})}})}})}));return d},showTags:function(a,b){var c=this;c.tagger=new B({objectType:"Resource",item:a,callback:function(){c.grid.refresh()}});c.tagger.placeAt(b)},getSelectOptions:function(){var a=this;return[{label:i18n("Agents"),onClick:function(){var b=[];e.forEach(a.grid.getItems(),function(a){"agent"===a.type&&b.push(a)});a.grid.deselectAll();a.grid.selectItems(b)}},{label:i18n("Agent Pools"),
onClick:function(){var b=[];e.forEach(a.grid.getItems(),function(a){"agent pool"===a.type&&b.push(a)});a.grid.deselectAll();a.grid.selectItems(b)}},{label:i18n("Matching Filter"),onClick:function(){a.grid.deselectAll();a.grid.selectItems(a.grid.getItemsMatchingFilters())}}]},getActionsOptions:function(){var a=this;return[{label:i18n("Add Components"),onClick:function(){a._prepareBulkNewResources("component")}},{label:i18n("Add Groups"),onClick:function(){a._prepareBulkNewResources()}},{label:i18n("Delete"),
onClick:function(){a.confirmBulkDelete()}},{label:i18n("Add Tag"),onClick:function(){a._prepareBulkTagAdd()}},{label:i18n("Remove Tag"),onClick:function(){a._prepareBulkTagRemove()}}]},_prepareBulkTagRemove:function(){var a=[];e.forEach(this.grid.getSelectedItems(),function(b){a.push(b.id)});this.tagger.showRemoveTagDialog(a)},_prepareBulkTagAdd:function(){var a=[];e.forEach(this.grid.getSelectedItems(),function(b){a.push(b.id)});this.tagger.showAddTagDialog(a)},showNewResourceDialog:function(a,b){var c=
this,d=new S({title:i18n("Create Resource"),closable:!0,draggable:!0,description:i18n("A resource can represent an agent, agent pool, component, or an organizational entity that is used to group other resources. You can see your entire infrastructure (all resources across all environments) on the Resources page.")});c.createEditResourceForm({parent:a,type:b,callback:function(){d.hide();d.destroy();a?c.grid.refreshRowChildrenForItem(a):c.grid.refresh();c.refreshRightPanel()}}).placeAt(d.containerNode);
d.show()},showBulkNewResourceDialog:function(a,b){var c=this,d=new S({title:i18n("Create Resources"),closable:!0,draggable:!0});c.createEditResourceForm({parentIds:b,type:a,callback:function(){d.hide();d.destroy();c.grid.refresh()}}).placeAt(d.containerNode);d.show()},showEditResourceDialog:function(a){var b=this;c.get({url:bootstrap.restUrl+"resource/resource/"+a.id,handleAs:"json",load:function(a){var c=new S({title:i18n("Edit Resource"),closable:!0,draggable:!0});b.createEditResourceForm({resource:a,
callback:function(){c.hide();c.destroy();b.grid.refresh()},cancelCallback:function(){c.hide();c.destroy()}}).placeAt(c.containerNode);c.show()}})},createEditResourceForm:function(a){return new u(a)},showCompareDialog:function(a){(new D({resource:a})).show()},showNewTemplateDialog:function(a){var b=new S({title:i18n("Define New Template"),closable:!0,draggable:!0});(new v({sourceResource:a,callback:function(a){b.hide();a&&navBar.setHash("#resourceTemplate/"+a.id)}})).placeAt(b.containerNode);b.show()},
showApplyTemplateDialog:function(a,b){var c=this,d=b?i18n("Create New Resource From Template"):i18n("Synchronize With Template"),e=new S({title:d,closable:!0,draggable:!0});(new A({resource:a,createNew:b,callback:function(b){e.hide();b&&c.grid.refreshRowChildrenForItem(a)}})).placeAt(e.containerNode);e.show()},_prepareBulkNewResources:function(a){var b=[],c=[];e.forEach(this.grid.getSelectedItems(),function(d){c.push(d.id);"component"===a&&(d.hasAgent||b.push(d))});if(0<b.length){var d="";"component"===
a&&(d=i18n("Not all of the selected resources can host a component resource. Only resources with an agent available can host components. The following resources are invalid:"));var f=h.create("div",{innerHTML:d});h.create("div",{innerHTML:"&nbsp;"},f);e.forEach(b,function(a){h.create("div",{innerHTML:util.escape(a.path)},f)});new C({title:i18n("Invalid Selection"),messageDom:f})}else this.showBulkNewResourceDialog(a,c)},_createDeleteDialog:function(a,b){var d=this;new K({forceRawMessages:!0,message:a,
action:function(){d.grid.block();c.del({url:bootstrap.restUrl+"resource/resource/"+b.id,handleAs:"json",load:function(){d.grid.unblock();d.grid.refreshSiblingsForItem(b);d.refreshRightPanel()},error:function(a){new C({messages:[i18n("Error deleting resource:"),"",util.escape(a.responseText)]});d.grid.unblock();d.refreshRightPanel()}})}})},_getDescendants:function(a){var b=this;b.grid.block();c.get({url:bootstrap.restUrl+"resource/resource/"+a.id+"/descendantsCount",handleAs:"json",load:function(c){b.grid.unblock();
var d="",d=i18n("<b>%s</b> contains <b>%s</b> children. Are you sure you want to delete it,<b>and its immediate descendants</b>, from the system permanently?",util.escape(a.name),c.numberOfDescendantsTotal.toString());b._createDeleteDialog(d,a)}})},confirmDelete:function(a){var b="";a.hasChildren?this._getDescendants(a):(b=i18n("Are you sure you want to delete %s? This will permanently delete it from the system.",util.escape(a.name)),this._createDeleteDialog(b,a))},confirmBulkDelete:function(){var a=
this,b=[],d="";if(1<a.grid.getSelectedItems().length)d=[i18n("Are you sure you want to delete the following resources? Any child resources of these will also be deleted."),""],e.forEach(this.grid.getSelectedItems(),function(a){b.push(a.id);d.push(a.path.escape())}),d.push("");else{var h=a.grid.getSelectedItems()[0];return a.confirmDelete(h)}new K({messages:d,action:function(){a.grid.block();c.del({url:bootstrap.restUrl+"resource/resource/bulk",handleAs:"json",putData:o.stringify(b),load:function(){a.grid.unblock();
a.grid.refresh()},error:function(b){new C({messages:[i18n("Error deleting resources:"),"",util.escape(b.responseText)]});a.grid.unblock()}})}})},isSelectable:function(){return!0},getLowestParentRole:function(a){for(;(void 0===a.item.role||null===a.item.role)&&null!==a.parent&&void 0!==a.parent&&a.parent.item;)a=a.parent;return void 0===a.item.role||null===a.item.role?a.item.parentRole:a.item.role}})})},"dojo/dnd/TimedMoveable":function(){define(["../_base/declare","./Moveable"],function(l,m){var k=
m.prototype.onMove;return l("dojo.dnd.TimedMoveable",m,{timeout:40,constructor:function(j,f){f||(f={});if(f.timeout&&"number"==typeof f.timeout&&0<=f.timeout)this.timeout=f.timeout},onMoveStop:function(j){j._timer&&(clearTimeout(j._timer),k.call(this,j,j._leftTop));m.prototype.onMoveStop.apply(this,arguments)},onMove:function(j,f){j._leftTop=f;if(!j._timer){var e=this;j._timer=setTimeout(function(){j._timer=null;k.call(e,j,j._leftTop)},this.timeout)}}})})},"deploy/widgets/application/wizard/EnvironmentModelHelper":function(){define("dojo/_base/declare,dojo/query,dojo/store/Memory,dojo/store/Observable,deploy/widgets/application/wizard/AppWizProperty,deploy/widgets/application/wizard/AppWizEnvironment".split(","),
function(l,m,k,j,f,e){return l([],{constructor:function(d){this.sharedData=d;this.sequenceNum=-1},precreateEnvironments:function(){var d=this;this.sharedData.environmentTemplates.query().forEach(function(b){d.addEnvironment(b,!1)});var c=this.sharedData.environments.query();c&&0<c.length&&c[0].set("selected",!0)},addEnvironment:function(d,c){d||(d=this._getFirstEnvironmentTmpl());var b=this.sharedData.environments.query({template:d}).length+1,a=new e(this._getEnvironmentUniqId(),d,c);a.set("name",
a.get("name")+" "+b.toString());this.sharedData.environments.put(a)},cloneEnvironment:function(d,c){var b=new e(this._getEnvironmentUniqId(),d.template,c);b.set("name",d.get("name")+" copy");b.set("description",d.get("description"));b.set("props",this.cloneProps(d.get("props")));this.sharedData.environments.put(b)},cloneProps:function(d){return new j(new k({data:d.query().map(function(c){return new f(c.propDef,c.currentValue)})}))},removeEnvironment:function(d){this.sharedData.environments.remove(d.get("uniqId"))},
_getFirstEnvironmentTmpl:function(){return this.sharedData.environmentTemplates.query()[0]},_getEnvironmentUniqId:function(){return this.sequenceNum+=1}})})},"deploy/widgets/workflow/activity/RunOperationalProcessMultipleActivity":function(){define(["dojo/_base/declare","deploy/widgets/workflow/activity/MultipleComponentsActivity"],function(l,m){return l("deploy.widgets.workflow.activity.RunOperationalProcessMultipleActivity",[m],{disableStatusSelect:!0,getLabel:function(){var k="";if(this.initialized){var j=
this.getChildChildData(),f;j&&j.children&&(f=j.children[0]);k+=f.name+"\n"+i18n("Run Operational Process for Multiple Components")}else k+=i18n("Run Operational Process for Multiple Components");return k},showComponentTagSelection:function(k,j,f){j.hasField("monitorTag")&&(j.removeField("monitorTag"),j.removeField("resourceSelectionMode"));k&&(j.addField({name:"monitorTag",label:i18n("Limit Monitoring to Components with This Tag"),description:i18n("If you select a tag, this step runs only if another step in the application process changes the inventory of components that contain the tag. If you do not select a tag, this step runs if another step in the application process changes the inventory of any component."),
multi:!0,type:"TagDropDown",objectType:"Component",value:f.monitorTag}),j.addField({name:"resourceSelectionMode",label:i18n("Resources to Run On"),type:"Radio",allowedValues:[{label:i18n("Run this step only on resources where component inventory changes"),value:"ONLY_WHERE_COMPONENTS_CHANGED"},{label:i18n("Run this step on all possible resources"),value:"ALL_MAPPED_RESOURCES"}],value:f.resourceSelectionMode||"ONLY_WHERE_COMPONENTS_CHANGED"}))},addExtraFields:function(k){var j=this,f=this.getChildData(),
e=!!f&&"changedResourceIterator"===f.type;k.addField({name:"ifComponentTagChanges",label:i18n("Run Only If Component Inventory Changes"),type:"Checkbox",description:i18n("Select this option to run the component process only if inventory was changed elsewhere in the application process. You may limit inventory-change monitoring to components with a specific tag."),value:e,onChange:function(d){j.showComponentTagSelection(d,k,f)}});this.showComponentTagSelection(e,k,f)},getSelfChildData:function(k,j){var f;
f="true"===k.ifComponentTagChanges?"changedResourceIterator":"componentEnvironmentIterator";return[{name:util.randomString(30),type:f,tagId:k.tagId,runOnlyOnFirst:k.runOnlyOnFirst,resourceSelectionMode:k.resourceSelectionMode,monitorTag:k.monitorTag,children:[{name:util.randomString(30),type:"operationalProcessFilter",status:k.status,children:[{name:k.name,type:"componentProcess",componentProcessName:k.componentProcessName,allowFailure:k.allowFailure,properties:j}]}]}]}})})},"dojo/selector/_loader":function(){define("dojo/selector/_loader",
["../has","require"],function(l,m){var k=document.createElement("div");l.add("dom-qsa2.1",!!k.querySelectorAll);l.add("dom-qsa3",function(){try{return k.innerHTML="<p class='TEST'></p>",1==k.querySelectorAll(".TEST:empty").length}catch(f){}});var j;return{load:function(f,e,d){var c=m,f="default"==f?l("config-selectorEngine")||"css3":f,f="css2"==f||"lite"==f?"./lite":"css2.1"==f?l("dom-qsa2.1")?"./lite":"./acme":"css3"==f?l("dom-qsa3")?"./lite":"./acme":"acme"==f?"./acme":(c=e)&&f;if("?"==f.charAt(f.length-
1))var f=f.substring(0,f.length-1),b=!0;if(b&&(l("dom-compliant-qsa")||j))return d(j);c([f],function(a){"./lite"!=f&&(j=a);d(a)})}}})},"dojox/calendar/VerticalRenderer":function(){require({cache:{"url:dojox/calendar/templates/VerticalRenderer.html":'<div class="dojoxCalendarEvent dojoxCalendarVertical" onselectstart="return false;">\n\t<div class="bg"></div>\n\t<dl style="width:100%;">\n\t\t<dd data-dojo-attach-point="beforeIcon" class="beforeIcon">\u25b2</dd>\n\t\t<dd data-dojo-attach-point="startTimeLabel" class="startTime"></dd>\n\t\t<dd data-dojo-attach-point="summaryLabel" class="summary"></dd>\n\t</dl>\t\n\t<span data-dojo-attach-point="afterIcon" class="afterIcon">\u25bc</span>\n\t<div data-dojo-attach-point="moveHandle" class="handle moveHandle" ></div>\n\t<div data-dojo-attach-point="resizeStartHandle" class="handle resizeStartHandle"></div>\n\t<div data-dojo-attach-point="resizeEndHandle" class="handle resizeEndHandle" ></div>\n\t<div data-dojo-attach-point="endTimeLabel" class="endTime"></div>\n</div>\n'}});
define("dojox/calendar/VerticalRenderer",["dojo/_base/declare","dijit/_WidgetBase","dijit/_TemplatedMixin","dojox/calendar/_RendererMixin","dojo/text!./templates/VerticalRenderer.html"],function(l,m,k,j,f){return l("dojox.calendar.VerticalRenderer",[m,k,j],{templateString:f,postCreate:function(){this.inherited(arguments);this._applyAttributes()},_isElementVisible:function(e,d,c,b){var a;switch(e){case "startTimeLabel":a=this.item.startTime;if(this.item.allDay||this.owner.isStartOfDay(a))return!1;
break;case "endTimeLabel":if(a=this.item.endTime,this.item.allDay||this.owner.isStartOfDay(a))return!1}return this.inherited(arguments)}})})},"deploy/widgets/version/VersionStatuses":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dojo/_base/declare,dojo/_base/xhr,dojo/dom-construct,dojo/dom-class,dojo/on,deploy/widgets/Formatters,js/webext/widgets/ColumnForm,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/RestSelect,js/webext/widgets/Table".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n){return j("deploy.widgets.version.VersionStatuses",[m,l],{templateString:'<div class="versionStatuses"><div class="listTopButtons" data-dojo-attach-point="buttonAttach"></div><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var a=this,c=[{name:i18n("Status"),field:"status",formatter:function(a,c,d){return b.statusFormatter(a,c,d)}},{name:i18n("Description"),field:"description"},{name:i18n("Created"),field:"created",
formatter:util.tableDateFormatter,orderField:"created",getRawValue:function(a){return new Date(a.created)}},{name:i18n("By"),field:"user",orderField:"user",getRawValue:function(a){return a.user}},{name:i18n("Actions"),formatter:this.actionsFormatter,parentWidget:this}];this.grid=new n({url:bootstrap.restUrl+"deploy/version/"+this.version.id+"/status",serverSideProcessing:!1,columns:c,tableConfigKey:"versionStatusList",noDataMessage:i18n("No statuses have been assigned to this version.")});this.grid.placeAt(this.gridAttach);
appState.component.extendedSecurity[security.component.manageVersions]&&(c=new k({label:i18n("Add a Status"),showTitle:!1,onClick:function(){a.showAddStatus()}}),d.add(c.domNode,"idxButtonSpecial"),c.placeAt(this.buttonAttach))},destroy:function(){this.inherited(arguments);this.grid.destroy()},actionsFormatter:function(a){var b=this.parentWidget,d=document.createElement("div");if(appState.component.extendedSecurity[security.component.manageVersions]){var h=e.create("a",{innerHTML:i18n("Remove"),"class":"actionsLink linkPointer"},
d);c(h,"click",function(){b.confirmRemoval(a)})}return d},confirmRemoval:function(a){var b=this;new q({message:i18n("Are you sure you want to remove %s?",a.name.escape()),action:function(){f.del({url:bootstrap.restUrl+"deploy/version/"+b.version.id+"/status/"+util.encodeIgnoringSlash(a.name),load:function(){b.grid.refresh()}})}})},showAddStatus:function(){var c=this,d=new h({title:i18n("Add a Status"),closable:!0,draggable:!0}),e=new a({submitUrl:bootstrap.restUrl,postSubmit:function(){d.hide();d.destroy();
c.grid.refresh()},onCancel:function(){d.hide();d.destroy();c.grid.refresh()}}),f=new o({restUrl:bootstrap.restUrl+"deploy/version/"+c.version.id+"/possibleStatuses",getValue:function(a){return a.name},getStyle:function(a){return b.conditionFormatter(a)},allowNone:!1,onChange:function(a,b){if(b&&b.name)e.submitUrl=bootstrap.restUrl+"deploy/version/"+c.version.id+"/status/"+util.encodeIgnoringSlash(b.name)}});e.addField({name:"status",label:i18n("Status"),required:!0,widget:f});e.placeAt(d.containerNode);
d.show()}})})},"deploy/widgets/version/VersionEditManager":function(){define("dojo/_base/array,dojo/_base/declare,dojo/on,dojo/dom-construct,js/webext/widgets/TwoPaneListManager,deploy/widgets/version/EditVersion,deploy/widgets/property/PropSheetDefValues".split(","),function(l,m,k,j,f,e,d){return m([f],{postCreate:function(){this.inherited(arguments);this.showList()},showList:function(){var c=this;c.addEntry({id:"basic",label:i18n("Basic Settings"),action:function(){c.addHeading(i18n("Basic Settings"));
c.showBasicSettings()}});c.addEntry({id:"properties",label:i18n("Version Properties"),action:function(){c.addHeading(i18n("Version Properties"));c.showProperties()}})},addHeading:function(c){j.create("div",{innerHTML:c,"class":"containerLabel",style:{padding:"10px"}},this.detailAttach)},addDescription:function(c){j.create("div",{innerHTML:c,style:{marginBottom:"10px"}},this.detailAttach)},showBasicSettings:function(){(new e({component:appState.component,version:appState.version,readOnly:!appState.component.extendedSecurity[security.component.manageVersions],
callback:function(){appState.component&&navBar.setHash("component/"+appState.component.id+"/versions")}})).placeAt(this.detailAttach)},showProperties:function(){var c=util.getNamedProperty(appState.version.propSheets,void 0);(new d({propSheetDefPath:c.propSheetDef.path,propSheetDefVersion:c.propSheetDef.version,propSheetPath:c.path,noPropertiesMessage:i18n("No version properties have been defined by this component."),readOnly:!appState.component.extendedSecurity[security.component.manageVersions]})).placeAt(this.detailAttach)}})})},
"deploy/widgets/network/EditNetworkRelay":function(){define(["dijit/_TemplatedMixin","dijit/_Widget","dijit/form/CheckBox","dojo/_base/declare","js/webext/widgets/ColumnForm"],function(l,m,k,j,f){return j("deploy.widgets.network.EditNetworkRelay",[m,l],{templateString:'<div class="editNetworkRelay">  <div data-dojo-attach-point="formAttach"></div></div>',postCreate:function(){this.inherited(arguments);var e=this,d=null,c=null,b=null,a=null,h=!1;if(this.networkRelay)d=this.networkRelay.id,c=this.networkRelay.name,
b=this.networkRelay.host,a=this.networkRelay.port,h=this.networkRelay.active;this.form=new f({submitUrl:bootstrap.restUrl+"network/networkRelay",postSubmit:function(){void 0!==e.callback&&e.callback()},addData:function(a){if(e.networkRelay)a.existingId=d},onCancel:function(){void 0!==e.callback&&e.callback()}});this.form.addField({name:"name",label:i18n("Name"),required:!0,type:"Text",value:c});this.form.addField({name:"host",label:i18n("Host"),required:!0,type:"Text",textDir:"ltr",value:b});this.form.addField({name:"port",
label:i18n("Port"),description:i18n("The port on the host for the network relay to connect to. For an agent relay, the default JMS port is 7916."),required:!0,type:"Number",textDir:"ltr",value:a});this.activeCheckBox=new k({checked:h||!0,value:"true"});this.form.addField({name:"active",label:i18n("Active"),widget:this.activeCheckBox})},startup:function(){this.inherited(arguments);this.form.startup();this.form.placeAt(this.formAttach)}})})},"dojox/calendar/ViewBase":function(){define("dojox/calendar/ViewBase",
"dojo/_base/declare,dojo/_base/lang,dojo/_base/array,dojo/_base/window,dojo/_base/event,dojo/_base/html,dojo/_base/sniff,dojo/query,dojo/dom,dojo/dom-style,dojo/dom-construct,dojo/dom-geometry,dojo/on,dojo/date,dojo/date/locale,dijit/_WidgetBase,dojox/widget/_Invalidating,dojox/widget/Selection,dojox/calendar/time,./StoreMixin".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u,x){return l("dojox.calendar.ViewBase",[r,x,t,w],{datePackage:n,_calendar:"gregorian",viewKind:null,_layoutStep:1,
_layoutUnit:"day",resizeCursor:"n-resize",formatItemTimeFunc:null,_getFormatItemTimeFuncAttr:function(){return null!=this.owner?this.owner.get("formatItemTimeFunc"):this.formatItemTimeFunc},_viewHandles:null,doubleTapDelay:300,constructor:function(a){a=a||{};this._calendar=a.datePackage?a.datePackage.substr(a.datePackage.lastIndexOf(".")+1):this._calendar;this.dateModule=a.datePackage?m.getObject(a.datePackage,!1):n;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=a.datePackage?
m.getObject(a.datePackage+".locale",!1):s;this.rendererPool=[];this.rendererList=[];this.itemToRenderer={};this._viewHandles=[]},destroy:function(a){for(;0<this.rendererList.length;)this._destroyRenderer(this.rendererList.pop());for(kind in this._rendererPool){var b=this._rendererPool[kind];if(b)for(;0<b.length;)this._destroyRenderer(b.pop())}for(;0<this._viewHandles.length;)this._viewHandles.pop().remove();this.inherited(arguments)},_createRenderData:function(){},_validateProperties:function(){},
_setText:function(a,b,c){if(null!=b)if(!c&&a.hasChildNodes())a.childNodes[0].childNodes[0].nodeValue=b;else{for(;a.hasChildNodes();)a.removeChild(a.lastChild);var d=j.doc.createElement("span");this.applyTextDir(d,b);c?d.innerHTML=b:d.appendChild(j.doc.createTextNode(b));a.appendChild(d)}},isAscendantHasClass:function(a,b,c){for(;a!=b&&a!=document;){if(dojo.hasClass(a,c))return!0;a=a.parentNode}return!1},isWeekEnd:function(a){return s.isWeekend(a)},getWeekNumberLabel:function(a){a.toGregorian&&(a=
a.toGregorian());return s.format(a,{selector:"date",datePattern:"w"})},floorToDay:function(a,b){return u.floorToDay(a,b,this.dateClassObj)},floorToMonth:function(a,b){return u.floorToMonth(a,b,this.dateClassObj)},floorDate:function(a,b,c,d){return u.floor(a,b,c,d,this.dateClassObj)},isToday:function(a){return u.isToday(a,this.dateClassObj)},isStartOfDay:function(a){return u.isStartOfDay(a,this.dateClassObj,this.dateModule)},isOverlapping:function(a,b,c,d,e,h){if(null==b||null==d||null==c||null==e)return!1;
a=a.dateModule;if(h){if(1==a.compare(b,e)||1==a.compare(d,c))return!1}else if(-1!=a.compare(b,e)||-1!=a.compare(d,c))return!1;return!0},computeRangeOverlap:function(a,b,c,d,e,h){var f=a.dateModule;if(null==b||null==d||null==c||null==e)return null;var j=f.compare(b,e),k=f.compare(d,c);if(h){if(0==j||1==j||0==k||1==k)return null}else if(1==j||1==k)return null;return[this.newDate(0<f.compare(b,d)?b:d,a),this.newDate(0<f.compare(c,e)?e:c,a)]},isSameDay:function(a,b){return null==a||null==b?!1:a.getFullYear()==
b.getFullYear()&&a.getMonth()==b.getMonth()&&a.getDate()==b.getDate()},computeProjectionOnDate:function(a,b,c,d){var e=a.dateModule;if(0>=d||-1==e.compare(c,b))return 0;var h=this.floorToDay(b,!1,a);if(c.getDate()!=h.getDate())if(c.getMonth()==h.getMonth()){if(c.getDate()<h.getDate())return 0;if(c.getDate()>h.getDate())return d}else if(c.getFullYear()==h.getFullYear()){if(c.getMonth()<h.getMonth())return 0;if(c.getMonth()>h.getMonth())return d}else{if(c.getFullYear()<h.getFullYear())return 0;if(c.getFullYear()>
h.getFullYear())return d}if(this.isSameDay(b,c)){h=m.clone(b);e=0;null!=a.minHours&&0!=a.minHours&&(h.setHours(a.minHours),e=3600*h.getHours()+60*h.getMinutes()+h.getSeconds());h=m.clone(b);null==a.maxHours||24==a.maxHours?a=86400:(h.setHours(a.maxHours),a=3600*h.getHours()+60*h.getMinutes()+h.getSeconds());b=3600*c.getHours()+60*c.getMinutes()+c.getSeconds()-e;if(0>b)return 0;if(b>a)return d;d=d*b/(a-e)}else{if(c.getDate()<b.getDate()&&c.getMonth()==b.getMonth())return 0;c=this.floorToDay(c);h=a.dateModule.add(b,
"day",1);h=this.floorToDay(h,!1,a);d=1==e.compare(c,b)&&0==e.compare(c,h)||1==e.compare(c,h)?d:0}return d},getTime:function(){return null},newDate:function(a){return u.newDate(a,this.dateClassObj)},_isItemInView:function(a){var b=this.renderData,c=b.dateModule;return-1==c.compare(a.startTime,b.startTime)||1==c.compare(a.endTime,b.endTime)?!1:!0},_ensureItemInView:function(a){var b=this.renderData,c=b.dateModule,d=Math.abs(c.difference(a.startTime,a.endTime,"millisecond")),e=!1;if(-1==c.compare(a.startTime,
b.startTime))a.startTime=b.startTime,a.endTime=c.add(a.startTime,"millisecond",d),e=!0;else if(1==c.compare(a.endTime,b.endTime))a.endTime=b.endTime,a.startTime=c.add(a.endTime,"millisecond",-d),e=!0;return e},scrollable:!0,autoScroll:!0,_autoScroll:function(){return!1},scrollMethod:"auto",_setScrollMethodAttr:function(b){if(this.scrollMethod!=b){this.scrollMethod=b;if(void 0!==this._domScroll)this._domScroll?a.set(this.sheetContainer,this._cssPrefix+"transform","translateY(0px)"):this.scrollContainer.scrollTop=
0;delete this._domScroll;b=this._getScrollPosition();delete this._scrollPos;this._setScrollPosition(b)}},_startAutoScroll:function(a){var b=this._scrollProps;if(!b)b=this._scrollProps={};b.scrollStep=a;if(!b.isScrolling)b.isScrolling=!0,b.scrollTimer=setInterval(m.hitch(this,this._onScrollTimer_tick),10)},_stopAutoScroll:function(){var a=this._scrollProps;if(a&&a.isScrolling)clearInterval(a.scrollTimer),a.scrollTimer=null;this._scrollProps=null},_onScrollTimer_tick:function(){},_scrollPos:0,getCSSPrefix:function(){if(d("ie"))return"-ms-";
if(d("webkit"))return"-webkit-";if(d("mozilla"))return"-moz-";if(d("opera"))return"-o-"},_setScrollPosition:function(b){if(this._scrollPos!=b){if(void 0===this._domScroll){var c=this.get("scrollMethod");this._domScroll="auto"===c?!d("ios")&&!d("android")&&!d("webkit"):"dom"===c}c=q.getMarginBox(this.scrollContainer);c=q.getMarginBox(this.sheetContainer).h-c.h;0>b?b=0:b>c&&(b=c);this._scrollPos=b;if(this._domScroll)this.scrollContainer.scrollTop=b;else{if(!this._cssPrefix)this._cssPrefix=this.getCSSPrefix();
a.set(this.sheetContainer,this._cssPrefix+"transform","translateY(-"+b+"px)")}}},_getScrollPosition:function(){return this._scrollPos},scrollView:function(){},ensureVisibility:function(){},_getStoreAttr:function(){return this.owner?this.owner.get("store"):this.store},_setItemsAttr:function(a){this._set("items",a);this.displayedItemsInvalidated=!0},_refreshItemsRendering:function(){var a=this.renderData;this._computeVisibleItems(a);this._layoutRenderers(a)},invalidateLayout:function(){this._layoutRenderers(this.renderData)},
resize:function(){},computeOverlapping:function(a,b){if(0==a.length)return{numLanes:0,addedPassRes:[1]};for(var c=[],d=0;d<a.length;d++)this._layoutPass1(a[d],c);d=null;b&&(d=m.hitch(this,b)(c));return{numLanes:c.length,addedPassRes:d}},_layoutPass1:function(a,b){for(var c=!0,d=0;d<b.length;d++){for(var e=b[d],c=!1,h=0;h<e.length&&!c;h++)if(e[h].start<a.end&&a.start<e[h].end)c=!0,e[h].extent=1;if(!c){a.lane=d;a.extent=-1;e.push(a);return}}b.push([a]);a.lane=b.length-1;a.extent=-1},_layoutInterval:function(){},
layoutPriorityFunction:null,_sortItemsFunction:function(a,b){var c=this.dateModule.compare(a.startTime,b.startTime);0==c&&(c=-1*this.dateModule.compare(a.endTime,b.endTime));return c},_layoutRenderers:function(a){if(a.items){this._recycleItemRenderers();for(var b=a.dateModule,c=this.newDate(a.startTime),d=m.clone(c),e=a.items.concat(),h=[],f,j=0;-1==b.compare(c,a.endTime)&&0<e.length;){var c=b.add(c,this._layoutUnit,this._layoutStep),c=this.floorToDay(c,!0,a),o=m.clone(c);a.minHours&&d.setHours(a.minHours);
a.maxHours&&24!=a.maxHours&&(o=b.add(c,"day",-1),o=this.floorToDay(o,!0,a),o.setHours(a.maxHours));f=k.filter(e,function(c){var e=this.isOverlapping(a,c.startTime,c.endTime,d,o);e?1==b.compare(c.endTime,o)&&h.push(c):h.push(c);return e},this);e=h;h=[];0<f.length&&(f.sort(m.hitch(this,this.layoutPriorityFunction?this.layoutPriorityFunction:this._sortItemsFunction)),this._layoutInterval(a,j,d,o,f));d=m.clone(c);j++}this._onRenderersLayoutDone(this)}},_recycleItemRenderers:function(a){for(;0<this.rendererList.length;)this._recycleRenderer(this.rendererList.pop(),
a);this.itemToRenderer={}},rendererPool:null,rendererList:null,itemToRenderer:null,getRenderers:function(a){if(null==a||null==a.id)return null;a=this.itemToRenderer[a.id];return null==a?null:a.concat()},_rendererHandles:{},itemToRendererKindFunc:null,_itemToRendererKind:function(a){return this.itemToRendererKindFunc?this.itemToRendererKindFunc(a):this._defaultItemToRendererKindFunc(a)},_defaultItemToRendererKindFunc:function(){return null},_createRenderer:function(a,b,c,d){if(null!=a&&null!=b&&null!=
c){var e,f=this.rendererPool[b];null!=f&&(e=f.shift());null==e?(c=new c,e=h.create("div"),e.className="dojoxCalendarEventContainer "+d,e.appendChild(c.domNode),e={renderer:c,container:c.domNode,kind:b},this._onRendererCreated(e)):(c=e.renderer,this._onRendererReused(c));c.owner=this;c.set("rendererKind",b);c.set("item",a);b=this.itemToRenderer[a.id];null==b&&(this.itemToRenderer[a.id]=b=[]);b.push(e);this.rendererList.push(e);return e}return null},_onRendererCreated:function(a){this.onRendererCreated(a);
var b=this.owner&&this.owner.owner?this.owner.owner:this.owner;if(b)b.onRendererCreated(a)},onRendererCreated:function(){},_onRendererRecycled:function(a){this.onRendererRecycled(a);var b=this.owner&&this.owner.owner?this.owner.owner:this.owner;if(b)b.onRendererRecycled(a)},onRendererRecycled:function(){},_onRendererReused:function(a){this.onRendererReused(a);var b=this.owner&&this.owner.owner?this.owner.owner:this.owner;if(b)b.onRendererReused(a)},onRendererReused:function(){},_onRendererDestroyed:function(a){this.onRendererDestroyed(a);
var b=this.owner&&this.owner.owner?this.owner.owner:this.owner;if(b)b.onRendererDestroyed(a)},onRendererDestroyed:function(){},_onRenderersLayoutDone:function(a){this.onRenderersLayoutDone(a);if(null!=this.owner)this.owner.onRenderersLayoutDone(a)},onRenderersLayoutDone:function(){},_recycleRenderer:function(b,c){this._onRendererRecycled(b);var d=this.rendererPool[b.kind];null==d?this.rendererPool[b.kind]=[b]:d.push(b);c&&b.container.parentNode.removeChild(b.container);a.set(b.container,"display",
"none");b.renderer.owner=null;b.renderer.set("item",null)},_destroyRenderer:function(a){this._onRendererDestroyed(a);var b=a.renderer;k.forEach(b.__handles,function(a){a.remove()});b.destroy&&b.destroy();e.destroy(a.container)},_destroyRenderersByKind:function(a){for(var b=[],c=0;c<this.rendererList.length;c++){var d=this.rendererList[c];d.kind==a?this._destroyRenderer(d):b.push(d)}this.rendererList=b;if(a=this.rendererPool[a])for(;0<a.length;)this._destroyRenderer(a.pop())},_updateEditingCapabilities:function(a,
b){var c=this.isItemMoveEnabled(a,b.rendererKind),d=this.isItemResizeEnabled(a,b.rendererKind),e=!1;c!=b.get("moveEnabled")&&(b.set("moveEnabled",c),e=!0);d!=b.get("resizeEnabled")&&(b.set("resizeEnabled",d),e=!0);e&&b.updateRendering()},updateRenderers:function(a,b){if(null!=a)for(var c=m.isArray(a)?a:[a],d=0;d<c.length;d++){var e=c[d];if(!(null==e||null==e.id)){var h=this.itemToRenderer[e.id];if(null!=h)for(var f=this.isItemSelected(e),j=this.isItemHovered(e),k=this.isItemBeingEdited(e),o=this.showFocus?
this.isItemFocused(e):!1,n=0;n<h.length;n++){var l=h[n].renderer;l.set("hovered",j);l.set("selected",f);l.set("edited",k);l.set("focused",o);this.applyRendererZIndex(e,h[n],j,f,k,o);b||(l.set("item",e),l.updateRendering&&l.updateRendering())}}}},applyRendererZIndex:function(b,c,d,e,h){a.set(c.container,{zIndex:h||e?20:void 0==b.lane?0:b.lane})},getIdentity:function(a){return this.owner?this.owner.getIdentity(a):a.id},_setHoveredItem:function(a,b){if(this.owner)this.owner._setHoveredItem(a,b);else if(this.hoveredItem&&
a&&this.hoveredItem.id!=a.id||null==a||null==this.hoveredItem){var c=this.hoveredItem;this.hoveredItem=a;this.updateRenderers([c,this.hoveredItem],!0);a&&b&&this._updateEditingCapabilities(a,b)}},hoveredItem:null,isItemHovered:function(a){return this._isEditing&&this._edProps?a.id==this._edProps.editedItem.id:this.owner?this.owner.isItemHovered(a):null!=this.hoveredItem&&this.hoveredItem.id==a.id},isItemFocused:function(a){return this._isItemFocused?this._isItemFocused(a):!1},_setSelectionModeAttr:function(a){this.owner?
this.owner.set("selectionMode",a):this.inherited(arguments)},_getSelectionModeAttr:function(a){return this.owner?this.owner.get("selectionMode"):this.inherited(arguments)},_setSelectedItemAttr:function(a){this.owner?this.owner.set("selectedItem",a):this.inherited(arguments)},_getSelectedItemAttr:function(){return this.owner?this.owner.get("selectedItem"):this.selectedItem},_setSelectedItemsAttr:function(a){this.owner?this.owner.set("selectedItems",a):this.inherited(arguments)},_getSelectedItemsAttr:function(){return this.owner?
this.owner.get("selectedItems"):this.inherited(arguments)},isItemSelected:function(a){return this.owner?this.owner.isItemSelected(a):this.inherited(arguments)},selectFromEvent:function(a,b,c,d){this.owner?this.owner.selectFromEvent(a,b,c,d):this.inherited(arguments)},setItemSelected:function(a,b){this.owner?this.owner.setItemSelected(a,b):this.inherited(arguments)},createItemFunc:null,_getCreateItemFuncAttr:function(){return this.owner?this.owner.get("createItemFunc"):this.createItemFunc},createOnGridClick:!1,
_getCreateOnGridClickAttr:function(){return this.owner?this.owner.get("createOnGridClick"):this.createOnGridClick},_gridMouseDown:!1,_onGridMouseDown:function(a){this._gridMouseDown=!0;this.showFocus=!1;this._isEditing&&this._endItemEditing("mouse",!1);this._doEndItemEditing(this.owner,"mouse");this.set("focusedItem",null);this.selectFromEvent(a,null,null,!0);this._setTabIndexAttr&&this[this._setTabIndexAttr].focus();if(this._onRendererHandleMouseDown){var b=this.get("createItemFunc");if(b){var b=
b(this,this.getTime(a),a),c=this.get("store");if(b&&null!=c&&(c.put(b),(b=this.getRenderers(b))&&0<b.length))(b=b[0])&&this._onRendererHandleMouseDown(a,b.renderer,"resizeEnd")}}},_onGridMouseMove:function(){},_onGridMouseUp:function(){},_onGridTouchStart:function(a){var b=this._edProps;this._gridProps={event:a,fromItem:this.isAscendantHasClass(a.target,this.eventContainer,"dojoxCalendarEventContainer")};if(this._isEditing){if(this._gridProps)this._gridProps.editingOnStart=!0;m.mixin(b,this._getTouchesOnRenderers(a,
b.editedItem));if(0==b.touchesLen){if(b&&b.endEditingTimer)clearTimeout(b.endEditingTimer),b.endEditingTimer=null;this._endItemEditing("touch",!1)}}this._doEndItemEditing(this.owner,"touch");f.stop(a)},_doEndItemEditing:function(a,b){if(a&&a._isEditing){if((p=a._edProps)&&p.endEditingTimer)clearTimeout(p.endEditingTimer),p.endEditingTimer=null;a._endItemEditing(b,!1)}},_onGridTouchEnd:function(){},_onGridTouchMove:function(){},__fixEvt:function(a){return a},_dispatchCalendarEvt:function(a,b){a=this.__fixEvt(a);
this[b](a);if(this.owner)this.owner[b](a);return a},_onGridClick:function(a){a.triggerEvent||(a={date:this.getTime(a),triggerEvent:a});this._dispatchCalendarEvt(a,"onGridClick")},onGridClick:function(){},_onGridDoubleClick:function(a){a.triggerEvent||(a={date:this.getTime(a),triggerEvent:a});this._dispatchCalendarEvt(a,"onGridDoubleClick")},onGridDoubleClick:function(){},_onItemClick:function(a){this._dispatchCalendarEvt(a,"onItemClick")},onItemClick:function(){},_onItemDoubleClick:function(a){this._dispatchCalendarEvt(a,
"onItemDoubleClick")},onItemDoubleClick:function(){},_onItemContextMenu:function(a){this._dispatchCalendarEvt(a,"onItemContextMenu")},onItemContextMenu:function(){},_getStartEndRenderers:function(a){a=this.itemToRenderer[a.id];if(null!=a){if(1==a.length)return a=a[0].renderer,[a,a];for(var b=this.renderData,c=!1,d=!1,e=[],h=0;h<a.length;h++){var f=a[h].renderer;c||(c=0==b.dateModule.compare(f.item.range[0],f.item.startTime),e[0]=f);d||(d=0==b.dateModule.compare(f.item.range[1],f.item.endTime),e[1]=
f);if(c&&d)break}return e}},editable:!0,moveEnabled:!0,resizeEnabled:!0,isItemEditable:function(){return this.editable&&(this.owner?this.owner.isItemEditable():!0)},isItemMoveEnabled:function(a,b){return this.isItemEditable(a,b)&&this.moveEnabled&&(this.owner?this.owner.isItemMoveEnabled(a,b):!0)},isItemResizeEnabled:function(a,b){return this.isItemEditable(a,b)&&this.resizeEnabled&&(this.owner?this.owner.isItemResizeEnabled(a,b):!0)},_isEditing:!1,isItemBeingEdited:function(a){return this._isEditing&&
this._edProps&&this._edProps.editedItem&&this._edProps.editedItem.id==a.id},_setEditingProperties:function(a){this._edProps=a},_startItemEditing:function(a,b){this._isEditing=!0;var c=this._edProps;c.editedItem=a;c.eventSource=b;c.secItem=this._secondarySheet?this._findRenderItem(a.id,this._secondarySheet.renderData.items):null;c.ownerItem=this.owner?this._findRenderItem(a.id,this.items):null;if(!c.liveLayout){c.editSaveStartTime=a.startTime;c.editSaveEndTime=a.endTime;c.editItemToRenderer=this.itemToRenderer;
c.editItems=this.renderData.items;c.editRendererList=this.rendererList;this.renderData.items=[c.editedItem];var d=c.editedItem.id;this.itemToRenderer={};this.rendererList=[];var e=c.editItemToRenderer[d];c.editRendererIndices=[];k.forEach(e,m.hitch(this,function(a){null==this.itemToRenderer[d]?this.itemToRenderer[d]=[a]:this.itemToRenderer[d].push(a);this.rendererList.push(a)}));c.editRendererList=k.filter(c.editRendererList,function(a){return null!=a&&a.renderer.item.id!=d});delete c.editItemToRenderer[d]}this._layoutRenderers(this.renderData);
this._onItemEditBegin({item:a,eventSource:b})},_onItemEditBegin:function(a){this._editStartTimeSave=this.newDate(a.item.startTime);this._editEndTimeSave=this.newDate(a.item.endTime);this._dispatchCalendarEvt(a,"onItemEditBegin")},onItemEditBegin:function(){},_endItemEditing:function(a,b){this._isEditing=!1;var c=this._edProps;k.forEach(c.handles,function(a){a.remove()});if(!c.liveLayout)this.renderData.items=c.editItems,this.rendererList=c.editRendererList.concat(this.rendererList),m.mixin(this.itemToRenderer,
c.editItemToRenderer);var d=this.get("store");this._onItemEditEnd(m.mixin(this._createItemEditEvent(),{item:this.renderItemToItem(c.editedItem,d),renderItem:c.editedItem,eventSource:a,completed:!b}));this._layoutRenderers(this.renderData);this._edProps=null},_onItemEditEnd:function(a){this._dispatchCalendarEvt(a,"onItemEditEnd");if(!a.isDefaultPrevented())a.completed?this.get("store").put(a.item):(a.renderItem.startTime=this._editStartTimeSave,a.renderItem.endTime=this._editEndTimeSave)},onItemEditEnd:function(){},
_createItemEditEvent:function(){return{cancelable:!0,bubbles:!1,__defaultPrevent:!1,preventDefault:function(){this.__defaultPrevented=!0},isDefaultPrevented:function(){return this.__defaultPrevented}}},_startItemEditingGesture:function(a,b,c,d){var e=this._edProps;if(e&&null!=e.editedItem){this._editingGesture=!0;var h=e.editedItem;e.editKind=b;this._onItemEditBeginGesture(this.__fixEvt(m.mixin(this._createItemEditEvent(),{item:h,startTime:h.startTime,endTime:h.endTime,editKind:b,rendererKind:e.rendererKind,
triggerEvent:d,dates:a,eventSource:c})));e.itemBeginDispatched=!0}},_onItemEditBeginGesture:function(a){var b=this._edProps,c=b.editedItem,d=a.dates;b.editingTimeFrom=[];b.editingTimeFrom[0]=d[0];b.editingItemRefTime=[];b.editingItemRefTime[0]=this.newDate("resizeEnd"==b.editKind?c.endTime:c.startTime);"resizeBoth"==b.editKind&&(b.editingTimeFrom[1]=d[1],b.editingItemRefTime[1]=this.newDate(c.endTime));d=this.renderData.dateModule;b.inViewOnce=this._isItemInView(c);if("label"==b.rendererKind||this.roundToDay)b._itemEditBeginSave=
this.newDate(c.startTime),b._itemEditEndSave=this.newDate(c.endTime);b._initDuration=d.difference(c.startTime,c.endTime,c.allDay?"day":"millisecond");this._dispatchCalendarEvt(a,"onItemEditBeginGesture");if(!a.isDefaultPrevented()&&"mouse"==a.eventSource)b.editLayer=h.create("div",{style:"position: absolute; left:0; right:0; bottom:0; top:0; z-index:30; tabIndex:-1; background-image:url('"+this._blankGif+"'); cursor: "+("move"==a.editKind?"move":this.resizeCursor),onresizestart:function(){return!1},
onselectstart:function(){return!1}},this.domNode),b.editLayer.focus()},onItemEditBeginGesture:function(){},_waDojoxAddIssue:function(a,b,c){var d=this.renderData.dateModule;return"gregorian"!=this._calendar&&0>c?(a=a.toGregorian(),a=n.add(a,b,c),new this.renderData.dateClassObj(a)):d.add(a,b,c)},_computeItemEditingTimes:function(a,b,c,d){var a=this.renderData.dateModule,c=this._edProps,e=a.difference(c.editingTimeFrom[0],d[0],"millisecond");d[0]=this._waDojoxAddIssue(c.editingItemRefTime[0],"millisecond",
e);"resizeBoth"==b&&(e=a.difference(c.editingTimeFrom[1],d[1],"millisecond"),d[1]=this._waDojoxAddIssue(c.editingItemRefTime[1],"millisecond",e));return d},_moveOrResizeItemGesture:function(a,b,c){if(this._isEditing&&null!=a[0]){var d=this._edProps,e=d.editedItem,h=this.renderData.dateModule,f=d.editKind,j=[a[0]];"resizeBoth"==f&&(j[1]=a[1]);var j=this._computeItemEditingTimes(e,d.editKind,d.rendererKind,j,b),k=j[0],o=!1,a=m.clone(e.startTime),l=m.clone(e.endTime),n="keyboard"==d.eventSource?!1:this.allowStartEndSwap;
if("move"==f){if(0!=h.compare(e.startTime,k))o=h.difference(e.startTime,e.endTime,"millisecond"),e.startTime=this.newDate(k),e.endTime=h.add(e.startTime,"millisecond",o),o=!0}else if("resizeStart"==f){if(0!=h.compare(e.startTime,k)){if(-1!=h.compare(e.endTime,k))e.startTime=this.newDate(k);else if(n){if(e.startTime=this.newDate(e.endTime),e.endTime=this.newDate(k),d.editKind=f="resizeEnd","touch"==b)d.resizeEndTouchIndex=d.resizeStartTouchIndex,d.resizeStartTouchIndex=-1}else e.startTime=this.newDate(e.endTime),
e.startTime.setHours(k.getHours()),e.startTime.setMinutes(k.getMinutes()),e.startTime.setSeconds(k.getSeconds());o=!0}}else if("resizeEnd"==f){if(0!=h.compare(e.endTime,k)){if(1!=h.compare(e.startTime,k))e.endTime=this.newDate(k);else if(n){if(e.endTime=this.newDate(e.startTime),e.startTime=this.newDate(k),d.editKind=f="resizeStart","touch"==b)d.resizeStartTouchIndex=d.resizeEndTouchIndex,d.resizeEndTouchIndex=-1}else e.endTime=this.newDate(e.startTime),e.endTime.setHours(k.getHours()),e.endTime.setMinutes(k.getMinutes()),
e.endTime.setSeconds(k.getSeconds());o=!0}}else if("resizeBoth"==f){if(o=!0,k=this.newDate(k),j=this.newDate(j[1]),-1!=h.compare(k,j)&&(n?(n=k,k=j,j=n):o=!1),o)e.startTime=k,e.endTime=j}else return!1;if(!o)return!1;b=m.mixin(this._createItemEditEvent(),{item:e,startTime:e.startTime,endTime:e.endTime,editKind:f,rendererKind:d.rendererKind,triggerEvent:c,eventSource:b});"move"==f?this._onItemEditMoveGesture(b):this._onItemEditResizeGesture(b);if(1==h.compare(e.startTime,e.endTime))f=e.startTime,e.startTime=
e.startTime,e.endTime=f;o=0!=h.compare(a,e.startTime)||0!=h.compare(l,e.endTime);if(!o)return!1;this._layoutRenderers(this.renderData);if(d.liveLayout&&null!=d.secItem)d.secItem.startTime=e.startTime,d.secItem.endTime=e.endTime,this._secondarySheet._layoutRenderers(this._secondarySheet.renderData);else if(null!=d.ownerItem&&this.owner.liveLayout)d.ownerItem.startTime=e.startTime,d.ownerItem.endTime=e.endTime,this.owner._layoutRenderers(this.owner.renderData);return!0}},_findRenderItem:function(a,
b){for(var b=b||this.renderData.items,c=0;c<b.length;c++)if(b[c].id==a)return b[c];return null},_onItemEditMoveGesture:function(a){this._dispatchCalendarEvt(a,"onItemEditMoveGesture");if(!a.isDefaultPrevented()){var b=a.source._edProps,c=this.renderData,d=c.dateModule;"label"==b.rendererKind||this.roundToDay&&!a.item.allDay?(c=this.floorToDay(a.item.startTime,!1,c),c.setHours(b._itemEditBeginSave.getHours()),c.setMinutes(b._itemEditBeginSave.getMinutes()),d=d.add(c,"millisecond",b._initDuration)):
a.item.allDay?(c=this.floorToDay(a.item.startTime,!0),d=d.add(c,"day",b._initDuration)):(c=this.floorDate(a.item.startTime,this.snapUnit,this.snapSteps),d=d.add(c,"millisecond",b._initDuration));a.item.startTime=c;a.item.endTime=d;if(!b.inViewOnce)b.inViewOnce=this._isItemInView(a.item);b.inViewOnce&&this.stayInView&&this._ensureItemInView(a.item)}},_DAY_IN_MILLISECONDS:864E5,onItemEditMoveGesture:function(){},_onItemEditResizeGesture:function(a){this._dispatchCalendarEvt(a,"onItemEditResizeGesture");
if(!a.isDefaultPrevented()){var b=a.source._edProps,c=this.renderData,d=c.dateModule,e=a.item.startTime,h=a.item.endTime;"resizeStart"==a.editKind?a.item.allDay?e=this.floorToDay(a.item.startTime,!1,this.renderData):this.roundToDay?(e=this.floorToDay(a.item.startTime,!1,c),e.setHours(b._itemEditBeginSave.getHours()),e.setMinutes(b._itemEditBeginSave.getMinutes())):e=this.floorDate(a.item.startTime,this.snapUnit,this.snapSteps):"resizeEnd"==a.editKind?a.item.allDay?this.isStartOfDay(a.item.endTime)||
(h=this.floorToDay(a.item.endTime,!1,this.renderData),h=d.add(h,"day",1)):this.roundToDay?(h=this.floorToDay(a.item.endTime,!1,c),h.setHours(b._itemEditEndSave.getHours()),h.setMinutes(b._itemEditEndSave.getMinutes())):(h=this.floorDate(a.item.endTime,this.snapUnit,this.snapSteps),"mouse"==a.eventSource&&(h=d.add(h,this.snapUnit,this.snapSteps))):(e=this.floorDate(a.item.startTime,this.snapUnit,this.snapSteps),h=this.floorDate(a.item.endTime,this.snapUnit,this.snapSteps),h=d.add(h,this.snapUnit,this.snapSteps));
a.item.startTime=e;a.item.endTime=h;c=a.item.allDay||b._initDuration>=this._DAY_IN_MILLISECONDS&&!this.allowResizeLessThan24H;this.ensureMinimalDuration(this.renderData,a.item,c?"day":this.minDurationUnit,c?1:this.minDurationSteps,a.editKind);if(!b.inViewOnce)b.inViewOnce=this._isItemInView(a.item);b.inViewOnce&&this.stayInView&&this._ensureItemInView(a.item)}},onItemEditResizeGesture:function(){},_endItemEditingGesture:function(a,b){if(this._isEditing){this._editingGesture=!1;var c=this._edProps,
d=c.editedItem;c.itemBeginDispatched=!1;this._onItemEditEndGesture(m.mixin(this._createItemEditEvent(),{item:d,startTime:d.startTime,endTime:d.endTime,editKind:c.editKind,rendererKind:c.rendererKind,triggerEvent:b,eventSource:a}))}},_onItemEditEndGesture:function(a){var b=this._edProps;delete b._itemEditBeginSave;delete b._itemEditEndSave;this._dispatchCalendarEvt(a,"onItemEditEndGesture");if(!a.isDefaultPrevented()&&b.editLayer){if(d("ie"))b.editLayer.style.cursor="default";setTimeout(m.hitch(this,
function(){if(this.domNode)this.domNode.focus(),b.editLayer.parentNode.removeChild(b.editLayer),b.editLayer=null}),10)}},onItemEditEndGesture:function(){},ensureMinimalDuration:function(a,b,c,d,e){a=a.dateModule;if("resizeStart"==e){if(c=a.add(b.endTime,c,-d),1==a.compare(b.startTime,c))b.startTime=c}else if(c=a.add(b.startTime,c,d),-1==a.compare(b.endTime,c))b.endTime=c},doubleTapDelay:300,snapUnit:"minute",snapSteps:15,minDurationUnit:"hour",minDurationSteps:1,liveLayout:!1,stayInView:!0,allowStartEndSwap:!0,
allowResizeLessThan24H:!1})})},"url:dojox/calendar/templates/VerticalRenderer.html":'<div class="dojoxCalendarEvent dojoxCalendarVertical" onselectstart="return false;">\n\t<div class="bg"></div>\n\t<dl style="width:100%;">\n\t\t<dd data-dojo-attach-point="beforeIcon" class="beforeIcon">\u25b2</dd>\n\t\t<dd data-dojo-attach-point="startTimeLabel" class="startTime"></dd>\n\t\t<dd data-dojo-attach-point="summaryLabel" class="summary"></dd>\n\t</dl>\t\n\t<span data-dojo-attach-point="afterIcon" class="afterIcon">\u25bc</span>\n\t<div data-dojo-attach-point="moveHandle" class="handle moveHandle" ></div>\n\t<div data-dojo-attach-point="resizeStartHandle" class="handle resizeStartHandle"></div>\n\t<div data-dojo-attach-point="resizeEndHandle" class="handle resizeEndHandle" ></div>\n\t<div data-dojo-attach-point="endTimeLabel" class="endTime"></div>\n</div>\n',
"dojo/string":function(){define("dojo/string",["./_base/kernel","./_base/lang"],function(l,m){var k={};m.setObject("dojo.string",k);k.rep=function(j,f){if(0>=f||!j)return"";for(var e=[];;){f&1&&e.push(j);if(!(f>>=1))break;j+=j}return e.join("")};k.pad=function(j,f,e,d){e||(e="0");j=""+j;f=k.rep(e,Math.ceil((f-j.length)/e.length));return d?j+f:f+j};k.substitute=function(j,f,e,d){d=d||l.global;e=e?m.hitch(d,e):function(c){return c};return j.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(c,
b,a){c=m.getObject(b,!1,f);a&&(c=m.getObject(a,!1,d).call(d,c,b));return e(c,b).toString()})};k.trim=String.prototype.trim?m.trim:function(j){for(var j=j.replace(/^\s+/,""),f=j.length-1;0<=f;f--)if(/\S/.test(j.charAt(f))){j=j.substring(0,f+1);break}return j};return k})},"deploy/widgets/tag/Tagger":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/_base/xhr,dojo/dom,dojo/dom-construct,dojo/dom-class,dojo/dom-style,dojo/on,dojo/mouse,dojo/aspect,dijit/form/FilteringSelect,deploy/widgets/Formatters,deploy/widgets/tag/TagSelector,deploy/widgets/tag/TagRemover,deploy/widgets/tag/TagDisplay,deploy/widgets/tag/TagSelect,js/webext/widgets/Alert,js/webext/widgets/Dialog".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u){return k([m,l],{templateString:'<div class="inlineBlock"><div data-dojo-attach-point="tagAttach" class="inlineBlock" ></div><div class="inlineBlock"><div data-dojo-attach-point="iconAttach" class="inlineBlock" ></div></div></div>',allowTagAdd:!0,postCreate:function(){this.inherited(arguments);if(!this.icon)this.icon=o.createIcon("tagIcon",i18n("Add Tag"));this._displayTags(this.item.tags);this.allowTagAdd&&this.item.security["Edit Basic Settings"]&&
this._displayTagIcon()},showAddTagDialog:function(a){var b=this,c=new u({title:i18n("Add New Tag"),closable:!0,draggable:!0});(new n({item:a,objectType:b.objectType,callback:function(){c.hide();c.destroy();b.callback&&b.callback()}})).placeAt(c.containerNode);c.show()},showRemoveTagDialog:function(a){var b=this,c=new u({title:i18n("Remove Tag"),closable:!0,draggable:!0});(new s({ids:a,objectType:b.objectType,callback:function(){c.hide();c.destroy();b.callback&&b.callback()}})).placeAt(c.containerNode);
c.show()},resolve:function(a){return"ComponentTemplate"===a?"Component":a},showAddExistingTagSelect:function(c){var e=this;if(!c.length&&c.id){var f=c.id,c=[];c.push(f)}this.tagSelect&&this.tagSelect.destroy();this.tagSelect=new t({items:c,objectType:e.resolve(e.objectType)});this.tagSelect.placeAt(this.tagLink,"before");b(this.tagSelect.tagSelector,"change",function(a){a&&(e.tagSelect.tagSelector.get("item"),e.addTag(a,c),e.tagSelect.destroy())});b(this.tagSelect.newTag,"click",function(){e.tagSelect&&
e.tagSelect.destroy();e.showAddTagDialog(c)});b(this.tagSelect,"click",function(){e.tagSelect&&!e.tagSelect.tagSelector.focused&&e.tagSelect.destroy()});b(this.tagSelect.tagAttach,a.leave,function(){e.tagSelect&&!e.tagSelect.tagSelector.focused&&e.tagSelect.destroy()});b(this.tagSelect,"blur",function(){e.tagSelect&&e.tagSelect.destroy()});h.after(this.tagSelect,"destroy",function(){d.add(e.tagLink,"tagSelector tagIconSizer")})},addTag:function(a,b){var c=this,d={ids:b};d.name=a;j.put({url:bootstrap.restUrl+
"tag/"+c.objectType,sync:!0,putData:JSON.stringify(d),handleAs:"json",headers:{"Content-Type":"application/json"},load:function(){c.tagSelect.destroy();void 0!==c.callback&&c.callback()},error:function(a){new w({message:util.escape(a.responseText)})}})},_displayTags:function(){var a=this;(new r({readOnly:!a.allowTagAdd||!a.item.security["Edit Basic Settings"],itemId:a.item.id,objectType:a.objectType,tags:a.item.tags,disabledTags:a.item.disabledTags,callback:function(){a.callback&&a.callback()}})).placeAt(a.tagAttach)},
_displayTagIcon:function(){var a=this;this.tagLink=a.icon;d.add(a.tagLink,"tagSelector tagIconSizer");d.remove(a.tagLink,"inlineBlock");e.place(a.tagLink,this.iconAttach);b(this.tagLink,"click",function(){d.remove(a.tagLink,"tagSelector tagIconSizer");a.showAddExistingTagSelect(a.item)})}})})},"dojo/dnd/Manager":function(){define("../_base/array,../_base/declare,../_base/event,../_base/lang,../_base/window,../dom-class,../Evented,../has,../keys,../on,../topic,../touch,./common,./autoscroll,./Avatar".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s){var r=m("dojo.dnd.Manager",[d],{constructor:function(){this.source=this.avatar=null;this.nodes=[];this.copy=!0;this.target=null;this.canDropFlag=!1;this.events=[]},OFFSET_X:c("touch")?0:16,OFFSET_Y:c("touch")?-64:16,overSource:function(a){if(this.avatar)this.target=a&&"Disabled"!=a.targetState?a:null,this.canDropFlag=Boolean(this.target),this.avatar.update();h.publish("/dnd/source/over",a)},outSource:function(a){if(this.avatar){if(this.target==a)this.target=
null,this.canDropFlag=!1,this.avatar.update(),h.publish("/dnd/source/over",null)}else h.publish("/dnd/source/over",null)},startDrag:function(b,c,d){n.autoScrollStart(f.doc);this.source=b;this.nodes=c;this.copy=Boolean(d);this.avatar=this.makeAvatar();f.body().appendChild(this.avatar.node);h.publish("/dnd/start",b,c,this.copy);this.events=[a(f.doc,q.move,j.hitch(this,"onMouseMove")),a(f.doc,q.release,j.hitch(this,"onMouseUp")),a(f.doc,"keydown",j.hitch(this,"onKeyDown")),a(f.doc,"keyup",j.hitch(this,
"onKeyUp")),a(f.doc,"dragstart",k.stop),a(f.body(),"selectstart",k.stop)];e.add(f.body(),"dojoDnd"+(d?"Copy":"Move"))},canDrop:function(a){a=Boolean(this.target&&a);if(this.canDropFlag!=a)this.canDropFlag=a,this.avatar.update()},stopDrag:function(){e.remove(f.body(),["dojoDndCopy","dojoDndMove"]);l.forEach(this.events,function(a){a.remove()});this.events=[];this.avatar.destroy();this.source=this.target=this.avatar=null;this.nodes=[]},makeAvatar:function(){return new s(this)},updateAvatar:function(){this.avatar.update()},
onMouseMove:function(a){var b=this.avatar;if(b)n.autoScrollNodes(a),b=b.node.style,b.left=a.pageX+this.OFFSET_X+"px",b.top=a.pageY+this.OFFSET_Y+"px",b=Boolean(this.source.copyState(o.getCopyKeyState(a))),this.copy!=b&&this._setCopyStatus(b);c("touch")&&a.preventDefault()},onMouseUp:function(a){if(this.avatar){if(this.target&&this.canDropFlag){var b=Boolean(this.source.copyState(o.getCopyKeyState(a)));h.publish("/dnd/drop/before",this.source,this.nodes,b,this.target,a);h.publish("/dnd/drop",this.source,
this.nodes,b,this.target,a)}else h.publish("/dnd/cancel");this.stopDrag()}},onKeyDown:function(a){if(this.avatar)switch(a.keyCode){case b.CTRL:a=Boolean(this.source.copyState(!0));this.copy!=a&&this._setCopyStatus(a);break;case b.ESCAPE:h.publish("/dnd/cancel"),this.stopDrag()}},onKeyUp:function(a){this.avatar&&a.keyCode==b.CTRL&&(a=Boolean(this.source.copyState(!1)),this.copy!=a&&this._setCopyStatus(a))},_setCopyStatus:function(a){this.copy=a;this.source._markDndStatus(this.copy);this.updateAvatar();
e.replace(f.body(),"dojoDnd"+(this.copy?"Copy":"Move"),"dojoDnd"+(this.copy?"Move":"Copy"))}});o._manager=null;r.manager=o.manager=function(){if(!o._manager)o._manager=new r;return o._manager};return r})},"deploy/widgets/security/EditUser":function(){define(["dijit/_TemplatedMixin","dijit/_Widget","dojo/_base/declare","js/webext/widgets/ColumnForm"],function(l,m,k,j){return k("deploy.widgets.security.EditUser",[m,l],{templateString:'<div class="editUser">  <div data-dojo-attach-point="formAttach"></div></div>',
postCreate:function(){this.inherited(arguments);var f=this;this.existingValues={};if(this.user)this.existingValues=this.user;var e=bootstrap.baseUrl+"security/user";this.user&&(e+="/"+this.user.id);this.form=new j({submitUrl:e,submitMethod:this.user?"PUT":"POST",addData:function(d){d.authenticationRealm=f.realmId},postSubmit:function(){void 0!==f.callback&&f.callback(!0)},onCancel:function(){void 0!==f.callback&&f.callback()}});this.form.addField({name:"name",label:i18n("Username"),required:!0,type:"Text",
readOnly:!!this.user,value:this.existingValues.name});this.importOnly||this.user||this.form.addField({name:"password",label:i18n("Password"),required:!0,type:"Secure",value:""});if(this.user||!this.importOnly)this.form.addField({name:"actualName",label:i18n("Name"),required:!1,type:"Text",value:this.existingValues.actualName}),this.form.addField({name:"email",label:i18n("Email"),required:!1,type:"Text",textDir:"ltr",value:this.existingValues.email});this.form.placeAt(this.formAttach)}})})},"url:dijit/templates/Tooltip.html":'<div class="dijitTooltip dijitTooltipLeft" id="dojoTooltip"\n\t><div class="dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point="containerNode" role=\'alert\'></div\n\t><div class="dijitTooltipConnector" data-dojo-attach-point="connectorNode"></div\n></div>\n',
"dojo/_base/declare":function(){define("dojo/_base/declare",["./kernel","../has","./lang"],function(l,m,k){function j(a,b){throw Error("declare"+(b?" "+b:"")+": "+a);}function f(a,b,c){var d,e,h,f,k,o,n,l=this._inherited=this._inherited||{};"string"==typeof a&&(d=a,a=b,b=c);c=0;f=a.callee;(d=d||f.nom)||j("can't deduce a name to call inherited()",this.declaredClass);k=this.constructor._meta;h=k.bases;n=l.p;if(d!=z){if(l.c!==f&&(n=0,o=h[0],k=o._meta,k.hidden[d]!==f)){(e=k.chains)&&"string"==typeof e[d]&&
j("calling chained method with inherited: "+d,this.declaredClass);do if(k=o._meta,e=o.prototype,k&&(e[d]===f&&e.hasOwnProperty(d)||k.hidden[d]===f))break;while(o=h[++n]);n=o?n:-1}if(o=h[++n])if(e=o.prototype,o._meta&&e.hasOwnProperty(d))c=e[d];else{f=x[d];do if(e=o.prototype,(c=e[d])&&(o._meta?e.hasOwnProperty(d):c!==f))break;while(o=h[++n])}c=o&&c||x[d]}else{if(l.c!==f&&(n=0,(k=h[0]._meta)&&k.ctor!==f)){e=k.chains;for((!e||"manual"!==e.constructor)&&j("calling chained constructor with inherited",
this.declaredClass);(o=h[++n])&&!((k=o._meta)&&k.ctor===f););n=o?n:-1}for(;(o=h[++n])&&!(c=(k=o._meta)?k.ctor:o););c=o&&c}l.c=c;l.p=n;if(c)return!0===b?c:c.apply(this,b||a)}function e(a,b){return"string"==typeof a?this.__inherited(a,b,!0):this.__inherited(a,!0)}function d(a,b,c){var d=this.getInherited(a,b);if(d)return d.apply(this,c||b||a)}function c(a){for(var b=this.constructor._meta.bases,c=0,d=b.length;c<d;++c)if(b[c]===a)return!0;return this instanceof a}function b(a,b){for(var c in b)c!=z&&
b.hasOwnProperty(c)&&(a[c]=b[c]);if(m("bug-for-in-skips-shadowed"))for(var d=k._extraNames,e=d.length;e;)c=d[--e],c!=z&&b.hasOwnProperty(c)&&(a[c]=b[c])}function a(a){w.safeMixin(this.prototype,a);return this}function h(a){return w([this].concat(a))}function q(a,b){return function(){var C;var c=arguments,d=c,e=c[0],h,f;f=a.length;var j;if(!(this instanceof c.callee))return t(c);if(b&&(e&&e.preamble||this.preamble)){j=Array(a.length);j[0]=c;for(h=0;;){if(e=c[0])(e=e.preamble)&&(c=e.apply(this,c)||
c);e=a[h].prototype;(e=e.hasOwnProperty("preamble")&&e.preamble)&&(c=e.apply(this,c)||c);if(++h==f)break;j[h]=c}}for(h=f-1;0<=h;--h)e=a[h],(C=(f=e._meta)?f.ctor:e,e=C)&&e.apply(this,j?j[h]:c);(e=this.postscript)&&e.apply(this,d)}}function o(a,b){return function(){var c=arguments,d=c,e=c[0];if(!(this instanceof c.callee))return t(c);if(b){if(e)(e=e.preamble)&&(d=e.apply(this,d)||d);(e=this.preamble)&&e.apply(this,d)}a&&a.apply(this,c);(e=this.postscript)&&e.apply(this,c)}}function n(a){return function(){var C;
var b=arguments,c=0,d,e;if(!(this instanceof b.callee))return t(b);for(;d=a[c];++c)if(C=(e=d._meta)?e.ctor:d,d=C){d.apply(this,b);break}(d=this.postscript)&&d.apply(this,b)}}function s(a,b,c){return function(){var d,e,h=0,f=1;c&&(h=b.length-1,f=-1);for(;d=b[h];h+=f)e=d._meta,(d=(e?e.hidden:d.prototype)[a])&&d.apply(this,arguments)}}function r(a){y.prototype=a.prototype;a=new y;y.prototype=null;return a}function t(a){var b=a.callee,c=r(b);b.apply(c,a);return c}function w(d,l,m){"string"!=typeof d&&
(m=l,l=d,d="");var m=m||{},y,t,L,M,I,J,U,Q=1,R=l;if("[object Array]"==v.call(l)){Q=d;L=[];M=[{cls:0,refs:[]}];J={};for(var V=1,X=l.length,N=0,T,F,E,O;N<X;++N){(T=l[N])?"[object Function]"!=v.call(T)&&j("mixin #"+N+" is not a callable constructor.",Q):j("mixin #"+N+" is unknown. Did you use dojo.require to pull it in?",Q);F=T._meta?T._meta.bases:[T];E=0;for(T=F.length-1;0<=T;--T){O=F[T].prototype;if(!O.hasOwnProperty("declaredClass"))O.declaredClass="uniqName_"+A++;O=O.declaredClass;J.hasOwnProperty(O)||
(J[O]={count:0,refs:[],cls:F[T]},++V);O=J[O];E&&E!==O&&(O.refs.push(E),++E.count);E=O}++E.count;M[0].refs.push(E)}for(;M.length;){E=M.pop();L.push(E.cls);for(--V;t=E.refs,1==t.length;){E=t[0];if(!E||--E.count){E=0;break}L.push(E.cls);--V}if(E)for(N=0,X=t.length;N<X;++N)E=t[N],--E.count||M.push(E)}V&&j("can't build consistent linearization",Q);T=l[0];L[0]=T?T._meta&&T===L[L.length-T._meta.bases.length]?T._meta.bases.length:1:0;J=L;L=J[0];Q=J.length-L;l=J[Q]}else J=[0],l?"[object Function]"==v.call(l)?
(L=l._meta,J=J.concat(L?L.bases:l)):j("base class is not a callable constructor.",d):null!==l&&j("unknown base class. Did you use dojo.require to pull it in?",d);if(l)for(t=Q-1;;--t){y=r(l);if(!t)break;L=J[t];(L._meta?b:u)(y,L.prototype);M=new Function;M.superclass=l;M.prototype=y;l=y.constructor=M}else y={};w.safeMixin(y,m);L=m.constructor;if(L!==x.constructor)L.nom=z,y.constructor=L;for(t=Q-1;t;--t)(L=J[t]._meta)&&L.chains&&(U=u(U||{},L.chains));y["-chains-"]&&(U=u(U||{},y["-chains-"]));L=!U||!U.hasOwnProperty(z);
J[0]=M=U&&"manual"===U.constructor?n(J):1==J.length?o(m.constructor,L):q(J,L);M._meta={bases:J,hidden:m,chains:U,parents:R,ctor:m.constructor};M.superclass=l&&l.prototype;M.extend=a;M.createSubclass=h;M.prototype=y;y.constructor=M;y.getInherited=e;y.isInstanceOf=c;y.inherited=B;y.__inherited=f;if(d)y.declaredClass=d,k.setObject(d,M);if(U)for(I in U)if(y[I]&&"string"==typeof U[I]&&I!=z)L=y[I]=s(I,J,"after"===U[I]),L.nom=I;return M}var u=k.mixin,x=Object.prototype,v=x.toString,y=new Function,A=0,z=
"constructor",B=l.config.isDebug?d:f;l.safeMixin=w.safeMixin=function(a,b){var c,d;for(c in b)if(d=b[c],(d!==x[c]||!(c in x))&&c!=z){if("[object Function]"==v.call(d))d.nom=c;a[c]=d}if(m("bug-for-in-skips-shadowed"))for(var e=k._extraNames,h=e.length;h;)if(c=e[--h],d=b[c],(d!==x[c]||!(c in x))&&c!=z){if("[object Function]"==v.call(d))d.nom=c;a[c]=d}return a};return l.declare=w})},"deploy/widgets/workflow/activity/PatternStackExecutionActivity":function(){define(["dojo/_base/declare","deploy/widgets/workflow/activity/BaseActivity"],
function(l,m){return l("deploy.widgets.workflow.activity.PatternResourceActivity",[m],{postCreate:function(){this.inherited(arguments)},getLabel:function(){return"configurationResourceGroup"===this.data.resourceType||"serverResourceGroup"===this.data.resourceType||"server"===this.data.resourceType?this.data.name:this.data.name+"\n["+this.data.resourceType+"]"},canEdit:function(){return!1}})})},"url:dijit/templates/TooltipDialog.html":'<div role="alertdialog" tabIndex="-1">\n\t<div class="dijitTooltipContainer" role="presentation">\n\t\t<div class="dijitTooltipContents dijitTooltipFocusNode" data-dojo-attach-point="containerNode"></div>\n\t</div>\n\t<div class="dijitTooltipConnector" role="presentation" data-dojo-attach-point="connectorNode"></div>\n</div>\n',
"url:dijit/templates/Calendar.html":'<table cellspacing="0" cellpadding="0" class="dijitCalendarContainer" role="grid" aria-labelledby="${id}_mddb ${id}_year" data-dojo-attach-point="gridNode">\n\t<thead>\n\t\t<tr class="dijitReset dijitCalendarMonthContainer" valign="top">\n\t\t\t<th class=\'dijitReset dijitCalendarArrow\' data-dojo-attach-point="decrementMonth" scope="col">\n\t\t\t\t<img src="${_blankGif}" alt="" class="dijitCalendarIncrementControl dijitCalendarDecrease" role="presentation"/>\n\t\t\t\t<span data-dojo-attach-point="decreaseArrowNode" class="dijitA11ySideArrow">-</span>\n\t\t\t</th>\n\t\t\t<th class=\'dijitReset\' colspan="5" scope="col">\n\t\t\t\t<div data-dojo-attach-point="monthNode">\n\t\t\t\t</div>\n\t\t\t</th>\n\t\t\t<th class=\'dijitReset dijitCalendarArrow\' scope="col" data-dojo-attach-point="incrementMonth">\n\t\t\t\t<img src="${_blankGif}" alt="" class="dijitCalendarIncrementControl dijitCalendarIncrease" role="presentation"/>\n\t\t\t\t<span data-dojo-attach-point="increaseArrowNode" class="dijitA11ySideArrow">+</span>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr role="row">\n\t\t\t${!dayCellsHtml}\n\t\t</tr>\n\t</thead>\n\t<tbody data-dojo-attach-point="dateRowsNode" data-dojo-attach-event="onclick: _onDayClick" class="dijitReset dijitCalendarBodyContainer">\n\t\t\t${!dateRowsHtml}\n\t</tbody>\n\t<tfoot class="dijitReset dijitCalendarYearContainer">\n\t\t<tr>\n\t\t\t<td class=\'dijitReset\' valign="top" colspan="7" role="presentation">\n\t\t\t\t<div class="dijitCalendarYearLabel">\n\t\t\t\t\t<span data-dojo-attach-point="previousYearLabelNode" class="dijitInline dijitCalendarPreviousYear" role="button"></span>\n\t\t\t\t\t<span data-dojo-attach-point="currentYearLabelNode" class="dijitInline dijitCalendarSelectedYear" role="button" id="${id}_year"></span>\n\t\t\t\t\t<span data-dojo-attach-point="nextYearLabelNode" class="dijitInline dijitCalendarNextYear" role="button"></span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tfoot>\n</table>\n',
"deploy/widgets/workflow/activity/EachTouchedResourceActivity":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/on,deploy/widgets/workflow/activity/BaseActivity,js/webext/widgets/DialogMultiSelect,js/webext/widgets/RestSelect,deploy/widgets/property/PropertyTextareaBox".split(","),function(l,m,k,j,f,e,d){return m("deploy.widgets.workflow.activity.EachTouchedResourceActivity",[f],{postCreate:function(){this.inherited(arguments);if(!this.initialized)this.data.name=util.randomString(30),
this.editProperties()},getLabel:function(){var c="";if(this.initialized){var b=this.getChildData();b&&(c+=b.name+"\n")}return c+=i18n("Run Generic Process For Each Affected Resource")},showProcessFields:function(c,b){var a=this;l.forEach(b.propDefs,function(b){var d=null;a.data.properties&&(d=a.data.properties[b.name]);if(d)b.value=d;b.name="p_"+b.name;c.addField(b);a.extraPropertyNames.push(b.name)})},editProperties:function(c){var b=this,a=this.getChildData(),e=b.createPropertyDialog(),f=b.createPropertyForm({dialog:e,
validateFields:function(a){return b.validateName(a.name)},onSubmit:function(a){c&&c();b.initialized=!0;b.data.name=util.randomString(30);b.data.type="touchedResourceIterator";b.data.maxIteration=a.maxIteration;b.data.failFast=a.failFast;b.data.preconditionScript=a.preconditionScript;b.data.children=[{name:a.name,type:"runProcess",processName:a.processName,allowFailure:a.allowFailure}];b.updateLabel();e.hide();f.destroy();e.destroy()},readOnly:b.readOnly});f.addField({name:"name",label:i18n("Name"),
type:"Text",required:!0,value:a.name});var j=new d({restUrl:bootstrap.restUrl+"process",getValue:function(a){return a.name},onChange:function(a,c){l.forEach(b.extraPropertyNames,function(a){f.removeField(a)});b.extraPropertyNames=[];c&&k.get({url:bootstrap.restUrl+"process/"+c.id+"/-1",handleAs:"json",load:function(a){b.showProcessFields(f,a)}})},allowNone:!1,value:a.processName,disabled:b.readOnly});f.addField({name:"processName",label:i18n("Process"),required:!0,description:i18n("The process to run."),
widget:j});(config.data.systemConfiguration.enableAllowFailure||a.allowFailure)&&f.addField({name:"allowFailure",label:i18n("Ignore Failure"),description:i18n("When checked, this step will always be considered successful."),type:"Checkbox",value:a.allowFailure},"tagId");f.addField({name:"maxIteration",label:i18n("Max # of concurrent jobs."),type:"Text",required:!0,textDir:"ltr",value:b.data.maxIteration||-1,description:i18n("The max number of concurrent component processes to run at any time. Use -1 for unlimited.")});
f.addField({name:"failFast",label:i18n("Fail Fast"),type:"Checkbox",description:i18n("When this is checked, this step will not start any more component processes if one fails."),value:b.data.failFast});f.addField({name:"preconditionScript",label:i18n("Precondition"),type:"PropertyArea",description:i18n("A script to determine whether this step should run. Must evaluate to true or false if not left blank."),value:b.data.preconditionScript,cache:b.graphEditor.cache});f.placeAt(e.containerNode);e.show()}})})},
"deploy/widgets/version/VersionArtifacts":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/dom-construct,dojo/dom-class,dojo/has,dojo/on,dijit/form/Button,js/webext/widgets/ColumnForm,js/webext/widgets/Alert,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/table/TreeTable,js/webext/widgets/Table,deploy/widgets/Formatters".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s){return k("deploy.widgets.version.VersionArtifacts",[m,l],{templateString:'<div class="versionArtifacts"><div data-dojo-attach-point="countAttach"></div><div data-dojo-attach-point="treeAttach" class="fileTree"></div><div class="archiveAttach" data-dojo-attach-point="archiveAttach"></div></div>',
emptyTreeMessage:null,postCreate:function(){this.inherited(arguments);var a;if(appState.component.sourceConfigPlugin)a=appState.component.sourceConfigPlugin.name;var b,c,d;if("AnthillPro"===a)b=util.getNamedPropertyValue(appState.component.properties,"AnthillComponentProperties/anthillUrl"),a=appState.version.name,c=j.create("div",null,this.treeAttach),c.style.paddingBottom=".5em",d=document.createElement("a"),d.innerHTML=i18n("View artifacts in Anthill"),d.href=b+"/tasks/project/BuildLifeTasks/viewArtifactList?buildLifeId="+
a,d.target="_blank",c.appendChild(d);else if("uBuild"===a)b=util.getNamedPropertyValue(appState.component.properties,"uBuildComponentProperties/uBuildUrl"),a=appState.version.name,c=j.create("div",null,this.treeAttach),c.style.paddingBottom=".5em",d=document.createElement("a"),d.innerHTML=i18n("View artifacts in uBuild"),d.href=b+"/tasks/project/BuildLifeTasks/viewArtifactList?buildLifeId="+a,d.target="_blank",c.appendChild(d);this.showTree()},destroy:function(){this.inherited(arguments);this.tree&&
this.tree.destroy()},showTree:function(){var a=this;if(appState.version.archived){j.create("div",{innerHTML:i18n("This version's artifacts have been archived."),"class":"inlineBlock actionsLink"},this.archiveAttach);var b=j.create("a",{innerHTML:i18n("Restore from Backup"),"class":"linkPointer actionsLink"},this.archiveAttach);d(b,"click",function(){a.showRestoreDialog()})}if(void 0!==appState.version.totalCount){b=document.createElement("div");if(appState.component.componentType&&"ZOS"===appState.component.componentType){var e=
"",k="",l="";if(0<appState.version.totalZosAddPdsCount||0<appState.version.totalZosAddSequentialCount)0<appState.version.totalZosAddPdsCount&&0<appState.version.totalZosAddSequentialCount?e=i18n("Total add: %s members in %s data sets, %s sequential data sets",appState.version.totalZosAddPdsMemberCount,appState.version.totalZosAddPdsCount,appState.version.totalZosAddSequentialCount):0<appState.version.totalZosAddPdsCount?e=i18n("Total add: %s members in %s data sets",appState.version.totalZosAddPdsMemberCount,
appState.version.totalZosAddPdsCount):0<appState.version.totalZosAddSequentialCount&&(e=i18n("Total add: %s sequential data sets",appState.version.totalZosAddSequentialCount));if(0<appState.version.totalZosDelPdsCount||0<appState.version.totalZosDelSequentialcount)0<appState.version.totalZosDelPdsCount&&0<appState.version.totalZosDelSequentialcount?k=i18n("Total delete: %s members in %s data sets, %s sequential data sets",appState.version.totalZosDelPdsMemberCount,appState.version.totalZosDelPdsCount,
appState.version.totalZosDelSequentialcount):0<appState.version.totalZosDelPdsCount?k=i18n("Total delete: %s members in %s data sets",appState.version.totalZosDelPdsMemberCount,appState.version.totalZosDelPdsCount):0<appState.version.totalZosDelSequentialcount&&(k=i18n("Total delete: %s sequential data sets",appState.version.totalZosDelSequentialcount));0<appState.version.totalZosGenericCount&&(l=i18n("Total generic artifacts: %s artifacts in %s containers",appState.version.totalZosGenericMemberCount,
appState.version.totalZosGenericCount));e=e&&k?e+"<br/>"+k:e+k;b.innerHTML=e&&l?e+"<br/>"+l:e+l}else b.innerHTML=i18n("Total: %s (%s files)",util.fileSizeFormat(appState.version.totalSize),appState.version.totalCount);this.countAttach.className="innerContainerLabel";this.countAttach.appendChild(b)}var b=[{name:i18n("Last Modified"),formatter:function(a){if(0!==a.lastModified&&"file"===a.type)return util.dateFormatShort(a.lastModified)}}],k={name:i18n("Name"),formatter:function(a){return s.artifactFormatter(a)},
orderField:"name",filterField:"name",filterType:"text",getRawValue:function(a){return a.name},field:"name"},l={name:i18n("Name"),formatter:function(a){return s.zosArtifactFormatter(a)},orderField:"name",filterField:"name",filterType:"text",getRawValue:function(a){return a.name},field:"name"},e={name:i18n("Artifact Type"),formatter:function(a){var b="";"folder"===a.type&&(b=a.zosContainerType&&a.zosDeployAction?a.zosContainerType&&"GENERIC"===a.zosContainerType.toUpperCase()?"[GENERIC]":"["+a.zosContainerType+
","+a.zosDeployAction+"]":"[PDS,ADD]");return b},orderField:"zosContainerType",filterField:"zosContainerType",filterType:"text",getRawValue:function(a){var b="";"folder"===a.type&&(b=a.zosContainerType&&a.zosDeployAction?"["+a.zosContainerType+","+a.zosDeployAction+"]":"[PDS,ADD]");return b},field:"zosContainerType"},m={name:i18n("Deploy Type"),orderField:"deployType",filterField:"deployType",filterType:"text",getRawValue:function(a){(a=a.deployType)||(a="");return a},field:"deployType"},y={name:i18n("Properties"),
formatter:function(a){var b=a.userAttributes||[],c=b.length;if(0<c){var e=b[0].name.escape()+"="+b[0].value.escape(),a=j.create("div");j.create("span",{innerHTML:e},a);1<c&&(c=" (+"+c+i18n(" more")+")",c=j.create("a",{"class":"linkPointer",title:i18n("Click to view all"),innerHTML:i18n(c)},a),d(c,"click",function(){var a=new h({title:i18n("Artifact properties"),closable:!0,draggable:!0});(new n({data:b,serverSideProcessing:!1,columns:[{name:i18n("Name"),field:"name",orderField:"name",getRawValue:function(a){return a.name}},
{name:i18n("Value"),field:"value",getRawValue:function(a){return a.value}}],orderField:"name",hidePagination:!0,style:{maxWidth:"640px"}})).placeAt(a);a.show()}));return a}}},A={name:i18n("Actions"),formatter:function(a){if("file"===a.type&&!a.isSymlink&&!appState.version.archived){var b=j.create("a",{"class":"linkPointer",innerHTML:i18n("Download")});d(b,"click",function(){util.downloadFile(bootstrap.restUrl+"deploy/version/"+appState.version.id+"/downloadArtifact/"+util.encodeIgnoringSlash(a.path))});
return b}}},z={name:i18n("Size"),formatter:function(a){return a.isSymlink?i18n("N/A (Symbolic Link)"):"file"===a.type?util.fileSizeFormat(a.length):i18n("%s (%s files)",util.fileSizeFormat(a.totalSize),a.totalCount)}};appState.component.componentType&&"ZOS"===appState.component.componentType?(b.splice(0,0,l),b.splice(1,0,e),b.splice(2,0,m),b.push(y)):(b.splice(0,0,k),b.splice(1,0,z),b.push(A));this.tree=new o({url:bootstrap.restUrl+"deploy/version/"+appState.version.id+"/fileTree",columns:b,serverSideProcessing:!1,
orderField:"name",noDataMessage:i18n("No artifacts have been added yet"),tableConfigKey:"artifactList",getChildUrl:function(a){return bootstrap.restUrl+"deploy/version/"+appState.version.id+"/fileTree/"+util.encodeIgnoringSlash(a.$ref)}});"ZOS"!==appState.component.componentType&&(b=new c({label:i18n("Download All"),showTitle:!1,onClick:function(){new q({message:i18n("For large files, this operation make take some time. Please be patient while your download begins."),action:function(){util.downloadFile(bootstrap.restUrl+
"deploy/version/"+appState.version.id+"/downloadArtifacts")}})}}),f.add(b.domNode,"idxButtonSpecial"),b.placeAt(this.tree.buttonAttach));this.tree.placeAt(this.treeAttach)},showRestoreDialog:function(){var a=new h({title:i18n("Restore Version Artifacts"),closable:!0,draggable:!0}),c=new b({submitUrl:bootstrap.restUrl+"deploy/version/"+appState.version.id+"/restoreArtifacts",postSubmit:function(){a.hide();a.destroy();navBar.setHash("#version/"+appState.version.id,!1,!0)},onCancel:function(){a.hide();
a.destroy()}});c.addField({name:"path",label:i18n("Path to Backup Zip"),description:i18n("The path to the backup zipfile containing the artifacts for this version."),value:this.findDefaultVersionPath(),type:"Text",bidiDynamicSTT:"FILE_PATH",required:!0});c.placeAt(a.containerNode);a.show()},findDefaultVersionPath:function(){var a=config.data.systemConfiguration.cleanupArchivePath,b=config.data.systemConfiguration.serverFileSeparator;a.charAt(a.length-1)!==b&&(a+=b);b=appState.component.name;b=b+"_"+
appState.version.name;b=b.replace("/","_").replace("\\","_");return a+(b+".zip")}})})},"url:dojox/form/resources/CheckedMultiSelect.html":'<div class="dijit dijitReset dijitInline dijitLeft" id="widget_${id}"\n\t><div data-dojo-attach-point="comboButtonNode"\n\t></div\n\t><div data-dojo-attach-point="selectNode" class="dijit dijitReset dijitInline ${baseClass}Wrapper" data-dojo-attach-event="onmousedown:_onMouseDown,onclick:focus"\n\t\t><select class="${baseClass}Select dojoxCheckedMultiSelectHidden" multiple="true" data-dojo-attach-point="containerNode,focusNode"></select\n\t\t><div data-dojo-attach-point="wrapperDiv"></div\n\t></div\n></div>',
"deploy/widgets/resource/ResourceSelectList":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dijit/form/CheckBox,dijit/form/TextBox,dojo/_base/array,dojo/_base/declare,dojo/dom-class,dojo/dom-construct,dojo/on,deploy/widgets/Formatters,deploy/widgets/tag/Tagger,deploy/widgets/filter/TagFilter,js/webext/widgets/Alert,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/table/TreeTable".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t){return d([m,
l],{templateString:'<div class="resourceList"><div data-dojo-attach-point="resourcesGrid"></div><div data-dojo-attach-point="buttonBottomAttach"></div></div>',postCreate:function(){this.inherited(arguments);var a=this;if(!this.gridRestUrl)this.gridRestUrl=bootstrap.restUrl+"resource/resource/tree";var d=[{name:i18n("Name"),formatter:function(a){var d=b.create("div",{"class":"inlineBlock"}),e=h.resourceNonLinkFormatter(a);c.add(e,"inlineBlock");b.place(e,d);(new q({objectType:"Resource",item:a,allowTagAdd:!1})).placeAt(d);
return d},orderField:"name",filterField:"name",filterType:"custom",getFilterFields:function(){var a=new f({name:"name","class":"filter",style:{width:"45%"},placeHolder:i18n("Resource Name"),type:"like"}),b=new o({name:"tags","class":"filter",style:{width:"45%"},placeHolder:i18n("Tags"),type:"eq"});return[a,b]},getRawValue:function(a){return a.path}},{name:i18n("Inventory"),formatter:function(a,b,c){return h.resourceInventoryFormatter(a,c,!1)},orderField:"version",filterField:"version",filterType:"text",
getRawValue:function(a){var b="None";if(a.version)b=a.version.name;return b}},{name:i18n("Description"),formatter:function(a){return b.create("div",{innerHTML:a.description?a.description.escape():"",style:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",maxWidth:"250px"}})},width:"250px",orderField:"description",filterField:"description",filterType:"text",getRawValue:function(a){return a.description}}];this.grid=new t({url:this.gridRestUrl,serverSideProcessing:!0,xhrMethod:"POST",orderField:"name",
noDataMessage:i18n("No resources have been added yet."),tableConfigKey:void 0===this.tableConfigKey?"resourceList":this.tableConfigKey,hidePagination:!0,hideExpandCollapse:!1,columns:d,selectable:!0,isSelectable:function(b){return a.isSelectable(b)},radioSelect:this.radioSelect,getChildUrl:function(b){return a.childUrlBase?a.childUrlBase+b.id:bootstrap.restUrl+"resource/resource/"+b.id+"/resources"},hasChildren:function(a){return a.hasChildren}});this.grid.placeAt(this.resourcesGrid);(new k({label:i18n("OK"),
showTitle:!1,onClick:function(){a.onSave(a.grid.getSelectedItems())}})).placeAt(this.buttonBottomAttach);(new k({label:i18n("Cancel"),showTitle:!1,onClick:function(){a.onCancel()}})).placeAt(this.buttonBottomAttach)},onSave:function(){},onCancel:function(){},isSelectable:function(){return!0}})})},"deploy/widgets/workflow/activity/ManualTaskActivity":function(){define("dojo/_base/array,dojo/_base/declare,dojo/on,deploy/widgets/workflow/activity/BaseActivity,deploy/widgets/property/PropDefs,js/webext/widgets/DialogMultiSelect,js/webext/widgets/RestSelect".split(","),
function(l,m,k,j,f,e,d){return m("deploy.widgets.workflow.activity.ManualTaskActivity",[j],{postCreate:function(){this.inherited(arguments);if(!this.initialized)this.data.templateName="TaskCreated",this.editProperties()},getLabel:function(){var c=i18n("Manual Task");this.initialized&&(c+="\n"+this.data.name);return c},editProperties:function(c){var b=this,a=b.createPropertyDialog(),h=b.createPropertyForm({dialog:a,validateFields:function(a){return b.validateName(a.name)},onSubmit:function(d){c&&c();
b.initialized=!0;b.data.name=d.name;b.updateLabel();b.data.commentRequired=d.commentRequired;b.data.commentPrompt=void 0!==d.commentPrompt?d.commentPrompt:"";b.data.templateName=d.templateName;b.data.userNames=d.userNames;b.data.groupNames=d.groupNames;b.data.propDefs=d.propDefs;l.forEach(b.data.propDefs,function(a){a.resolveHttpValuesUrl="rest/process/"+appState.process.id+"/"+d.name+"/propDefs/resolveHttpValues/"+a.name});a.hide();h.destroy();a.destroy()},readOnly:b.readOnly});h.addField({name:"name",
label:i18n("Name"),type:"Text",required:!0,value:b.data.name});var j=new e({url:bootstrap.baseUrl+"security/user",getLabel:function(a){return a.name.escape()},getValue:function(a){return a.name},value:b.data.userNames,noSelectionsLabel:i18n("No Users Selected")});h.addField({name:"userNames",label:i18n("Users"),description:i18n("Users who can approve or reject this task."),widget:j});j=new e({url:bootstrap.baseUrl+"security/group",getLabel:function(a){return a.name.escape()},getValue:function(a){return a.name},
value:b.data.groupNames,noSelectionsLabel:i18n("No Groups Selected")});h.addField({name:"groupNames",label:i18n("Groups"),description:i18n("Groups who can approve or reject this task."),widget:j});j=new d({restUrl:bootstrap.restUrl+"notification/notificationEntry/templateNames",getLabel:function(a){return i18n(a)},getValue:function(a){return a},allowNone:!1,value:b.data.templateName||"TaskCreated"});h.addField({name:"templateName",label:i18n("Template Name"),description:i18n("Template to use for this task."),
required:!0,widget:j});j=new f({propDefs:b.data.propDefs||[],propSheetDef:{resolveHttpValuesUrl:"rest/process/"+appState.process.id+"/"+b.data.name+"/propDefs/resolveHttpValues"}});h.addField({widget:j,label:i18n("Properties"),name:"propDefs"});h.addField({name:"commentRequired",label:i18n("Require Comment"),type:"Checkbox",required:!1,description:i18n("Whether the approving/rejecting user must enter a remark."),value:b.data.commentRequired});h.addField({name:"commentPrompt",label:i18n("Comment Prompt"),
type:"Text Area",require:!1,description:i18n("The prompt to show a user before they approve/reject this task."),value:b.data.commentPrompt});h.placeAt(a.containerNode);a.show()}})})},"dojo/dom-attr":function(){define("exports,./sniff,./_base/lang,./dom,./dom-style,./dom-prop".split(","),function(l,m,k,j,f,e){function d(a,b){var c=a.getAttributeNode&&a.getAttributeNode(b);return c&&c.specified}var c={innerHTML:1,className:1,htmlFor:m("ie"),value:1},b={classname:"class",htmlfor:"for",tabindex:"tabIndex",
readonly:"readOnly"};l.has=function(a,h){var f=h.toLowerCase();return c[e.names[f]||h]||d(j.byId(a),b[f]||h)};l.get=function(a,h){var a=j.byId(a),f=h.toLowerCase(),o=e.names[f]||h,l=a[o];if(c[o]&&"undefined"!=typeof l||"href"!=o&&("boolean"==typeof l||k.isFunction(l)))return l;f=b[f]||h;return d(a,f)?a.getAttribute(f):null};l.set=function(a,d,m){a=j.byId(a);if(2==arguments.length){for(var o in d)l.set(a,o,d[o]);return a}o=d.toLowerCase();var n=e.names[o]||d,s=c[n];if("style"==n&&"string"!=typeof m)return f.set(a,
m),a;if(s||"boolean"==typeof m||k.isFunction(m))return e.set(a,d,m);a.setAttribute(b[o]||d,m);return a};l.remove=function(a,c){j.byId(a).removeAttribute(b[c.toLowerCase()]||c)};l.getNodeProp=function(a,c){var a=j.byId(a),f=c.toLowerCase(),k=e.names[f]||c;if(k in a&&"href"!=k)return a[k];f=b[f]||c;return d(a,f)?a.getAttribute(f):null}})},"deploy/widgets/environment/EditEnvironmentBlueprintProperties":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/_base/xhr,js/webext/widgets/ColumnForm,js/webext/widgets/DialogMultiSelect,js/webext/widgets/RestSelect,deploy/widgets/resource/ResourceSelector,deploy/widgets/environment/EditCloudResourceParameters,deploy/widgets/resourceTemplate/SmartCloudDeploymentSelector".split(","),
function(l,m,k,j,f,e,d,c,b,a){return k([m,l],{templateString:'<div class="editEnvironment">  <div data-dojo-attach-point="formAttach"></div></div>',postCreate:function(){this.inherited(arguments);var c=this;this.form=new f({submitUrl:bootstrap.restUrl+"deploy/environment",readOnly:c.readOnly,showButtons:!1,postSubmit:function(){void 0!==c.callback&&c.callback()},addData:function(a){for(var b in c.environmentData)c.environmentData.hasOwnProperty(b)&&(a[b]=c.environmentData[b]);c.cloudDeploymentSelector.environmentProfile?
a.environment_profile=c.cloudDeploymentSelector.environmentProfile:a.cloud_group=c.cloudDeploymentSelector.cloudGroup;a.nodeProperties={};for(b in a)if(a.hasOwnProperty(b)&&0===b.indexOf("properties_")){var d=b.substring(11);a.nodeProperties[d]=a[b]}},onCancel:function(){void 0!==c.callback&&c.callback();if(void 0!==c.onCancel)c.onCancel()}});this.form.placeAt(this.formAttach);this.form.addField({name:"name",label:i18n("Name"),required:!0,type:"Text",readOnly:!0,value:this.environmentData.name});
this.form.addField({name:"description",label:i18n("Description"),type:"Text",readOnly:!0,value:this.environmentData.description});this.cloudDeploymentSelector=new a({form:c.form,blueprintId:c.blueprintId});this.form.addField({name:"propSectionLabel",type:"SectionLabel",value:i18n("Set property values for nodes to be created for this environment"),style:{fontWeight:"bold"}});dojo.forEach(this.requiredValues,function(a){var d=new b({propDefs:a.propDefs,popupLabel:a.nodePath.escape(),cloudDeploymentSelector:c.cloudDeploymentSelector});
c.form.addField({name:"properties_"+a.nodePath,label:"",widget:d})})},setData:function(a){this.environmentData=a;this.form.setValue("name",this.environmentData.name);this.form.setValue("description",this.environmentData.description)},submitForm:function(){this.form.submitForm()}})})},"js/webext/widgets/select/WebextMultiSelect":function(){define("js/webext/widgets/select/WebextMultiSelect","dojo/_base/array,dojo/_base/declare,dojo/_base/event,dojo/aspect,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dojo/mouse,dojo/on,dojo/json,dojo/when,dijit/form/CheckBox,js/webext/widgets/select/WebextSelect,js/webext/widgets/Util".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s){return m("js.webext.widgets.select.WebextMultiSelect",[n],{templateString:'<div class="webext-multi-select combo-check-box-select filtering-scroll-select"><div class="combo-box-attach" data-dojo-attach-point="comboBoxAttachPoint"></div><div data-dojo-attach-point="clearSelectedItemsAttachPoint"></div><div class="selected-items-list" data-dojo-attach-point="selectedItemsAttachPoint"></div></div>',showClear:!0,idAttribute:"id",postCreate:function(){var b=this;
this._selectedItems={};this.allowNone=!1;if(!this.readOnly){var c=e.create("div",{innerHTML:this.clearSelectedItemsLabel||i18n("Clear Selection"),className:"linkPointer clear-selected-items"});e.place(c,b.clearSelectedItemsAttachPoint);a(c,"click",function(){l.forEach(b.items.slice(),function(a){b.removeItem(a)})})}this.inherited(arguments)},addItem:function(a){if(a&&a[this.searchAttr]){this.items.push(a);var b=this._createSelectedItem(a,a[this.searchAttr]);e.place(b,this.selectedItemsAttachPoint);
this.placeHolder||this.dropDown.set("placeHolder",i18n("%s Selected",this.items.length));f.add(this.domNode,"has-value");this.onAdd(a)}},removeItem:function(a){var b=this;if(a){var c;l.forEach(b.items,function(d){d[b.idAttribute]===a[b.idAttribute]&&(c=d)});(new s).removeFromArray(b.items,c);e.destroy(b._selectedItems[a[b.idAttribute]]);b.placeHolder||b.dropDown.set("placeHolder",i18n("%s Selected",b.items.length));0===b.items.length&&f.remove(b.domNode,"has-value");b.onRemove(a)}},_setInitialValue:function(){var a=
this;this.items=[];a.value&&l.forEach(a.value,function(b){a.addItem(b)})},_attachDropDownEvents:function(){var a=this;j.before(a.dropDown,"_setBlurValue",function(){a.dropDown.set("value","",!1,"",{})})},addOrRemoveItem:function(a){this.itemSelected(a)?this.removeItem(a):this.addItem(a)},_setupStylingInterceptors:function(b){var c=this;j.around(b,"_createOption",function(d){return function(h,f){var j=d.apply(b,arguments);c.formatDropDownLabel(j,h);var l=new o({checked:c.itemSelected(h)});e.place(l.domNode,
j,"first");j.checkBox=l;a(j,"mouseup",function(a){l.set("checked",!l.get("checked"));c.addOrRemoveItem(h);k.stop(a)});a(l,"click",function(a){l.set("checked",!l.get("checked"));k.stop(a)});return j}})},_createSelectedItem:function(h,f){var j=this,k=e.create("div",{className:"selected-item-container",title:f});this.own(a(k,b.enter,function(){j.onSelectedRollOver(h,k)}));this.own(a(k,b.leave,function(){j.onSelectedRollOut(h,k)}));var o=null;j.readOnly||(o=e.create("div",{className:"remove-selected-item",
innerHTML:"X"},k),this.own(a(o,"click",function(){j.removeItem(h)})));var l=e.create("div",{className:"selected-item-label",innerHTML:f.escape()},k);if(this.dropDown){var n=d.position(this.dropDown.domNode).w;c.set(l,"max-width",n-22+"px")}this.formatSelectedItem(k,h,l,o);return j._selectedItems[h[j.idAttribute]]=k},itemSelected:function(a){var b=this,c=!1;l.forEach(this.items,function(d){d[b.idAttribute]===a[b.idAttribute]&&(c=!0)});return c},formatSelectedItem:function(){},onSelectedRollOver:function(){},
onSelectedRollOut:function(){},onAdd:function(){},onRemove:function(){},_getValueAttr:function(){var a=this,b=[];l.forEach(a.items,function(c){b.push(c[a.idAttribute])});return b},_setValueAttr:function(a){var b=this,c=a;"string"===typeof a&&""!==a?(c=h.parse(a,!0),l.forEach(c,function(a){q(b.store.get(a),function(c){var d={};d[b.idAttribute]=a;d[b.searchAttr]=c[b.searchAttr];b.addItem(d)})})):n.prototype._setValueAttr.call(b,a)}})})},"deploy/widgets/process/ProcessActivities":function(){define("dojo/_base/declare,dojo/_base/array,dojo/_base/lang,dojo/request/xhr,dojo/dom-class,dojo/dom-construct,dojo/json,deploy/widgets/workflow/BaseGraph,deploy/widgets/process/RequiredCommentForm,js/webext/widgets/Alert,js/webext/widgets/GenericConfirm,js/webext/widgets/Dialog,js/webext/widgets/table/TreeTable".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o){return l("deploy.widgets.process.ProcessActivities",[c],{processId:null,processVersion:null,readOnly:!1,postCreate:function(){this.inherited(arguments);var a=this;if(mxClient.isBrowserSupported()){this.toolBarContainer.className="mx-graph-pane mx-graph-top-pane";this.processStepContainer.className="mx-graph-pane mx-graph-bottom-pane";this.mxgraphAttach.className="";if(void 0!==this.process)this.processId=this.process.id,this.processVersion=this.process.version;
j(bootstrap.restUrl+"process/"+this.processId+"/"+this.processVersion,{handleAs:"json"}).then(function(b){a.process=b;a.readOnly=!1;if(b.versionCount!==b.version)a.readOnly=!0;else if(!a.process.security["Edit Basic Settings"])a.readOnly=!0;void 0!==a.process.rootActivity?a.graphStartup(a.process.rootActivity):a.graphStartup(null)})}else mxUtils.error(i18n("This browser is not compatible with the rich workflow editor."),200,!1)},graphStartup:function(a){this.inherited(arguments);var b=this;b.buildToolbar();
if(!this.readOnly){var c=document.createElement("div");c.className="fileTree";e.create("div",{},c);b.stepTreeTable=new o({floatCollapseSpace:!0,rowPadding:15,allowHeaderLocking:!1,hideFooterLinks:!0,hidePagination:!0,tableConfigKey:"stepTreeTable",columns:[{name:i18n("Step Palette"),"class":"activityTreeCell",styleHeading:{display:"none"},formatter:function(a,c,d){return b.stepTreeFormatter(a,d,b.process)},orderField:"name",filterField:"name",filterType:"text",getRawValue:function(a){var b=i18n(a.name);
a.name===i18n("Finish")&&(b=" 1 "+i18n("Finish"));a.name===i18n("Clipboard")&&(b=" 2 "+i18n("Clipboard"));a.name===i18n("Utility Steps")&&(b=" 3 "+i18n("Utility Steps"));return b},field:"name"}],url:bootstrap.restUrl+"process/activityTree",orderField:"name",lazyLoad:!1,draggable:!1,idAttribute:"path",serverSideProcessing:!1,alwaysShowFilters:!0,noDataMessage:i18n("No steps found")});b.stepTreeTable.placeAt(c);f.add(b.stepTreeTable.tableAttach,"fixedLayout");f.add(b.stepTreeTable.expandCollapseAttach,
"centered-expand-collapse");c=new mxWindow(i18n("Step Palette"),c,0,0,240,500,!1,!1,this.addAttach);c.setMaximizable(!1);c.setScrollable(!0);c.setResizable(!0);c.setVisible(!0)}},saveProcessDesign:function(a){var b=this,c=b.getWorkflowJson();if(a)c.comment=a;j.put(bootstrap.restUrl+"process/"+b.process.id+"/activities",{data:d.stringify(c),headers:{processVersion:b.process.version,"Content-Type":"application/json"}}).then(function(){b.showSavePopup(i18n("Process design saved successfully."));document.hasChanges=
!1;b.clearChangedActivities();navBar.setHash("process/"+b.process.id+"/-1/design",!1,!0)},function(a){b.showSaveErrorPopup(a)})}})})},"dojox/data/ServiceStore":function(){define("dojox/data/ServiceStore",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array"],function(l,m,k){return l("dojox.data.ServiceStore",m.getObject("dojox.data.ClientFilter",0)||null,{service:null,constructor:function(j){this.byId=this.fetchItemByIdentity;this._index={};j&&m.mixin(this,j);this.idAttribute=j&&j.idAttribute||
this.schema&&this.schema._idAttr},schema:null,idAttribute:"id",labelAttribute:"label",syncMode:!1,estimateCountFactor:1,getSchema:function(){return this.schema},loadLazyValues:!0,getValue:function(j,f,e){var d=j[f];return d||(f in j?d:j._loadObject?(dojox.rpc._sync=!0)&&arguments.callee.call(this,dojox.data.ServiceStore.prototype.loadItem({item:j})||{},f,e):e)},getValues:function(j,f){var e=this.getValue(j,f);return e instanceof Array?e:void 0===e?[]:[e]},getAttributes:function(j){var f=[],e;for(e in j)j.hasOwnProperty(e)&&
!("_"==e.charAt(0)&&"_"==e.charAt(1))&&f.push(e);return f},hasAttribute:function(j,f){return f in j},containsValue:function(j,f,e){return-1<k.indexOf(this.getValues(j,f),e)},isItem:function(j){return"object"==typeof j&&j&&!(j instanceof Date)},isItemLoaded:function(j){return j&&!j._loadObject},loadItem:function(j){var f;j.item._loadObject?j.item._loadObject(function(e){f=e;delete f._loadObject;var d=e instanceof Error?j.onError:j.onItem;d&&d.call(j.scope,e)}):j.onItem&&j.onItem.call(j.scope,j.item);
return f},_currentId:0,_processResults:function(j,f){if(j&&"object"==typeof j){var e=j.__id;if(!e&&(e=this.idAttribute?j[this.idAttribute]:this._currentId++,void 0!==e)){var d=this._index[e];if(d){for(var c in d)delete d[c];j=m.mixin(d,j)}j.__id=e;this._index[e]=j}for(var b in j)j[b]=this._processResults(j[b],f).items;e=j.length}return{totalCount:f.request.count==e?(f.request.start||0)+e*this.estimateCountFactor:e,items:j}},close:function(j){return j&&j.abort&&j.abort()},fetch:function(j){j=j||{};
if("syncMode"in j?j.syncMode:this.syncMode)dojox.rpc._sync=!0;var f=this,e=j.scope||f,d=this.cachingFetch?this.cachingFetch(j):this._doQuery(j);d.request=j;d.addCallback(function(c){j.clientFetch&&(c=f.clientSideFetch({query:j.clientFetch,sort:j.sort,start:j.start,count:j.count},c));var b=f._processResults(c,d),c=j.results=b.items;j.onBegin&&j.onBegin.call(e,b.totalCount,j);if(j.onItem)for(b=0;b<c.length;b++)j.onItem.call(e,c[b],j);j.onComplete&&j.onComplete.call(e,j.onItem?null:c,j);return c});d.addErrback(j.onError&&
function(c){return j.onError.call(e,c,j)});j.abort=function(){d.cancel()};j.store=this;return j},_doQuery:function(j){return this.service("string"==typeof j.queryStr?j.queryStr:j.query)},getFeatures:function(){return{"dojo.data.api.Read":!0,"dojo.data.api.Identity":!0,"dojo.data.api.Schema":this.schema}},getLabel:function(j){return this.getValue(j,this.labelAttribute)},getLabelAttributes:function(){return[this.labelAttribute]},getIdentity:function(j){return j.__id},getIdentityAttributes:function(){return[this.idAttribute]},
fetchItemByIdentity:function(j){var f=this._index[(j._prefix||"")+j.identity];if(f){if(f._loadObject)return j.item=f,this.loadItem(j);j.onItem&&j.onItem.call(j.scope,f)}else return this.fetch({query:j.identity,onComplete:j.onItem,onError:j.onError,scope:j.scope}).results;return f}})})},"dojox/widget/Wizard":function(){require({cache:{"url:dojox/widget/Wizard/Wizard.html":'<div class="dojoxWizard" dojoAttachPoint="wizardNode">\n    <div class="dojoxWizardContainer" dojoAttachPoint="containerNode"></div>\n    <div class="dojoxWizardButtons" dojoAttachPoint="wizardNav">\n        <button dojoType="dijit.form.Button" type="button" dojoAttachPoint="previousButton">${previousButtonLabel}</button>\n        <button dojoType="dijit.form.Button" type="button" dojoAttachPoint="nextButton">${nextButtonLabel}</button>\n        <button dojoType="dijit.form.Button" type="button" dojoAttachPoint="doneButton" style="display:none">${doneButtonLabel}</button>\n        <button dojoType="dijit.form.Button" type="button" dojoAttachPoint="cancelButton">${cancelButtonLabel}</button>\n    </div>\n</div>\n'}});
define("dojox/widget/Wizard","dojo/_base/lang,dojo/_base/declare,dojo/_base/connect,dijit/layout/StackContainer,dijit/layout/ContentPane,dijit/form/Button,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojo/i18n,dojo/text!./Wizard/Wizard.html,dojo/i18n!dijit/nls/common,dojo/i18n!./nls/Wizard,dojox/widget/WizardPane".split(","),function(l,m,k,j,f,e,d,c,b,a){return m("dojox.widget.Wizard",[j,d,c],{templateString:a,nextButtonLabel:"",previousButtonLabel:"",cancelButtonLabel:"",doneButtonLabel:"",
cancelFunction:null,hideDisabled:!1,postMixInProperties:function(){this.inherited(arguments);var a=l.mixin({cancel:b.getLocalization("dijit","common",this.lang).buttonCancel},b.getLocalization("dojox.widget","Wizard",this.lang)),c;for(c in a)this[c+"ButtonLabel"]||(this[c+"ButtonLabel"]=a[c])},startup:function(){if(!this._started){this.inherited(arguments);this.connect(this.nextButton,"onClick","_forward");this.connect(this.previousButton,"onClick","back");if(this.cancelFunction){if(l.isString(this.cancelFunction))this.cancelFunction=
l.getObject(this.cancelFunction);this.connect(this.cancelButton,"onClick",this.cancelFunction)}else this.cancelButton.domNode.style.display="none";this.connect(this.doneButton,"onClick","done");this._subscription=k.subscribe(this.id+"-selectChild",l.hitch(this,"_checkButtons"));this._started=!0}},resize:function(){this.inherited(arguments);this._checkButtons()},_checkButtons:function(){var a=this.selectedChildWidget,b=a.isLastChild;this.nextButton.set("disabled",b);this._setButtonClass(this.nextButton);
if(a.doneFunction){if(this.doneButton.domNode.style.display="",b)this.nextButton.domNode.style.display="none"}else this.doneButton.domNode.style.display="none";this.previousButton.set("disabled",!this.selectedChildWidget.canGoBack);this._setButtonClass(this.previousButton)},_setButtonClass:function(a){a.domNode.style.display=this.hideDisabled&&a.disabled?"none":""},_forward:function(){this.selectedChildWidget._checkPass()&&this.forward()},done:function(){this.selectedChildWidget.done()},destroy:function(){k.unsubscribe(this._subscription);
this.inherited(arguments)}})})},"dojox/date/islamic/Date":function(){define("dojox/date/islamic/Date",["dojo/_base/lang","dojo/_base/declare","dojo/date"],function(l,m,k){var j=m("dojox.date.islamic.Date",null,{_date:0,_month:0,_year:0,_hours:0,_minutes:0,_seconds:0,_milliseconds:0,_day:0,_GREGORIAN_EPOCH:1721425.5,_ISLAMIC_EPOCH:1948439.5,constructor:function(){var f=arguments.length;f?1==f?(f=arguments[0],"number"==typeof f&&(f=new Date(f)),f instanceof Date?this.fromGregorian(f):""==f?this._date=
new Date(""):(this._year=f._year,this._month=f._month,this._date=f._date,this._hours=f._hours,this._minutes=f._minutes,this._seconds=f._seconds,this._milliseconds=f._milliseconds)):3<=f&&(this._year+=arguments[0],this._month+=arguments[1],this._date+=arguments[2],this._hours+=arguments[3]||0,this._minutes+=arguments[4]||0,this._seconds+=arguments[5]||0,this._milliseconds+=arguments[6]||0):this.fromGregorian(new Date)},getDate:function(){return this._date},getMonth:function(){return this._month},getFullYear:function(){return this._year},
getDay:function(){return this.toGregorian().getDay()},getHours:function(){return this._hours},getMinutes:function(){return this._minutes},getSeconds:function(){return this._seconds},getMilliseconds:function(){return this._milliseconds},setDate:function(f){f=parseInt(f);if(!(0<f&&f<=this.getDaysInIslamicMonth(this._month,this._year))){var e;if(0<f)for(e=this.getDaysInIslamicMonth(this._month,this._year);f>e;f-=e,e=this.getDaysInIslamicMonth(this._month,this._year))this._month++,12<=this._month&&(this._year++,
this._month-=12);else for(e=this.getDaysInIslamicMonth(0<=this._month-1?this._month-1:11,0<=this._month-1?this._year:this._year-1);0>=f;e=this.getDaysInIslamicMonth(0<=this._month-1?this._month-1:11,0<=this._month-1?this._year:this._year-1))this._month--,0>this._month&&(this._year--,this._month+=12),f+=e}this._date=f;return this},setFullYear:function(f){this._year=+f},setMonth:function(f){this._year+=Math.floor(f/12);this._month=0<f?Math.floor(f%12):Math.floor((f%12+12)%12)},setHours:function(){var f=
arguments.length,e=0;1<=f&&(e=parseInt(arguments[0]));if(2<=f)this._minutes=parseInt(arguments[1]);if(3<=f)this._seconds=parseInt(arguments[2]);if(4==f)this._milliseconds=parseInt(arguments[3]);for(;24<=e;)this._date++,f=this.getDaysInIslamicMonth(this._month,this._year),this._date>f&&(this._month++,12<=this._month&&(this._year++,this._month-=12),this._date-=f),e-=24;this._hours=e},_addMinutes:function(f){f+=this._minutes;this.setMinutes(f);this.setHours(this._hours+parseInt(f/60));return this},_addSeconds:function(f){f+=
this._seconds;this.setSeconds(f);this._addMinutes(parseInt(f/60));return this},_addMilliseconds:function(f){f+=this._milliseconds;this.setMilliseconds(f);this._addSeconds(parseInt(f/1E3));return this},setMinutes:function(f){this._minutes=f%60;return this},setSeconds:function(f){this._seconds=f%60;return this},setMilliseconds:function(f){this._milliseconds=f%1E3;return this},toString:function(){if(isNaN(this._date))return"Invalidate Date";var f=new Date;f.setHours(this._hours);f.setMinutes(this._minutes);
f.setSeconds(this._seconds);f.setMilliseconds(this._milliseconds);return this._month+" "+this._date+" "+this._year+" "+f.toTimeString()},toGregorian:function(){var f=this._year,f=this._date+Math.ceil(29.5*this._month)+354*(f-1)+Math.floor((3+11*f)/30)+this._ISLAMIC_EPOCH-1,f=Math.floor(f-0.5)+0.5,e=f-this._GREGORIAN_EPOCH,d=Math.floor(e/146097),c=this._mod(e,146097),e=Math.floor(c/36524),b=this._mod(c,36524),c=Math.floor(b/1461),b=this._mod(b,1461),b=Math.floor(b/365),d=400*d+100*e+4*c+b;4==e||4==
b||d++;e=f-(this._GREGORIAN_EPOCH+365*(d-1)+Math.floor((d-1)/4)-Math.floor((d-1)/100)+Math.floor((d-1)/400));c=this._GREGORIAN_EPOCH-1+365*(d-1)+Math.floor((d-1)/4)-Math.floor((d-1)/100)+Math.floor((d-1)/400)+Math.floor(739/12+(k.isLeapYear(new Date(d,3,1))?-1:-2)+1);c=f<c?0:k.isLeapYear(new Date(d,3,1))?1:2;e=Math.floor((12*(e+c)+373)/367);c=this._GREGORIAN_EPOCH-1+365*(d-1)+Math.floor((d-1)/4)-Math.floor((d-1)/100)+Math.floor((d-1)/400)+Math.floor((367*e-362)/12+(2>=e?0:k.isLeapYear(new Date(d,
e,1))?-1:-2)+1);return new Date(d,e-1,f-c+1,this._hours,this._minutes,this._seconds,this._milliseconds)},fromGregorian:function(f){var f=new Date(f),e=f.getFullYear(),d=f.getMonth(),c=f.getDate(),e=this._GREGORIAN_EPOCH-1+365*(e-1)+Math.floor((e-1)/4)+-Math.floor((e-1)/100)+Math.floor((e-1)/400)+Math.floor((367*(d+1)-362)/12+(2>=d+1?0:k.isLeapYear(f)?-1:-2)+c),e=Math.floor(e)+0.5,e=e-this._ISLAMIC_EPOCH,d=Math.floor((30*e+10646)/10631),c=Math.ceil((e-29-this._yearStart(d))/29.5),c=Math.min(c,11);
this._date=Math.ceil(e-this._monthStart(d,c))+1;this._month=c;this._year=d;this._hours=f.getHours();this._minutes=f.getMinutes();this._seconds=f.getSeconds();this._milliseconds=f.getMilliseconds();this._day=f.getDay();return this},valueOf:function(){return this.toGregorian().valueOf()},_yearStart:function(f){return 354*(f-1)+Math.floor((3+11*f)/30)},_monthStart:function(f,e){return Math.ceil(29.5*e)+354*(f-1)+Math.floor((3+11*f)/30)},_civilLeapYear:function(f){return 11>(14+11*f)%30},getDaysInIslamicMonth:function(f,
e){var d=0,d=29+(f+1)%2;11==f&&this._civilLeapYear(e)&&d++;return d},_mod:function(f,e){return f-e*Math.floor(f/e)}});j.getDaysInIslamicMonth=function(f){return(new j).getDaysInIslamicMonth(f.getMonth(),f.getFullYear())};return j})},"deploy/widgets/property/TransientPropSheetDiffReportTable":function(){define(["dojo/_base/declare","deploy/widgets/property/PropSheetDiffReportTable"],function(l,m){return l([m],{leftColumnName:i18n("Local"),rightColumnName:i18n("Discovered")})})},"deploy/widgets/environment/EditCloudResourceParameters":function(){define("dojo/_base/declare,dojo/on,deploy/widgets/property/PropDefPopupValues,dijit/form/FilteringSelect,dojox/data/JsonRestStore,deploy/widgets/resourceTemplate/SmartCloudDeploymentSelector".split(","),
function(l,m,k,j,f){return l([k],{_multipleNICCount:0,postCreate:function(){this.inherited(arguments);var e=this;e.dialog.connect(e.dialog,"show",function(){e.addCloudGroupField()})},displayPropDef:function(e){var d=null,c=null,c=e.name.lastIndexOf("/");-1<c&&c<e.name.length?(d=e.name.substring(0,c),c=e.name.substring(c+1)):c=d=e.name;if("name"===e.name)this.form.addField({name:"name",label:i18n("Name"),readOnly:!0,type:"SectionLabel",value:i18n("Image Part")});else if("name"===c)this.startsWith(d,
"default_add_nic")?this._multipleNICCount+=1:this.form.addField({name:"name",label:i18n("Name"),readOnly:!0,type:"SectionLabel",value:d});else if("description"===c)this.startsWith(d,"default_add_nic")||this.form.addField({name:"description",label:i18n("Description"),type:"Label",value:e.value,style:{marginTop:"0px",marginBottom:"5px",width:"300px"}});else if("cloud_group"===c)this.form.addField({name:"_cloudGroupInsertionPoint",type:"Invisible"});else if("ip_group"===c)this.form.addField({name:"_ipGroupInsertionPoint",
type:"Invisible"}),this.form.addField({name:"_extraNICInsertionPoint",type:"Invisible"});else if("extra_ip_groups"!==c){if(!e.label)e.label=c;this.form.addField(e);if(e.required&&!e.value)this.isValid=!1}},addCloudGroupField:function(){var e=this;if(e.cloudDeploymentSelector.environmentProfile)e.cloudCloudGroupsStore=new f({target:bootstrap.restUrl+"resource/cloud/connection/"+e.cloudDeploymentSelector.connectionId+"/environmentProfile/"+e.cloudDeploymentSelector.environmentProfile+"/cloudGroup",
idAttribute:"id"}),e.cloudGroupSelector=new j({store:e.cloudCloudGroupsStore,searchAttr:"name",labelAttr:"name",noDataMessage:i18n("No resources found."),autoComplete:!1,intermediateChanges:!0,onChange:function(d){e.cloudGroup=d;e.addIPGroupField()}}),e.form.hasField("cloud_group")&&e.form.removeField("cloud_group"),e.form.addField({name:"cloud_group",label:i18n("Cloud Group"),required:!1,widget:e.cloudGroupSelector},"_cloudGroupInsertionPoint")},addIPGroupField:function(){var e=0;if(this.cloudDeploymentSelector.environmentProfile&&
(e=this._generateIPGroupWidget(),this.form.hasField("ip_group")&&this.form.removeField("ip_group"),this.form.addField({name:"ip_group",label:this._multipleNICCount?i18n("IP Group 0"):i18n("IP Group"),required:!1,widget:e},"_ipGroupInsertionPoint"),this._multipleNICCount))for(e=0;e<this._multipleNICCount;e++){var d="extra_ip_groups["+e+"]";this.form.hasField(d)&&this.form.removeField(d);var c=this._generateIPGroupWidget();this.form.addField({name:d,label:i18n("IP Group "+(e+1)),required:!1,widget:c},
"_extraNICInsertionPoint")}},_generateIPGroupWidget:function(){if(!this.cloudIPGroupsStore)this.cloudIPGroupsStore=new f({target:bootstrap.restUrl+"resource/cloud/connection/"+this.cloudDeploymentSelector.connectionId+"/environmentProfile/"+this.cloudDeploymentSelector.environmentProfile+"/cloudGroup/"+this.cloudGroup+"/ipGroup",idAttribute:"id"});return new j({store:this.cloudIPGroupsStore,searchAttr:"name",labelAttr:"name",noDataMessage:i18n("No resources found."),autoComplete:!1,intermediateChanges:!0})},
startsWith:function(e,d){return e.substring(0,d.length)===d}})})},"url:dijit/templates/ColorPalette.html":'<div class="dijitInline dijitColorPalette" role="grid">\n\t<table dojoAttachPoint="paletteTableNode" class="dijitPaletteTable" cellSpacing="0" cellPadding="0" role="presentation">\n\t\t<tbody data-dojo-attach-point="gridNode"></tbody>\n\t</table>\n</div>\n',"deploy/widgets/workflow/activity/InstallComponentActivity":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dojo/on,deploy/widgets/workflow/activity/BaseActivity,js/webext/widgets/RestSelect,deploy/widgets/property/PropertyTextareaBox".split(","),
function(l,m,k,j,f,e){return m("deploy.widgets.workflow.activity.InstallComponentActivity",[f],{postCreate:function(){this.inherited(arguments);if(!this.initialized)this.data.name=util.randomString(30),this.editProperties()},getLabel:function(){var d="";if(this.initialized){var c=this.getChildChildData();if(c.component&&c.component.deleted)d+=c.name+"\n"+i18n("(Deleted Component)");else{var b=i18n("Install %s",c.componentName),d=d+c.name;d!==b&&(d=c.componentName?d+("\n"+b):d+("\n"+i18n("Process Deleted")))}}else d+=
i18n("Install Component");return d},editProperties:function(d){var c=this;this.getChildData();var b=this.getChildChildData(),a,e=c.createPropertyDialog(),f=c.createPropertyForm({dialog:e,validateFields:function(a){return c.validateName(a.name)},onSubmit:function(b){d&&d();c.initialized=!0;var j,k,m=c.data.id;if(m)j=c.data.children[0].id,k=c.data.children[0].children[0].id;c.data={id:m,name:c.data.name,type:"componentEnvironmentIterator"};c.data.component=a.get("item");c.data.componentName=c.data.component.name;
if(b.tagId&&""!==b.tagId)c.data.tagId=b.tagId;else if(c.data.tagId)c.data.tagId=void 0;c.data.runOnlyOnFirst=b.runOnlyOnFirst;c.data.maxIteration=b.maxIteration;c.data.failFast=b.failFast;c.data.preconditionScript=b.preconditionScript;var t={};l.forEach(c.extraPropertyNames,function(a){var c=a.substring(2);t[c]=b[a]});c.data.children=[{id:j,name:util.randomString(30),type:"inventoryVersionDiff",componentName:c.data.component.name,status:b.status,children:[{id:k,name:b.name,type:"componentProcess",
componentName:c.data.component.name,componentProcessName:b.componentProcessName,allowFailure:b.allowFailure,properties:t}]}];c.updateLabel();e.hide();f.destroy();e.destroy()},readOnly:c.readOnly});f.addField({name:"name",label:i18n("Name"),type:"Text",required:!0,value:b.name});a=f.addField({name:"component",label:i18n("Component"),required:!0,autoSelectFirst:!0,type:"ApplicationComponentSelect",applicationId:c.graphEditor.application.id,value:!c.data.component?void 0:c.data.component.id,disabled:c.readOnly,
onSetItem:function(a,b){c.showFieldsForComponent(f,b)}}).widget;f.addField({name:"tagId",label:i18n("Limit to Resource Tag"),type:"TagDropDown",objectType:"Resource",value:c.data.tagId,readOnly:c.readOnly});f.addField({name:"maxIteration",label:i18n("Max # of concurrent jobs."),type:"Text",textDir:"ltr",required:!0,value:c.data.maxIteration||-1,description:i18n("The max number of concurrent component processes to run at any time. Use -1 for unlimited.")});f.addField({name:"failFast",label:i18n("Fail Fast"),
type:"Checkbox",description:i18n("When this is checked, this step will not start any more component processes if one fails."),value:c.data.failFast});f.addField({name:"runOnlyOnFirst",label:i18n("Run on First Online Resource Only"),type:"Checkbox",description:i18n("When this is checked, this step will only use one resource. It will not run on all resources."),value:c.data.runOnlyOnFirst});f.addField({name:"preconditionScript",label:i18n("Precondition"),type:"PropertyArea",description:i18n("A script to determine whether this step should run. Must evaluate to true or false if not left blank."),
value:c.data.preconditionScript,cache:c.graphEditor.cache});f.placeAt(e.containerNode);e.show()},showFieldsForComponent:function(d,c){var b=this;d.removeField("status");d.removeField("componentProcessName");d.removeField("allowFailure");if(c){var a=this.getChildData(),h=this.getChildChildData(),f=d.getValue("name");(!f||this.selectedComponent&&f===i18n("Install %s",this.selectedComponent.name))&&d.setValue("name",i18n("Install %s",c.name));this.selectedComponent=c;a=new e({restUrl:bootstrap.restUrl+
"deploy/status/inventoryStatuses",getValue:function(a){return a.name},getStyle:function(a){return{backgroundColor:a.color}},value:a.status,allowNone:!1});d.addField({name:"status",label:i18n("Use Versions Without Status"),required:!0,widget:a},"tagId");l.forEach(this.extraPropertyNames,function(a){b.removePropertyField(d,a)});this.extraPropertyNames=[];var j;if(b.data.component&&b.data.component.id===c.id)j=h.componentProcessName;j=new e({restUrl:bootstrap.restUrl+"deploy/component/"+c.id+"/fullProcesses/false",
getLabel:function(a){var b=a.name;a.componentTemplate&&(b+=i18n(" (Template)"));return b},getValue:function(a){return a.name},onChange:function(a,c){l.forEach(b.extraPropertyNames,function(a){b.removePropertyField(d,a)});b.extraPropertyNames=[];c&&l.forEach(c.unfilledProperties,function(a){var c="p_"+a.name,e=a.value,f=!1;h.properties&&h.properties[a.name]&&(e=h.properties[a.name],f=!0);var j=k.clone(a);j.name=c;j.value=e;if(a.description)j.description=a.description.escape();b.extraPropertyNames.push(c);
b.addPropertyField(d,j,f,"allowFailure")})},allowNone:!1,value:j,disabled:b.readOnly});d.addField({name:"componentProcessName",label:i18n("Component Process"),required:!0,description:i18n("The process to run."),widget:j},"tagId");(config.data.systemConfiguration.enableAllowFailure||h.allowFailure)&&d.addField({name:"allowFailure",label:i18n("Ignore Failure"),description:i18n("When checked, this step will always be considered successful."),type:"Checkbox",value:h.allowFailure},"tagId")}}})})},"deploy/widgets/workflow/activity/EachVersionComponentActivity":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dojo/on,deploy/widgets/workflow/activity/BaseActivity,js/webext/widgets/RestSelect,deploy/widgets/property/PropertyTextareaBox".split(","),
function(l,m,k,j,f,e){return m("deploy.widgets.workflow.activity.EachVersionComponentActivity",[f],{postCreate:function(){this.inherited(arguments);if(!this.initialized)this.data.name=util.randomString(30),this.editProperties()},getLabel:function(){var d="";if(this.initialized){var c=this.getChildChildData();if(c.component&&c.component.deleted)d+=c.name+"\n"+i18n("(Deleted Component)");else{var b=i18n("Each Version for %s",c.componentName),d=d+c.name;d!==b&&(d+="\n"+b)}}else d+=i18n("Run Process For Each Version");
return d},editProperties:function(d){var c=this;this.getChildData();var b=this.getChildChildData(),a,e=c.createPropertyDialog(),f=c.createPropertyForm({dialog:e,validateFields:function(a){return c.validateName(a.name)},onSubmit:function(b){d&&d();c.initialized=!0;c.data={name:c.data.name,type:"componentEnvironmentIterator"};c.data.component=a.get("item");c.data.componentName=c.data.component.name;if(b.tagId&&""!==b.tagId)c.data.tagId=b.tagId;else if(c.data.tagId)c.data.tagId=void 0;c.data.runOnlyOnFirst=
b.runOnlyOnFirst;c.data.maxIteration=b.maxIteration;c.data.failFast=b.failFast;c.data.preconditionScript=b.preconditionScript;var j={};l.forEach(c.extraPropertyNames,function(a){var c=a.substring(2);j[c]=b[a]});c.data.children=[{name:util.randomString(30),type:"allVersionsIterator",componentName:c.data.component.name,children:[{name:b.name,type:"componentProcess",componentName:c.data.component.name,componentProcessName:b.componentProcessName,allowFailure:b.allowFailure,properties:j}]}];c.updateLabel();
e.hide();f.destroy();e.destroy()},readOnly:c.readOnly});f.addField({name:"name",label:i18n("Name"),type:"Text",required:!0,value:b.name});a=f.addField({name:"component",label:i18n("Component"),required:!0,type:"ApplicationComponentSelect",applicationId:c.graphEditor.application.id,value:!c.data.component?void 0:c.data.component.id,disabled:c.readOnly,onSetItem:function(a,b){c.showFieldsForComponent(f,b)}}).widget;f.addField({name:"tagId",label:i18n("Limit to Resource Tag"),type:"TagDropDown",objectType:"Resource",
value:c.data.tagId,readOnly:c.readOnly});f.addField({name:"maxIteration",label:i18n("Max # of concurrent jobs"),type:"Text",textDir:"ltr",required:!0,value:c.data.maxIteration||-1,description:i18n("The max number of concurrent component processes to run at any time. Use -1 for unlimited.")});f.addField({name:"failFast",label:i18n("Fail Fast"),type:"Checkbox",description:i18n("When this is checked, this step will not start any more component processes if one fails."),value:c.data.failFast});f.addField({name:"runOnlyOnFirst",
label:i18n("Run on First Online Resource Only"),type:"Checkbox",description:i18n("When this is checked, this step will only use one resource. It will not run on all resources."),value:c.data.runOnlyOnFirst});f.addField({name:"preconditionScript",label:i18n("Precondition"),type:"PropertyArea",description:i18n("A script to determine whether this step should run. Must evaluate to true or false if not left blank."),value:c.data.preconditionScript,cache:c.graphEditor.cache});f.placeAt(e.containerNode);
e.show()},showFieldsForComponent:function(d,c){var b=this;d.removeField("componentProcessName");d.removeField("allowFailure");if(c){this.getChildData();var a=this.getChildChildData(),h=d.getValue("name");(!h||this.selectedComponent&&h===i18n("Each Version for %s",this.selectedComponent.name))&&d.setValue("name",i18n("Each Version for %s",c.name));this.selectedComponent=c;l.forEach(this.extraPropertyNames,function(a){b.removePropertyField(d,a)});this.extraPropertyNames=[];var f;if(b.data.component&&
b.data.component.id===c.id)f=a.componentProcessName;h=new e({restUrl:bootstrap.restUrl+"deploy/component/"+c.id+"/fullProcesses/false",getLabel:function(a){var b=a.name;a.componentTemplate&&(b+=i18n(" (Template)"));return b},getValue:function(a){return a.name},onChange:function(c,e){l.forEach(b.extraPropertyNames,function(a){b.removePropertyField(d,a)});b.extraPropertyNames=[];e&&l.forEach(e.unfilledProperties,function(c){var e="p_"+c.name,h=c.value,f=!1;a.properties&&a.properties[c.name]&&(h=a.properties[c.name],
f=!0);var j=k.clone(c);j.name=e;j.value=h;if(c.description)j.description=c.description.escape();b.extraPropertyNames.push(e);b.addPropertyField(d,j,f,"allowFailure")})},allowNone:!1,value:f,disabled:b.readOnly});d.addField({name:"componentProcessName",label:i18n("Component Process"),required:!0,description:i18n("The process to run."),widget:h},"tagId");(config.data.systemConfiguration.enableAllowFailure||a.allowFailure)&&d.addField({name:"allowFailure",label:i18n("Ignore Failure"),description:i18n("When checked, this step will always be considered successful."),
type:"Checkbox",value:a.allowFailure},"tagId")}}})})},"deploy/widgets/security/role/RoleResourceTypeGrid":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dijit/form/CheckBox,idx/form/TriStateCheckBox,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/aspect,dojo/json,dojo/on,dojo/dom-class,dojo/dom-construct,js/webext/widgets/Alert,js/webext/widgets/table/TreeTable,js/webext/widgets/Dialog,deploy/widgets/security/resourceRole/EditResourceRole".split(","),function(l,m,
k,j,f,e,d,c,b,a,h,q,o,n,s,r,t){return d("deploy/widgets/security/role/RoleResourceTypeGrid",[m,l],{templateString:'<div class="roleList"><div data-dojo-attach-point="buttonAttach"></div><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var a=this;this.canEdit=config.data.permissions["Manage Security"];c.get({url:bootstrap.baseUrl+"security/role/"+this.role.id+"/actionMappings",handleAs:"json",load:function(b){a.role.actions=b;c.get({url:bootstrap.baseUrl+
"security/resourceType/"+a.resourceType.name+"/actions",handleAs:"json",load:function(b){a.showGrid(b)}})}})},showGrid:function(d){var l=this,m=[],r={},y=[],A=bootstrap.baseUrl+"security/resourceType/"+l.resourceType.name+"/resourceRoles",z=[{name:i18n("Type"),field:"name",orderField:"name",formatter:function(a,b,c){c.style.verticalAlign="top";return b},getRawValue:function(a){return a.name}}],t=function(a,b,c){if(a){a={};a.action={id:c.id};if(b&&b.id)a.resourceRole={id:b.id};l.role.actions.push(a)}else l.role.actions=
e.filter(l.role.actions,function(a){var d=!0;a.action.id===c.id&&(!a.resourceRole&&!b.id?d=!1:a.resourceRole&&a.resourceRole.id===b.id&&(d=!1));return d})};e.forEach(d,function(a){a.category?(r[a.category]||(r[a.category]=[],y.push(a.category)),r[a.category].push(a)):m.push(a)});e.forEach(m,function(b){z.push({name:i18n(b.name),formatter:function(d,h,f){f.style.verticalAlign="top";var k=!1;e.forEach(l.role.actions,function(a){a.action.id===b.id&&(!a.resourceRole&&!d.id?k=!0:a.resourceRole&&a.resourceRole.id===
d.id&&(k=!0))});return new j({checked:k,disabled:!l.canEdit,onChange:function(e){var h={resourceRole:d.id,action:b.id};l.grid.block();h={url:bootstrap.baseUrl+"security/role/"+l.role.id+"/actionMappings",handleAs:"json",putData:a.stringify(h),load:function(){l.grid.unblock()},error:function(a){l.grid.unblock();new n({message:util.escape(a.responseText)})}};e?c.post(h):c.del(h);t(e,d,b)}})}})});e.forEach(y,function(b){var d=[];e.forEach(r[b],function(a){d.push(a.id)});z.push({name:i18n(b),formatter:function(k){var m=
[],s=function(a,b){var c=!0,d=!0;e.forEach(b,function(a){c=c&&a.checked;d=d&&!a.checked});return c?!0:d?!1:"mixed"},y=o.create("div",{"class":"rolePermissions"}),z=o.create("div",{"class":"expandNode inlineBlock"},y),A=o.create("div",{"class":"subActionContainer collapsedRolePermissions"});h(z,"click",function(){q.contains(A,"collapsedRolePermissions")?(q.remove(A,"collapsedRolePermissions"),q.add(z,"expanded")):(q.add(A,"collapsedRolePermissions"),q.remove(z,"expanded"))});var x=new f({name:k.name+
b,label:i18n(b),disabled:!l.canEdit,onClick:function(){"mixed"===this.checked&&this.set("checked",!0)},onChange:function(b){var h={resourceRole:k.id,actions:d};l.grid.block();!0===b?c.post({url:bootstrap.baseUrl+"security/role/"+l.role.id+"/actionMappings",handleAs:"json",putData:a.stringify(h),load:function(){l.grid.unblock()},error:function(a){l.grid.unblock();new n({message:util.escape(a.responseText)})}}):!1===b&&c.del({url:bootstrap.baseUrl+"security/role/"+l.role.id+"/actionMappings",handleAs:"json",
putData:a.stringify(h),load:function(){l.grid.unblock()},error:function(a){l.grid.unblock();new n({message:util.escape(a.responseText)})}});e.forEach(m,function(a){a.set("checked",b,!1);t(b,a.item,a.action)})}});x.placeAt(y);o.place(A,y);e.forEach(r[b],function(d){var h=!1;e.forEach(l.role.actions,function(a){a.action.id===d.id&&(!a.resourceRole&&!k.id?h=!0:a.resourceRole&&a.resourceRole.id===k.id&&(h=!0))});var f=new j({checked:h,disabled:!l.canEdit,onChange:function(e){var h={resourceRole:k.id,
action:d.id};l.grid.block();h={url:bootstrap.baseUrl+"security/role/"+l.role.id+"/actionMappings",handleAs:"json",putData:a.stringify(h),load:function(){l.grid.unblock()},error:function(a){l.grid.unblock();new n({message:util.escape(a.responseText)})}};e?c.post(h):c.del(h);t(e,k,d);x.set("checked",s(b,m),!1)},action:d,item:k});dojo.addClass(f.domNode,k.name+b);m.push(f);var q=o.create("div",{label:d.name,"class":"subAction"},A);f.placeAt(q);o.create("label",{innerHTML:i18n(d.name),style:f.isLeftToRight()?
"margin-left:5px":"margin-right:5px"},q)});x.set("checked",s(b,m),!1);return y}})});l.grid=new s({url:A,serverSideProcessing:!1,columns:z,noDataMessage:i18n("No types have been created yet."),hideFooterLinks:!0,hidePagination:!1,hideExpandCollapse:!0});l.grid.placeAt(l.gridAttach);l.grid.splicedInStandardType=!1;l.grid.oldShowTable=l.grid.showTable;l.grid.showTable=function(a){if(!1===l.grid.splicedInStandardType)a.splice(0,0,{name:i18n("Standard "+l.resourceType.name)}),l.grid.splicedInStandardType=
!0;l.grid.oldShowTable(a)};b.before(l.grid,"refresh",function(){l.grid.splicedInStandardType=!1});l.canEdit&&(d=new k({label:i18n("Create Type")}),q.add(d.domNode,"idxButtonSpecial"),d.placeAt(l.buttonAttach),d.on("click",function(){l.showEditResourceRoleDialog()}))},destroy:function(){this.inherited(arguments);this.grid&&this.grid.destroy()},showEditResourceRoleDialog:function(a){var b=this,d=new r({title:i18n("Create Type"),closable:!0,draggable:!0});(new t({resourceType:b.resourceType,resourceRole:a,
callback:function(){d.hide();d.destroy();c.get({url:bootstrap.baseUrl+"security/role/"+b.role.id+"/actionMappings",handleAs:"json",load:function(a){b.role.actions=a;b.grid.refresh()}})}})).placeAt(d.containerNode);d.show()}})})},"dojo/hccss":function(){define("require,./_base/config,./dom-class,./dom-style,./has,./ready,./_base/window".split(","),function(l,m,k,j,f,e,d){f.add("highcontrast",function(){var c=d.doc.createElement("div");c.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("+
(m.blankGif||l.toUrl("./resources/blank.gif"))+");";d.body().appendChild(c);var b=j.getComputedStyle(c),a=b.backgroundImage,b=b.borderTopColor==b.borderRightColor||a&&("none"==a||"url(invalid-url:)"==a);8>=f("ie")?c.outerHTML="":d.body().removeChild(c);return b});e(90,function(){f("highcontrast")&&k.add(d.body(),"dj_a11y")});return f})},"dojo/date":function(){define(["./has","./_base/lang"],function(l,m){var k={};k.getDaysInMonth=function(j){var f=j.getMonth(),e=[31,28,31,30,31,30,31,31,30,31,30,
31];return 1==f&&k.isLeapYear(j)?29:e[f]};k.isLeapYear=function(j){j=j.getFullYear();return!(j%400)||!(j%4)&&!!(j%100)};k.getTimezoneName=function(j){var f=j.toString(),e="",d=f.indexOf("(");if(-1<d)e=f.substring(++d,f.indexOf(")"));else if(d=/([A-Z\/]+) \d{4}$/,f=f.match(d))e=f[1];else if(f=j.toLocaleString(),d=/ ([A-Z\/]+)$/,f=f.match(d))e=f[1];return"AM"==e||"PM"==e?"":e};k.compare=function(j,f,e){j=new Date(+j);f=new Date(+(f||new Date));"date"==e?(j.setHours(0,0,0,0),f.setHours(0,0,0,0)):"time"==
e&&(j.setFullYear(0,0,0),f.setFullYear(0,0,0));return j>f?1:j<f?-1:0};k.add=function(j,f,e){var d=new Date(+j),c=!1,b="Date";switch(f){case "day":break;case "weekday":var a;(f=e%5)?a=parseInt(e/5):(f=0<e?5:-5,a=0<e?(e-5)/5:(e+5)/5);var h=j.getDay(),k=0;6==h&&0<e?k=1:0==h&&0>e&&(k=-1);h+=f;if(0==h||6==h)k=0<e?2:-2;e=7*a+f+k;break;case "year":b="FullYear";c=!0;break;case "week":e*=7;break;case "quarter":e*=3;case "month":c=!0;b="Month";break;default:b="UTC"+f.charAt(0).toUpperCase()+f.substring(1)+
"s"}if(b)d["set"+b](d["get"+b]()+e);c&&d.getDate()<j.getDate()&&d.setDate(0);return d};k.difference=function(j,f,e){var f=f||new Date,e=e||"day",d=f.getFullYear()-j.getFullYear(),c=1;switch(e){case "quarter":j=j.getMonth();f=f.getMonth();j=Math.floor(j/3)+1;f=Math.floor(f/3)+1;c=f+4*d-j;break;case "weekday":d=Math.round(k.difference(j,f,"day"));e=parseInt(k.difference(j,f,"week"));if(0==d%7)d=5*e;else{var c=0,b=j.getDay(),a=f.getDay(),e=parseInt(d/7),f=d%7,j=new Date(j);j.setDate(j.getDate()+7*e);
j=j.getDay();if(0<d)switch(!0){case 6==b:c=-1;break;case 0==b:c=0;break;case 6==a:c=-1;break;case 0==a:c=-2;break;case 5<j+f:c=-2}else if(0>d)switch(!0){case 6==b:c=0;break;case 0==b:c=1;break;case 6==a:c=2;break;case 0==a:c=1;break;case 0>j+f:c=2}d=d+c-2*e}c=d;break;case "year":c=d;break;case "month":c=f.getMonth()-j.getMonth()+12*d;break;case "week":c=parseInt(k.difference(j,f,"day")/7);break;case "day":c/=24;case "hour":c/=60;case "minute":c/=60;case "second":c/=1E3;case "millisecond":c*=f.getTime()-
j.getTime()}return Math.round(c)};m.mixin(m.getObject("dojo.date",!0),k);return k})},"deploy/widgets/application/SingleComponentSelector":function(){define(["dijit/_Widget","dojo/_base/declare","js/webext/widgets/ColumnForm","js/webext/widgets/Dialog"],function(l,m,k,j){return m("deploy.widgets.application.SingleComponentSelector",[l],{postCreate:function(){this.inherited(arguments);var f=this;this.dialog=new j({title:i18n("Add a Component"),closable:!0,draggable:!0});this.form=new k({submitUrl:bootstrap.restUrl+
"deploy/application/"+appState.application.id+"/addComponents",addData:function(e){e.components=e.component;delete e.component},postSubmit:function(){f.dialog.hide();void 0!==f.callback&&f.callback()},onCancel:function(){f.dialog.hide()}});this.form.addField({name:"component",type:"TableFilterMultiSelect",url:bootstrap.restUrl+"deploy/application/"+appState.application.id+"/unusedComponents",label:i18n("Select a Component"),description:i18n("Start typing to filter results. Use * as a wildcard."),
required:!0});this.form.placeAt(this.dialog.containerNode);this.dialog.show()},destroy:function(){this.inherited(arguments)}})})},"deploy/widgets/log/Blocker":function(){define(["dijit/_Widget","dojo/_base/declare","js/util/blocker/_BlockerMixin"],function(l,m,k){return m("deploy.widgets.log.Blocker",[k,l],{})})},"deploy/widgets/report/ReportPage":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/dom-construct,deploy/widgets/report/ReportFormTable,deploy/widgets/report/ReportSidebar".split(","),
function(l,m,k,j,f,e){return k("deploy.widgets.report.ReportPage",[m,l],{templateString:'<div class="report-definition-list"><div data-dojo-attach-point="headingSectionAttach" class="noPrint"></div><div class="report-page-container"><div data-dojo-attach-point="sidebarAttach" class="report-sidebar noPrint"></div><div data-dojo-attach-point="tableContainer" class="report-main"></div></div><br/><br/></div>',reportRestUrlBase:null,reportHashBase:null,headingSectionAttach:null,gridAttach:null,tableContainer:null,
csvLinkAttach:null,sidebarAttach:null,listsAttach:null,saveFilterButton:null,previewButton:null,reportLists:null,reportSidebar:null,report:null,reportType:null,resultWidget:null,constructor:function(){this.reportRestUrlBase=bootstrap.restUrl+"report/";this.reportHashBase="reports/"},postCreate:function(){this.inherited(arguments);var d=this;d.reportSidebar=new e({report:d.report,reload:function(){d.reloadReport()}});d.reportSidebar.placeAt(d.sidebarAttach);d.reportFormTable=new f({report:d.report});
d.reportFormTable.placeAt(d.tableContainer)},destroy:function(){this.reportLists&&this.reportLists.destroy();this.reportSidebar&&this.reportSidebar.destroy();if(this.resultWidget)this.resultWidget.destroy(),this.resultWidget=null;this.inherited(arguments)},refresh:function(){this.reportLists.refresh()},reloadReport:function(){j.empty(this.tableContainer);this.reportFormTable=new f({report:this.report});this.reportFormTable.placeAt(this.tableContainer)}})})},"deploy/widgets/applicationProcessRequest/RequestResourceChanges":function(){define(["dijit/_TemplatedMixin",
"dijit/_Widget","dojo/_base/declare","deploy/widgets/Formatters","js/webext/widgets/Table"],function(l,m,k,j,f){return k("deploy.widgets.applicationProcessRequest.RequestResourceChanges",[m,l],{templateString:'<div class="requestResourceChanges"><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var e=[{name:"&nbsp;",orderField:"changeType",getRawValue:function(d){return d.type},style:{paddingTop:"2px",paddingBottom:"3px",textAlign:"center",width:"20px"},
formatter:function(d){var c=document.createElement("img");c.src="ADDED"===d.type?bootstrap.webextUrl+"images/webext/icons/icon_plus.gif":bootstrap.webextUrl+"images/webext/icons/icon_minus.gif";return c}},{name:i18n("Resource"),orderField:"resource",getRawValue:function(d){var c=null;if(d=d.resourceInventoryEntry.resource)c=d.name;return c},formatter:function(d){return j.resourcePathFormatter(d.resourceInventoryEntry.resource)}},{name:i18n("Component"),orderField:"component",getRawValue:function(d){var c=
null;if(d=d.resourceInventoryEntry.component)c=d.name;return c},formatter:function(d){return j.componentLinkFormatter(d.resourceInventoryEntry.component)}},{name:i18n("Version"),orderField:"version",getRawValue:function(d){var c=null;if(d=d.resourceInventoryEntry.version)c=d.name;return c},formatter:function(d){return j.versionLinkFormatter(d.resourceInventoryEntry.version)}},{name:i18n("Date"),orderField:"date",getRawValue:function(d){return new Date(d.resourceInventoryEntry.date)},formatter:function(d){return util.tableDateFormatter(d,
d.resourceInventoryEntry.date)}},{name:i18n("Actions"),formatter:function(d){var c=document.createElement("a");c.innerHTML=i18n("Details");c.href="#childComponentProcess/"+appState.applicationProcessRequest.id+"/"+d.activityTraceId+"/"+d.workflowTraceId;return c}}];this.grid=new f({url:bootstrap.restUrl+"deploy/applicationProcessRequest/"+appState.applicationProcessRequest.id+"/changes",serverSideProcessing:!1,columns:e,tableConfigKey:"requestResourceChangeList",noDataMessage:i18n("No component version found.")});
this.grid.placeAt(this.gridAttach)},destroy:function(){this.inherited(arguments);this.grid.destroy()},typeFormatter:function(e){var d="";"INSTALL"===e.type?d=i18n("Installed"):"UNINSTALL"===e.type&&(d=i18n("Uninstalled"));return d}})})},"dojox/html/_base":function(){define("dojox/html/_base","dojo/_base/declare,dojo/Deferred,dojo/dom-construct,dojo/html,dojo/_base/kernel,dojo/_base/lang,dojo/ready,dojo/_base/sniff,dojo/_base/url,dojo/_base/xhr,dojo/when,dojo/_base/window".split(","),function(l,m,
k,j,f,e,d,c,b,a,h,q){var o=f.getObject("dojox.html",!0);if(c("ie"))var n=/(AlphaImageLoader\([^)]*?src=(['"]))(?![a-z]+:|\/)([^\r\n;}]+?)(\2[^)]*\)\s*[;}]?)/g;var s=/(?:(?:@import\s*(['"])(?![a-z]+:|\/)([^\r\n;{]+?)\1)|url\(\s*(['"]?)(?![a-z]+:|\/)([^\r\n;]+?)\3\s*\))([a-z, \s]*[;}]?)/g,r=o._adjustCssPaths=function(a,c){if(c&&a)return n&&(c=c.replace(n,function(c,d,e,h,f){return d+(new b(a,"./"+h)).toString()+f})),c.replace(s,function(c,d,e,h,f,j){return e?'@import "'+(new b(a,"./"+e)).toString()+
'"'+j:"url("+(new b(a,"./"+f)).toString()+")"+j})},t=/(<[a-z][a-z0-9]*\s[^>]*)(?:(href|src)=(['"]?)([^>]*?)\3|style=(['"]?)([^>]*?)\5)([^>]*>)/gi,w=o._adjustHtmlPaths=function(a,c){var d=a||"./";return c.replace(t,function(a,c,e,h,f,j,k,l){return c+(e?e+"="+h+(new b(d,f)).toString()+h:"style="+j+r(d,k)+j)+l})},u=o._snarfStyles=function(a,b,c){c.attributes=[];b=b.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(a){return a.replace(/<(\/?)style\b/ig,"&lt;$1Style").replace(/<(\/?)link\b/ig,"&lt;$1Link").replace(/@import "/ig,
'@ import "')});return b.replace(/(?:<style([^>]*)>([\s\S]*?)<\/style>|<link\s+(?=[^>]*rel=['"]?stylesheet)([^>]*?href=(['"])([^>]*?)\4[^>\/]*)\/?>)/gi,function(b,d,e,h,f,j){b=(d||h||"").replace(/^\s*([\s\S]*?)\s*$/i,"$1");e?e=c.push(a?r(a,e):e):(e=c.push('@import "'+j+'";'),b=b.replace(/\s*(?:rel|href)=(['"])?[^\s]*\1\s*/gi,""));if(b){b=b.split(/\s+/);j={};h=0;for(f=b.length;h<f;h++)d=b[h].split("="),j[d[0]]=d[1].replace(/^\s*['"]?([\s\S]*?)['"]?\s*$/,"$1");c.attributes[e-1]=j}return""})},x=o._snarfScripts=
function(b,c){function d(b){c.downloadRemote&&(b=b.replace(/&([a-z0-9#]+);/g,function(a,b){switch(b){case "amp":return"&";case "gt":return">";case "lt":return"<";default:return"#"==b.charAt(0)?String.fromCharCode(b.substring(1)):"&"+b+";"}}),a.get({url:b,sync:!0,load:function(a){c.code+=a+";"},error:c.errBack}))}c.code="";b=b.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(a){return a.replace(/<(\/?)script\b/ig,"&lt;$1Script")});return b.replace(/<script\s*(?![^>]*type=['"]?(?:dojo\/|text\/html\b))[^>]*?(?:src=(['"]?)([^>]*?)\1[^>]*)?>([\s\S]*?)<\/script>/gi,
function(a,b,e,h){e?d(e):c.code+=h;return""})},v=o.evalInGlobal=function(a,b){var b=b||q.doc.body,c=b.ownerDocument.createElement("script");c.type="text/javascript";b.appendChild(c);c.text=a};o._ContentSetter=l(j._ContentSetter,{adjustPaths:!1,referencePath:".",renderStyles:!1,executeScripts:!1,scriptHasHooks:!1,scriptHookReplacement:null,_renderStyles:function(a){this._styleNodes=[];for(var b,c,d,e=this.node.ownerDocument,h=e.getElementsByTagName("head")[0],f=0,j=a.length;f<j;f++){d=a[f];c=a.attributes[f];
b=e.createElement("style");b.setAttribute("type","text/css");for(var k in c)b.setAttribute(k,c[k]);this._styleNodes.push(b);h.appendChild(b);b.styleSheet?b.styleSheet.cssText=d:b.appendChild(e.createTextNode(d))}},empty:function(){this.inherited("empty",arguments);this._styles=[]},onBegin:function(){this.inherited("onBegin",arguments);var a=this.content,b=this._styles;if(e.isString(a)){this.adjustPaths&&this.referencePath&&(a=w(this.referencePath,a));if(this.renderStyles||this.cleanContent)a=u(this.referencePath,
a,b);if(this.executeScripts){var c=this,b={downloadRemote:!0,errBack:function(a){c._onError.call(c,"Exec",'Error downloading remote script in "'+c.id+'"',a)}},a=x(a,b);this._code=b.code}}this.content=a},onEnd:function(){var a=this._code,b=this._styles;if(this._styleNodes&&this._styleNodes.length)for(;this._styleNodes.length;)k.destroy(this._styleNodes.pop());this.renderStyles&&b&&b.length&&this._renderStyles(b);var c=new m,f=this.getInherited(arguments),j=arguments,b=e.hitch(this,function(){f.apply(this,
j);h(this.parseDeferred,function(){c.resolve()})});if(this.executeScripts&&a){this.cleanContent&&(a=a.replace(/(<\!--|(?:\/\/)?--\>|<!\[CDATA\[|\]\]>)/g,""));this.scriptHasHooks&&(a=a.replace(/_container_(?!\s*=[^=])/g,this.scriptHookReplacement));try{v(a,this.node)}catch(l){this._onError("Exec","Error eval script in "+this.id+", "+l.message,l)}d(b)}else b();return c.promise},tearDown:function(){this.inherited(arguments);delete this._styles;if(this._styleNodes&&this._styleNodes.length)for(;this._styleNodes.length;)k.destroy(this._styleNodes.pop());
delete this._styleNodes;e.mixin(this,o._ContentSetter.prototype)}});o.set=function(a,b,c){return c?(new o._ContentSetter(e.mixin(c,{content:b,node:a}))).set():j._setNodeContent(a,b,!0)};return o})},"dijit/_KeyNavContainer":function(){define("dijit/_KeyNavContainer","dojo/_base/kernel,./_Container,./_FocusMixin,dojo/_base/array,dojo/keys,dojo/_base/declare,dojo/_base/event,dojo/dom-attr,dojo/_base/lang".split(","),function(l,m,k,j,f,e,d,c,b){return e("dijit._KeyNavContainer",[k,m],{tabIndex:"0",connectKeyNavHandlers:function(a,
c){var d=this._keyNavCodes={},e=b.hitch(this,"focusPrev"),k=b.hitch(this,"focusNext");j.forEach(a,function(a){d[a]=e});j.forEach(c,function(a){d[a]=k});d[f.HOME]=b.hitch(this,"focusFirstChild");d[f.END]=b.hitch(this,"focusLastChild");this.connect(this.domNode,"onkeypress","_onContainerKeypress");this.connect(this.domNode,"onfocus","_onContainerFocus")},startupKeyNavChildren:function(){l.deprecated("startupKeyNavChildren() call no longer needed","","2.0")},startup:function(){this.inherited(arguments);
j.forEach(this.getChildren(),b.hitch(this,"_startupChild"))},addChild:function(a,b){this.inherited(arguments);this._startupChild(a)},focus:function(){this.focusFirstChild()},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild())},focusLastChild:function(){this.focusChild(this._getLastFocusableChild())},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1))},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),!0)},
focusChild:function(a,b){a&&(this.focusedChild&&a!==this.focusedChild&&this._onChildBlur(this.focusedChild),a.set("tabIndex",this.tabIndex),a.focus(b?"end":"start"),this._set("focusedChild",a))},_startupChild:function(a){a.set("tabIndex","-1");this.connect(a,"_onFocus",function(){a.set("tabIndex",this.tabIndex)});this.connect(a,"_onBlur",function(){a.set("tabIndex","-1")})},_onContainerFocus:function(a){a.target!==this.domNode||this.focusedChild||(this.focusFirstChild(),c.set(this.domNode,"tabIndex",
"-1"))},_onBlur:function(a){this.tabIndex&&c.set(this.domNode,"tabIndex",this.tabIndex);this.focusedChild=null;this.inherited(arguments)},_onContainerKeypress:function(a){if(!a.ctrlKey&&!a.altKey){var b=this._keyNavCodes[a.charOrCode];b&&(b(),d.stop(a))}},_onChildBlur:function(){},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1)},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1)},_getNextFocusableChild:function(a,b){a&&(a=this._getSiblingOfChild(a,
b));for(var c=this.getChildren(),d=0;d<c.length;d++){a||(a=c[0<b?0:c.length-1]);if(a.isFocusable())return a;a=this._getSiblingOfChild(a,b)}return null}})})},"deploy/widgets/integration/pattern/PatternIntegrationProviderList":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/on,deploy/widgets/Formatters,deploy/widgets/integration/pattern/EditPatternIntegrationProvider,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/table/TreeTable".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o){return j("deploy.widgets.integration.pattern.PatternIntegrationProviderList",[m,l],{templateString:'<div class="integrationProviderList"><div class="listTopButtons" data-dojo-attach-point="buttonTopAttach"></div><div data-dojo-attach-point="integrationProviderList"></div></div>',postCreate:function(){this.inherited(arguments);var a=this,b=bootstrap.restUrl+"integration/pattern",c=[{name:i18n("Name"),field:"name",orderField:"name",filterField:"name",filterType:"text"},
{name:i18n("Description"),field:"description"},{name:i18n("Actions"),formatter:function(b){return a.actionsFormatter(b)}}];this.grid=new o({url:b,serverSideProcessing:!1,noDataMessage:i18n("No integration providers have been added yet."),tableConfigKey:"integrationProviderList",hidePagination:!1,hideExpandCollapse:!0,columns:c});this.grid.placeAt(this.integrationProviderList);b=new k({label:i18n("New Blueprint Designer Integration"),showTitle:!1,onClick:function(){a.showEditIntegrationProviderDialog()}});
e.add(b.domNode,"idxButtonSpecial");b.placeAt(this.buttonTopAttach)},actionsFormatter:function(a){var b=this,e=document.createElement("div"),h=d.create("a",{innerHTML:i18n("Edit"),"class":"actionsLink linkPointer"},e);c(h,"click",function(){b.showEditIntegrationProviderDialog(a)});h=d.create("a",{innerHTML:i18n("Delete"),"class":"actionsLink linkPointer"},e);c(h,"click",function(){b.showDeleteConfirm(a)});return e},showEditIntegrationProviderDialog:function(b){var c=this,d=new h({title:b?i18n("Edit Blueprint Designer Integration"):
i18n("New Blueprint Designer Integration"),closable:!0,draggable:!0});(new a({integrationProvider:b,callback:function(){d.hide();d.destroy();c.grid.refresh()}})).placeAt(d.containerNode);d.show()},showDeleteConfirm:function(a){var b=this;new q({message:i18n("Are you sure you want to delete this Blueprint Designer Integration?"),action:function(){f.del({url:bootstrap.restUrl+"integration/pattern/"+a.id,load:function(){b.grid.refresh()}})}})}})})},"dijit/form/MultiSelect":function(){define("dijit/form/MultiSelect",
["dojo/_base/array","dojo/_base/declare","dojo/dom-geometry","dojo/query","./_FormValueWidget"],function(l,m,k,j,f){return m("dijit.form.MultiSelect",f,{size:7,templateString:"<select multiple='true' ${!nameAttrSetting} data-dojo-attach-point='containerNode,focusNode' data-dojo-attach-event='onchange: _onChange'></select>",addSelected:function(e){e.getSelected().forEach(function(d){if(this.restoreOriginalText)d.text=this.enforceTextDirWithUcc(this.restoreOriginalText(d),d.text);this.containerNode.appendChild(d);
this.domNode.scrollTop=this.domNode.offsetHeight;d=e.domNode.scrollTop;e.domNode.scrollTop=0;e.domNode.scrollTop=d},this);this._set("value",this.get("value"))},getSelected:function(){return j("option",this.containerNode).filter(function(e){return e.selected})},_getValueAttr:function(){return l.map(this.getSelected(),function(e){return e.value})},multiple:!0,_setValueAttr:function(e,d){j("option",this.containerNode).forEach(function(c){c.selected=-1!=l.indexOf(e,c.value)});this.inherited(arguments)},
invertSelection:function(e){var d=[];j("option",this.containerNode).forEach(function(c){c.selected||d.push(c.value)});this._setValueAttr(d,!(!1===e||null==e))},_onChange:function(){this._handleOnChange(this.get("value"),!0)},resize:function(e){e&&k.setMarginBox(this.domNode,e)},postCreate:function(){this._set("value",this.get("value"));this.inherited(arguments)},_setTextDirAttr:function(e){if((this.textDir!=e||!this._created)&&this.enforceTextDirWithUcc)this._set("textDir",e),j("option",this.containerNode).forEach(function(d){if(!this._created&&
d.value===d.text)d.value=d.text;d.text=this.enforceTextDirWithUcc(d,d.originalText||d.text)},this)}})})},"deploy/widgets/security/SetUserPassword":function(){define(["dijit/_TemplatedMixin","dijit/_Widget","dojo/_base/declare","js/webext/widgets/ColumnForm"],function(l,m,k,j){return k("deploy.widgets.security.SetUserPassword",[m,l],{templateString:'<div class="editUser">  <div data-dojo-attach-point="formAttach"></div></div>',postCreate:function(){this.inherited(arguments);var f=this;this.form=new j({submitUrl:bootstrap.baseUrl+
"security/user/"+this.user.id+"/setPassword",submitMethod:"PUT",postSubmit:function(){void 0!==f.callback&&f.callback()},onCancel:function(){void 0!==f.callback&&f.callback()},validateFields:function(e){var d=[];e.password!==e.passwordAgain&&d.push(i18n("Passwords do not match"));delete e.passwordAgain;return d}});this.form.addField({name:"password",label:i18n("Password"),required:!0,type:"Secure",value:""});this.form.addField({name:"passwordAgain",label:i18n("Re-enter"),required:!0,type:"Secure",
value:""});this.form.placeAt(this.formAttach)}})})},"dojo/request/watch":function(){define("./util,../errors/RequestTimeoutError,../errors/CancelError,../_base/array,../_base/window,../has!host-browser?dom-addeventlistener?:../on:".split(","),function(l,m,k,j,f,e){function d(){for(var d=+new Date,e=0,f;e<a.length&&(f=a[e]);e++){var j=f.response,k=j.options;if(f.isCanceled&&f.isCanceled()||f.isValid&&!f.isValid(j))a.splice(e--,1),c._onAction&&c._onAction();else if(f.isReady&&f.isReady(j))a.splice(e--,
1),f.handleResponse(j),c._onAction&&c._onAction();else if(f.startTime&&f.startTime+(k.timeout||0)<d)a.splice(e--,1),f.cancel(new m("Timeout exceeded",j)),c._onAction&&c._onAction()}c._onInFlight&&c._onInFlight(f);a.length||(clearInterval(b),b=null)}function c(c){if(c.response.options.timeout)c.startTime=+new Date;c.isFulfilled()||(a.push(c),b||(b=setInterval(d,50)),c.response.options.sync&&d())}var b=null,a=[];c.cancelAll=function(){try{j.forEach(a,function(a){try{a.cancel(new k("All requests canceled."))}catch(b){}})}catch(b){}};
f&&e&&f.doc.attachEvent&&e(f.global,"unload",function(){c.cancelAll()});return c})},"deploy/widgets/navigation/ProcessRequests":function(){define("dojo/_base/kernel,dojox/html/entities,dojo/_base/array,dojo/_base/url,dojo/dom-construct,dojo/topic,dojo/hash,deploy/util/ErrorUtil".split(","),function(l,m,k,j,f,e,d,c){l.provide("deploy.widgets.navigation.ProcessRequests");config.data.tabSets.push({id:"deploymentPreview",hashPattern:["snapshot","environment","applicationProcess","tab"],breadcrumbs:["home",
"topLevelTab","application","snapshot"],selectedTopLevelTab:"applications",getDetailTitle:function(){return i18n("Deployment Preview")},getDetailFields:function(){return[{label:i18n("Application"),value:'<a href="#application/'+appState.application.id+'">'+m.encode(appState.application.name)+"</a>"},{label:i18n("Snapshot"),value:'<a href="#snapshot/'+appState.snapshot.id+'">'+m.encode(appState.snapshot.name)+"</a>"},{label:i18n("Environment"),value:'<a href="#environment/'+appState.environment.id+
'">'+m.encode(appState.environment.name)+"</a>"},{label:i18n("Process"),value:'<a href="#applicationProcess/'+appState.applicationProcess.id+'/-1">'+m.encode(appState.applicationProcess.name)+"</a>"}]},stateCalls:[{targetAppStateEntry:"snapshot",getUrl:function(b){return bootstrap.restUrl+"deploy/snapshot/"+b.snapshot},postGet:function(b,a){a.application=b.application},stateCalls:[{targetAppStateEntry:"applicationProcess",getUrl:function(b){return bootstrap.restUrl+"deploy/applicationProcess/"+b.applicationProcess+
"/-1"}}]},{targetAppStateEntry:"environment",getUrl:function(b){return bootstrap.restUrl+"deploy/environment/"+b.environment}}],defaultTab:"summary",tabs:[{id:"summary",label:i18n("Summary"),view:"deploy/views/deploymentPreview/deploymentPreviewMain"},{id:"configuration",label:i18n("Configuration Changes"),view:"deploy/views/deploymentPreview/deploymentPreviewConfiguration"}]});config.data.tabSets.push({id:"componentProcessRequest",hashPattern:["componentProcessRequest","tab"],breadcrumbs:["home",
"topLevelTab","component","componentProcessRequest"],selectedTopLevelTab:"components",getDetailTitle:function(){return i18n("Deployment of Component: %s",m.encode(appState.component.name))},getDetailFields:function(){var b=[],a=appState.componentProcessRequest.parentRequestId;if(a){var c=f.create("div"),d=appState.componentProcessRequest.parentComponentProcessRequestId,e=appState.componentProcessRequest.deploymentRequestId;e&&(e=f.create("a",{className:"inline-block",href:"#deploymentRequest/"+e},
c),e=f.create("div",{},e),f.create("div",{className:"inline-block general-icon origProcessIcon"},e),f.create("span",{innerHTML:i18n("View Deployment Request")},e));a=f.create("a",{className:"inline-block has-arrow",href:"#applicationProcessRequest/"+a},c);a=f.create("div",{},a);f.create("div",{className:"inline-block general-icon origProcessIcon"},a);f.create("span",{innerHTML:i18n("View Application Process Execution")},a);d&&(d=f.create("a",{className:"inline-block has-arrow",href:"#componentProcessRequest/"+
d},c),d=f.create("div",{},d),f.create("div",{className:"inline-block general-icon origProcessIcon"},d),f.create("span",{innerHTML:i18n("View Component Process Execution")},d));d=f.create("a",{className:"inline-block has-arrow no-link"},c);d=f.create("div",{},d);f.create("div",{className:"inline-block blank-icon"},d);f.create("span",{innerHTML:i18n("Process Request")},d);b.push({label:"",value:c,containerClassName:"back-navigation-link",placeBelow:!0})}b.push({label:i18n("Process"),value:'<a href="#'+
i18n("componentProcess")+"/"+appState.componentProcess.id+"/"+appState.componentProcess.version+'">'+i18n("%s (Version %s)",m.encode(appState.componentProcess.name),appState.componentProcess.version)+"</a>"});void 0!==appState.version&&b.push({label:i18n("Version"),value:'<a href="#version/'+appState.version.id+'">'+m.encode(appState.version.name)+"</a>"});b.push({label:i18n("Resource"),value:'<a href="#resource/'+appState.resource.id+'">'+m.encode(appState.resource.name)+"</a>"});appState.agent&&
b.push({label:i18n("Agent"),value:'<a href="#agent/'+appState.agent.id+'">'+m.encode(appState.agent.name)+"</a>"});b.push({label:i18n("Date"),value:util.dateFormatShort(appState.componentProcessRequest.submittedTime)});b.push({label:i18n("Requested By"),value:m.encode(appState.componentProcessRequest.userName)});k.forEach(appState.componentProcessRequest.contextProperties,function(a){if(0===a.name.indexOf("link:")){var c=a.name.substring(5),a=a.value;(new j(a)).scheme||(a="http://"+a);c=f.create("a",
{innerHTML:c.escape(),href:a,target:"_blank"});b.push({value:c})}});return b},stateCalls:[{targetAppStateEntry:"componentProcessRequest",getUrl:function(b){return bootstrap.restUrl+"deploy/componentProcessRequest/"+b.componentProcessRequest},postGet:function(b,a){a.component=b.component;a.componentProcess=b.componentProcess;a.application=b.application;a.environment=b.environment;a.resource=b.resource;a.agent=b.agent;if(b.version)a.version=b.version}}],defaultTab:"log",tabs:[{id:"log",label:i18n("Log"),
view:"deploy/views/componentProcessRequest/executionLog"},{id:"properties",label:i18n("Properties"),view:"deploy/views/componentProcessRequest/requestProperties"}]});config.data.tabSets.push({id:"applicationProcessRequest",hashPattern:["applicationProcessRequest","tab"],breadcrumbs:["home","topLevelTab","application","applicationProcessRequest"],selectedTopLevelTab:"applications",getDetailTitle:function(){return i18n("Application Process Request: %s",m.encode(appState.application.name))},getDetailFields:function(){var b=
[];if(appState.applicationProcessRequest.deploymentRequestId){var a=f.create("div"),c=f.create("a",{className:"inline-block",href:"#deploymentRequest/"+appState.applicationProcessRequest.deploymentRequestId},a),c=f.create("div",{},c);f.create("div",{className:"inline-block general-icon origProcessIcon"},c);f.create("span",{innerHTML:i18n("View Deployment Request")},c);c=f.create("a",{className:"inline-block has-arrow no-link"},a);c=f.create("div",{},c);f.create("div",{className:"inline-block blank-icon"},
c);f.create("span",{innerHTML:i18n("Process Request")},c);b.push({label:"",value:a,containerClassName:"back-navigation-link",placeBelow:!0})}appState.snapshot&&b.push({label:i18n("Snapshot"),value:'<a href="#snapshot/'+appState.snapshot.id+'">'+m.encode(appState.snapshot.name)+"</a>"});b.push({label:i18n("Process"),value:'<a href="#applicationProcess/'+appState.applicationProcess.id+"/"+appState.applicationProcess.version+'">'+i18n("%s (Version %s)",m.encode(appState.applicationProcess.name),appState.applicationProcess.version)+
"</a>"});b.push({label:i18n("Environment"),value:'<a href="#environment/'+appState.environment.id+'">'+m.encode(appState.environment.name)+"</a>"});b.push({label:i18n("Only Changed Versions"),value:m.encode(appState.applicationProcessRequest.onlyChanged.toString())});b.push({label:i18n("Date Requested"),value:util.dateFormatShort(appState.applicationProcessRequest.submittedTime)});b.push({label:i18n("Requested By"),value:m.encode(appState.applicationProcessRequest.userName)});appState.applicationProcessRequest.entry&&
b.push({label:i18n("Scheduled For"),value:util.dateFormatShort(appState.applicationProcessRequest.entry.scheduledDate)});k.forEach(appState.applicationProcessRequest.contextProperties,function(a){if(0===a.name.indexOf("link:")){var c=a.name.substring(5),a=a.value;(new j(a)).scheme||(a="http://"+a);c=f.create("a",{innerHTML:c.escape(),href:a,target:"_blank"});b.push({value:c})}});return b},getDetailDescription:function(){return m.encode(appState.applicationProcessRequest.description)},stateCalls:[{targetAppStateEntry:"applicationProcessRequest",
getUrl:function(b){return bootstrap.restUrl+"deploy/applicationProcessRequest/"+b.applicationProcessRequest},postGet:function(b,a){a.application=b.application;a.applicationProcess=b.applicationProcess;a.environment=b.environment;if(b.snapshot)a.snapshot=b.snapshot}}],defaultTab:"log",tabs:[{id:"log",label:i18n("Log"),view:"deploy/views/applicationProcessRequest/executionLog"},{id:"properties",label:i18n("Properties"),view:"deploy/views/applicationProcessRequest/requestProperties"},{id:"manifest",
label:i18n("Manifest"),view:"deploy/views/applicationProcessRequest/requestManifest"},{id:"configurationChanges",label:i18n("Configuration Changes"),view:"deploy/views/applicationProcessRequest/requestConfigurationChanges"},{id:"inventoryChanges",label:i18n("Inventory Changes"),view:"deploy/views/applicationProcessRequest/requestInventoryChanges"}]});e.subscribe("navigationError",function(b){if(404===b.status&&navBar.lastNotFoundAppReqHash!==d()&&0===b.response.url.indexOf(bootstrap.restUrl+"deploy/applicationProcessRequest/"))navBar.lastNotFoundAppReqHash=
d(),c.showErrorDialog(i18n("Deployment history details were deleted"),i18n("No deployment history is available for this application process request, because daily cleanup removed all the details."))});config.data.tabSets.push({id:"deploymentRequest",hashPattern:["deploymentRequest","tab"],breadcrumbs:["home","topLevelTab","application","deploymentRequest"],selectedTopLevelTab:"applications",getDetailTitle:function(){return i18n("Deployment Request: %s",m.encode(appState.application.name))},getDetailFields:function(){var b=
[];appState.snapshot&&b.push({label:i18n("Snapshot"),value:'<a href="#snapshot/'+appState.snapshot.id+'">'+m.encode(appState.snapshot.name)+"</a>"});b.push({label:i18n("Process"),value:'<a href="#applicationProcess/'+appState.applicationProcess.id+'">'+m.encode(appState.applicationProcess.name)+"</a>"});b.push({label:i18n("Environment"),value:'<a href="#environment/'+appState.environment.id+'">'+m.encode(appState.environment.name)+"</a>"});b.push({label:i18n("Date"),value:util.dateFormatShort(appState.applicationProcessRequest.submittedTime)});
b.push({label:i18n("Requested By"),value:m.encode(appState.applicationProcessRequest.userName)});return b},stateCalls:[{targetAppStateEntry:"deploymentRequest",getUrl:function(b){return bootstrap.restUrl+"deploy/deploymentRequest/"+b.deploymentRequest},postGet:function(b,a){a.applicationProcessRequest=b.rootRequest;a.application=b.rootRequest.application;a.applicationProcess=b.rootRequest.applicationProcess;a.environment=b.rootRequest.environment;if(b.rootRequest.snapshot)a.snapshot=b.rootRequest.snapshot}}],
defaultTab:"main",tabs:[{id:"main",label:i18n("Main"),view:"deploy/views/deploymentRequest/deploymentRequestMain"},{id:"properties",label:i18n("Properties"),view:"deploy/views/applicationProcessRequest/requestProperties"},{id:"manifest",label:i18n("Manifest"),view:"deploy/views/deploymentRequest/deploymentManifest"}]});config.data.breadcrumbItems.push({id:"deploymentRequest",getHash:function(){return"deploymentRequest/"+appState.deploymentRequest.id},isUserData:!1,getLabel:function(){return i18n("Deployment Request")}});
config.data.breadcrumbItems.push({id:"applicationProcessRequest",getHash:function(){return"applicationProcessRequest/"+appState.applicationProcessRequest.id},isUserData:!1,getLabel:function(){return i18n("Process Request")}});config.data.breadcrumbItems.push({id:"componentProcessRequest",getHash:function(){return"componentProcessRequest/"+appState.componentProcessRequest.id},isUserData:!1,getLabel:function(){return i18n("Process Request on %s",m.encode(appState.resource.name))}})})},"deploy/widgets/version/VersionHistory":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/dom-construct,dojo/on,deploy/widgets/Formatters,deploy/widgets/approval/ApprovalRevocationDialog,js/webext/widgets/table/TreeTable".split(","),
function(l,m,k,j,f,e,d,c){return k("deploy.widgets.version.VersionHistory",[m,l],{templateString:'<div class="versionHistory"><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var b=this,a=[{name:i18n("Process"),formatter:function(a){a.componentProcess.component=a.component;return e.componentProcessLinkFormatter(a.componentProcess)}},{name:i18n("Resource"),formatter:function(a){return e.resourcePathFormatter(a.resource)}},{name:i18n("Application"),
formatter:function(a){return e.applicationLinkFormatter(a.application)}},{name:i18n("Environment"),formatter:function(a){return e.environmentLinkFormatter(a.environment)}},{name:i18n("Scheduled For"),field:"calendarEntry.scheduledDate",formatter:function(a){return util.dateFormatShort(a.entry.scheduledDate)},orderField:"calendarEntry.scheduledDate"},{name:i18n("By"),field:"userName"},{name:i18n("Status"),formatter:function(a,b,c){return e.requestStatusFormatter(a,b,c)}},{name:i18n("Actions"),formatter:function(a){var c=
document.createElement("div"),e=document.createElement("a");e.className="actionsLink";e.innerHTML=i18n("View Request");e.href="#componentProcessRequest/"+a.id;c.appendChild(e);!a.rootTrace&&!a.error&&a.approval&&a.approval.finished&&!a.approval.failed&&a.approval.userCanRevoke&&(e=j.create("a",{className:"actionsLink linkPointer",innerHTML:i18n("Revoke Approval")},c),f(e,"click",function(){new d({componentProcessRequestId:a.id,callback:function(){b.grid.refresh()}})}));return c}}];this.grid=new c({url:bootstrap.restUrl+
"deploy/componentProcessRequest/table",baseFilters:[{name:"componentVersion.id",type:"eq",className:"UUID",values:[appState.version.id]}],columns:a,orderField:"calendarEntry.scheduledDate",sortType:"desc",tableConfigKey:"versionHistory"+appState.version.id,noDataMessage:i18n("No process history found for this version."),hidePagination:!1,hideExpandCollapse:!0,queryData:{outputType:["BASIC","LINKED","EXTENDED"]}});this.grid.placeAt(this.gridAttach)},destroy:function(){this.inherited(arguments);this.grid.destroy()}})})},
"idx/widget/Menu":function(){require({cache:{"url:idx/widget/templates/Menu.html":'<table class="dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role="menu" tabIndex="${tabIndex}" data-dojo-attach-event="onkeypress:_onKeyPress" cellspacing="0">\r\n\t<tbody class="dijitReset">\r\n\t\t<tr data-dojo-attach-point="_columnContainerNode">\r\n\t\t\t<td class="dijitReset oneuiMenuColumn" data-dojo-attach-point="columnNodes">\r\n\t\t\t\t<table class="dijitReset" cellspacing="0" width="100%" role="presentation">\r\n\t\t\t\t\t<tbody class="dijitReset" data-dojo-attach-point="_containerNodes,containerNode">\r\n<\!-- this is column 0, which also starts out as the container node so menu items are initially loaded here.\r\n     containerNode changes to point to _columnContainerNode once the widget has initialised, so the whole set of columns is the container.\r\n\t this must be kept in synch with _MenuColumn.html --\>\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t</tbody>\r\n</table>\r\n',
"url:idx/widget/templates/_MenuColumn.html":'<td class="dijitReset oneuiMenuColumn" data-dojo-attach-point="columnNodes">\r\n\t<table class="dijitReset" cellspacing="0" width="100%" role="presentation">\r\n\t\t<tbody class="dijitReset" data-dojo-attach-point="_containerNodes">\r\n<\!-- this must be kept in synch with column 0 included in Menu.html --\>\r\n\t\t</tbody>\r\n\t</table>\r\n</td>'}});define("idx/widget/Menu","dojo/_base/lang,dojo/_base/array,dojo/_base/declare,dojo/_base/event,dojo/dom-geometry,dijit/_TemplatedMixin,dijit/_WidgetBase,dijit/Menu,dijit/MenuItem,dijit/registry,./_MenuOpenOnHoverMixin,dojo/text!./templates/Menu.html,dojo/text!./templates/_MenuColumn.html".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o){var n={error:"oneuiErrorMenuItemIcon",warning:"oneuiWarningMenuItemIcon",confirmation:"oneuiConfirmationMenuItemIcon",information:"oneuiInformationMenuItemIcon",success:"oneuiSuccessMenuItemIcon",critical:"oneuiCriticalMenuItemIcon",attention:"oneuiAttentionMenuItemIcon",compliance:"oneuiComplianceMenuItemIcon"},c=k("idx.widget.Menu",[c,h],{_containerNodes:null,columnNodes:null,menuForDialog:!0,templateString:q,constructor:function(){this._containerNodes=[];this.columnNodes=
[]},_getNextFocusableChild:function(a,b){var c=null,d=this.getChildren(),e;null!=a?(e=m.indexOf(d,a),-1!=e&&(e+=b,0>e&&(e=d.length-1),e>=d.length&&(e=0))):e=0==d.length?-1:1==b?0:d.length-1;if(-1!=e){var h=e;do{if(d[h].isFocusable()){c=d[h];break}h+=b;0>h&&(h=d.length-1);h>=d.length&&(h=0)}while(h!=e)}return c},_moveToColumn:function(b){if(this.focusedChild)for(var c=0;c<this._containerNodes.length;c++)if(this.focusedChild.domNode.parentNode==this._containerNodes[c]){var d=c,e=f.getMarginBox(this.focusedChild.domNode).t;
break}if(void 0!=d){for(c=d+b;0<=c&&c<this._containerNodes.length;c+=b){var h=a.findWidgets(this._containerNodes[c]),h=dojo.filter(h,function(a){return a.isFocusable()});if(0<h.length){var j=c;break}}if(void 0!=j)for(c=0;c<h.length;c++){b=h[c];j=f.getMarginBox(b.domNode);if(e>=j.t&&e<=j.t+j.h-1)return this.focusChild(b),!0;if(e<j.t)return 0<c?this.focusChild(h[c-1]):this.focusChild(b),!0;if(c==h.length-1)return this.focusChild(b),!0}}return!1},_onKeyPress:function(a){if(!a.ctrlKey&&!a.altKey)switch(a.charOrCode){case this._openSubMenuKey:this._moveToColumn(1)||
this._moveToPopup(a);j.stop(a);break;case this._closeSubMenuKey:if(!this._moveToColumn(-1)&&this.parentMenu)if(this.parentMenu._isMenuBar)this.parentMenu.focusPrev();else this.onCancel(!1);j.stop(a)}},refresh:function(){for(var a=this.getChildren(),b=0;b<a.length;b++)this.addChild(a[b])},buildRendering:function(){this.inherited(arguments);this.containerNode=this._columnContainerNode},startup:function(){if(!this._started)this._started=!0,this.inherited(arguments),this.refresh()},addChild:function(a,
b){for(;this._containerNodes.length<=(a.column||0);){var c=e.getCachedTemplate(o).cloneNode(!0);this._attachTemplateNodes(c,function(a,b){return a.getAttribute(b)});this._columnContainerNode.appendChild(c)}this.containerNode=this._containerNodes[a.column||0];this.inherited(arguments);this.containerNode=this._columnContainerNode}});c.createMessageMenuItem=function(a){var c="";a&&(a.timestamp&&(c+='\u200f<span class="messageMenuTimestamp messagesContrast">\u200e'+a.timestamp+"\u200f</span>\u200e"),
a.content&&(c+='\u200f <span class="messageTitles">\u200e'+a.content+"\u200f</span>\u200e"),a.messageId&&(c+='\u200f <span class="messagesContrast">(\u200e'+a.messageId+"\u200f)</span>\u200e"));return new b({label:c,iconClass:a&&a.type&&n[a.type]})};return l.getObject("idx.oneui",!0).Menu=c})},"dijit/form/ComboButton":function(){require({cache:{"url:dijit/form/templates/ComboButton.html":'<table class="dijit dijitReset dijitInline dijitLeft"\n\tcellspacing=\'0\' cellpadding=\'0\' role="presentation"\n\t><tbody role="presentation"><tr role="presentation"\n\t\t><td class="dijitReset dijitStretch dijitButtonNode" data-dojo-attach-point="buttonNode" data-dojo-attach-event="ondijitclick:_onClick,onkeypress:_onButtonKeyPress"\n\t\t><div id="${id}_button" class="dijitReset dijitButtonContents"\n\t\t\tdata-dojo-attach-point="titleNode"\n\t\t\trole="button" aria-labelledby="${id}_label"\n\t\t\t><div class="dijitReset dijitInline dijitIcon" data-dojo-attach-point="iconNode" role="presentation"></div\n\t\t\t><div class="dijitReset dijitInline dijitButtonText" id="${id}_label" data-dojo-attach-point="containerNode" role="presentation"></div\n\t\t></div\n\t\t></td\n\t\t><td id="${id}_arrow" class=\'dijitReset dijitRight dijitButtonNode dijitArrowButton\'\n\t\t\tdata-dojo-attach-point="_popupStateNode,focusNode,_buttonNode"\n\t\t\tdata-dojo-attach-event="onkeypress:_onArrowKeyPress"\n\t\t\ttitle="${optionsTitle}"\n\t\t\trole="button" aria-haspopup="true"\n\t\t\t><div class="dijitReset dijitArrowButtonInner" role="presentation"></div\n\t\t\t><div class="dijitReset dijitArrowButtonChar" role="presentation">&#9660;</div\n\t\t></td\n\t\t><td style="display:none !important;"\n\t\t\t><input ${!nameAttrSetting} type="${type}" value="${value}" data-dojo-attach-point="valueNode" role="presentation"\n\t\t/></td></tr></tbody\n></table>\n'}});
define("dijit/form/ComboButton","dojo/_base/declare,dojo/_base/event,dojo/keys,../focus,./DropDownButton,dojo/text!./templates/ComboButton.html".split(","),function(l,m,k,j,f,e){return l("dijit.form.ComboButton",f,{templateString:e,_setIdAttr:"",_setTabIndexAttr:["focusNode","titleNode"],_setTitleAttr:"titleNode",optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{buttonNode:"dijitButtonNode",titleNode:"dijitButtonContents",_popupStateNode:"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyPress:function(d){if(d.charOrCode==
k[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"])j.focus(this._popupStateNode),m.stop(d)},_onArrowKeyPress:function(d){if(d.charOrCode==k[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"])j.focus(this.titleNode),m.stop(d)},focus:function(d){this.disabled||j.focus("start"==d?this.titleNode:this._popupStateNode)}})})},"deploy/widgets/navigation/Resources":function(){define(["dojo/_base/kernel","dojox/html/entities"],function(l,m){l.provide("deploy.widgets.navigation.Resources");var k=[{id:"resources",
label:i18n("Resource Tree"),view:"deploy/views/resource/resourceList"},{id:"resourceTemplates",label:i18n("Resource Templates"),view:"deploy/views/resourceTemplate/resourceTemplateList"},{id:"agents",label:i18n("Agents"),view:"deploy/views/agent/agentList"},{id:"agentRelays",label:i18n("Agent Relays"),view:"deploy/views/agentRelay/agentRelayList"},{id:"agentPools",label:i18n("Agent Pools"),view:"deploy/views/agentPool/agentPoolList"},{id:"cloud",label:i18n("Cloud Connections"),view:"deploy/views/settings/cloudConnections"}];
config.data.systemConfiguration.enableConfigurationDriftTab&&k.push({id:"variance",label:i18n("Configuration"),view:"deploy/views/resource/variance"});config.data.tabSets.push({id:"resources",hashPattern:["tab"],breadcrumbs:["home","topLevelTab"],selectedTopLevelTab:"resources",defaultTab:"resources",tabs:k});config.data.tabSets.push({id:"resource",hashPattern:["resource","tab"],breadcrumbs:["home","topLevelTab","resource"],selectedTopLevelTab:"resources",getDetailTitle:function(){return i18n("Resource: %s",
m.encode(appState.resource.name))},getDetailFields:function(){var j=[];appState.resource.agent&&j.push({label:i18n("Agent"),value:'<a href="#agent/'+appState.resource.agent.id+'">'+m.encode(appState.resource.agent.name)+"</a>"});appState.resource.relay&&j.push({label:i18n("Relay"),value:'<a href="#relay'+appState.resource.relay.id+'">'+m.encode(appState.resource.relay.name)+"</a>"});appState.resource.agentPool&&j.push({label:i18n("Agent Pool"),value:'<a href="#agentPool/'+appState.resource.agentPool.id+
'">'+m.encode(appState.resource.agentPool.name)+"</a>"});appState.resource.parent&&j.push({label:i18n("Parent Resource"),value:'<a href="#resource/'+appState.resource.parent.id+'">'+m.encode(appState.resource.parent.path.replace(/\//g," / "))+"</a>"});return j},getDetailDescription:function(){return m.encode(appState.resource.description)},stateCalls:[{targetAppStateEntry:"resource",getUrl:function(j){return bootstrap.restUrl+"resource/resource/"+j.resource}}],defaultTab:"main",tabs:[{id:"main",label:i18n("Main"),
view:"deploy/views/resource/resourceMain"},{id:"inventory",label:i18n("Inventory"),view:"deploy/views/resource/resourceInventory"},{id:"discovery",label:i18n("History"),view:"deploy/views/resource/resourceHistory"},{id:"configuration",label:i18n("Configuration"),className:"configurationTab",view:"deploy/views/resource/resourceConfiguration"},{id:"changes",label:i18n("Changes"),view:"deploy/views/resource/resourceChangelog"}]});config.data.tabSets.push({id:"resourceTemplate",hashPattern:["resourceTemplate",
"tab"],breadcrumbs:["home","topLevelTab","resourceTemplates","resourceTemplate"],selectedTopLevelTab:"resources",getDetailTitle:function(){return i18n("Resource Template: %s",m.encode(appState.resourceTemplate.name))},getDetailDescription:function(){return m.encode(appState.resourceTemplate.description)},getDetailFields:function(){var j=[];appState.resourceTemplate.parent&&j.push({label:i18n("Parent Template"),value:'<a href="#resourceTemplate/'+appState.resourceTemplate.parent.id+'">'+m.encode(appState.resourceTemplate.parent.name)+
"</a>"});return j},stateCalls:[{targetAppStateEntry:"resourceTemplate",getUrl:function(j){return bootstrap.restUrl+"resource/resourceTemplate/"+j.resourceTemplate}}],defaultTab:"configuration",tabs:[{id:"configuration",label:i18n("Configuration"),view:"deploy/views/resourceTemplate/resourceTemplateConfiguration"}]});config.data.tabSets.push({id:"agent",hashPattern:["agent","tab"],breadcrumbs:["home","topLevelTab","agents","agent"],selectedTopLevelTab:"resources",getDetailTitle:function(){return i18n("Agent: %s",
m.encode(appState.agent.name))},getDetailDescription:function(){return m.encode(appState.agent.description)},stateCalls:[{targetAppStateEntry:"agent",getUrl:function(j){return bootstrap.restUrl+"agent/"+j.agent}}],defaultTab:"main",tabs:[{id:"main",label:i18n("Main"),view:"deploy/views/agent/agentMain"},{id:"configuration",label:i18n("Configuration"),className:"configurationTab",view:"deploy/views/agent/agentConfiguration"}]});config.data.tabSets.push({id:"relay",hashPattern:["relay","tab"],breadcrumbs:["home",
"topLevelTab","relays","relay"],selectedTopLevelTab:"resources",getDetailTitle:function(){return i18n("Agent Relays: %s",m.encode(appState.relay.name))},stateCalls:[{targetAppStateEntry:"relay",getUrl:function(j){return bootstrap.restUrl+"relay/"+j.relay}}],defaultTab:"main",tabs:[{id:"main",label:i18n("Main"),view:"deploy/views/agentRelay/relayMain"},{id:"configuration",label:i18n("Configuration"),className:"configurationTab",view:"deploy/views/agentRelay/relayConfiguration"}]});config.data.tabSets.push({id:"agentPool",
hashPattern:["agentPool","tab"],breadcrumbs:["home","topLevelTab","agentPools","agentPool"],selectedTopLevelTab:"resources",getDetailTitle:function(){return i18n("Agent Pool: %s",m.encode(appState.agentPool.name))},getDetailDescription:function(){return m.encode(appState.agentPool.description)},stateCalls:[{targetAppStateEntry:"agentPool",getUrl:function(j){return bootstrap.restUrl+"agent/pool/"+j.agentPool}}],defaultTab:"main",tabs:[{id:"main",label:i18n("Main"),view:"deploy/views/agentPool/agentPoolMain"},
{id:"configuration",label:i18n("Configuration"),className:"configurationTab",view:"deploy/views/agentPool/agentPoolConfiguration"}]});config.data.tabSets.push({id:"resourceComparison",hashPattern:["leftResource","rightResource","tab"],breadcrumbs:["home","topLevelTab"],selectedTopLevelTab:"resources",getDetailTitle:function(){return i18n("Resource Comparison")},getDetailFields:function(){var j=[];j.push({label:i18n("Left-Hand Resource"),value:'<a href="#resource/'+appState.leftResource.id+'">'+m.encode(appState.leftResource.path)+
"</a>"});j.push({label:i18n("Right-Hand Resource"),value:'<a href="#resource/'+appState.rightResource.id+'">'+m.encode(appState.rightResource.path)+"</a>"});return j},stateCalls:[{targetAppStateEntry:"leftResource",getUrl:function(j){return bootstrap.restUrl+"resource/resource/"+j.leftResource}},{targetAppStateEntry:"rightResource",getUrl:function(j){return bootstrap.restUrl+"resource/resource/"+j.rightResource}}],defaultTab:"main",tabs:[{id:"main",label:i18n("Main"),view:"deploy/views/resource/resourceComparison"}]});
config.data.breadcrumbItems.push({id:"resource",getHash:function(){return"resource/"+appState.resource.id},isUserData:!0,getLabel:function(){return m.encode(appState.resource.name)}});config.data.breadcrumbItems.push({id:"resourceTemplates",getHash:function(){return"resources/resourceTemplates"},isUserData:!1,getLabel:function(){return i18n("Resource Templates")}});config.data.breadcrumbItems.push({id:"resourceTemplate",getHash:function(){return"resourceTemplate/"+appState.resourceTemplate.id},isUserData:!0,
getLabel:function(){return m.encode(appState.resourceTemplate.name)}});config.data.breadcrumbItems.push({id:"resourceRoles",getHash:function(){return"resources/roles"},isUserData:!1,getLabel:function(){return i18n("Roles")}});config.data.breadcrumbItems.push({id:"resourceRole",getHash:function(){return"resourceRole/"+appState.resourceRole.id},isUserData:!0,getLabel:function(){return m.encode(appState.resourceRole.name)}});config.data.breadcrumbItems.push({id:"agent",getHash:function(){return"agent/"+
appState.agent.id},isUserData:!0,getLabel:function(){return m.encode(appState.agent.name)}});config.data.breadcrumbItems.push({id:"agents",getHash:function(){return"resources/agents"},isUserData:!1,getLabel:function(){return i18n("Agents")}});config.data.breadcrumbItems.push({id:"relay",getHash:function(){return"relay/"+appState.relay.id},isUserData:!0,getLabel:function(){return m.encode(appState.relay.name)}});config.data.breadcrumbItems.push({id:"relays",getHash:function(){return"resources/agentRelays"},
isUserData:!1,getLabel:function(){return i18n("Agent Relays")}});config.data.breadcrumbItems.push({id:"agentPool",getHash:function(){return"agentPool/"+appState.agentPool.id},isUserData:!0,getLabel:function(){return m.encode(appState.agentPool.name)}});config.data.breadcrumbItems.push({id:"agentPools",getHash:function(){return"resources/agentPools"},isUserData:!1,getLabel:function(){return i18n("Agent Pools")}})})},"deploy/widgets/report/securityReportComponent/SecurityReportComponentTable":function(){define(["dojo/_base/array",
"dojo/_base/declare","dojo/dom-construct","dojox/html/entities","deploy/widgets/report/ReportTable"],function(l,m,k,j,f){return m("deploy.widgets.report.securityReportComponent.SecurityReportComponentTable",[f],{reportRestUrlBase:null,reportResultTable:null,selectableColumns:!0,constructor:function(){this.reportRestUrlBase=bootstrap.restUrl+"report/"},reportType:"com.urbancode.ds.subsys.report.domain.security_report.environment.SecurityReportComponent",formatters:{multiNameFormatter:function(e,d){var c=
k.create("div"),b=d?d.split(","):null;l.forEach(b,function(a,b){0!==b&&k.create("br",{},c);k.create("span",{innerHTML:j.encode(a)},c)});return c}},getReportResultLayout:function(){return[{name:i18n("Component"),field:"component",getRawValue:function(e){return e.component},orderField:"component"},{formatter:this.formatters.multiNameFormatter,name:i18n("Create"),field:"Create Components"},{formatter:this.formatters.multiNameFormatter,name:i18n("Delete"),field:"Delete"},{formatter:this.formatters.multiNameFormatter,
name:i18n("Edit Basic Settings"),field:"Edit Basic Settings"},{formatter:this.formatters.multiNameFormatter,name:i18n("Edit Components"),field:"Edit Components",hidden:!0},{formatter:this.formatters.multiNameFormatter,name:i18n("Manage Configuration Templates"),field:"Manage Configuration Templates"},{formatter:this.formatters.multiNameFormatter,name:i18n("Manage Processes"),field:"Manage Processes"},{formatter:this.formatters.multiNameFormatter,name:i18n("Manage Properties"),field:"Manage Properties"},
{formatter:this.formatters.multiNameFormatter,name:i18n("Manage Teams"),field:"Manage Teams"},{formatter:this.formatters.multiNameFormatter,name:i18n("Manage Versions"),field:"Manage Versions"},{formatter:this.formatters.multiNameFormatter,name:i18n("View"),field:"View Components"}]}})})},"dojox/calendar/MatrixView":function(){require({cache:{"url:dojox/calendar/templates/MatrixView.html":'<div data-dojo-attach-events="keydown:_onKeyDown">\n\t<div  class="dojoxCalendarYearColumnHeader" data-dojo-attach-point="yearColumnHeader">\n\t\t<table><tr><td><span data-dojo-attach-point="yearColumnHeaderContent"></span></td></tr></table>\t\t\n\t</div>\t\n\t<div data-dojo-attach-point="columnHeader" class="dojoxCalendarColumnHeader">\n\t\t<table data-dojo-attach-point="columnHeaderTable" class="dojoxCalendarColumnHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t</div>\t\t\n\t<div dojoAttachPoint="rowHeader" class="dojoxCalendarRowHeader">\n\t\t<table data-dojo-attach-point="rowHeaderTable" class="dojoxCalendarRowHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t</div>\t\n\t<div dojoAttachPoint="grid" class="dojoxCalendarGrid">\n\t\t<table data-dojo-attach-point="gridTable" class="dojoxCalendarGridTable" cellpadding="0" cellspacing="0"></table>\n\t</div>\t\n\t<div data-dojo-attach-point="itemContainer" class="dojoxCalendarContainer" data-dojo-attach-event="mousedown:_onGridMouseDown,mouseup:_onGridMouseUp,ondblclick:_onGridDoubleClick,touchstart:_onGridTouchStart,touchmove:_onGridTouchMove,touchend:_onGridTouchEnd">\n\t\t<table data-dojo-attach-point="itemContainerTable" class="dojoxCalendarContainerTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t</div>\t\n</div>\n'}});
define("dojox/calendar/MatrixView","dojo/_base/declare,dojo/_base/array,dojo/_base/event,dojo/_base/lang,dojo/_base/sniff,dojo/_base/fx,dojo/_base/html,dojo/on,dojo/dom,dojo/dom-class,dojo/dom-style,dojo/dom-geometry,dojo/dom-construct,dojo/query,dojox/html/metrics,dojo/i18n,./ViewBase,dojo/text!./templates/MatrixView.html,dijit/_TemplatedMixin".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u){return l("dojox.calendar.MatrixView",[t,u],{templateString:w,baseClass:"dojoxCalendarMatrixView",
_setTabIndexAttr:"domNode",viewKind:"matrix",renderData:null,startDate:null,refStartTime:null,refEndTime:null,columnCount:7,rowCount:5,horizontalRenderer:null,labelRenderer:null,expandRenderer:null,percentOverlap:0,verticalGap:2,horizontalRendererHeight:17,labelRendererHeight:14,expandRendererHeight:15,cellPaddingTop:16,expandDuration:300,expandEasing:null,layoutDuringResize:!1,roundToDay:!0,showCellLabel:!0,scrollable:!1,resizeCursor:"e-resize",constructor:function(){this.invalidatingProperties=
"columnCount,rowCount,startDate,horizontalRenderer,labelRenderer,expandRenderer,rowHeaderDatePattern,columnHeaderLabelLength,cellHeaderShortPattern,cellHeaderLongPattern,percentOverlap,verticalGap,horizontalRendererHeight,labelRendererHeight,expandRendererHeight,cellPaddingTop,roundToDay,itemToRendererKindFunc,layoutPriorityFunction,formatItemTimeFunc,textDir,items".split(",");this._ddRendererList=[];this._ddRendererPool=[];this._rowHeaderHandles=[];this._viewHandles.push(c(window,"resize",j.hitch(this,
this._resizeHandler)))},destroy:function(a){this._cleanupRowHeader();this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._initialized=!0;this.invalidRendering||this.refreshRendering()},_createRenderData:function(){var a={};a.dateLocaleModule=this.dateLocaleModule;a.dateClassObj=this.dateClassObj;a.dateModule=this.dateModule;a.dates=[];a.columnCount=this.get("columnCount");a.rowCount=this.get("rowCount");a.sheetHeight=this.itemContainer.offsetHeight;this._computeRowsHeight(a);
var b=this.get("startDate");null==b&&(b=new a.dateClassObj);this.startDate=b=this.floorToDay(b,!1,a);for(var c=0;c<a.rowCount;c++){a.dates.push([]);for(var d=0;d<a.columnCount;d++)a.dates[c].push(b),b=a.dateModule.add(b,"day",1),b=this.floorToDay(b,!1,a)}a.startTime=this.newDate(a.dates[0][0],a);a.endTime=this.newDate(a.dates[a.rowCount-1][a.columnCount-1],a);a.endTime=a.dateModule.add(a.endTime,"day",1);a.endTime=this.floorToDay(a.endTime,!0);if(this.displayedItemsInvalidated)this.displayedItemsInvalidated=
!1,this._computeVisibleItems(a),this._isEditing&&this._endItemEditing(null,!1);else if(this.renderData)a.items=this.renderData.items;a.rtl=!this.isLeftToRight();return a},_validateProperties:function(){this.inherited(arguments);if(1>this.columnCount||isNaN(this.columnCount))this.columnCount=1;if(1>this.rowCount||isNaN(this.rowCount))this.rowCount=1;if(isNaN(this.percentOverlap)||0>this.percentOverlap||100<this.percentOverlap)this.percentOverlap=0;if(isNaN(this.verticalGap)||0>this.verticalGap)this.verticalGap=
2;if(isNaN(this.horizontalRendererHeight)||1>this.horizontalRendererHeight)this.horizontalRendererHeight=17;if(isNaN(this.labelRendererHeight)||1>this.labelRendererHeight)this.labelRendererHeight=14;if(isNaN(this.expandRendererHeight)||1>this.expandRendererHeight)this.expandRendererHeight=15},_setStartDateAttr:function(a){this.displayedItemsInvalidated=!0;this._set("startDate",a)},_setColumnCountAttr:function(a){this.displayedItemsInvalidated=!0;this._set("columnCount",a)},_setRowCountAttr:function(a){this.displayedItemsInvalidated=
!0;this._set("rowCount",a)},__fixEvt:function(a){a.sheet="primary";a.source=this;return a},_formatRowHeaderLabel:function(a){return this.rowHeaderDatePattern?this.renderData.dateLocaleModule.format(a,{selector:"date",datePattern:this.rowHeaderDatePattern}):this.getWeekNumberLabel(a)},_formatColumnHeaderLabel:function(a){return this.renderData.dateLocaleModule.getNames("days",this.columnHeaderLabelLength?this.columnHeaderLabelLength:"wide","standAlone")[a.getDay()]},_formatGridCellLabel:function(a,
b,c){0==b&&0==c||1==a.getDate()?this.cellHeaderLongPattern?b=this.cellHeaderLongPattern:(b=r.getLocalization("dojo.cldr",this._calendar),b=b["dateFormatItem-MMMd"]):this.cellHeaderShortPattern?b=this.cellHeaderShortPattern:(b=r.getLocalization("dojo.cldr",this._calendar),b=b["dateFormatItem-d"]);return this.renderData.dateLocaleModule.format(a,{selector:"date",datePattern:b})},refreshRendering:function(){this.inherited(arguments);if(this.domNode){this._validateProperties();var a=this.renderData;this.renderData=
this._createRenderData();this._createRendering(this.renderData,a);this._layoutRenderers(this.renderData)}},_createRendering:function(a,b){0>=a.rowHeight?(a.columnCount=0,a.rowCount=0):(this._buildColumnHeader(a,b),this._buildRowHeader(a,b),this._buildGrid(a,b),this._buildItemContainer(a,b),this.buttonContainer&&null!=this.owner&&this.owner.currentView==this&&h.set(this.buttonContainer,{right:0,left:0}))},_buildColumnHeader:function(b,c){var e=this.columnHeaderTable;if(e){var h=b.columnCount-(c?c.columnCount:
0);if(8==f("ie"))if(null==this._colTableSave)this._colTableSave=j.clone(e);else if(0>h)this.columnHeader.removeChild(e),o.destroy(e),this.columnHeaderTable=e=j.clone(this._colTableSave),this.columnHeader.appendChild(e),h=b.columnCount;var k=n("tbody",e),l=n("tr",e),k=1==k.length?k[0]:d.create("tbody",null,e),l=1==l.length?l[0]:o.create("tr",null,k);if(0<h)for(k=0;k<h;k++)o.create("td",null,l);else{h=-h;for(k=0;k<h;k++)l.removeChild(l.lastChild)}n("td",e).forEach(function(c,d){c.className="";var e=
b.dates[0][d];this._setText(c,this._formatColumnHeaderLabel(e));0==d?a.add(c,"first-child"):d==this.renderData.columnCount-1&&a.add(c,"last-child");this.styleColumnHeaderCell(c,e,b)},this);this.yearColumnHeaderContent&&this._setText(this.yearColumnHeaderContent,b.dateLocaleModule.format(b.dates[0][0],{selector:"date",datePattern:"yyyy"}))}},styleColumnHeaderCell:function(b,c){if(this.isWeekEnd(c))return a.add(b,"dojoxCalendarWeekend")},_rowHeaderHandles:null,_cleanupRowHeader:function(){for(;0<this._rowHeaderHandles.length;)for(var a=
this._rowHeaderHandles.pop();0<a.length;)a.pop().remove()},_rowHeaderClick:function(a){var b=n("td",this.rowHeaderTable).indexOf(a.currentTarget);this._onRowHeaderClick({index:b,date:this.renderData.dates[b][0],triggerEvent:a})},_buildRowHeader:function(b,d){var e=this.rowHeaderTable;if(e){var k=n("tbody",e),l,k=1==k.length?k[0]:o.create("tbody",null,e),m=b.rowCount-(d?d.rowCount:0);if(0<m)for(var q=0;q<m;q++){l=o.create("tr",null,k);l=o.create("td",null,l);var r=[];r.push(c(l,"click",j.hitch(this,
this._rowHeaderClick)));f("touch")||(r.push(c(l,"mousedown",function(b){a.add(b.currentTarget,"Active")})),r.push(c(l,"mouseup",function(b){a.remove(b.currentTarget,"Active")})),r.push(c(l,"mouseover",function(b){a.add(b.currentTarget,"Hover")})),r.push(c(l,"mouseout",function(b){a.remove(b.currentTarget,"Hover")})));this._rowHeaderHandles.push(r)}else{m=-m;for(q=0;q<m;q++){k.removeChild(k.lastChild);for(l=this._rowHeaderHandles.pop();0<l.length;)l.pop().remove()}}n("tr",e).forEach(function(c,d){h.set(c,
"height",this._getRowHeight(d)+"px");var e=b.dates[d][0],f=n("td",c)[0];f.className="";0==d&&a.add(f,"first-child");d==this.renderData.rowCount-1&&a.add(f,"last-child");this.styleRowHeaderCell(f,e,b);this._setText(f,this._formatRowHeaderLabel(e))},this)}},styleRowHeaderCell:function(){},_buildGrid:function(b,c){var d=this.gridTable;if(d){var e=b.rowCount-(c?c.rowCount:0),k=0<e,l=b.columnCount-(c?c.columnCount:0);if(8==f("ie"))if(null==this._gridTableSave)this._gridTableSave=j.clone(d);else if(0>l)this.grid.removeChild(d),
o.destroy(d),this.gridTable=d=j.clone(this._gridTableSave),this.grid.appendChild(d),l=b.columnCount,e=b.rowCount,k=!0;var m=n("tbody",d),m=1==m.length?m[0]:o.create("tbody",null,d);if(k)for(var q=0;q<e;q++)o.create("tr",null,m);else{e=-e;for(q=0;q<e;q++)m.removeChild(m.lastChild)}var r=b.rowCount-e,s=k||0<l,l=s?l:-l;n("tr",d).forEach(function(a,c){if(s)for(var d=c>=r?b.columnCount:l,c=0;c<d;c++){var e=o.create("td",null,a);o.create("span",null,e)}else for(c=0;c<l;c++)a.removeChild(a.lastChild)});
n("tr",d).forEach(function(c,d){h.set(c,"height",this._getRowHeight(d)+"px");c.className="";0==d&&a.add(c,"first-child");d==b.rowCount-1&&a.add(c,"last-child");n("td",c).forEach(function(c,e){c.className="";0==e&&a.add(c,"first-child");e==b.columnCount-1&&a.add(c,"last-child");var h=b.dates[d][e];this._setText(n("span",c)[0],this.showCellLabel?this._formatGridCellLabel(h,d,e):null);this.styleGridCell(c,h,b)},this)},this)}},styleGridCell:function(b,c,d){d=d.dateModule;this.isToday(c)?a.add(b,"dojoxCalendarToday"):
null!=this.refStartTime&&null!=this.refEndTime&&(0<=d.compare(c,this.refEndTime)||0>=d.compare(d.add(c,"day",1),this.refStartTime))?a.add(b,"dojoxCalendarDayDisabled"):this.isWeekEnd(c)&&a.add(b,"dojoxCalendarWeekend")},_buildItemContainer:function(b,c){var d=this.itemContainerTable;if(d){var e=[],k=b.rowCount-(c?c.rowCount:0);if(8==f("ie"))if(null==this._itemTableSave)this._itemTableSave=j.clone(d);else if(0>k)this.itemContainer.removeChild(d),this._recycleItemRenderers(!0),this._recycleExpandRenderers(!0),
o.destroy(d),this.itemContainerTable=d=j.clone(this._itemTableSave),this.itemContainer.appendChild(d),k=b.columnCount;var l=n("tbody",d),m,l=1==l.length?l[0]:o.create("tbody",null,d);if(0<k)for(var q=0;q<k;q++)m=o.create("tr",null,l),a.add(m,"dojoxCalendarItemContainerRow"),m=o.create("td",null,m),m=o.create("div",null,m),a.add(m,"dojoxCalendarContainerRow");else{k=-k;for(q=0;q<k;q++)l.removeChild(l.lastChild)}n(".dojoxCalendarItemContainerRow",d).forEach(function(a,b){h.set(a,"height",this._getRowHeight(b)+
"px");e.push(a.childNodes[0].childNodes[0])},this);b.cells=e}},_resizeHandler:function(a,b){var c=this.renderData;if(null==c)this.refreshRendering();else{if(c.sheetHeight!=this.itemContainer.offsetHeight)c.sheetHeight=this.itemContainer.offsetHeight,-1==this.getExpandedRowIndex()?(this._computeRowsHeight(),this._resizeRows()):this.expandRow(c.expandedRow,c.expandedRowCol,0,null,!0);this.layoutDuringResize||b?setTimeout(j.hitch(this,function(){this._layoutRenderers(this.renderData)}),20):(h.set(this.itemContainer,
"opacity",0),this._recycleItemRenderers(),this._recycleExpandRenderers(),void 0!=this._resizeTimer&&clearTimeout(this._resizeTimer),this._resizeTimer=setTimeout(j.hitch(this,function(){delete this._resizeTimer;this._resizeRowsImpl(this.itemContainer,"tr");this._layoutRenderers(this.renderData);0==this.resizeAnimationDuration?h.set(this.itemContainer,"opacity",1):e.fadeIn({node:this.itemContainer,curve:[0,1]}).play(this.resizeAnimationDuration)}),200))}},resizeAnimationDuration:0,getExpandedRowIndex:function(){return null==
this.renderData.expandedRow?-1:this.renderData.expandedRow},collapseRow:function(a,b,c){var d=this.renderData;void 0==c&&(c=!0);if(void 0==a)a=this.expandDuration;if(d&&null!=d.expandedRow&&-1!=d.expandedRow)if(c&&a){var c=d.expandedRow,f=d.expandedRowHeight;delete d.expandedRow;this._computeRowsHeight(d);var k=this._getRowHeight(c);d.expandedRow=c;this._recycleExpandRenderers();this._recycleItemRenderers();h.set(this.itemContainer,"display","none");this._expandAnimation=new e.Animation({curve:[f,
k],duration:a,easing:b,onAnimate:j.hitch(this,function(a){this._expandRowImpl(Math.floor(a))}),onEnd:j.hitch(this,function(){this._expandAnimation=null;this._collapseRowImpl(!1);this._resizeRows();h.set(this.itemContainer,"display","block");setTimeout(j.hitch(this,function(){this._layoutRenderers(d)}),100);this.onExpandAnimationEnd(!1)})});this._expandAnimation.play()}else this._collapseRowImpl(c)},_collapseRowImpl:function(a){var b=this.renderData;delete b.expandedRow;delete b.expandedRowHeight;
this._computeRowsHeight(b);if(void 0==a||a)this._resizeRows(),this._layoutRenderers(b)},expandRow:function(a,b,c,d,f){var k=this.renderData;if(!k||0>a||a>=k.rowCount)return-1;if(void 0==b||0>b||b>=k.columnCount)b=-1;void 0==f&&(f=!0);if(void 0==c)c=this.expandDuration;if(void 0==d)d=this.expandEasing;var l=this._getRowHeight(a),o=k.sheetHeight-Math.ceil(this.cellPaddingTop*(k.rowCount-1));k.expandedRow=a;k.expandedRowCol=b;k.expandedRowHeight=o;if(f)c?(this._recycleExpandRenderers(),this._recycleItemRenderers(),
h.set(this.itemContainer,"display","none"),this._expandAnimation=new e.Animation({curve:[l,o],duration:c,delay:50,easing:d,onAnimate:j.hitch(this,function(a){this._expandRowImpl(Math.floor(a))}),onEnd:j.hitch(this,function(){this._expandAnimation=null;h.set(this.itemContainer,"display","block");setTimeout(j.hitch(this,function(){this._expandRowImpl(o,!0)}),100);this.onExpandAnimationEnd(!0)})}),this._expandAnimation.play()):this._expandRowImpl(o)},_expandRowImpl:function(a,b){var c=this.renderData;
c.expandedRowHeight=a;this._computeRowsHeight(c,c.sheetHeight-a);this._resizeRows();b&&this._layoutRenderers(c)},onExpandAnimationEnd:function(){},_resizeRows:function(){0>=this._getRowHeight(0)||(this.rowHeaderTable&&this._resizeRowsImpl(this.rowHeaderTable,"tr"),this.gridTable&&this._resizeRowsImpl(this.gridTable,"tr"),this.itemContainerTable&&this._resizeRowsImpl(this.itemContainerTable,"tr"))},_computeRowsHeight:function(a,b){var c=null==a?this.renderData:a,b=b||c.sheetHeight;b--;7==f("ie")&&
(b-=c.rowCount);if(1==c.rowCount)c.rowHeight=b,c.rowHeightFirst=b,c.rowHeightLast=b;else{var d=null==c.expandedRow?c.rowCount:c.rowCount-1,e=b/d,h;h=b-Math.floor(e)*d;var j=Math.abs(b-Math.ceil(e)*d),d=1;h<j?(e=Math.floor(e),j=h):(d=-1,e=Math.ceil(e));h=e+d*Math.floor(j/2);c.rowHeight=e;c.rowHeightFirst=h;c.rowHeightLast=h+d*(j%2)}},_getRowHeight:function(a){var b=this.renderData;return a==b.expandedRow?b.expandedRowHeight:0==b.expandedRow&&1==a||0==a?b.rowHeightFirst:b.expandedRow==this.renderData.rowCount-
1&&a==this.renderData.rowCount-2||a==this.renderData.rowCount-1?b.rowHeightLast:b.rowHeight},_resizeRowsImpl:function(a,b){dojo.query(b,a).forEach(function(a,b){h.set(a,"height",this._getRowHeight(b)+"px")},this)},_setHorizontalRendererAttr:function(a){this._destroyRenderersByKind("horizontal");this._set("horizontalRenderer",a)},_setLabelRendererAttr:function(a){this._destroyRenderersByKind("label");this._set("labelRenderer",a)},_destroyExpandRenderer:function(a){m.forEach(a.__handles,function(a){a.remove()});
a.destroy&&a.destroy();d.destroy(a.domNode)},_setExpandRendererAttr:function(a){for(;0<this._ddRendererList.length;)this._destroyExpandRenderer(this._ddRendererList.pop());var b=this._ddRendererPool;if(b)for(;0<b.length;)this._destroyExpandRenderer(b.pop());this._set("expandRenderer",a)},_ddRendererList:null,_ddRendererPool:null,_getExpandRenderer:function(a,b,c,d,e){if(null==this.expandRenderer)return null;var h=this._ddRendererPool.pop();null==h&&(h=new this.expandRenderer);this._ddRendererList.push(h);
h.set("owner",this);h.set("date",a);h.set("items",b);h.set("rowIndex",c);h.set("columnIndex",d);h.set("expanded",e);return h},_recycleExpandRenderers:function(a){for(var b=0;b<this._ddRendererList.length;b++){var c=this._ddRendererList[b];c.set("Up",!1);c.set("Down",!1);a&&c.domNode.parentNode.removeChild(c.domNode);h.set(c.domNode,"display","none")}this._ddRendererPool=this._ddRendererPool.concat(this._ddRendererList);this._ddRendererList=[]},_defaultItemToRendererKindFunc:function(a){return 1440<=
Math.abs(this.renderData.dateModule.difference(a.startTime,a.endTime,"minute"))?"horizontal":"label"},naturalRowsHeight:null,_roundItemToDay:function(a){var b=a.startTime,a=a.endTime;this.isStartOfDay(b)||(b=this.floorToDay(b,!1,this.renderData));this.isStartOfDay(a)||(a=this.renderData.dateModule.add(a,"day",1),a=this.floorToDay(a,!0));return{startTime:b,endTime:a}},_sortItemsFunction:function(a,b){this.roundToDay&&(a=this._roundItemToDay(a),b=this._roundItemToDay(b));var c=this.dateModule.compare(a.startTime,
b.startTime);0==c&&(c=-1*this.dateModule.compare(a.endTime,b.endTime));return c},_overlapLayoutPass3:function(a){for(var b=0,c=0,d=[],e=q.position(this.gridTable).x,h=0;h<this.renderData.columnCount;h++){for(var f=!1,c=q.position(this._getCellAt(0,h)),b=c.x-e,c=b+c.w,j=a.length-1;0<=j&&!f;j--)for(var k=0;k<a[j].length;k++)if(f=a[j][k],f=f.start<c&&b<f.end){d[h]=j+1;break}f||(d[h]=0)}return d},applyRendererZIndex:function(a,b,c,d,e){h.set(b.container,{zIndex:e||d?b.renderer.mobile?100:0:void 0==a.lane?
1:a.lane+1})},_layoutRenderers:function(a){if(!(null==a||null==a.items||0>=a.rowHeight))!this.gridTable||null!=this._expandAnimation||null==this.horizontalRenderer&&null==this.labelRenderer?this._recycleItemRenderers():(this.renderData.gridTablePosX=q.position(this.gridTable).x,this._layoutStep=a.columnCount,this._recycleExpandRenderers(),this._hiddenItems=[],this._offsets=[],this.naturalRowsHeight=[],this.inherited(arguments))},_offsets:null,_layoutInterval:function(a,b,c,d,e){if(null!=this.renderData.cells){for(var h=
[],a=[],f=0;f<e.length;f++){var j=e[f],k=this._itemToRendererKind(j);"horizontal"==k?h.push(j):"label"==k&&a.push(j)}e=this.getExpandedRowIndex();if(!(-1!=e&&e!=b)){var e=[],l,f=[];if(0<h.length&&this.horizontalRenderer){l=this._createHorizontalLayoutItems(b,c,d,h);var o=this._computeHorizontalOverlapLayout(l,f)}var n,h=[];0<a.length&&this.labelRenderer&&(n=this._createLabelLayoutItems(b,c,d,a),this._computeLabelOffsets(n,h));c=this._computeColHasHiddenItems(b,f,h);null!=l&&this._layoutHorizontalItemsImpl(b,
l,o,c,e);null!=n&&this._layoutLabelItemsImpl(b,n,c,e,f);this._layoutExpandRenderers(b,c,e);this._hiddenItems[b]=e}}},_createHorizontalLayoutItems:function(a,b,c,d){if(null!=this.horizontalRenderer){var e=this.renderData,h=e.dateModule;q.getMarginBox(this.itemContainer);for(var f=e.rtl?-1:1,k=[],l=0;l<d.length;l++){var o=d[l],n=this.computeRangeOverlap(e,o.startTime,o.endTime,b,c),m=h.difference(b,this.floorToDay(n[0],!1,e),"day"),r=e.dates[a][m],s=q.position(this._getCellAt(a,m,!1)),t=s.x-e.gridTablePosX;
e.rtl&&(t+=s.w);!this.roundToDay&&!o.allDay&&(t+=f*this.computeProjectionOnDate(e,r,n[0],s.w));var t=Math.ceil(t),u=h.difference(b,this.floorToDay(n[1],!1,e),"day"),w;u>e.columnCount-1?(s=q.position(this._getCellAt(a,e.columnCount-1,!1)),w=e.rtl?s.x-e.gridTablePosX:s.x-e.gridTablePosX+s.w):(r=e.dates[a][u],s=q.position(this._getCellAt(a,u,!1)),w=s.x-e.gridTablePosX,e.rtl&&(w+=s.w),this.roundToDay?this.isStartOfDay(n[1])||(w+=f*s.w):w+=f*this.computeProjectionOnDate(e,r,n[1],s.w));w=Math.floor(w);
e.rtl&&(r=w,w=t,t=r);w>t&&(o=j.mixin({start:t,end:w,range:n,item:o,startOffset:m,endOffset:u},o),k.push(o))}return k}},_computeHorizontalOverlapLayout:function(a,b){var c=this.renderData,d=this.horizontalRendererHeight,e=this.computeOverlapping(a,this._overlapLayoutPass3),h=this.percentOverlap/100;for(i=0;i<c.columnCount;i++){var f=e.addedPassRes[i],j=c.rtl?c.columnCount-i-1:i;b[j]=0==h?0==f?0:1==f?d:d+(f-1)*(d+this.verticalGap):0==f?0:f*d-(f-1)*h*d+this.verticalGap;b[j]+=this.cellPaddingTop}return e},
_createLabelLayoutItems:function(a,b,c,d){if(null!=this.labelRenderer){for(var e=this.renderData,h=e.dateModule,f=[],k=0;k<d.length;k++)for(var l=d[k],a=this.floorToDay(l.startTime,!1,e),o=this.dateModule.compare;-1==o(a,l.endTime)&&-1==o(a,c);){var n=h.add(a,"day",1),n=this.floorToDay(n,!0),n=this.computeRangeOverlap(e,l.startTime,l.endTime,a,n),m=h.difference(b,this.floorToDay(n[0],!1,e),"day");if(m>=this.columnCount)break;if(0<=m){var q=f[m];null==q&&(q=[],f[m]=q);q.push(j.mixin({startOffset:m,
range:n,item:l},l))}a=h.add(a,"day",1);this.floorToDay(a,!0)}return f}},_computeLabelOffsets:function(a,b){for(var c=0;c<this.renderData.columnCount;c++)b[c]=null==a[c]?0:a[c].length*(this.labelRendererHeight+this.verticalGap)},_computeColHasHiddenItems:function(a,b,c){for(var d=[],e=this._getRowHeight(a),h,f=0,j=0;j<this.renderData.columnCount;j++)h=null==b||null==b[j]?this.cellPaddingTop:b[j],h+=null==c||null==c[j]?0:c[j],h>f&&(f=h),d[j]=h>e;this.naturalRowsHeight[a]=f;return d},_layoutHorizontalItemsImpl:function(a,
b,c,d,e){for(var c=this.renderData.cells[a],a=this._getRowHeight(a),j=this.horizontalRendererHeight,k=this.percentOverlap/100,l=0;l<b.length;l++){var o=b[l],n=o.lane,m=this.cellPaddingTop,m=0==k?m+n*(j+this.verticalGap):m+n*(j-k*j),n=!1,q=a;if(this.expandRenderer){for(q=o.startOffset;q<=o.endOffset;q++)if(d[q]){n=!0;break}q=n?a-this.expandRendererHeight:a}if(m+j<=q){var n=this._createRenderer(o,"horizontal",this.horizontalRenderer,"dojoxCalendarHorizontal"),r=(q=this.isItemBeingEdited(o)&&!this.liveLayout&&
this._isEditing)?a-this.cellPaddingTop:j,s=o.end-o.start;9<=f("ie")&&o.start+s<this.itemContainer.offsetWidth&&s++;h.set(n.container,{top:(q?this.cellPaddingTop:m)+"px",left:o.start+"px",width:s+"px",height:r+"px"});this._applyRendererLayout(o,n,c,s,r,"horizontal")}else for(m=o.startOffset;m<o.endOffset;m++)null==e[m]?e[m]=[o.item]:e[m].push(o.item)}},_layoutLabelItemsImpl:function(a,b,c,d,e){for(var f,k,l=this.renderData,o=l.cells[a],n=this._getRowHeight(a),m=this.labelRendererHeight,r=q.getMarginBox(this.itemContainer).w,
s=0;s<b.length;s++)if(f=b[s],null!=f){var t=this.expandRenderer?c[s]?n-this.expandRendererHeight:n:n;k=null==e||null==e[s]?this.cellPaddingTop:e[s]+this.verticalGap;for(var u=q.position(this._getCellAt(a,s)),w=u.x-l.gridTablePosX,Q=0;Q<f.length;Q++){if(k+m+this.verticalGap<=t){var R=f[Q];j.mixin(R,{start:w,end:w+u.w});var V=this._createRenderer(R,"label",this.labelRenderer,"dojoxCalendarLabel"),X=this.isItemBeingEdited(R)&&!this.liveLayout&&this._isEditing,N=X?this._getRowHeight(a)-this.cellPaddingTop:
m;if(l.rtl)R.start=r-R.end,R.end=R.start+u.w;h.set(V.container,{top:(X?this.cellPaddingTop:k)+"px",left:R.start+"px",width:u.w+"px",height:N+"px"});this._applyRendererLayout(R,V,o,u.w,N,"label")}else break;k+=m+this.verticalGap}for(;Q<f.length;Q++)null==d[s]?d[s]=[f[Q]]:d[s].push(f[Q])}},_applyRendererLayout:function(a,b,c,d,e,f){var j=this.isItemBeingEdited(a),k=this.isItemSelected(a),l=this.isItemHovered(a),n=this.isItemFocused(a),m=b.renderer;m.set("hovered",l);m.set("selected",k);m.set("edited",
j);m.set("focused",this.showFocus?n:!1);m.set("moveEnabled",this.isItemMoveEnabled(a,f));"label"!=f&&m.set("resizeEnabled",this.isItemResizeEnabled(a,f));this.applyRendererZIndex(a,b,l,k,j,n);m.updateRendering&&m.updateRendering(d,e);o.place(b.container,c);h.set(b.container,"display","block")},_getCellAt:function(a,b,c){if((void 0==c||!0==c)&&!this.isLeftToRight())b=this.renderData.columnCount-1-b;return this.gridTable.childNodes[0].childNodes[a].childNodes[b]},_layoutExpandRenderers:function(a,b,
c){if(this.expandRenderer){var d=this.renderData;if(d.expandedRow==a)null!=d.expandedRowCol&&-1!=d.expandedRowCol&&this._layoutExpandRendererImpl(d.expandedRow,d.expandedRowCol,null,!0);else if(null==d.expandedRow)for(var e=0;e<d.columnCount;e++)b[e]&&this._layoutExpandRendererImpl(a,d.rtl?d.columnCount-1-e:e,c[e],!1)}},_layoutExpandRendererImpl:function(a,b,c,d){var e=this.renderData,f=e.cells[a],d=this._getExpandRenderer(j.clone(e.dates[a][b]),c,a,b,d),a=q.position(this._getCellAt(a,b));a.x-=e.gridTablePosX;
this.layoutExpandRenderer(d,void 0,c,a,this.expandRendererHeight);o.place(d.domNode,f);h.set(d.domNode,"display","block")},layoutExpandRenderer:function(a,b,c,d,e){h.set(a.domNode,{left:d.x+"px",width:d.w+"px",height:e+"px",top:d.h-e-1+"px"})},_onItemEditBeginGesture:function(a){var b=this._edProps,c=b.editedItem,d=a.dates,e=this.newDate("resizeEnd"==b.editKind?c.endTime:c.startTime);if("label"!=b.rendererKind&&"move"==a.editKind&&(c.allDay||this.roundToDay))b.dayOffset=this.renderData.dateModule.difference(this.floorToDay(d[0],
!1,this.renderData),e,"day");this.inherited(arguments)},_computeItemEditingTimes:function(a,b,c,d,e){var h=this.renderData.dateModule,f=this._edProps;if("label"!=c)if(a.allDay||this.roundToDay){var j=this.isStartOfDay(d[0]);switch(b){case "resizeEnd":!j&&a.allDay&&(d[0]=h.add(d[0],"day",1));case "resizeStart":j||(d[0]=this.floorToDay(d[0],!0));break;case "move":d[0]=h.add(d[0],"day",f.dayOffset);break;case "resizeBoth":j||(d[0]=this.floorToDay(d[0],!0)),this.isStartOfDay(d[1])||(d[1]=this.floorToDay(h.add(d[1],
"day",1),!0))}}else d=this.inherited(arguments);return d},getTime:function(a,b,c,d){var e=this.renderData;null!=a&&(c=q.position(this.itemContainer,!0),a.touches?(d=void 0==d?0:d,b=a.touches[d].pageX-c.x,c=a.touches[d].pageY-c.y):(b=a.pageX-c.x,c=a.pageY-c.y));d=q.getContentBox(this.itemContainer);0>b?b=0:b>d.w&&(b=d.w-1);0>c?c=0:c>d.h&&(c=d.h-1);a=q.getMarginBox(this.itemContainer).w/e.columnCount;c=null==e.expandedRow?Math.floor(c/(q.getMarginBox(this.itemContainer).h/e.rowCount)):e.expandedRow;
d=q.getContentBox(this.itemContainer);e.rtl&&(b=d.w-b);d=Math.floor(b/a);b=Math.floor(1440*(b-d*a)/a);a=null;c<e.dates.length&&d<this.renderData.dates[c].length&&(a=this.newDate(this.renderData.dates[c][d]),a=this.renderData.dateModule.add(a,"minute",b));return a},_onGridMouseUp:function(a){this.inherited(arguments);if(this._gridMouseDown)this._gridMouseDown=!1,this._onGridClick({date:this.getTime(a),triggerEvent:a})},_onGridTouchEnd:function(a){this.inherited(arguments);var b=this._gridProps;if(b){if(!this._isEditing&&
(!b.fromItem&&!b.editingOnStart&&this.selectFromEvent(a,null,null,!0),!b.fromItem))this._pendingDoubleTap&&this._pendingDoubleTap.grid?(this._onGridDoubleClick({date:this.getTime(this._gridProps.event),triggerEvent:this._gridProps.event}),clearTimeout(this._pendingDoubleTap.timer),delete this._pendingDoubleTap):(this._onGridClick({date:this.getTime(this._gridProps.event),triggerEvent:this._gridProps.event}),this._pendingDoubleTap={grid:!0,timer:setTimeout(j.hitch(this,function(){delete this._pendingDoubleTap}),
this.doubleTapDelay)});this._gridProps=null}},_onRowHeaderClick:function(a){this._dispatchCalendarEvt(a,"onRowHeaderClick")},onRowHeaderClick:function(){},expandRendererClickHandler:function(a,b){k.stop(a);var c=b.get("rowIndex"),d=b.get("columnIndex");this._onExpandRendererClick(j.mixin(this._createItemEditEvent(),{rowIndex:c,columnIndex:d,renderer:b,triggerEvent:a,date:this.renderData.dates[c][d]}))},onExpandRendererClick:function(){},_onExpandRendererClick:function(a){this._dispatchCalendarEvt(a,
"onExpandRendererClick");a.isDefaultPrevented()||(-1!=this.getExpandedRowIndex()?this.collapseRow():this.expandRow(a.rowIndex,a.columnIndex))},snapUnit:"minute",snapSteps:15,minDurationUnit:"minute",minDurationSteps:15,triggerExtent:3,liveLayout:!1,stayInView:!0,allowStartEndSwap:!0,allowResizeLessThan24H:!1})})},"dijit/layout/StackContainer":function(){define("dijit/layout/StackContainer","dojo/_base/array,dojo/cookie,dojo/_base/declare,dojo/dom-class,dojo/has,dojo/_base/lang,dojo/ready,dojo/topic,../registry,../_WidgetBase,./_LayoutWidget,dojo/i18n!../nls/common".split(","),
function(l,m,k,j,f,e,d,c,b,a,h){f("dijit-legacy-requires")&&d(0,function(){require(["dijit/layout/StackController"])});k=k("dijit.layout.StackContainer",h,{doLayout:!0,persist:!1,baseClass:"dijitStackContainer",buildRendering:function(){this.inherited(arguments);j.add(this.domNode,"dijitLayoutContainer")},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onkeypress",this._onKeyPress)},startup:function(){if(!this._started){var a=this.getChildren();l.forEach(a,this._setupChild,
this);this.persist?this.selectedChildWidget=b.byId(m(this.id+"_selectedChild")):l.some(a,function(a){if(a.selected)this.selectedChildWidget=a;return a.selected},this);var d=this.selectedChildWidget;if(!d&&a[0])d=this.selectedChildWidget=a[0],d.selected=!0;c.publish(this.id+"-startup",{children:a,selected:d});this.inherited(arguments)}},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=!0;var a=this.selectedChildWidget;a&&this._showChild(a)}this.inherited(arguments)},_setupChild:function(a){this.inherited(arguments);
j.replace(a.domNode,"dijitHidden","dijitVisible");a.domNode.title=""},addChild:function(a,b){this.inherited(arguments);this._started&&(c.publish(this.id+"-addChild",a,b),this.layout(),this.selectedChildWidget||this.selectChild(a))},removeChild:function(a){this.inherited(arguments);this._started&&c.publish(this.id+"-removeChild",a);if(!this._descendantsBeingDestroyed){if(this.selectedChildWidget===a&&(this.selectedChildWidget=void 0,this._started)){var b=this.getChildren();b.length&&this.selectChild(b[0])}this._started&&
this.layout()}},selectChild:function(a,d){a=b.byId(a);if(this.selectedChildWidget!=a){var e=this._transition(a,this.selectedChildWidget,d);this._set("selectedChildWidget",a);c.publish(this.id+"-selectChild",a);this.persist&&m(this.id+"_selectedChild",this.selectedChildWidget.id)}return e},_transition:function(a,b){b&&this._hideChild(b);var c=this._showChild(a);a.resize&&(this.doLayout?a.resize(this._containerContentBox||this._contentBox):a.resize());return c},_adjacent:function(a){var b=this.getChildren(),
c=l.indexOf(b,this.selectedChildWidget),c=c+(a?1:b.length-1);return b[c%b.length]},forward:function(){return this.selectChild(this._adjacent(!0),!0)},back:function(){return this.selectChild(this._adjacent(!1),!0)},_onKeyPress:function(a){c.publish(this.id+"-containerKeyPress",{e:a,page:this})},layout:function(){var a=this.selectedChildWidget;a&&a.resize&&(this.doLayout?a.resize(this._containerContentBox||this._contentBox):a.resize())},_showChild:function(a){var b=this.getChildren();a.isFirstChild=
a==b[0];a.isLastChild=a==b[b.length-1];a._set("selected",!0);j.replace(a.domNode,"dijitVisible","dijitHidden");return a._onShow&&a._onShow()||!0},_hideChild:function(a){a._set("selected",!1);j.replace(a.domNode,"dijitHidden","dijitVisible");a.onHide&&a.onHide()},closeChild:function(a){a.onClose(this,a)&&(this.removeChild(a),a.destroyRecursive())},destroyDescendants:function(a){this._descendantsBeingDestroyed=!0;this.selectedChildWidget=void 0;l.forEach(this.getChildren(),function(b){a||this.removeChild(b);
b.destroyRecursive(a)},this);this._descendantsBeingDestroyed=!1}});k.ChildWidgetProperties={selected:!1,disabled:!1,closable:!1,iconClass:"dijitNoIcon",showTitle:!0};e.extend(a,k.ChildWidgetProperties);return k})},"deploy/widgets/security/resourceRole/ResourceRoleManager":function(){define("dojo/_base/declare,dojo/_base/xhr,dojo/_base/array,dojo/dom-construct,dojo/on,deploy/widgets/security/resourceRole/ResourceRoleList,js/webext/widgets/GenericConfirm,js/webext/widgets/PopDown,js/webext/widgets/TwoPaneListManager,deploy/widgets/TooltipTitle".split(","),
function(l,m,k,j,f,e,d,c,b,a){return l("deploy.widgets.security.resourceRole.ResourceRoleManager",[b],{postCreate:function(){this.inherited(arguments);var a=this;m.get({url:bootstrap.baseUrl+"security/resourceType",handleAs:"json",load:function(b){b=k.filter(b,function(a){return"Server Configuration"!==a.name&&"Web UI"!==a.name});k.forEach(b,function(b){a.addEntry({id:b.id,label:i18n(b.name),action:function(){a.showResourceRoles(b)}})})}})},showResourceRoles:function(b){(new a({titleText:i18n("%s Types",
i18n(b.name)),tooltipText:i18n("The Standard %s type is provided by default. Configuring multiple %s types allows a role to have different security permissions for different %ss.",i18n(b.name),i18n(b.name.toLowerCase()),i18n(b.name.toLowerCase()))})).placeAt(this.detailAttach);b=new e({resourceType:b});b.placeAt(this.detailAttach);this.registerDetailWidget(b)}})})},"deploy/widgets/network/NetworkRelayList":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/on,deploy/widgets/Formatters,deploy/widgets/network/EditNetworkRelay,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/Table".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o){return j("deploy.widgets.network.NetworkRelayList",[m,l],{templateString:'<div class="networkRelayList"><div class="listTopButtons" data-dojo-attach-point="buttonTopAttach"></div><div data-dojo-attach-point="networkRelayList"></div></div>',postCreate:function(){this.inherited(arguments);var a=this,b=bootstrap.restUrl+"network/networkRelay",c=[{name:i18n("Name"),formatter:function(a){return a.name},orderField:"name",filterField:"name",filterType:"text"},{name:i18n("Active"),
formatter:this.statusFormatter},{name:i18n("Host"),field:"host"},{name:i18n("Port"),field:"port"},{name:i18n("Actions"),formatter:this.actionsFormatter,parentWidget:this}];this.grid=new o({url:b,serverSideProcessing:!1,noDataMessage:i18n("No network relays have been added yet."),tableConfigKey:"networkRelayList",columns:c});this.grid.placeAt(this.networkRelayList);b={label:i18n("Create Network Relay"),showTitle:!1,onClick:function(){a.showNewNetworkRelayDialog()}};b=new k(b);e.add(b.domNode,"idxButtonSpecial");
b.placeAt(this.buttonTopAttach)},statusFormatter:function(a,b,c){b=document.createElement("div");b.style.textAlign="center";a.active?(b.innerHTML=i18n("Active"),e.add(c,"success-state-color")):(b.innerHTML=i18n("Inactive"),e.add(c,"failed-state-color"));return b},actionsFormatter:function(a){var b=this.parentWidget,e=document.createElement("div"),h=d.create("a",{innerHTML:i18n("Edit"),"class":"actionsLink linkPointer"},e);c(h,"click",function(){b.showNewNetworkRelayDialog(a)});h=d.create("a",{innerHTML:i18n("Delete"),
"class":"actionsLink linkPointer"},e);c(h,"click",function(){b.showDeleteConfirm(a)});return e},showNewNetworkRelayDialog:function(b){var c=this,d=new h({title:b?i18n("Edit Network Relay"):i18n("Create Network Relay"),closable:!0,draggable:!0});(new a({networkRelay:b,callback:function(){d.hide();d.destroy();c.grid.refresh()}})).placeAt(d.containerNode);d.show()},showDeleteConfirm:function(a){var b=this;new q({message:i18n("Are you sure you want to delete this Network Relay?"),action:function(){f.del({url:bootstrap.restUrl+
"network/networkRelay/"+a.id,load:function(){b.grid.refresh()}})}})}})})},"deploy/widgets/environment/EnvironmentResourceTree":function(){define("dojo/_base/declare,deploy/widgets/resource/ResourceTree,dijit/form/Button,dojo/_base/array,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/json,dojo/on,deploy/widgets/Formatters,js/webext/widgets/Alert,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,deploy/widgets/resource/ResourceSelectList".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o,
n){return l([m],{postCreate:function(){if(!this.environment)this.environment=appState.environment;this.url=bootstrap.restUrl+"deploy/environment/"+this.environment.id+"/resources";this.inherited(arguments)},addTopButtons:function(){var a=this;if(a.environment.security["Manage Base Resources"]){var b=new k({label:i18n("Add Base Resources"),showTitle:!1,onClick:function(){a.showAddResourceDialog()}});e.add(b.domNode,"idxButtonSpecial");b.placeAt(this.buttonAttach)}},showAddResourceDialog:function(){var a=
this,b=new q({title:i18n("Add Resource to Environment"),closable:!0,draggable:!0,width:-100});(new n({onCancel:function(){b.hide();b.destroy()},onSave:function(d){var e=[];j.forEach(d,function(a){e.push(a.id)});a.grid.block();f.post({url:void 0!==a.environment?bootstrap.restUrl+"deploy/environment/"+a.environment.id+"/resources":bootstrap.restUrl+"deploy/environment/"+appState.environment.id+"/resources",putData:c.stringify(e),load:function(){a.grid.refresh()},error:function(b){new h({messages:[i18n("Error adding resources:"),
"",util.escape(b.responseText)]});a.grid.unblock()}});b.hide();b.destroy()}})).placeAt(b.containerNode);b.show()},getDeleteActions:function(a){var b=this;return a.isRoot?[{label:i18n("Remove from Environment"),onClick:function(){b.confirmRemove(a)}}]:this.inherited(arguments)},confirmRemove:function(a){var b=this;new o({message:i18n("Are you sure you want to remove %s from this environment?",a.name),action:function(){b.grid.block();f.del({url:void 0!==b.environment?bootstrap.restUrl+"deploy/environment/"+
b.environment.id+"/resources/"+a.id:bootstrap.restUrl+"deploy/environment/"+appState.environment.id+"/resources/"+a.id,handleAs:"json",load:function(){b.grid.refresh()},error:function(a){new h({messages:[i18n("Error removing resource:"),"",util.escape(a.responseText)]});b.grid.unblock()}})}})},isSelectable:function(a){return!a.isRoot}})})},"deploy/widgets/version/VersionSelect":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/_base/xhr,dojo/dom-construct,dojo/dom-class,dojo/on,dojo/_base/array,js/webext/widgets/select/WebextSelect,dojo/store/Memory,js/webext/widgets/FormDelegates".split(","),
function(l,m,k,j,f,e,d,c,b,a,h){return k("deploy.widgets.version.VersionSelect",[m,l],{templateString:'<div class="versionSelect" data-dojo-attach-point="versionAttach"><div data-dojo-attach-point="versionSelectAttach" class="inline-block version-select-drop-down"></div><div data-dojo-attach-point="latestAttach" class="inline-block latest-version-link"></div></div>',extraSimpleLinkToHandlers:[],postCreate:function(){this.inherited(arguments);var d=this.component,j,k;if(this.environment&&!this.allowInvalidVersions)j=
bootstrap.restUrl+"deploy/component/"+d.id+"/versionsByEnvironment/"+this.environment.id;else if(j=bootstrap.restUrl+"deploy/version",k={filterFields:["component.id"],"filterType_component.id":"eq","filterValue_component.id":d.id,"filterClass_component.id":"UUID"},!this.allowInactiveVersions)k.filterFields.push("active"),k.filterType_active="eq",k.filterValue_active=!0,k.filterClass_active="Boolean";this.versionSelect=h.retrieveDelegate("TableFilterMultiSelect")({url:j,value:this.value,defaultQuery:k});
this.versionSelect.placeAt(this.versionSelectAttach);this.versionSelect.dropDown&&e.add(this.versionSelect.dropDown.textbox,"versionSelectTextBox");if(this.extraSimpleLinkToHandlers&&0!==this.extraSimpleLinkToHandlers.length){var l=[],m={};l.push({label:i18n("Version Lookups"),value:i18n("Version Lookups")});c.forEach(this.extraSimpleLinkToHandlers,function(a){m[a.name]=a.handler;l.push({label:a.name,value:a.name})});d=new a({data:l,idProperty:"value"});(new b({autoSelectFirst:!0,name:"SelectorSelector",
store:d,searchAttr:"value",onChange:function(a){if(m.hasOwnProperty(a))m[a]()}})).placeAt(this.latestAttach)}else this.latest=f.create("a",{innerHTML:i18n("Latest Available"),"class":"inline-block linkPointer"},this.latestAttach)}})})},"deploy/widgets/calendar/EditBlackout":function(){define(["dijit/_TemplatedMixin","dijit/_Widget","dojo/_base/declare","js/webext/widgets/ColumnForm"],function(l,m,k,j){return k("deploy.widgets.calendar.EditBlackout",[m,l],{templateString:'<div class="editBlackout"><div data-dojo-attach-point="formAttach"></div></div>',
postCreate:function(){this.inherited(arguments);var f=this,e,d,c,b,a;if(this.blackout){if("noId"!==this.blackout.id)this.calendarId=this.blackout.calendarId;e=this.blackout.name;c=new Date(this.blackout.startDate);d=c.getHours()*util.msPerHour;d+=c.getMinutes()*util.msPerMinute;d+=c.getSeconds()*util.msPerSecond;d+=c.getMilliseconds();b=(new Date(d)).getTimezoneOffset()*util.msPerMinute;d=new Date(d+b);b=c.getFullYear();a=c.getMonth();c=c.getDate();c=new Date(b,a,c);a=new Date(this.blackout.endDate);
b=a.getHours()*util.msPerHour;b+=a.getMinutes()*util.msPerMinute;b+=a.getSeconds()*util.msPerSecond;b+=a.getMilliseconds();var h=(new Date(b)).getTimezoneOffset()*util.msPerMinute;b=new Date(b+h);var h=a.getFullYear(),k=a.getMonth();a=a.getDate();a=new Date(h,k,a)}this.form=new j({submitUrl:bootstrap.restUrl+"deploy/schedule/blackout",addData:function(a){if(f.blackout&&f.blackout.id&&"noId"!==f.blackout.id)a.blackoutId=f.blackout.id;a.calendarId=f.calendarId;if(a.startDate&&a.startTime)a.startDate=
util.combineDateAndTime(a.startDate,a.startTime).valueOf();if(a.endDate&&a.endTime)a.endDate=util.combineDateAndTime(a.endDate,a.endTime).valueOf()},validateFields:function(a){var b=[];a.startDate>=a.endDate&&b.push(i18n("The end date must be greater than the start date."));return b},postSubmit:function(){void 0!==f.callback&&f.callback(!0)},onCancel:function(){void 0!==f.callback&&f.callback()}});this.form.addField({name:"name",label:i18n("Name"),required:!1,value:e,type:"Text"});this.form.addField({name:"startDate",
label:i18n("Start Date"),required:!0,value:c,type:"Date"});this.form.addField({name:"startTime",label:i18n("Start Time"),required:!0,value:d,type:"Time"});this.form.addField({name:"endDate",label:i18n("End Date"),required:!0,value:a,type:"Date"});this.form.addField({name:"endTime",label:i18n("End Time"),required:!0,value:b,type:"Time"});this.form.placeAt(this.formAttach)}})})},"dojo/_base/connect":function(){define("dojo/_base/connect","./kernel,../on,../topic,../aspect,./event,../mouse,./sniff,./lang,../keys".split(","),
function(l,m,k,j,f,e,d,c){function b(a,b,d,h,f){h=c.hitch(d,h);if(!a||!a.addEventListener&&!a.attachEvent)return j.after(a||l.global,b,h,!0);"string"==typeof b&&"on"==b.substring(0,2)&&(b=b.substring(2));if(!a)a=l.global;if(!f)switch(b){case "keypress":b=n;break;case "mouseenter":b=e.enter;break;case "mouseleave":b=e.leave}return m(a,b,h,f)}function a(a){a.keyChar=a.charCode?String.fromCharCode(a.charCode):"";a.charOrCode=a.keyChar||a.keyCode}d.add("events-keypress-typed",function(){var a={charCode:0};
try{a=document.createEvent("KeyboardEvent"),(a.initKeyboardEvent||a.initKeyEvent).call(a,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(b){}return 0==a.charCode&&!d("opera")});var h={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},q=d("mac")?"metaKey":"ctrlKey",o=function(b,d){var e=c.mixin({},b,d);a(e);e.preventDefault=function(){b.preventDefault()};e.stopPropagation=function(){b.stopPropagation()};return e},n;n=d("events-keypress-typed")?function(a,
b){var c=m(a,"keydown",function(a){var c=a.keyCode,e=13!=c&&32!=c&&(27!=c||!d("ie"))&&(48>c||90<c)&&(96>c||111<c)&&(186>c||192<c)&&(219>c||222<c)&&229!=c;if(e||a.ctrlKey){e=e?0:c;if(a.ctrlKey){if(3==c||13==c)return b.call(a.currentTarget,a);e=95<e&&106>e?e-48:!a.shiftKey&&65<=e&&90>=e?e+32:h[e]||e}c=o(a,{type:"keypress",faux:!0,charCode:e});b.call(a.currentTarget,c);if(d("ie"))try{a.keyCode=c.keyCode}catch(f){}}}),e=m(a,"keypress",function(a){var c=a.charCode,a=o(a,{charCode:32<=c?c:0,faux:!0});return b.call(this,
a)});return{remove:function(){c.remove();e.remove()}}}:d("opera")?function(a,b){return m(a,"keypress",function(a){var c=a.which;3==c&&(c=99);c=32>c&&!a.shiftKey?0:c;a.ctrlKey&&!a.shiftKey&&65<=c&&90>=c&&(c+=32);return b.call(this,o(a,{charCode:c}))})}:function(b,c){return m(b,"keypress",function(b){a(b);return c.call(this,b)})};var s={_keypress:n,connect:function(a,c,d,e,h){var f=arguments,j=[],k=0;j.push("string"==typeof f[0]?null:f[k++],f[k++]);var l=f[k+1];j.push("string"==typeof l||"function"==
typeof l?f[k++]:null,f[k++]);for(l=f.length;k<l;k++)j.push(f[k]);return b.apply(this,j)},disconnect:function(a){a&&a.remove()},subscribe:function(a,b,d){return k.subscribe(a,c.hitch(b,d))},publish:function(a,b){return k.publish.apply(k,[a].concat(b))},connectPublisher:function(a,b,c){var d=function(){s.publish(a,arguments)};return c?s.connect(b,c,d):s.connect(b,d)},isCopyKey:function(a){return a[q]}};s.unsubscribe=s.disconnect;c.mixin(l,s);return s})},"deploy/widgets/agentRelay/AgentRelayList":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dijit/form/CheckBox,dijit/form/TextBox,dojo/_base/declare,dojo/_base/xhr,dojo/_base/array,dojo/dom-class,dojo/dom-construct,dojo/on,deploy/widgets/Formatters,deploy/widgets/agentPool/EditAgentPool,js/webext/widgets/Alert,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/form/MenuButton,js/webext/widgets/table/TreeTable,dijit/Tooltip".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u){return e("deploy.widgets.agentPool.AgentRelayList",[m,l],{templateString:'<div class="relay-list"><div class="listTopButtons" data-dojo-attach-point="buttonAttach" style="position:relative; z-index=1;"></div><div data-dojo-attach-point="tableAttach"></div><div data-dojo-attach-point="activeBoxAttach" style="margin: 2px;"></div></div>',postCreate:function(){this.inherited(arguments);var b=this,d=bootstrap.restUrl+"relay/",e=a.create("div",{className:"relay-version-container warning-state-color"},
this.buttonAttach);a.create("div",{innerHTML:i18n("Min. Required")},e);a.create("div",{innerHTML:config.data.systemConfiguration.relayMinimumRequiredVersion},e);e=a.create("div",{className:"relay-version-container running-state-color"},this.buttonAttach);a.create("div",{innerHTML:i18n("Min. Recommended")},e);a.create("div",{innerHTML:config.data.systemConfiguration.relayMinimumRecommendedVersion},e);b.largest=0;this.getLargest(d,function(a){b.largest=a;a=[b.getNameColumn(),{name:i18n("Description"),
field:"description"},{name:i18n("Status"),field:"status",formatter:q.agentStatusFormatter},{name:i18n("Last Contact"),field:"lastContact",formatter:function(a){return util.dateFormatShort(a.lastContact)}},{name:i18n("Version"),field:"version"}];b.agent&&a.push({name:i18n("Host")+":"+i18n("Port"),formatter:function(a){return a.relayHostname+":"+a.jmsPort}});a.push({name:i18n("Agent Status"),field:"activeAgents",formatter:b.activeAgentsFormatter,parentWidget:b});b.agent||a.push({name:i18n("Total Agents"),
field:"totalAgents",orderField:"totalAgents",formatter:b.agentsFormatter,parentWidget:b});var a={url:d,serverSideProcessing:!0,orderField:"name",selectorField:"id",sortType:"asc",columns:a,hidePagination:!1,hideExpandCollapse:!0,selectable:function(a){return!a.isRoot},isSelectable:function(a){return b.isSelectable(a)},queryData:{outputType:["BASIC","SECURITY"]}},e="";if(b&&b.agent&&b.agent.relayId)e=b.agent.relayId;b.agent?(a.tableConfigKey="agentRelayAgentIncludeList",a.noDataMessage=i18n("No agent relays include this agent."),
a.baseFilters=[{name:"endpointId",type:"eq",values:[e],className:"String"}]):(a.tableConfigKey="agentRelayList",a.noDataMessage=i18n("No agent relays have been added yet."));b.grid=new w(a);b.grid.placeAt(b.tableAttach);var h=[];c.forEach(b.getBulkWriteActions(),function(a){h.push(a)});if(h&&0<h.length){var f=new t({options:h,label:i18n("Actions...")});f.placeAt(b.buttonAttach);a=function(){var a=b.grid.getSelectedItems().length;0===a?(f.set("label",i18n("Actions...")),f.set("disabled",!0)):(f.set("label",
i18n("Actions... (%s)",a)),f.set("disabled",!1))};b.grid.on("selectItem",a);b.grid.on("deselectItem",a);b.grid.on("displayTable",a)}})},getLargest:function(a,b){var d=0;dojo.xhrGet({url:a,handleAs:"json",load:function(a){c.forEach(a,function(a){if(a.totalAgents>d)d=a.totalAgents});"function"===typeof b&&b(d)}})},getNameColumn:function(){var c=this;return{name:i18n("Name"),orderField:"name",filterField:"name",filterType:"custom",formatter:function(d,e,h){h.style.position="relative";e=a.create("div",
{"class":"inlineBlock",style:"margin-right:30px;"});h=q.relayLinkFormatter(d);b.add(h,"inlineBlock");a.place(h,e);a.place(c.actionsFormatter(d),e);return e},getRawValue:function(a){return a.name},getFilterFields:function(){var a=[];a.push(new f({name:"name","class":"filter",style:{width:"45%"},placeHolder:"basic"===c.currentView?i18n("Agent Name"):i18n("Name"),type:"like"}));return a}}},actionsFormatter:function(b){var d=a.create("div",{dir:util.getUIDir(),align:util.getUIDirAlign(),"class":"tableHoverActions"}),
e=[];c.forEach(this._getRelayActions(b),function(a){e.push(a)});e.length&&(new t({options:e,label:i18n("Actions...")})).placeAt(d);return d},agentsFormatter:function(b,c){var d=100*c/this.parentWidget.largest,e=a.create("div",{"class":"grid-cell-bar-agents"}),h=a.create("div");h.innerHTML=c;a.place(h,e);h=a.create("div",{"class":"meter"});d=a.create("span",{style:"width:"+d+"%;"});a.place(d,h);new u({connectId:[e],label:0===c||"0"===c?i18n("No agents."):i18n("Total agents:"+c),showDelay:100,position:["above"]});
a.place(h,e);return e},activeAgentsFormatter:function(b,c){var d=a.create("div",{"class":"grid-cell-bar-active-agents"});if(0<b.totalAgents){if(b.totalAgents<b.activeAgents)c=b.activeAgents=b.totalAgents;var e=100*c/b.totalAgents,h=a.create("div"),f=a.create("span");f.innerHTML=b.activeAgents;var j=a.create("span",{style:"float:right;"});j.innerHTML=b.totalAgents-b.activeAgents;a.place(f,h);a.place(j,h);a.place(h,d);h=a.create("div",{"class":"meter"});e=a.create("span",{style:"width:"+e+"%;"});a.place(e,
h);new u({connectId:[d],label:i18n("Online agents:")+b.activeAgents+", "+i18n("Offline agents:"+(b.totalAgents-b.activeAgents)),showDelay:100,position:["above"]});a.place(h,d)}return d},getBulkWriteActions:function(){var a=this;return[{label:i18n("Delete"),onClick:function(){var b=a._getSelected();a.confirmDeletes(b,b.length)}}]},_getRelayActions:function(a){var b=this;return[{label:i18n("Delete"),onClick:function(){b.confirmDeletes([a.id],1)}}]},isSelectable:function(){return!0},_getSelected:function(){return c.map(this.grid.getSelectedItems(),
function(a){return a.id})},confirmDeletes:function(a,b,c){var e=this;1>b?(new n({message:i18n("Please select at least one agent relay to delete")})).startup():new r({message:i18n("Are you sure you want to delete %s agent relays?",b),action:function(){d.del({url:bootstrap.restUrl+"relay",headers:{"Content-Type":"application/json"},putData:JSON.stringify({relayIds:a}),load:function(){c&&c();e.grid.block();setTimeout(function(){e.grid.unblock();e.grid.refresh()},1E3)},error:function(a){(new n({messages:[i18n("Error deleting relays:"),
"",util.escape(a.responseText)]})).startup();e.grid.unblock()}})}})}})})},"deploy/widgets/report/deploymentCount/DeploymentDurationSumReportTable":function(){define(["dojo/_base/declare","dojo/dom-construct","deploy/widgets/report/ReportTable"],function(l,m,k){return l("deploy.widgets.report.deploymentCount.DeploymentDurationSumReportTable",[k],{reportRestUrlBase:null,reportTable:null,reportChart:null,requiredFields:["time_unit"],constructor:function(){this.inherited(arguments);this.reportRestUrlBase=
bootstrap.restUrl+"report/"},reportType:"com.urbancode.ds.subsys.report.domain.deployment_count.DeploymentDurationSumReport",destroyChart:function(){if(this.reportChart)this.reportChart.destroy(),this.reportChart=null},getReportResultLayout:function(){return[]},createChart:function(j,f,e){var f=[],d=[],c,b,a={},h;b={type:"datetime",allowDecimals:!1,min:0,gridLineColor:"#cfcdcc",gridLineDashStyle:"ShortDash",gridLineWidth:1,labels:{formatter:function(){return util.formatDuration(this.value+1)}},title:{text:i18n("Duration")}};
a.text=i18n("Total Deployment Duration");for(h in j)if(j.hasOwnProperty(h)&&j[h]){var k=j[h],l={};l.name=k[i18n("Environment")];l.type="line";var n=[],s;for(s in k)k.hasOwnProperty(s)&&"Application"!==s&&"Environment"!==s&&(0===parseInt(h,10)&&d.push(s),n.push({name:s,y:Number(k[s])}));l.data=n;f.push(l);c||(c=j[h][i18n("Application")])}5>d.length?(j=null,h=1,4===d.length&&(h=2)):(j=Math.ceil(d.length/5),h=Math.min(2,Math.ceil(d.length/(2*j))));s=m.create("div",{className:"chart-outer-container"},
e);m.create("div",{className:"description-text chart-help-link-container",innerHTML:i18n("Click and drag to select an area to zoom in")},e);e=m.create("div",{className:"highcharts-outer-container"},s);this.reportChart=new Highcharts.Chart({chart:{height:300,renderTo:e,zoomType:"xy"},colors:"#53ABCC,#6ECFC7,#86B347,#F0CC00,#E6944A,#E2515B,#C767AE,#9169BF,#53ABCC,#6ECFC7,#86B347,#F0CC00,#E6944A,#E2515B,#C767AE,#9169BF".split(","),labels:{style:{color:"#8a8989"}},credits:{enabled:!1},title:{text:c,x:-20},
subtitle:a,xAxis:{type:"line",categories:d,minorTickWidth:2,tickmarkPlacement:"on",tickInterval:j,labels:{staggerLines:h,style:{color:"#8a8989"}},dateTimeLabelFormats:{month:"%e. %b",year:"%b"}},yAxis:b,plotOptions:{line:{visible:!0,dashStyle:"solid",connectNulls:!0,shadow:!1,dataLabels:{color:"#0000ff"}}},tooltip:{formatter:function(){var a="<b>";this.points&&this.points[0]&&this.points[0].point&&(a+=this.points[0].point.name);var a=a+"</b>",b=[];dojo.forEach(this.points,function(a){var c=util.formatDuration(a.y);
b.push({deployments:a.y,tooltipText:'<br/><span style="color:'+a.series.color+';">'+a.series.name+"</span>: "+c})});b.sort(function(a,b){return b.deployments-a.deployments});for(var c in b)b.hasOwnProperty(c)&&(a+=b[c].tooltipText);return a},crosshairs:!0,shared:!0},legend:{layout:"vertical",borderWidth:0,lineHeight:34,align:"right",verticalAlign:"top",style:{color:"#ff0000",fontSize:"11px"}},series:f})}})})},"js/webext/widgets/Switch":function(){define("js/webext/widgets/Switch","dojo/_base/declare,dijit/_WidgetBase,dijit/_TemplatedMixin,dojo/dom-construct,dojo/dom-class,dojo/dom-style,dojo/dom-attr,dojo/dom-geometry,dojo/on,dojo/mouse,dojo/_base/array".split(","),
function(l,m,k,j,f,e,d,c,b,a,h){return l("js.webext.widgets.Switch",[m,k],{_colors:"red,orange,yellow,green,blue,purple".split(","),color:"blue",value:!1,focusOnHover:!1,showSwitchLabels:!1,showOnSwitchLabel:!1,showOffSwitchLabel:!1,labelText:null,labelPlacement:"after",master:!1,children:null,sameWidth:!0,disabled:!1,templateString:'<div class="webext-switch noSelect" tabindex="0"><input class="webext-switch-checkbox" tabindex="-1" type="checkbox" role="checkbox" data-dojo-attach-point="checkboxAP"></input><div class="webext-switch-wrapper inline-block" data-dojo-attach-point="wrapperAP"><div class="webext-switch-container" data-dojo-attach-point="containerAP"></div><div class="webext-switch-handle inline-block" data-dojo-attach-point="handleAP"></div></div></div>',
postCreate:function(){this.inherited(arguments);if(!this.onTitle)this.onTitle=this.master?i18n("All On"):i18n("On");if(!this.offTitle)this.offTitle=this.master?i18n("All Off"):i18n("Off");if(!this.middleTitle)this.middleTitle=i18n("Middle");this.set("value",this.value);this.set("color",this.color);this.set("disabled",this.disabled);this._setEvents();this.labelText&&this._setLabel();this.master&&this._setMasterEvents();(this.showSwitchLabels||this.showOnSwitchLabel||this.showOffSwitchLabel)&&this._setSwitchLabel()},
set:function(a,b){this.inherited(arguments);"value"===a?b?"middle"===b?this._setSwitch(this.middleTitle,"switch-middle","middle"):this._setSwitch(this.onTitle,"switch-on","true"):this._setSwitch(this.offTitle,"switch-off","false"):"color"===a?this._setColor():"disabled"===a?b?f.add(this.domNode,"webext-switch-disabled"):f.remove(this.domNode,"webext-switch-disabled"):"width"===a&&!this.master&&this._calculateLabelSize(this.switchLabelContainer,this.width)},_setSwitch:function(a,b,c){d.set(this.domNode,
"title",a);d.set(this.domNode,"aria-checked",c);d.set(this.checkboxAP,"aria-checked",c);f.remove(this.domNode,"switch-on");f.remove(this.domNode,"switch-middle");f.remove(this.domNode,"switch-off");f.add(this.domNode,b);(this.showSwitchLabels||this.showOnSwitchLabel||this.showOffSwitchLabel)&&this._setSwitchWithLabel(b)},_setSwitchLabel:function(){var a=this;this.switchLabelContainer=j.create("div",{className:"webext-switch-container-labels inline-block"},this.containerAP);this.onSwitchLabel=j.create("div",
{className:"webext-switch-on-label inline-block",innerHTML:this.showSwitchLabels||this.showOnSwitchLabel?this.onTitle:" "},a.switchLabelContainer);this.offSwitchLabel=j.create("div",{className:"webext-switch-off-label inline-block",innerHTML:this.showSwitchLabels||this.showOffSwitchLabel?this.offTitle:" "},a.switchLabelContainer);!1===a.value&&j.place(this.offSwitchLabel,this.switchLabelContainer,"first");setTimeout(function(){a._calculateLabelSize(a.switchLabelContainer)},0)},_calculateLabelSize:function(d,
f){var j=this,k=0;if(f)k=f;else{if(this.onSwitchLabel)k=c.getMarginBox(this.onSwitchLabel).w;if(this.offSwitchLabel){var l=c.getMarginBox(this.offSwitchLabel).w;l>k&&(k=l)}this.master&&(k+=10,this.children&&this.sameWidth&&(h.forEach(this.children,function(a){(a=a.get("width"))&&a>k&&(k=a)}),h.forEach(this.children,function(a){a.set("width",k);!a.onSwitchLabel&&!a.offSwitchLabel&&a._setSwitchLabel();a.set("showSwitchLabels",!0)})))}this.onSwitchLabel&&e.set(this.onSwitchLabel,"width",k+"px");this.offSwitchLabel&&
e.set(this.offSwitchLabel,"width",k+"px");d&&e.set(d,"width",k+"px");if(10<k){e.set(this.containerAP,"width",k+28+"px");this.width=k;var m=function(a){var b=a?2:5;!0===j.value?e.set(j.handleAP,"left",j.width+(a?0:6)+"px"):"middle"===j.value&&e.set(j.handleAP,"left",j.width/2+b+"px")};m();this.master&&(this.own(b(j.domNode,a.enter,function(){m(!0);j.hover=!0})),this.own(b(j.domNode,a.leave,function(){m();j.hover=!1})))}},_setSwitchWithLabel:function(a){e.set(this.handleAP,"left","");if(this.switchLabelContainer){if((this.onSwitchLabel||
this.showSwitchLabels)&&"switch-on"===a)j.place(this.onSwitchLabel,this.switchLabelContainer,"first"),e.set(this.handleAP,"left",this.width+(this.master&&this.hover?0:6)+"px");(this.offSwitchLabel||this.showSwitchLabels)&&"switch-off"===a&&j.place(this.offSwitchLabel,this.switchLabelContainer,"first");"switch-middle"===a&&this.width&&e.set(this.handleAP,"left",this.width/2+5+"px")}},_setColor:function(){var a=this,b="blue";h.forEach(a._colors,function(c){a.color===c&&(b=c)});this.currentColor?f.remove(this.domNode,
this.currentColor):this.currentColor=b;this.currentColor=b+"-switch-color";f.add(this.domNode,this.currentColor)},_setEvents:function(){var c=this,d=function(a){c.disabled||("middle"===c.get("value")?a=!0:void 0===a&&(a=!c.get("value")),c.set("value",a),c._onChange(a),c.onChange(a),c.master&&c._setMaster(a))};b(this.domNode,"click",function(){d()});b(this.domNode,"keydown",function(a){"Enter"===a.keyIdentifier||13===a.keyCode?d():"Left"===a.keyIdentifier||37===a.keyCode?d(!1):("Right"===a.keyIdentifier||
39===a.keyCode)&&d(!0)});b(this.domNode,a.enter,function(){c.focusOnHover&&c.domNode.focus()});b(this.domNode,a.leave,function(){c.domNode.blur()})},_setMasterEvents:function(){var a=this;this.initialize=!0;this.childrenValues=[];if(a.children){var b=0,c=0,d=function(){c=b=0;h.forEach(a.childrenValues,function(a){a?b++:c++});0===b&&0<c?a.set("value",!1):0<b&&0===c?a.set("value",!0):a.set("value","middle")},e=function(){a.childrenValues=[];h.forEach(a.children,function(b){b=b.get("value");a.childrenValues.push(b)});
d()};if(this.initialize)this.value?this._setMaster(this.value):e(),this.initialize=!1,delete this.initialize;h.forEach(a.children,function(a){a._onChange=function(){e()}})}f.add(this.domNode,"webext-switch-master")},_setMaster:function(a){h.forEach(this.children,function(b){b.set("value",a)})},_setLabel:function(){var a="after";"after"!==this.labelPlacement&&(a="before",f.add(this.domNode,"webext-switch-label-before"));j.create("div",{innerHTML:this.labelText.escape(),className:"webext-switch-label inline-block"},
this.wrapperAP,a)},_onChange:function(){},onChange:function(){}})})},"deploy/widgets/version/VersionCompare":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,js/webext/widgets/ColumnForm,js/webext/widgets/Alert,deploy/widgets/component/ComponentFileComparison,deploy/widgets/component/ComponentVersionPropSheetDiffReportTable".split(","),function(l,m,k,j,f,e,d){return k("deploy.widgets.version.versionCompare",[m,l],{templateString:'<div class = "versionCompare"><div data-dojo-attach-point="formAttach" style="max-height: 500px; overflow: hidden;"></div><div data-dojo-attach-point="tableAttach"></div><div data-dojo-attach-point="propTableAttach"></div></div>',
postCreate:function(){this.inherited(arguments);var c=this;this.form=new j({onSubmit:function(b){dojo.empty(c.tableAttach);dojo.empty(c.propTableAttach);b=b.version;(new e({version:c.version,otherVersion:b})).placeAt(c.tableAttach);(new d({version:c.version,otherVersion:b})).placeAt(c.propTableAttach)},preSubmit:function(){},postSubmit:function(){c.form.unblock()},cancelLabel:null,onError:function(b){new f({title:i18n("Error"),messages:[i18n("An error has occurred while submitting the compare request:"),
"",util.escape(b.responseText)]})},saveLabel:i18n("Submit")});this.form.addField({name:"version",label:i18n("Version"),required:!0,type:"TableFilterSelect",url:bootstrap.restUrl+"deploy/version",defaultQuery:{filterFields:["component.id","id","active"],filterType_id:"ne",filterValue_id:c.version.id,"filterType_component.id":"eq","filterValue_component.id":appState.component.id,filterType_active:"eq",filterValue_active:!0,filterClass_active:"Boolean"},allowNone:!1});this.form.placeAt(this.formAttach)},
destroy:function(){this.inherited(arguments);this.form.destroy()}})})},"deploy/widgets/workflow/activity/NoteActivity":function(){define(["dojo/_base/declare","dojo/on","deploy/widgets/workflow/activity/BaseActivity"],function(l,m,k){return l("deploy.widgets.workflow.activity.NoteActivity",[k],{postCreate:function(){this.inherited(arguments);if(!this.initialized)this.data.name=util.randomString(30),this.initialized=!0,this.editProperties()},getLabel:function(){return this.data.text||i18n("Edit to place notes.")},
getStyle:function(){return"noteStyle"},canEdit:function(){return!0},canDelete:function(){return!0},editProperties:function(j){var f=this,e=f.createPropertyDialog(),d=f.createPropertyForm({dialog:e,onSubmit:function(b){j&&j();f.initialized=!0;f.data.text=b.text;f.updateLabel();e.hide();d.destroy();e.destroy()},readOnly:f.readOnly}),c="";if(f.data.text)c=f.data.text;d.addField({name:"text",label:i18n("Text"),type:"Text Area",required:!1,value:c});d.placeAt(e.containerNode);e.show()}})})},"dojo/dom-geometry":function(){define("dojo/dom-geometry",
["./sniff","./_base/window","./dom","./dom-style"],function(l,m,k,j){function f(a,b,c,d,e,f){f=f||"px";a=a.style;if(!isNaN(b))a.left=b+f;if(!isNaN(c))a.top=c+f;if(0<=d)a.width=d+f;if(0<=e)a.height=e+f}function e(a){return"button"==a.tagName.toLowerCase()||"input"==a.tagName.toLowerCase()&&"button"==(a.getAttribute("type")||"").toLowerCase()}function d(a){return"border-box"==c.boxModel||"table"==a.tagName.toLowerCase()||e(a)}var c={boxModel:"content-box"};if(l("ie"))c.boxModel="BackCompat"==document.compatMode?
"border-box":"content-box";c.getPadExtents=function(a,b){var a=k.byId(a),c=b||j.getComputedStyle(a),d=j.toPixelValue,e=d(a,c.paddingLeft),f=d(a,c.paddingTop),l=d(a,c.paddingRight),c=d(a,c.paddingBottom);return{l:e,t:f,r:l,b:c,w:e+l,h:f+c}};c.getBorderExtents=function(a,b){var a=k.byId(a),c=j.toPixelValue,d=b||j.getComputedStyle(a),e="none"!=d.borderLeftStyle?c(a,d.borderLeftWidth):0,f="none"!=d.borderTopStyle?c(a,d.borderTopWidth):0,l="none"!=d.borderRightStyle?c(a,d.borderRightWidth):0,c="none"!=
d.borderBottomStyle?c(a,d.borderBottomWidth):0;return{l:e,t:f,r:l,b:c,w:e+l,h:f+c}};c.getPadBorderExtents=function(a,b){var a=k.byId(a),d=b||j.getComputedStyle(a),e=c.getPadExtents(a,d),d=c.getBorderExtents(a,d);return{l:e.l+d.l,t:e.t+d.t,r:e.r+d.r,b:e.b+d.b,w:e.w+d.w,h:e.h+d.h}};c.getMarginExtents=function(a,b){var a=k.byId(a),c=b||j.getComputedStyle(a),d=j.toPixelValue,e=d(a,c.marginLeft),f=d(a,c.marginTop),l=d(a,c.marginRight),c=d(a,c.marginBottom);return{l:e,t:f,r:l,b:c,w:e+l,h:f+c}};c.getMarginBox=
function(a,b){var a=k.byId(a),d=b||j.getComputedStyle(a),e=c.getMarginExtents(a,d),f=a.offsetLeft-e.l,m=a.offsetTop-e.t,r=a.parentNode,t=j.toPixelValue;if(l("mozilla")){var w=parseFloat(d.left),d=parseFloat(d.top);!isNaN(w)&&!isNaN(d)?(f=w,m=d):r&&r.style&&(r=j.getComputedStyle(r),"visible"!=r.overflow&&(f+="none"!=r.borderLeftStyle?t(a,r.borderLeftWidth):0,m+="none"!=r.borderTopStyle?t(a,r.borderTopWidth):0))}else if((l("opera")||8==l("ie")&&!l("quirks"))&&r)r=j.getComputedStyle(r),f-="none"!=r.borderLeftStyle?
t(a,r.borderLeftWidth):0,m-="none"!=r.borderTopStyle?t(a,r.borderTopWidth):0;return{l:f,t:m,w:a.offsetWidth+e.w,h:a.offsetHeight+e.h}};c.getContentBox=function(a,b){var a=k.byId(a),d=b||j.getComputedStyle(a),e=a.clientWidth,f=c.getPadExtents(a,d),m=c.getBorderExtents(a,d);e?(d=a.clientHeight,m.w=m.h=0):(e=a.offsetWidth,d=a.offsetHeight);l("opera")&&(f.l+=m.l,f.t+=m.t);return{l:f.l,t:f.t,w:e-f.w-m.w,h:d-f.h-m.h}};c.setContentSize=function(a,b,e){var a=k.byId(a),j=b.w,b=b.h;d(a)&&(e=c.getPadBorderExtents(a,
e),0<=j&&(j+=e.w),0<=b&&(b+=e.h));f(a,NaN,NaN,j,b)};var b={l:0,t:0,w:0,h:0};c.setMarginBox=function(a,h,m){var a=k.byId(a),o=m||j.getComputedStyle(a),m=h.w,n=h.h,s=d(a)?b:c.getPadBorderExtents(a,o),o=c.getMarginExtents(a,o);if(l("webkit")&&e(a)){var r=a.style;if(0<=m&&!r.width)r.width="4px";if(0<=n&&!r.height)r.height="4px"}0<=m&&(m=Math.max(m-s.w-o.w,0));0<=n&&(n=Math.max(n-s.h-o.h,0));f(a,h.l,h.t,m,n)};c.isBodyLtr=function(a){a=a||m.doc;return"ltr"==(m.body(a).dir||a.documentElement.dir||"ltr").toLowerCase()};
c.docScroll=function(a){var a=a||m.doc,b=m.doc.parentWindow||m.doc.defaultView;return"pageXOffset"in b?{x:b.pageXOffset,y:b.pageYOffset}:(b=l("quirks")?m.body(a):a.documentElement)&&{x:c.fixIeBiDiScrollLeft(b.scrollLeft||0,a),y:b.scrollTop||0}};if(l("ie"))c.getIeDocumentElementOffset=function(a){a=a||m.doc;a=a.documentElement;if(8>l("ie")){var b=a.getBoundingClientRect(),c=b.left,b=b.top;7>l("ie")&&(c+=a.clientLeft,b+=a.clientTop);return{x:0>c?0:c,y:0>b?0:b}}return{x:0,y:0}};c.fixIeBiDiScrollLeft=
function(a,b){var b=b||m.doc,d=l("ie");if(d&&!c.isBodyLtr(b)){var e=l("quirks"),f=e?m.body(b):b.documentElement,j=m.global;6==d&&!e&&j.frameElement&&f.scrollHeight>f.clientHeight&&(a+=f.clientLeft);return 8>d||e?a+f.clientWidth-f.scrollWidth:-a}return a};c.position=function(a,b){var a=k.byId(a),d=m.body(a.ownerDocument),e=a.getBoundingClientRect(),e={x:e.left,y:e.top,w:e.right-e.left,h:e.bottom-e.top};if(9>l("ie")){var f=c.getIeDocumentElementOffset(a.ownerDocument);e.x-=f.x+(l("quirks")?d.clientLeft+
d.offsetLeft:0);e.y-=f.y+(l("quirks")?d.clientTop+d.offsetTop:0)}b&&(d=c.docScroll(a.ownerDocument),e.x+=d.x,e.y+=d.y);return e};c.getMarginSize=function(a,b){var a=k.byId(a),d=c.getMarginExtents(a,b||j.getComputedStyle(a)),e=a.getBoundingClientRect();return{w:e.right-e.left+d.w,h:e.bottom-e.top+d.h}};c.normalizeEvent=function(a){if(!("layerX"in a))a.layerX=a.offsetX,a.layerY=a.offsetY;if(!l("dom-addeventlistener")){var b=a.target,b=b&&b.ownerDocument||document,d=l("quirks")?b.body:b.documentElement,
e=c.getIeDocumentElementOffset(b);a.pageX=a.clientX+c.fixIeBiDiScrollLeft(d.scrollLeft||0,b)-e.x;a.pageY=a.clientY+(d.scrollTop||0)-e.y}};return c})},"deploy/widgets/notification/EditNotificationScheme":function(){define(["dijit/_TemplatedMixin","dijit/_Widget","dojo/_base/declare","js/webext/widgets/ColumnForm"],function(l,m,k,j){return k("deploy.widgets.notification.EditNotificationScheme",[m,l],{templateString:'<div class="editNotificationScheme">  <div data-dojo-attach-point="formAttach"></div></div>',
postCreate:function(){this.inherited(arguments);var f=this;this.existingValues={};if(this.notificationScheme)this.existingValues.name=this.notificationScheme.name,this.existingValues.description=this.notificationScheme.description;this.form=new j({submitUrl:bootstrap.restUrl+"notification/notificationScheme",postSubmit:function(e){navBar.setHash("notificationScheme/"+e.id);void 0!==f.callback&&f.callback()},addData:function(e){if(f.notificationScheme)e.existingId=f.notificationScheme.id},onCancel:function(){void 0!==
f.callback&&f.callback()}});this.form.addField({name:"name",label:i18n("Name"),required:!0,type:"Text",value:this.existingValues.name});this.form.addField({name:"description",label:i18n("Description"),type:"Text",value:this.existingValues.description});this.form.placeAt(this.formAttach)}})})},"deploy/widgets/rightPanel/RightPanelAgents":function(){define("dojo/_base/declare,dojo/_base/array,deploy/widgets/rightPanel/ResourceRightPanel,dojo/dom-class,dojo/dom-construct,dijit/form/TextBox,deploy/widgets/Formatters,deploy/widgets/tag/Tagger,deploy/widgets/filter/TagFilter,js/webext/widgets/table/TreeTable".split(","),
function(l,m,k,j,f,e,d,c,b){return l("deploy.widgets.resource.RightPanelAgents",[k],{header:i18n("Agents"),subheader:i18n("Drag and drop agents into resources"),url:bootstrap.restUrl+"agent/",getColumns:function(){var a=this;return[{name:i18n("Name"),formatter:function(b,e,j){j.style.positon="relative";e=d.agentLinkFormatter(b);f.place(d.createIcon("agentIcon"),e,"first");a.tagger=new c({objectType:"Agent",item:b,callback:function(){a.rightPanel.grid.refresh()}});a.tagger.placeAt(e);return e},orderField:"name",
filterField:"name",filterType:"custom",getRawValue:function(a){return a.name},getFilterFields:function(){var a=new e({name:"name","class":"filter",style:{width:"45%"},placeHolder:i18n("Agent Name"),type:"like"}),c=new b({name:"tags","class":"filter",style:{width:"45%"},placeHolder:i18n("Tags"),type:"like"});return[a,c]}},{name:i18n("Status"),orderField:"status",filterField:"status",filterType:"select",filterOptions:[{label:i18n("Online"),value:"ONLINE"},{label:i18n("Offline"),value:"OFFLINE"},{label:i18n("Connected"),
value:"CONNECTED"}],getRawValue:function(a){return a.status},formatter:d.agentStatusFormatter},{name:i18n("Version"),field:"version"}]},onDrop:function(a){var b=this,c=this.parent.target;m.forEach(a,function(a){var d=c;d&&(d="agent"!==c.type&&"agent pool"!==c.type&&!c.role);d?b.submitData("agent",c,a,b.optionsSwitch.value):b.table.refresh()})}})})},"dojox/widget/WizardPane":function(){require({cache:{"url:dojox/widget/Wizard/Wizard.html":'<div class="dojoxWizard" dojoAttachPoint="wizardNode">\n    <div class="dojoxWizardContainer" dojoAttachPoint="containerNode"></div>\n    <div class="dojoxWizardButtons" dojoAttachPoint="wizardNav">\n        <button dojoType="dijit.form.Button" type="button" dojoAttachPoint="previousButton">${previousButtonLabel}</button>\n        <button dojoType="dijit.form.Button" type="button" dojoAttachPoint="nextButton">${nextButtonLabel}</button>\n        <button dojoType="dijit.form.Button" type="button" dojoAttachPoint="doneButton" style="display:none">${doneButtonLabel}</button>\n        <button dojoType="dijit.form.Button" type="button" dojoAttachPoint="cancelButton">${cancelButtonLabel}</button>\n    </div>\n</div>\n'}});
define("dojox/widget/WizardPane","dojo/_base/lang,dojo/_base/declare,dojo/_base/connect,dijit/layout/StackContainer,dijit/layout/ContentPane,dijit/form/Button,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojo/i18n,dojo/text!./Wizard/Wizard.html,dojo/i18n!dijit/nls/common,dojo/i18n!./nls/Wizard,dojox/widget/WizardPane".split(","),function(l,m,k,j,f){return m("dojox.widget.WizardPane",f,{canGoBack:!0,passFunction:null,doneFunction:null,startup:function(){this.inherited(arguments);if(this.isFirstChild)this.canGoBack=
!1;if(l.isString(this.passFunction))this.passFunction=l.getObject(this.passFunction);if(l.isString(this.doneFunction)&&this.doneFunction)this.doneFunction=l.getObject(this.doneFunction)},_onShow:function(){if(this.isFirstChild)this.canGoBack=!1;this.inherited(arguments)},_checkPass:function(){var e=!0;if(this.passFunction&&l.isFunction(this.passFunction)){var d=this.passFunction();switch(typeof d){case "boolean":e=d;break;case "string":alert(d),e=!1}}return e},done:function(){this.doneFunction&&l.isFunction(this.doneFunction)&&
this.doneFunction()}})})},"dojo/store/util/QueryResults":function(){define("dojo/store/util/QueryResults",["../../_base/array","../../_base/lang","../../_base/Deferred"],function(l,m,k){var j=function(f){function e(d){f[d]||(f[d]=function(){var c=arguments;return k.when(f,function(b){Array.prototype.unshift.call(c,b);return j(l[d].apply(l,c))})})}if(!f)return f;f.then&&(f=m.delegate(f));e("forEach");e("filter");e("map");if(!f.total)f.total=k.when(f,function(d){return d.length});return f};m.setObject("dojo.store.util.QueryResults",
j);return j})},"deploy/widgets/security/authentication/EditAuthToken":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/FilteringSelect,dojo/_base/declare,dojox/data/JsonRestStore,js/webext/widgets/ColumnForm".split(","),function(l,m,k,j,f,e){return j("deploy.widgets.security.authentication.EditAuthToken",[m,l],{templateString:'<div class="editAuthToken">  <div data-dojo-attach-point="formAttach"></div></div>',postCreate:function(){this.inherited(arguments);var d=this;this.sourceConfigPropertyNames=
[];this.templatePropertyNames=[];this.form=new e({submitUrl:bootstrap.baseUrl+"security/authtoken",postSubmit:function(){void 0!==d.callback&&d.callback()},addData:function(c){if(c.expDate&&c.expTime)c.expiration=util.combineDateAndTime(c.expDate,c.expTime).valueOf()},onCancel:function(){void 0!==d.callback&&d.callback()}});this.groupMembersStore=new f({target:bootstrap.baseUrl+"security/user",idAttribute:"id"});this.groupMemberSelect=new k({store:this.groupMembersStore,searchAttr:"name"});this.form.addField({name:"userId",
label:i18n("User"),required:!0,widget:this.groupMemberSelect,description:i18n("If you are using the token to integrate with IBM UrbanCode Release, you must specify the administrator. If the token is for an agent relay that uses component version replication, the user must have a role that has the Read Artifact Set List permission.")});this.form.addField({name:"expDate",label:i18n("Expiration Date"),required:!0,type:"Date"});this.form.addField({name:"expTime",label:i18n("Expiration Time"),required:!0,
type:"Time"});this.form.addField({name:"description",label:i18n("Description"),required:!1,type:"Text"});this.form.addField({name:"host",label:i18n("Allowed IPs"),required:!1,type:"Text",textDir:"ltr",placeholder:"10.15.10.0/24",description:i18n("Specifies allowed IPv4 addresses using CIDR notation. If no CIDR mask is specified, 32 is assumed. Leave this field blank for no IP restrictions, or if this server is part of a cluster. Do not use hostnames, for example, use 127.0.0.1 instead of localhost.")});
this.form.placeAt(this.formAttach)}})})},"deploy/widgets/process/ProcessEditManager":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/on,dojo/dom-construct,js/webext/widgets/TwoPaneListManager,deploy/widgets/process/EditProcess,deploy/widgets/property/PropDefs".split(","),function(l,m,k,j,f,e,d,c){return m([e],{postCreate:function(){this.inherited(arguments);this.showList();void 0!==appState.goBack.id&&this.selectEntryById(appState.goBack.id)},showList:function(){var b=this;
b.addEntry({id:"basic",label:i18n("Basic Settings"),action:function(){b.addHeading(i18n("Basic Settings"));b.showBasicSettings()}});b.addEntry({id:"properties",label:i18n("Process Properties"),action:function(){b.addHeading(i18n("Process Properties"));b.showProperties()}})},addHeading:function(b){f.create("div",{innerHTML:b,"class":"containerLabel",style:{padding:"10px"}},this.detailAttach)},addDescription:function(b){f.create("div",{innerHTML:b,style:{marginBottom:"10px"}},this.detailAttach)},showBasicSettings:function(){(new d({process:appState.process,
readOnly:!appState.process.security["Edit Basic Settings"]})).placeAt(this.detailAttach)},showProperties:function(){(new c({readOnly:!appState.process.security["Manage Properties"]||appState.process.version!==appState.process.versionCount,getUrl:bootstrap.restUrl+"process/"+appState.process.id+"/"+appState.process.version+"/propDefs",deleteUrl:bootstrap.restUrl+"process/"+appState.process.id+"/propDefs/{propertyName}",saveUrl:bootstrap.restUrl+"process/"+appState.process.id+"/propDefs",refreshHash:"process/"+
appState.process.id+"/-1/configuration/properties",propSheetDef:appState.process.propSheetDef,deleteHeaders:{processVersion:appState.process.version},addData:function(b){b.processVersion=appState.process.version}})).placeAt(this.detailAttach)}})})},"deploy/widgets/component/ComponentList":function(){define("dojo/_base/declare,dojo/_base/connect,dijit/_Widget,dijit/_TemplatedMixin,dojo/dom-class,dojo/dom-geometry,dojo/dom-construct,dojo/on,dojo/_base/xhr,dojo/_base/array,dojo/topic,dijit/form/Button,dijit/form/CheckBox,dijit/form/Select,dijit/form/TextBox,deploy/widgets/component/EditComponent,deploy/widgets/component/ComponentImportFailureIcon,deploy/widgets/Formatters,deploy/widgets/tag/Tagger,deploy/widgets/filter/TagFilter,js/webext/widgets/Alert,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/form/MenuButton,js/webext/widgets/Table,dojo/store/Memory,js/webext/widgets/table/TreeTable,dojo/data/ObjectStore,deploy/widgets/tag/TagDisplay,dojo/io/iframe".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u,x,v,y,A,z,B,D,G,C,S,K){return l("deploy.widgets.application.ComponentList",[k,j],{templateString:'<div class="componentList"><div data-dojo-attach-point="buttonAttach" style="position:relative; z-index=1;"></div><div data-dojo-attach-point="gridAttach"></div><div data-dojo-attach-point="activeBoxAttach" style="margin: 2px;"></div></div>',activeOnly:!0,BASIC_VIEW:"basic",TAG_VIEW:"tag",TEAM_VIEW:"team",_views:{basic:{url:bootstrap.restUrl+"deploy/component",
baseFilters:[{name:"active",type:"eq",values:[!0],className:"Boolean"}]},tag:{url:bootstrap.restUrl+"tag",getChildUrl:function(){return bootstrap.restUrl+"deploy/component"},getChildOutputType:function(){return{outputType:["BASIC","SECURITY"]}},baseFilters:[{name:"objectType",type:"eq",values:["Component"],className:"String"}],getChildFilters:function(a){return[{name:"tags",type:"eq",values:[a.name],className:"String"},{name:"active",type:"eq",values:[!0],className:"Boolean"}]}},team:{url:bootstrap.baseUrl+
"security/team",getChildUrl:function(a){return bootstrap.restUrl+"deploy/component/team/"+a.id},baseFilters:[],getChildFilters:function(){return[{name:"active",type:"eq",values:[!0],className:"Boolean"}]}}},isView:function(a){return this.currentView===a},postCreate:function(){this.inherited(arguments);var a=this;if(!config.data.permissions[security.system.manageSecurity])a._views.team.baseFilters=[{name:"username",type:"eq",values:[bootstrap.username],className:"String"}];this.currentView=a.BASIC_VIEW;
a.selectStore=d.create("div");a.viewSelect=new n({options:[{label:i18n("Flat list"),value:a.BASIC_VIEW,selected:!0},{label:i18n("By Tag"),value:a.TAG_VIEW},{label:i18n("By Team"),value:a.TEAM_VIEW}],sortByLabel:!1,style:{display:"inline-block",margin:"0.2em"}});util.setTestId(a.viewSelect,"view-select");c(a.viewSelect,"change",function(b){if(a.currentView!==b)a.currentView=b,a.viewSelect.placeAt(a.selectStore),a.grid.destroy(),b=!a.isView(a.BASIC_VIEW),a._clearOrderField(),a.makeTable(a._views[a.currentView].url,
a.getColumns(),b)});a.makeTable(a._views[a.currentView].url,a.getColumns())},_clearOrderField:function(){var a=this.grid.getStoredConfig();a.orderField=void 0;this.grid.storeConfig(a)},makeTable:function(b,c,d){var e=this,h;e._views[e.currentView].getChildFilters&&(h=function(b){b=e._views[e.currentView].getChildFilters(b);e.activeOnly||(b=a.filter(b,function(a){return"active"!==a.name}));return b});this.grid=new G({url:b,serverSideProcessing:!0,orderField:"name",queryData:{outputType:["BASIC","SECURITY",
"LINKED"]},baseFilters:e._views[e.currentView].baseFilters||[],noDataMessage:i18n("No components found."),tableConfigKey:"componentList",selectorField:"id",hidePagination:!1,hideExpandCollapse:e.isView(e.BASIC_VIEW),selectable:function(a){return!a.objectType},columns:c,isSelectable:function(a){return!a.objectType&&void 0===a.isDeletable},hasChildren:function(a){return!!a.objectType||void 0!==a.isDeletable},getChildUrl:function(a){if(e._views[e.currentView].getChildUrl)return e._views[e.currentView].getChildUrl(a,
!e.activeOnly)},getChildFilters:h,getChildOutputType:e._views[e.currentView].getChildOutputType});this.grid.placeAt(this.gridAttach);this.buttonAttach=this.grid.buttonAttach;this.addTopButtons();var j=[];a.forEach(this.getBulkReadOptions(),function(a){j.push(a)});a.forEach(this.getBulkWriteOptions(),function(a){j.push(a)});if(j&&0<j.length){var k=new z({options:j,label:i18n("Actions...")});k.placeAt(this.buttonAttach);b=function(){var a=e.grid.getSelectedItems().length;0===a?(k.set("label",i18n("Actions...")),
k.set("disabled",!0)):(k.set("label",i18n("Actions... (%s)",a)),k.set("disabled",!1))};e.grid.on("selectItem",b);e.grid.on("deselectItem",b);e.grid.on("displayTable",b)}if(config.data.systemConfiguration.enableInactiveLinks&&!d)!this.activeBox&&!this.activeLabel?(this.activeBox=new o({checked:!1,value:"true",onChange:function(b){e.activeOnly=!b;!b&&e.isView(e.BASIC_VIEW)?e.grid.baseFilters.push({name:"active",type:"eq",values:[!0],className:"Boolean"}):e.grid.baseFilters=a.filter(e.grid.baseFilters,
function(a){return"active"!==a.name});e.grid.refresh()}}),this.activeBox.placeAt(this.activeBoxAttach),this.activeLabel=document.createElement("div"),f.add(this.activeLabel,"inlineBlock"),this.activeLabel.style.position="relative",this.activeLabel.style.top="2px",this.activeLabel.style.left="2px",this.activeLabel.innerHTML=i18n("Show Inactive Components"),this.activeBoxAttach.appendChild(this.activeLabel)):this.activeBox.set("checked",!1);e.viewSelect.placeAt(e.buttonAttach)},getColumns:function(){var b=
[];b.push(this.getNameColumn());a.forEach(this.getOtherColumns(),function(a){b.push(a)});return b},getNameColumn:function(){var a=this;return{name:i18n("Name"),formatter:function(b,c,f){f.style.position="relative";c=d.create("div",{"class":"inlineBlock",style:"margin-"+(e.isBodyLtr()?"right":"left")+":130px;"});f=d.create("div",{"class":"inlineBlock"});d.place(f,c);if(b.objectType)b.color&&(f=[],f.push(b),(new S({readOnly:!0,tags:f})).placeAt(c));else if(b.componentType){if(b.integrationFailed){var h=
new t({label:i18n("A version import failed. Check the component's configuration for more details or use the Actions menu to dismiss this error.")});d.place(h.domNode,f)}var h=w.componentLinkFormatter(b),j=d.create("div",{"class":"inlineBlock"});j.appendChild(h);d.place(j,f);if(b.templateTags)b.disabledTags=b.templateTags;a.tagger=new u({objectType:"Component",item:b,callback:function(){a.grid.refresh()}});a.tagger.placeAt(c);d.place(a.actionsFormatter(b),c)}else d.create("div",{"class":"inline-block",
innerHTML:b.name},c);return c},orderField:"name",filterField:"name",filterType:"custom",getRawValue:function(a){return a.name},getFilterFields:function(){var b=[];b.push(new s({name:"name","class":"filter",style:{width:"45%"},placeHolder:"basic"===a.currentView?i18n("Component Name"):i18n("Name"),type:"like"}));"basic"===a.currentView&&b.push(new x({name:"tags","class":"filter",style:{width:"45%"},placeHolder:i18n("Tags"),type:"like"}));return b}}},getOtherColumns:function(){var a=[];a.push({name:i18n("Template"),
field:"template",formatter:function(a){var b="";if(a.template)b=a.template.name;return b}});a.push({name:i18n("Description"),field:"description",orderField:"description",filterField:"description",filterType:"text",getRawValue:function(a){return a.description}});var b={name:i18n("Created"),field:"created",formatter:util.tableDateFormatter,getRawValue:function(a){return new Date(a.created)}};if(this.isView(this.BASIC_VIEW))b.orderField="dateCreated";a.push(b);a.push({name:i18n("By"),field:"user",getRawValue:function(a){return a.user}});
return a},addTopButtons:function(){var a=this,b=config.data.permissions[security.system.createComponents],c=config.data.permissions[security.system.createComponentsFromTemplate];if(b||c)c={label:i18n("Create Component"),showTitle:!1,onClick:function(){a.showNewComponentDialog()}},c=(new q(c)).placeAt(this.buttonAttach),f.add(c.domNode,"idxButtonSpecial");b&&(b={label:i18n("Import Components"),showTitle:!1,onClick:function(){a.showImportComponentDialog()}},(new q(b)).placeAt(this.buttonAttach))},getBulkWriteOptions:function(){var a=
this;return[{label:i18n("Add Tag"),onClick:function(){var b=a._getSelected();a.tagger.showAddTagDialog(b)}},{label:i18n("Remove Tag"),onClick:function(){var b=a._getSelected();a.tagger.showRemoveTagDialog(b)}},{label:i18n("Delete"),onClick:function(){var b=a._getSelected();a.confirmDeletes(b)}},{label:i18n("Clear Version Import Errors"),onClick:function(){var b=a._getSelected();a.confirmClearIntegrationErrors(b)}}]},getBulkReadOptions:function(){var a=this;return[{label:i18n("Export"),onClick:function(){var b=
a._getSelected();a.multipleExports(b)}}]},addEditActions:function(a,b){var c=this;(new q({showTitle:!1,iconClass:"editIcon",title:i18n("Edit"),onClick:function(){c.editComponent(a)}})).placeAt(b)},getRowWriteActions:function(a){var b=this;return[{label:i18n("Delete"),onClick:function(){b.confirmDelete(a)}},{label:i18n("Clear Version Import Errors"),onClick:function(){b.confirmClearIntegrationError(a)}}]},getRowCreateActions:function(a){var b=this;return[{label:i18n("Copy"),onClick:function(){b.showNewComponentDialog(a)}}]},
getRowReadActions:function(a){return[{label:i18n("Export"),onClick:function(){util.downloadFile(bootstrap.restUrl+"deploy/component/"+a.id+"/export")}}]},actionsFormatter:function(b){var c=d.create("div",{dir:util.getUIDir(),align:util.getUIDirAlign(),"class":"tableHoverActions"}),e=[];config.data.permissions[security.system.createComponents]&&a.forEach(this.getRowCreateActions(b),function(a){e.push(a)});b.security&&b.security.read&&a.forEach(this.getRowReadActions(b),function(a){e.push(a)});b.security&&
b.security["Edit Basic Settings"]&&(this.addEditActions(b,c),a.forEach(this.getRowWriteActions(b),function(a){e.push(a)}));e.length&&(new z({options:e,label:i18n("Actions...")})).placeAt(c);return c},multipleExports:function(a){a.length&&(a="?ids="+a.join(),util.downloadFile(bootstrap.restUrl+"deploy/component/export"+a))},confirmDeletes:function(a,c){var d=this;a.length?new A({message:i18n("Are you sure you want to delete %s components?",a.length),action:function(){b.del({url:bootstrap.restUrl+"deploy/component/delete",
headers:{"Content-Type":"application/json"},putData:JSON.stringify({componentIds:a}),load:function(){c&&c();d.grid.refresh()},error:function(a){(new y({title:i18n("Error deleting component"),content:util.escape(a.responseText),closable:!0,draggable:!0})).show();d.grid.unblock()}})}}):(new v({message:i18n("Please select at least one component to delete.")})).startup()},confirmClearIntegrationErrors:function(a){var c=this;a.length?new A({message:i18n("Are you sure you want to dismiss the import failure alerts on %s components? Records of the attempted imports will remain in history.",
a.length),action:function(){b.put({url:bootstrap.restUrl+"deploy/component/clearIntegrationErrors",headers:{"Content-Type":"application/json"},putData:JSON.stringify({componentIds:a}),load:function(){c.grid.refresh()},error:function(a){(new y({title:i18n("Error clearing import failures"),content:util.escape(a.responseText),closable:!0,draggable:!0})).show();c.grid.unblock()}})}}):(new v({message:i18n("Please select at least one component.")})).startup()},editComponent:function(a){var c=this;b.get({url:bootstrap.restUrl+
"deploy/component/"+a.id,handleAs:"json",load:function(a){var b=new y({title:i18n("Edit Component"),closable:!0,draggable:!0});(new r({component:a,readOnly:!a.security["Edit Basic Settings"],noRedirect:!0,callback:function(){b.hide();b.destroy();c.grid.refresh()}})).placeAt(b);b.show()}})},confirmDelete:function(a){var c=this;new A({message:i18n("Are you sure you want to delete %s? This will permanently delete it from the system.",a.name.escape()),action:function(){c.grid.block();b.del({url:bootstrap.restUrl+
"deploy/component/"+a.id,handleAs:"json",load:function(){c.grid.unblock();c.grid.refresh()},error:function(a){(new y({title:i18n("Error deleting component"),content:util.escape(a.responseText),closable:!0,draggable:!0})).show();c.grid.unblock()}})}})},confirmClearIntegrationError:function(a){var c=this;new A({message:i18n("Are you sure you want to dismiss the import failure alert on this component? Records of the attempted imports will remain in its history."),action:function(){b.put({url:bootstrap.restUrl+
"deploy/component/clearIntegrationErrors",headers:{"Content-Type":"application/json"},putData:JSON.stringify({componentIds:[a.id]}),load:function(){c.grid.refresh()},error:function(a){(new y({title:i18n("Error clearing import failures"),content:util.escape(a.responseText),closable:!0,draggable:!0})).show();c.grid.unblock()}})}})},_getSelected:function(){return a.map(this.grid.getSelectedItems(),function(a){return a.id})},destroy:function(){this.inherited(arguments);this.grid.destroy()},showNewComponentDialog:function(a){var b=
new y({title:i18n("Create Component"),closable:!0,draggable:!0,description:i18n("When you create a component, you identify the source and define how the artifacts are brought into IBM UrbanCode Deploy.")});(new r({source:a,callback:function(){b.hide();b.destroy()}})).placeAt(b.containerNode);b.show()},showImportComponentDialog:function(){var a=this,b=new y({title:i18n("Import Components"),closable:!0,draggable:!0});a.importIsUpgrade=!1;a.importTemplateUpgradeType="USE_EXISTING_IF_EXISTS";a.processUpgradeType=
"USE_EXISTING_IF_EXISTS";var c=d.create("form",{target:"formTarget",method:"Post",enctype:"multipart/form-data",encoding:"multipart/form-data"}),e=d.create("div",{className:"filInputContainer"}),f=d.create("input",{type:"file",name:"file",className:"fileInput"});d.place(f,e);var h=d.create("div",{className:"labelsAndValues-row"}),j=d.create("div",{className:"labelsAndValues-valueCell inlineBlock"}),k=d.create("label",{"for":"upgradeComponent",className:"labelsAndValues-labelCell inlineBlock",innerHTML:i18n("Upgrade Component")});
(new o({name:"upgradeComponent",checked:!1,onChange:function(){a.importIsUpgrade=this.get("checked");a.setFormAction(c)}})).placeAt(j);h.appendChild(k);h.appendChild(j);var j=d.create("div",{className:"labelsAndValues-row"}),k=d.create("div",{className:"labelsAndValues-valueCell inlineBlock"}),l=d.create("div",{className:"labelsAndValues-labelCell inlineBlock",innerHTML:i18n("Component Template Upgrade Type")});(new n({name:"templateUpgradeTypeInput",options:[{label:i18n("Use Existing Template"),
value:"USE_EXISTING_IF_EXISTS"},{label:i18n("Create Template"),value:"CREATE_NEW_IF_EXISTS"},{label:i18n("Fail If Template Exists"),value:"FAIL_IF_EXISTS"},{label:i18n("Fail If Template Does Not Exist"),value:"FAIL_IF_DOESNT_EXIST"},{label:i18n("Upgrade Template If Exists"),value:"UPGRADE_IF_EXISTS"}],onChange:function(){a.importTemplateUpgradeType=this.get("value");a.setFormAction(c)}})).placeAt(k);j.appendChild(l);j.appendChild(k);var k=d.create("div",{className:"labelsAndValues-row"}),l=d.create("div",
{className:"labelsAndValues-valueCell inlineBlock"}),m=d.create("div",{className:"labelsAndValues-labelCell inlineBlock",innerHTML:i18n("Generic Process Upgrade Type")});(new n({name:"processUpgradeTypeInput",options:[{label:i18n("Use Existing Process"),value:"USE_EXISTING_IF_EXISTS"},{label:i18n("Create Process"),value:"CREATE_NEW_IF_EXISTS"},{label:i18n("Fail If Process Exists"),value:"FAIL_IF_EXISTS"},{label:i18n("Fail If Process Does Not Exist"),value:"FAIL_IF_DOESNT_EXIST"},{label:i18n("Upgrade Process If Exists"),
value:"UPGRADE_IF_EXISTS"}],onChange:function(){a.processUpgradeType=this.get("value");a.setFormAction(c)}})).placeAt(l);k.appendChild(m);k.appendChild(l);l=d.create("div",{style:"display:block; margin-top:10px;"});(new q({label:i18n("Submit"),type:"submit"})).placeAt(l);c.appendChild(h);c.appendChild(j);c.appendChild(k);c.appendChild(e);c.appendChild(l);b.containerNode.appendChild(c);c.onsubmit=function(){var d=!0;f.value?(a.setFormAction(c),K.send({form:c,handleAs:"json",load:function(c){"ok"===
c.status?(b.hide(),b.destroy(),a.grid.refresh()):(new v({message:i18n("Error importing component: %s",c.error||"")})).startup()},error:function(a){(new v({message:i18n("Error importing component: %s",a.error||"")})).startup()}})):(new v({message:i18n("Please choose a template json file to import.")}),d=!1);return d};b.show()},setFormAction:function(a){var b=util.getCookie(bootstrap.expectedSessionCookieName);a.action=bootstrap.restUrl+"deploy/component/"+(!0===this.importIsUpgrade?"upgrade":"import")+
"?upgradeType="+this.importTemplateUpgradeType+"&processUpgradeType="+this.processUpgradeType+"&"+bootstrap.expectedSessionCookieName+"="+b}})})},"deploy/widgets/tag/TagRemover":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/_base/xhr,dojo/store/Memory,dojo/json,dijit/form/FilteringSelect,js/webext/widgets/ColumnForm,js/webext/widgets/Alert,js/webext/widgets/GenericConfirm".split(","),function(l,m,k,j,f,e,d,c,b){return k([m,l],{templateString:'<div class="tagDisplay"><div data-dojo-attach-point="formAttach"></div></div>',
postCreate:function(){this.inherited(arguments);var a=this,h=bootstrap.restUrl+"tag/"+a.objectType+"/",k=[];j.post({url:bootstrap.restUrl+"tag/"+a.objectType+"/unique",putData:e.stringify({ids:a.ids}),sync:!0,headers:{"Content-Type":"application/json"},handleAs:"json",load:function(a){k=a},error:function(a){new b({message:util.escape(a.responseText)})}});var l=new f({data:k});a.form=new c({postSubmit:function(){void 0!==a.callback&&a.callback()},addData:function(b){b.ids=a.ids;b.objectType=a.objectType},
onCancel:function(){void 0!==a.callback&&a.callback()},onSubmit:function(a){j.del({url:h+a.name,sync:!0,putData:e.stringify(a),headers:{"Content-Type":"application/json"},load:function(){},error:function(a){new b({message:util.escape(a.responseText)})}})}});l=new d({store:l,searchAttr:"name",noDataMessage:i18n("No tags found."),selectOnClick:!0});a.form.addField({name:"name",label:i18n("Name"),required:!0,widget:l});a.form.placeAt(a.formAttach)}})})},"deploy/widgets/security/authorization/GroupList":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/on,deploy/widgets/security/authorization/EditGroup,js/webext/widgets/Alert,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/table/TreeTable".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o){return j("deploy.widgets.security.authorization.GroupList",[m,l],{templateString:'<div class="groupList"><div data-dojo-attach-point="buttonAttach"></div><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var a=this,b=bootstrap.baseUrl+"security/group",c=[{name:i18n("Group"),field:"name",orderField:"name",filterField:"name",filterType:"text",getRawValue:function(a){return a.name}},{name:i18n("Authorization Realm"),
formatter:function(a){return a.authorizationRealm.name}},{name:i18n("Actions"),formatter:this.actionsFormatter,parentWidget:this}];this.grid=new o({url:b,serverSideProcessing:!0,hidePagination:!1,hideExpandCollapse:!0,columns:c,tableConfigKey:"groupList",noDataMessage:i18n("No groups have been created yet.")});this.grid.placeAt(this.gridAttach);b=new k({label:i18n("Create Group"),showTitle:!1,onClick:function(){a.showEditGroupDialog()}});e.add(b.domNode,"idxButtonSpecial");b.placeAt(this.buttonAttach)},
destroy:function(){this.inherited(arguments);this.grid.destroy()},actionsFormatter:function(a){var b=this.parentWidget,e=document.createElement("div");if("com.urbancode.security.authorization.internal.InternalAuthorizationModule"===a.authorizationRealm.authorizationModuleClassName){var f=d.create("a",{"class":"actionsLink linkPointer",innerHTML:i18n("Edit")},e);c(f,"click",function(){b.showEditGroupDialog(a)})}void 0!==b.showGroupMembers&&(f=d.create("a",{"class":"actionsLink linkPointer",innerHTML:i18n("Members")},
e),c(f,"click",function(){b.showGroupMembers(a)}));f=d.create("a",{"class":"actionsLink linkPointer",innerHTML:i18n("Delete")},e);c(f,"click",function(){b.confirmDeletion(a)});return e},confirmDeletion:function(b){var c=this;new q({message:i18n("Are you sure you want to delete group '%s'?",b.name.escape()),action:function(){f.del({url:bootstrap.baseUrl+"security/group/"+b.id,load:function(){c.grid.refresh()},error:function(b){new a({message:util.escape(b.responseText)})}})}})},showEditGroupDialog:function(a){var c=
this,d=new h({title:a?i18n("Edit Group"):i18n("Create Group"),closable:!0,draggable:!0});(new b({group:a,callback:function(a){d.hide();d.destroy();a&&c.grid.refresh()}})).placeAt(d.containerNode);d.show()}})})},"deploy/widgets/calendar/EditRecurringEntry":function(){define(["dijit/_TemplatedMixin","dijit/_Widget","dojo/_base/declare","js/webext/widgets/ColumnForm","dojo/_base/array"],function(l,m,k,j,f){return k("deploy.widgets.calendar.EditRecurringEntry",[m,l],{templateString:'<div class="editEntry"><div data-dojo-attach-point="formAttach"></div></div>',
postCreate:function(){this.inherited(arguments);var e=this,d={};if(this.entry){var d=this.entry,c=new Date(this.entry.scheduledDate),b=c.getHours()*util.msPerHour,b=b+c.getMinutes()*util.msPerMinute,b=b+c.getSeconds()*util.msPerSecond,b=b+c.getMilliseconds(),a=(new Date(b)).getTimezoneOffset()*util.msPerMinute;d.startTime=new Date(b+a);b=c.getFullYear();a=c.getMonth();c=c.getDate();d.startDate=new Date(b,a,c)}this.form=new j({submitUrl:bootstrap.restUrl+"calendar/recurring",addData:function(a){a.existingId=
d.id;a.date=util.combineDateAndTime(a.startDate,a.startTime).valueOf();if(e.entry.eventData.versions)a.versions=[],f.forEach(e.entry.eventData.versions,function(b){var c="ver_"+b.componentId,d=a[c];delete a[c];d&&a.versions.push({versionSelector:d,componentId:b.componentId})})},postSubmit:function(){void 0!==e.callback&&e.callback()},onCancel:function(){void 0!==e.callback&&e.callback()}});this.form.addField({name:"name",label:i18n("Name"),required:!1,value:d.name,type:"Text"});this.form.addField({name:"dateLabel",
label:"",value:i18n("Choose a new base date for this recurring event. This should be the next time the event should occur. The next scheduled occurrence of this event will not be affected."),type:"Label"});this.form.addField({name:"startDate",label:i18n("Base Date"),required:!0,value:d.startDate,type:"Date"});this.form.addField({name:"startTime",label:i18n("Base Time"),required:!0,value:d.startTime,type:"Time"});this.form.addField({name:"recurrencePattern",label:i18n("Pattern"),type:"Select",allowedValues:[{value:"M",
label:i18n("Monthly")},{value:"W",label:i18n("Weekly")},{value:"D",label:i18n("Daily")}],value:d.recurrencePattern,required:!0});f.forEach(d.eventData.versions,function(a){var b=document.createElement("span"),c=document.createElement("span");c.innerHTML=i18n("Version for %s",a.component.name.escape());b.appendChild(c);e.form.addField({label:b,name:"ver_"+a.componentId,type:"VersionSelector",value:a.versionSelector,context:{component:a.component,environment:e.environment},required:!1},"_versionInsert")});
this.form.placeAt(this.formAttach)}})})},"deploy/widgets/version/RunningVersionImports":function(){define(["dijit/_TemplatedMixin","dijit/_Widget","dojo/_base/declare","deploy/widgets/component/ComponentSourceConfigHistory"],function(l,m,k,j){return k("deploy.widgets.version.RunningVersionImports",[m,l],{templateString:'<div class="runningVerisonImports">    <div data-dojo-attach-point="runningIntegrationAttach"></div></div>',postCreate:function(){this.showRunningIntegrations()},showRunningIntegrations:function(){this.compSourceHistory=
j({gridRestUrl:bootstrap.restUrl+"sourceConfigExecutionRecord/table/all",tableConfigKey:"allRunningSourceConfigs",showComponentField:!0,oldestFirst:!0});this.compSourceHistory.placeAt(this.runningIntegrationAttach)}})})},"deploy/widgets/version/VersionFileCompare":function(){define("dojo/_base/declare,js/webext/widgets/ColumnForm,js/webext/widgets/RestSelect,deploy/widgets/component/ComponentFileComparison,js/webext/widgets/Table,dojo/_base/array,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/DeferredList,dojo/dom-style,dojo/on,dojo/window,deploy/widgets/log/Blocker,js/util/blocker/_BlockerMixin,js/webext/widgets/Dialog,js/webext/widgets/Pager".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r){return l([r],{autoRefresh:!0,lines:null,linesOfInterest:null,pagerControls:null,logText:null,headerContainer:null,postCreate:function(){this.inherited(arguments);this.compareDialog=new r({title:i18n("File Differences"),closable:!0,heightPercent:75,widthPercent:75,destroyOnHide:!0});c.add(this.compareDialog.containerNode,"versionFileCompare")},show:function(){this.compContainer=b.create("div",{"class":"compContainer"},this.compareDialog.containerNode);this.titleContainer=
b.create("div",{"class":"titleContainer",innerHTML:"<div></div><br>"},this.compContainer);b.create("div",{"class":"title",innerHTML:this.version1.escape()},this.titleContainer);b.create("div",{"class":"titleSpacer",style:{width:"2%",display:"inline-block"}},this.titleContainer);b.create("div",{"class":"title",innerHTML:this.version2.escape()},this.titleContainer);this.showCompText();this.compareDialog.show()},showCompText:function(){var a=this;if(void 0!==a.data)a.onData(a.data);else d.get({url:a.url,
handleAs:"json",load:function(b){a.onData(b)}})},onData:function(a){var c=this;e.forEach(a,function(a){if(a.space)c.changesContainer=b.create("div",{"class":"ellipsisContainer"},c.compContainer),b.create("div",{"class":"leftEll",innerHTML:"..."},c.changesContainer),b.create("div",{"class":"rightEll",innerHTML:"..."},c.changesContainer),c.changesContainer=b.create("div",{"class":"changesContainer"},c.compContainer);else{var d=b.create("div",{"class":"lineContainer"},c.changesContainer),e=b.create("div",
{"class":"originalContainer"},d),e=b.create("div",{"class":"original"},e);e.innerHTML=a.original||" ";d=b.create("div",{"class":"changeContainer"},d);d=b.create("div",{"class":"change"},d);d.innerHTML=a.change||" ";if("CHANGE"===a.type)e.style.backgroundColor="#FFFCDC",e.style.borderLeft="3px solid #F4E967",e.style.marginLeft="6px",d.style.backgroundColor="#FFFCDC",d.style.borderLeft="3px solid #F4E967",d.style.marginLeft="6px";else if("INSERT"===a.type)d.style.backgroundColor="#F0FFD2",d.style.borderLeft=
"3px solid #5C6E25",d.style.marginLeft="6px";else if("DELETE"===a.type)e.style.backgroundColor="#FFEEEE",e.style.borderLeft="3px solid #9B3A3A",e.style.marginLeft="6px"}})},hide:function(){this.inherited(arguments);this.refreshTimer&&clearTimeout(this.refreshTimer);this.compareDialog.destroy()}})})},"deploy/widgets/application/ApplicationSnapshots":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dijit/form/CheckBox,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/on,deploy/widgets/snapshot/EditSnapshot,deploy/widgets/Formatters,js/util/blocker/BlockingContainer,js/webext/widgets/Alert,js/webext/widgets/ColumnForm,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/table/TreeTable,dojo/io/iframe".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w){return f("deploy.widgets.application.ApplicationSnapshots",[m,l],{templateString:'<div class="snapshots"><div class="listTopButtons" data-dojo-attach-point="buttonAttach"></div><div data-dojo-attach-point="gridAttach"></div><div data-dojo-attach-point="activeBoxAttach" style="margin: 2px;"></div></div>',postCreate:function(){this.inherited(arguments);var a=this,b=bootstrap.restUrl+"deploy/application/"+appState.application.id+"/snapshots/false",c=[{name:i18n("Snapshot"),
formatter:h.snapshotLinkFormatter,orderField:"name",filterField:"name",filterType:"text"},{name:i18n("Description"),field:"description"},{name:i18n("Created"),field:"created",formatter:util.tableDateFormatter,orderField:"dateCreated"},{name:i18n("By"),field:"user",orderField:"user",getRawValue:function(a){return a.user}},{name:i18n("Actions"),formatter:this.actionsFormatter,parentWidget:this}];this.grid=new t({url:b,columns:c,orderField:"dateCreated",sortType:"desc",hideExpandCollapse:!0,hidePagination:!1,
tableConfigKey:"snapshots"+appState.application.id,noDataMessage:i18n("No application snapshots found."),queryData:{outputType:["BASIC"]}});this.grid.placeAt(this.gridAttach);if(config.data.systemConfiguration.enableInactiveLinks)(new j({checked:!1,value:"true",onChange:function(b){a.grid.url=bootstrap.restUrl+"deploy/application/"+appState.application.id+"/snapshots/"+b;a.grid.refresh()}})).placeAt(this.activeBoxAttach),b=document.createElement("div"),d.add(b,"inlineBlock"),b.style.position="relative",
b.style.top="2px",b.style.left="2px",b.innerHTML=i18n("Show Inactive Snapshots"),this.activeBoxAttach.appendChild(b);appState.application.extendedSecurity[security.application.manageSnapshots]&&(b=new k({label:i18n("Create Snapshot"),showTitle:!1,onClick:function(){a.showCreateSnapshotDialog()}}),d.add(b.domNode,"idxButtonSpecial"),c=new k({label:i18n("Import Snapshots"),showTitle:!1,onClick:function(){a.showImportDialog()}}),b.placeAt(this.buttonAttach),c.placeAt(this.buttonAttach))},destroy:function(){this.inherited(arguments);
this.grid.destroy()},actionsFormatter:function(a){var d=this.parentWidget,e=document.createElement("div"),f=c.create("a",{"class":"actionsLink linkPointer",innerHTML:i18n("Export")},e);b(f,"click",function(){util.downloadFile(bootstrap.restUrl+"deploy/application/"+appState.application.id+"/exportWithArtifacts?snapshotIds="+a.id)});f=c.create("a",{"class":"actionsLink linkPointer",innerHTML:i18n("Compare")},e);b(f,"click",function(){d.showCompareDialog(a)});if(appState.application.extendedSecurity[security.application.manageSnapshots])f=
document.createElement("a"),f.className="actionsLink",f.innerHTML=i18n("Edit"),f.href="#snapshot/"+a.id+"/configuration",e.appendChild(f),f=c.create("a",{"class":"actionsLink linkPointer",innerHTML:i18n("Delete")},e),b(f,"click",function(){d.confirmDelete(a)});return e},confirmDelete:function(a){var b=this;new r({message:i18n("Are you sure you want to delete %s? This will permanently delete it from the system.",a.name.escape()),action:function(){b.grid.block();e.del({url:bootstrap.restUrl+"deploy/snapshot/"+
a.id,handleAs:"json",load:function(){b.grid.unblock();b.grid.refresh()},error:function(a){(new s({title:i18n("Error deleting snapshot"),content:util.escape(a.responseText),closable:!0,draggable:!0})).show();b.grid.unblock()}})}})},showCompareDialog:function(a){var b=new s({title:i18n("Compare Snapshots"),closable:!0,draggable:!0}),c=new n({onSubmit:function(c){b.hide();b.destroy();navBar.setHash("snapshotComparison/"+a.id+"/"+c.snapshotId)},onCancel:function(){b.hide();b.destroy()}});c.addField({name:"_sourceSnapshotLabel",
label:i18n("Snapshot"),type:"Label",style:{marginTop:"3px"},value:a.name});c.addField({name:"snapshotId",label:i18n("With Snapshot"),required:!0,url:bootstrap.restUrl+"deploy/snapshot/"+a.id+"/exclude",type:"TableFilterSelect",autoSelectFirst:!0});c.placeAt(b.containerNode);b.show()},showCreateSnapshotDialog:function(b){var c=i18n("Create Snapshot "),d=new s({title:c,closable:!0,draggable:!0});(new a({application:appState.application,snapshot:b,callback:function(){d.hide();d.destroy()},onCancel:function(){d.hide();
d.destroy()}})).placeAt(d.containerNode);d.show()},showImportDialog:function(){var a=this,b=new q,d=new s({title:i18n("Import Snapshots"),closable:!0,draggable:!0});b.placeAt(d.containerNode);var e=util.getCookie(bootstrap.expectedSessionCookieName),f=c.create("form",{target:"formTarget",method:"Post",enctype:"multipart/form-data",encoding:"multipart/form-data",action:bootstrap.restUrl+"deploy/snapshot/importWithArtifacts/"+appState.application.id+"?"+bootstrap.expectedSessionCookieName+"="+e}),e=
c.create("div",{className:"filInputContainer"}),h=c.create("input",{type:"file",name:"file",className:"fileInput"});c.place(h,e);var j=c.create("div",{style:"display:block; margin-top:10px;"});(new k({label:i18n("Submit"),type:"submit"})).placeAt(j);f.appendChild(e);f.appendChild(j);b.containerNode.appendChild(f);f.onsubmit=function(){var c=!0;h.value?(b.block(),w.send({form:f,handleAs:"json",load:function(c){b.unblock();"ok"===c.status?(d.hide(),d.destroy(),a.grid.refresh()):(new o({message:i18n("Error importing application: %s",
util.escape(c.error||""))})).startup()},error:function(a){b.unblock();(new o({message:i18n("Error importing application: %s",util.escape(a.error||""))})).startup()}})):(new o({message:i18n("Please choose a snapshot archive file to import.")}),c=!1);return c};d.show()}})})},"deploy/widgets/applicationTemplate/ComponentTagRequirementSelector":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/_Container,dojo/_base/lang,dojo/store/Memory,dojo/store/Observable,dojo/_base/declare,dojo/dom-style,deploy/widgets/ModelWidgetList,deploy/widgets/applicationTemplate/ComponentTagRequirement,js/webext/widgets/FormDelegates".split(","),
function(l,m,k,j,f,e,d,c,b,a,h){return d([m,l],{templateString:'<div class="tagRequirementSelector"><div data-dojo-attach-point="tagRequirementAddAttach"></div><div class="tagRequirementList" data-dojo-attach-point="tagRequirementListAttach"></div></div>',postCreate:function(){this.inherited(arguments);if(!this.value)this.value=[];this.rowClass="labelsAndValues-row labelsAndValues-row-verticalAlign-top";this.initRequirementList();this.readOnly||this.addRequirementSelector()},initRequirementList:function(){this.requirementsModel=
new e(new f({idProperty:"name"}));this.value.forEach(function(a){this.addRequirement(a)},this);this.tagRequirementList=new b({model:this.requirementsModel,widgetFactory:j.hitch(this,this.createRequirementWidget)});this.tagRequirementList.placeAt(this.tagRequirementListAttach)},createRequirementWidget:function(b){var c=this,d={readOnly:this.readOnly,deleteHandler:function(){var a=c.requirementsModel.getIdentity(b);c.requirementsModel.remove(a)}};j.mixin(d,b);return new a(d)},addRequirement:function(a){if(!a.name)a.name=
a.tag.name;if(!a.type)a.type="GREATER_THAN";if(void 0===a.number)a.number=0;this.requirementsModel.put(a)},addRequirementSelector:function(){var a=this;this.tagSelector=(new h).getDelegate("TagDropDown")({idProperty:"name",searchAttr:"name",placeHolder:i18n("Select Component Tags"),allowNone:!0,selectOnClick:!0,objectType:"Component",onChange:function(b,c){c&&(a.addRequirement({tag:c}),a.tagSelector.dropDown.set("value","",void 0,void 0,""))}});a.tagSelector.placeAt(a.tagRequirementAddAttach)},_getValueAttr:function(){return this.tagRequirementList.getChildren().map(function(a){return a.get("value")})}})})},
"deploy/widgets/application/wizard/WizardProgressVisualization":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/dom-style,dojo/dom-attr,dijit/_Widget,dijit/_TemplatedMixin,deploy/widgets/wizard/_WizardWatcherMixin".split(","),function(l,m,k,j,f,e,d){return l([f,e,d],{templateString:'<img data-dojo-attach-point="wizardProgressImage" class="wizardProgressImage"></img>',postCreate:function(){this.inherited(arguments);this._addWizardChangeHandler(m.hitch(this,this.render))},render:function(){var c=
this.wizard.getChildren(),b=c.length,c=c.indexOf(this.wizard.selectedChildWidget)+1;k.set(this.wizardProgressImage,"display",1<b?"":"none");j.set(this.wizardProgressImage,"src",bootstrap.contentUrl+"images/wizard/WizardProgress_"+c+".png")}})})},"deploy/widgets/component/ComponentVersionPropSheetDiffReportTable":function(){define(["dojo/_base/declare","deploy/widgets/property/PropSheetDiffReportTable"],function(l,m){return l([m],{postCreate:function(){this.url=bootstrap.restUrl+"deploy/version/"+
this.version.id+"/propComparison/"+this.otherVersion;this.inherited(arguments)}})})},"deploy/widgets/componentProcess/ComponentProcessChangelog":function(){define(["dijit/_TemplatedMixin","dijit/_Widget","dojo/_base/declare","js/webext/widgets/Table"],function(l,m,k,j){return k("deploy.widgets.componentProcess.ComponentProcessChangelog",[m,l],{templateString:'<div class="componentProcessChangelog"><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);
var f=bootstrap.restUrl+"deploy/componentProcess/"+this.componentProcess.id+"/changelog",e=[{name:i18n("Version"),field:"version",orderField:"version",getRawValue:function(d){return d.version}},{name:i18n("User"),field:"committer",orderField:"committer",filterField:"committer",filterType:"text",getRawValue:function(d){return d.committer}},{name:i18n("Date"),field:"commitTime",formatter:util.tableDateFormatter,orderField:"date",getRawValue:function(d){return new Date(d.commitTime)}},{name:i18n("Comment"),
field:"comment"}];this.grid=new j({url:f,serverSideProcessing:!1,orderField:"version",sortType:"desc",columns:e});this.grid.placeAt(this.gridAttach)},destroy:function(){this.inherited(arguments);this.grid.destroy()}})})},"deploy/widgets/agentRelay/EditRelay":function(){define(["dijit/_TemplatedMixin","dijit/_Widget","dojo/_base/declare","js/webext/widgets/ColumnForm","dojo/date/locale"],function(l,m,k,j){return k("deploy.widgets.agentRelay.EditRelay",[m,l],{templateString:'<div class="edit-relay">  <div data-dojo-attach-point="formAttach"></div></div>',
showCancel:!0,postCreate:function(){this.inherited(arguments);var f=this;this.existingValues={};if(this.relay)this.existingValues=this.relay;var e=i18n("Cancel");this.showCancel||(e=null);this.form=new j({submitUrl:bootstrap.restUrl+"relay/"+f.existingValues.id,readOnly:f.readOnly,showButtons:!f.readOnly,cancelLabel:e,postSubmit:function(d){f.noRedirect||navBar.setHash("relay/"+d.id);void 0!==f.callback&&f.callback()},addData:function(d){for(var c in d)d.hasOwnProperty(c)&&"description"!==c&&delete d[c]},
onCancel:function(){f.form.setValue("description",f.existingValues.description);f.noRedirect||navBar.setHash("relay/"+f.existingValues.id)}});this.form.addField({name:"name",label:i18n("Name"),type:"Label",style:"margin-top:0;",value:this.existingValues.name});this.form.addField({name:"description",label:i18n("Description"),required:!1,type:"Text",value:this.existingValues.description});this.form.addField({name:"relayHostname",label:i18n("Host"),type:"Label",style:"margin-top:0",value:this.existingValues.relayHostname});
this.form.addField({name:"hostname",label:i18n("Listening on"),type:"Label",style:"margin-top:0",value:this.existingValues.hostname});this.form.addField({name:"jmsPort",label:i18n("JMS Port"),type:"Label",style:"margin-top:0",value:this.existingValues.jmsPort.toString()});this.form.placeAt(this.formAttach)}})})},"idx/util":function(){define("idx/util","dojo/_base/lang,idx/main,dojo/_base/kernel,dojo/has,dojo/_base/xhr,dojo/_base/window,dojo/_base/url,dojo/date/stamp,dojo/json,dojo/string,dojo/dom-class,dojo/dom-style,dojo/dom-attr,dojo/dom-construct,dojo/dom-geometry,dojo/io-query,dojo/query,dojo/NodeList-dom,dijit/registry,dijit/form/_FormWidget,dijit/_WidgetBase,dojo/_base/sniff,dijit/_base/manager".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u,x,v){var y=l.getObject("util",!0,m);y.getVersion=function(){var a={url:k.moduleUrl("idx","version.txt"),showProgress:!1,handleAs:"json",load:function(){},error:function(){}};f.xhrGet(a)};y.getOffsetPosition=function(a,b){for(var c=e.body(),b=b||c,d=a,f=0,h=0;d!==b;){if(d===c)throw"idx.util.getOffsetPosition: specified root is not ancestor of specified node";f+=d.offsetLeft;h+=d.offsetTop;d=d.offsetParent}return{l:f,t:h}};y.typeOfObject=function(a){return l.isString(a)?
"string":"undefined"==typeof a?"undefined":"number"==typeof a?"number":"boolean"==typeof a?"boolean":l.isFunction(a)?"function":l.isArray(a)?"array":a instanceof Date?"date":a instanceof d?"url":"object"};y.parseObject=function(a,e){switch(e){case "string":return""+a;case "number":return"number"==typeof a?a:a.length?Number(a):NaN;case "boolean":return"boolean"==typeof a?a:"false"!=a.toLowerCase();case "function":l.isFunction(a)&&(a=a.toString(),a=l.trim(a.substring(a.indexOf("{")+1,a.length-1)));
try{return""===a||-1!=a.search(/[^\w\.]+/i)?new Function(a):l.getObject(a,!1)||new Function(a)}catch(f){return new Function}case "array":return l.isArray(a)?a:a?a.split(/\s*,\s*/):[];case "date":if(a instanceof Date)return a;switch(a){case "":return new Date("");case "now":return new Date;default:return c.fromISOString(a)}case "url":return a instanceof d?a:k.baseUrl+a;default:return"string"==y.typeOfObject(a)?b.parse(a):a}};y.getCSSOptions=function(b,c,d){var f=e.body();if(!c||"canHaveHTML"in c&&
!c.canHaveHTML)c=f;for(var j=!1,k=c;k&&!j;)k===f&&(j=!0),k=k.parentNode;var l=null;if(!j){k=c;for(c=[];k;)c.push(o.get(k,"class")),k=k.parentNode;c.reverse();k=l=n.create("div",{style:"visibility: hidden; display: none;"},f,"last");for(f=0;f<c.length;f++)(j=c[f])&&(j=a.trim(j)),j&&0==j.length&&(j=null),k=n.create("div",j?{"class":j}:null,k,"last");c=k}k=n.create("div",null,c);h.add(k,b);f=q.getComputedStyle(k);b=null;f&&(b=""+f.backgroundImage);n.destroy(k);l&&n.destroy(l);if(!b||5>b.length||"url("!=
b.toLowerCase().substring(0,4)||")"!=b.charAt(b.length-1))return null;b=b.substring(4,b.length-1);if('"'==b.charAt(0)){if(2>b.length||'"'!=b.charAt(b.length-1))return null;b=b.substring(1,b.length-1)}l=b.lastIndexOf("?");k=b.lastIndexOf("/");if(0>l||l<k)return null;l=b.substring(l+1,b.length);if(null==l||0==l.length)return null;l=r.queryToObject(l);return d?y.mixin({},l,d):l};y.mixinCSSDefaults=function(a,b,c){if(!a)return null;b=y.getCSSOptions(b,c);if(!b)return null;y.mixin(a,b);return b};y.mixin=
function(a,b,c){if(!a)return null;if(!b)return a;c||(c=a);var d={},e;for(e in b)if(e in c){var f=y.typeOfObject(c[e]);d[e]=y.parseObject(b[e],f)}l.mixin(a,d);return a};y.recursiveMixin=function(a,b,c){var d=null,e=null,f=null;if(c)d=c.clone,e=c.controlField,f="controlValue"in c?c.controlValue:!0;for(field in b)if(field in a){var h=a[field],j=b[field],k=y.typeOfObject(h),o=y.typeOfObject(j);k==o&&"object"==k&&(!e||h[e]==f)?y.recursiveMixin(h,j,c):a[field]=d?l.clone(j):j}else a[field]=d?l.clone(b[field]):
b[field]};y.nullify=function(a,b,c){for(var d=0,d=0;d<c.length;d++){var e=c[d];e in a&&(b&&e in b||(a[e]=null))}};y._getNodeStyle=function(a){var b=o.get(a,"style");if(!b)return null;if("string"==y.typeOfObject(b))for(var a={},b=b.split(";"),c=0;c<b.length;c++){var d=b[c],e=d.indexOf(":");if(!(0>e)){var f=d.substring(0,e),h="";e<d.length-1&&(h=d.substring(e+1));a[f]=h}}else a=b;return a};y._getNodePosition=function(a){a=y._getNodeStyle(a);return!a||!a.position?"":a.position};y.fitToWidth=function(a,
b){var c=y._getNodePosition(b);q.set(a,{width:"auto"});q.set(b,{position:"static"});var d=s.getMarginBox(a);q.set(a,{width:d.w+"px"});q.set(b,{position:c});return d};y.fitToHeight=function(a,b){var c=y._getNodePosition(b);q.set(a,{height:"auto"});q.set(b,{position:"static"});var d=s.getMarginBox(a);q.set(a,{height:d.h+"px"});q.set(b,{position:c});return d};y.fitToSize=function(a,b){var c=y._getNodePosition(b);q.set(a,{width:"auto",height:"auto"});q.set(b,{position:"static"});var d=s.getMarginBox(a);
q.set(a,{width:d.w+"px",height:d.h+"px"});q.set(b,{position:c});return d};y.getStaticSize=function(a){var b=y._getNodeStyle(a),c=b&&b.position?b.position:"",d=b&&b.width?b.width:"",b=b&&b.height?b.height:"";q.set(a,{position:"static",width:"auto",height:"auto"});var e=s.getMarginBox(a);q.set(a,{position:c,width:d,height:b});return e};y.reposition=function(a,b){var c=y._getNodePosition(a);q.set(a,{position:b});return c};y.getParentWidget=function(a,b){var c=(a instanceof v?a.domNode:a).parentNode;
if(null==c)return null;for(var d=u.getEnclosingWidget(c);b&&d&&!(d instanceof b);)c=d.domNode.parentNode,d=null,c&&(d=u.getEnclosingWidget(c));return d};y.getSiblingWidget=function(a,b,c){var d=a instanceof v?a.domNode:a,a=d.parentNode;if(null==a)return null;a=a.childNodes;if(!a)return null;for(var e=0,e=0;e<a.length&&a[e]!=d;e++);if(e==a.length)return null;for(var d=b?-1:1,b=b?-1:a.length,f=0,h=null,f=e+d;f!=b;f+=d){var e=a[f],j=u.getEnclosingWidget(e);if(j&&j.domNode==e&&(!c||j instanceof c)){h=
j;break}}return h};y.getChildWidget=function(a,b,c){if(!(a instanceof v)){var d=u.getEnclosingWidget(a);d&&(a=d)}var e=null,e=a instanceof v?a.getChildren():a.childNodes;if(!e||0==e.length)return null;for(var a=b?-1:1,f=b?-1:e.length,h=0,j=null,h=b?e.length-1:0;h!=f;h+=a){d=e[h];if(!(d instanceof v)){b=d;d=u.getEnclosingWidget(b);if(!d)continue;if(d.domNode!=b)continue}if(!c||d instanceof c){j=d;break}}return j};y.getFormWidget=function(a,b){var c=null;b?c=b instanceof v?b.domNode:form:e.body();for(var d=
null,c=t("[name='"+a+"']",c),f=0;!d&&f<c.length;f++){var h=u.getEnclosingWidget(c[f]);h&&h instanceof x&&h.get("name")==a&&(d=h)}return d};y.isNodeOrElement=function(a){return a.parentNode&&a.childNodes&&a.attributes?!0:!1};y.debugObject=function(a){return y._debugObject(a,"/",[])};y._debugObject=function(a,d,e){if(null===a)return"null";switch(y.typeOfObject(a)){case "object":for(var f=0;f<e.length;f++)if(e[f].obj==a)return"CIRCULAR_REFERENCE[ "+e[f].path+" ]";e.push({obj:a,path:d});var f="{ ",h=
"";for(field in a)f=f+h+'"'+field+'": '+y._debugObject(a[field],d+'/"'+field+'"',e),h=", ";return f+" }";case "date":return"DATE[ "+c.toISOString(a)+" ]";default:return b.stringify(a)}};y.isBrowser=j("host-browser");y.isIE=j("ie");y.isFF=j("ff");y.isSafari=j("safari");y.isChrome=j("chrome");y.isMozilla=j("mozilla");y.isOpera=j("opera");y.isKhtml=j("khtml");y.isAIR=j("air");y.isQuirks=j("quirks");y.isWebKit=j("webkit");y.fromJson="undefined"!=typeof JSON?JSON.parse:function(){function a(b,c,e){return c?
d[c]:String.fromCharCode(parseInt(e,16))}var b=RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),c=RegExp("\\\\(?:([^u])|u(.{4}))","g"),d={'"':'"',"/":"/","\\":"\\",b:"\u0008",f:"\u000c",n:"\n",r:"\r",t:"\t"},e=new String(""),f=Object.hasOwnProperty;return function(d,h){var j=d.match(b),k,l=j[0],o=!1;"{"===l?k={}:"["===l?k=[]:(k=[],o=!0);for(var m,n=[k],q=1-
o,r=j.length;q<r;++q){var l=j[q],s;switch(l.charCodeAt(0)){default:s=n[0];s[m||s.length]=+l;m=void 0;break;case 34:l=l.substring(1,l.length-1);-1!==l.indexOf("\\")&&(l=l.replace(c,a));s=n[0];if(!m)if(s instanceof Array)m=s.length;else{m=l||e;break}s[m]=l;m=void 0;break;case 91:s=n[0];n.unshift(s[m||s.length]=[]);m=void 0;break;case 93:n.shift();break;case 102:s=n[0];s[m||s.length]=!1;m=void 0;break;case 110:s=n[0];s[m||s.length]=null;m=void 0;break;case 116:s=n[0];s[m||s.length]=!0;m=void 0;break;
case 123:s=n[0];n.unshift(s[m||s.length]={});m=void 0;break;case 125:n.shift()}}if(o){if(1!==n.length)throw Error();k=k[0]}else if(n.length)throw Error();if(h){var y=function(a,b){var c=a[b];if(c&&"object"===typeof c){var d=null,e;for(e in c)if(f.call(c,e)&&c!==a){var j=y(c,e);void 0!==j?c[e]=j:(d||(d=[]),d.push(e))}if(d)for(e=d.length;0<=--e;)delete c[d[e]]}return h.call(a,b,c)};k=y({"":k},"")}return k}}();var A=null;y.normalizedLength=function(a){if(0===a.length)return 0;if(2<a.length){if(!A){var b=
{"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0},c;if(j("ie"))e.doc.documentElement.style.fontSize="100%";var d=n.create("div",{style:{position:"absolute",left:"0",top:"-100px",width:"30px",height:"1000em",borderWidth:"0",margin:"0",padding:"0",outline:"none",lineHeight:"1",overflow:"hidden"}},e.body());for(c in b)d.style.fontSize=c,b[c]=16*Math.round(12*d.offsetHeight/16)/12/1E3;e.body().removeChild(d);A=b}b=A["12pt"]/12;c=parseFloat(a);
switch(a.slice(-2)){case "px":return c;case "pt":return c*b;case "in":return 72*c*b;case "pc":return 12*c*b;case "mm":return c*g.mm_in_pt*b;case "cm":return c*g.cm_in_pt*b}}return parseFloat(a)};y.widgetEquals=function(a,b){if(a===b)return!0;if(!a&&b||a&&!b)return!1;if(!l.isString(a)&&"id"in a)a=a.id;if(!l.isString(b)&&"id"in b)b=b.id;return a==b};return y})},"dijit/form/ComboBoxMixin":function(){require({cache:{"url:dijit/form/templates/DropDownBox.html":'<div class="dijit dijitReset dijitInline dijitLeft"\n\tid="widget_${id}"\n\trole="combobox"\n\taria-haspopup="true"\n\tdata-dojo-attach-point="_popupStateNode"\n\t><div class=\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\'\n\t\tdata-dojo-attach-point="_buttonNode" role="presentation"\n\t\t><input class="dijitReset dijitInputField dijitArrowButtonInner" value="&#9660; " type="text" tabIndex="-1" readonly="readonly" role="button presentation" aria-hidden="true"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class=\'dijitReset dijitValidationContainer\'\n\t\t><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n\t/></div\n\t><div class="dijitReset dijitInputField dijitInputContainer"\n\t\t><input class=\'dijitReset dijitInputInner\' ${!nameAttrSetting} type="text" autocomplete="off"\n\t\t\tdata-dojo-attach-point="textbox,focusNode" role="textbox"\n\t/></div\n></div>\n'}});
define("dijit/form/ComboBoxMixin","dojo/_base/declare,dojo/_base/Deferred,dojo/_base/kernel,dojo/_base/lang,dojo/store/util/QueryResults,./_AutoCompleterMixin,./_ComboBoxMenu,../_HasDropDown,dojo/text!./templates/DropDownBox.html".split(","),function(l,m,k,j,f,e,d,c,b){return l("dijit.form.ComboBoxMixin",[c,e],{dropDownClass:d,hasDownArrow:!0,templateString:b,baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{_buttonNode:"dijitDownArrowButton"},_setHasDownArrowAttr:function(a){this._set("hasDownArrow",
a);this._buttonNode.style.display=a?"":"none"},_showResultList:function(){this.displayMessage("");this.inherited(arguments)},_setStoreAttr:function(a){a.get||j.mixin(a,{_oldAPI:!0,get:function(a){var b=new m;this.fetchItemByIdentity({identity:a,onItem:function(a){b.resolve(a)},onError:function(a){b.reject(a)}});return b.promise},query:function(a,b){var c=new m(function(){d.abort&&d.abort()});c.total=new m;var d=this.fetch(j.mixin({query:a,onBegin:function(a){c.total.resolve(a)},onComplete:function(a){c.resolve(a)},
onError:function(a){c.reject(a)}},b));return f(c)}});this._set("store",a)},postMixInProperties:function(){var a=this.params.store||this.store;a&&this._setStoreAttr(a);this.inherited(arguments);if(!this.params.store&&!this.store._oldAPI){var b=this.declaredClass;j.mixin(this.store,{getValue:function(a,c){k.deprecated(b+".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly","","2.0");return a[c]},getLabel:function(a){k.deprecated(b+".store.getLabel(item) is deprecated for builtin store.  Use item.label directly",
"","2.0");return a.name},fetch:function(a){k.deprecated(b+".store.fetch() is deprecated for builtin store.","Use store.query()","2.0");require(["dojo/data/ObjectStore"],j.hitch(this,function(b){(new b({objectStore:this})).fetch(a)}))}})}}})})},"idx/widget/ResizeHandle":function(){define("idx/widget/ResizeHandle","dojo/_base/declare,dojo/_base/html,dojo/_base/event,dojo/keys,dojox/layout/ResizeHandle,idx/resources".split(","),function(l,m,k,j,f,e){return l("idx.widget.ResizeHandle",f,{postCreate:function(){this.inherited(arguments);
var d=e.getResources("idx/widget/ResizeHandle",this.lang).idxResizeHandle_resize;m.attr(this.resizeHandle.firstChild||this.resizeHandle,"innerHTML","<span class='idxResizeHandleText' title='"+d+"'>/</span>");m.attr(this.resizeHandle,"tabindex",0);this.connect(this.resizeHandle,"keypress",this._onKeyPress)},_onKeyPress:function(d){if(d&&d.shiftKey){var c=d.keyCode;if(this._resizeX&&(c==j.LEFT_ARROW||c==j.RIGHT_ARROW)||this._resizeY&&(c==j.UP_ARROW||c==j.DOWN_ARROW))if(this.targetWidget=dijit.byId(this.targetId),
this.targetDomNode=this.targetContainer||(this.targetWidget?this.targetWidget.domNode:m.byId(this.targetId))){c=this.targetWidget?m.marginBox(this.targetDomNode):m.contentBox(this.targetDomNode);this.startSize={w:c.w,h:c.h};this._changeSizing(d);if(!this.intermediateChanges)this.onResize(d);k.stop(d)}}},_getNewCoords:function(d){if(d&&d.keyCode){var c=d.keyCode,b=this.startSize.w,a=this.startSize.h;c==j.UP_ARROW?a-=10:c==j.DOWN_ARROW?a+=10:c==j.LEFT_ARROW?b=this.isLeftToRight()?b-10:b+10:c==j.RIGHT_ARROW&&
(b=this.isLeftToRight()?b+10:b-10);return this._checkConstraints(b,a)}return this.inherited(arguments)},_setResizeAxisAttr:function(d){m.removeClass(this.resizeHandle,this._getResizeClass());this._resizeAxis=d;this._resizeX=-1<d.indexOf("x");this._resizeY=-1<d.indexOf("y");dojo.addClass(this.resizeHandle,this._getResizeClass())},_getResizeClass:function(){var d=this._resizeAxis;return"xy"==d?"dojoxResizeNW":"x"==d?"dojoxResizeW":"y"==d?"dojoxResizeN":""}})})},"deploy/widgets/rightPanel/RightPanelResourceRoles":function(){define("dojo/_base/declare,dojo/_base/array,dojo/_base/lang,deploy/widgets/rightPanel/ResourceRightPanel,dojo/dom-class,dojo/dom-construct,dijit/form/TextBox,deploy/widgets/Formatters,deploy/widgets/tag/Tagger,deploy/widgets/filter/TagFilter,js/webext/widgets/ColumnForm,js/webext/widgets/Dialog,js/webext/widgets/table/TreeTable".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q){return l("deploy.widgets.resource.RightPanelResourceRoles",[j],{header:i18n("Resource Roles"),subheader:i18n("Drag and drop new resource roles under existing resources"),url:bootstrap.restUrl+"resource/resourceRole/",postCreate:function(){this.baseFilters=[{name:"specialType",type:"null"}];this.inherited(arguments)},getColumns:function(){return[{name:i18n("Name"),formatter:function(a,b,d){d.style.positon="relative";b=e.create("div",{innerHTML:a.name.escape()});a=
c.getResourceIcon({role:a});e.place(a,b,"first");return b},orderField:"name",filterField:"name",filterType:"text"},{name:i18n("Description"),field:"description"}]},onDrop:function(a){var b=this,c=this.parent.target,d=b.parent.grid._getRowObjectForItem(c),e=b.parent.getLowestParentRole(d);m.forEach(a,function(a){if(c&&(c.hasAgent||c.resourceTemplate))if(b.optionsSwitch.value)a.parentRole=e,b.submitData("role",c,a,b.optionsSwitch.value);else if(a.propDefs){var d=new q({title:i18n("Create New Resource"),
closable:!0,draggable:!0}),f=new h({onSubmit:function(e){var f=e.name;a.defaultNameProperty&&(f=e[a.defaultNameProperty]);b.submitData("role",c,a,!1,{roleProperties:e,name:f});d.hide();d.destroy()},onCancel:function(){d.hide();d.destroy()}});if("ja"===dojo.body().getAttribute("lang"))f.formContainer.labelStyle.width="300px";f.placeAt(d.containerNode);var j;e&&(j=b.getAllowedNames(a.allowedParentResourceRoles,e.name));a.defaultNameProperty||b.createNameWidget(j,i18n(a.name),f);m.forEach(a.propDefs,
function(b){var c=k.clone(b);c.translate=!0;if(b.name===a.defaultNameProperty&&(c.required=!0,void 0!==j&&0!==j.length))c.type="Select",c.allowedValues=j;f.addField(c)});d.show()}else b.submitData("role",c,a,!1)})},getAllowedNames:function(a,b){var c=!0,d=[];m.forEach(a,function(a){if(!0===c&&a.name===b)void 0===a.allowedName||null===a.allowedName||""===a.allowedName?(c=!1,d=void 0):d[d.length]=a.allowedName});return d},createNameWidget:function(a,b,c){void 0!==a&&0!==a.length?c.addField({allowedValues:a,
name:"name",label:i18n("Resource Name"),required:!0,value:b,type:"Select"}):c.addField({name:"name",label:i18n("Resource Name"),required:!0,value:b,type:"Text"})}})})},"deploy/widgets/process/RequiredCommentForm":function(){define(["dojo/_base/declare","dijit/_Widget","dijit/_TemplatedMixin","dojo/dom-construct","js/webext/widgets/ColumnForm"],function(l,m,k,j,f){return l("deploy.widgets.process.RequiredCommentForm",[m,k],{templateString:'<div class="requiredCommentForm"><div data-dojo-attach-point="formAttach"></div></div>',
postCreate:function(){var e=this,d=new f({onSubmit:function(c){e.callback(c);d.destroy()},onCancel:function(){d.destroy();e.callback()},validateFields:function(c){var b=[];c&&c.comment&&(1>c.comment.length||1E3<c.comment.length)&&b.push(i18n("A commit message must be provided containing less than 1,000 characters."));return b}});d.addField({name:"comment",label:i18n("Comment"),description:i18n("Provide a comment describing your changes."),required:!0,type:"Text Area"});d.placeAt(this.formAttach)}})})},
"dijit/BackgroundIframe":function(){define("dijit/BackgroundIframe","require,./main,dojo/_base/config,dojo/dom-construct,dojo/dom-style,dojo/_base/lang,dojo/on,dojo/sniff,dojo/_base/window".split(","),function(l,m,k,j,f,e,d,c,b){c.add("bgIframe",c("ie")||c("mozilla"));var a=new function(){var a=[];this.pop=function(){var d;a.length?(d=a.pop(),d.style.display=""):(9>c("ie")?(d="<iframe src='"+(k.dojoBlankHtmlUrl||l.toUrl("dojo/resources/blank.html")||'javascript:""')+"' role='presentation' style='position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity=\"0\");'>",
d=b.doc.createElement(d)):(d=j.create("iframe"),d.src='javascript:""',d.className="dijitBackgroundIframe",d.setAttribute("role","presentation"),f.set(d,"opacity",0.1)),d.tabIndex=-1);return d};this.push=function(b){b.style.display="none";a.push(b)}};m.BackgroundIframe=function(b){if(!b.id)throw Error("no id");if(c("bgIframe")){var j=this.iframe=a.pop();b.appendChild(j);7>c("ie")||c("quirks")?(this.resize(b),this._conn=d(b,"resize",e.hitch(this,function(){this.resize(b)}))):f.set(j,{width:"100%",height:"100%"})}};
e.extend(m.BackgroundIframe,{resize:function(a){this.iframe&&f.set(this.iframe,{width:a.offsetWidth+"px",height:a.offsetHeight+"px"})},destroy:function(){if(this._conn)this._conn.remove(),this._conn=null;this.iframe&&(a.push(this.iframe),delete this.iframe)}});return m.BackgroundIframe})},"deploy/widgets/navigation/Configuration":function(){define(["dojo/_base/kernel","dojox/html/entities"],function(l){l.provide("deploy.widgets.navigation.Configuration");config.data.tabSets.push({id:"configuration",
hashPattern:["tab"],breadcrumbs:["home","topLevelTab"],selectedTopLevelTab:"configuration",defaultTab:"tree",tabs:[{id:"tree",label:i18n("Tree"),view:"deploy/views/configuration/configurationTree"}]})})},"deploy/widgets/process/request/ExecutionLogFormatters":function(){define("exports,dijit/form/Button,dijit/_Widget,dijit/_TemplatedMixin,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/on,deploy/widgets/Popup,deploy/widgets/approval/TaskResponseDialog,deploy/widgets/log/LiveLogViewer,deploy/widgets/patterns/PatternExecutionLogFormatters,deploy/widgets/process/ProcessIconsFormatter,deploy/widgets/resource/TransientResourceCompareTree,js/webext/widgets/Dialog,deploy/util/ErrorUtil,js/webext/widgets/table/TreeTable,js/webext/widgets/Table,deploy/widgets/version/VersionFileCompare,js/webext/widgets/FieldList".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u,x,v,y){l.nameFormatter=function(a,c){var d=b.create("div");if(a.graphPosition)b.create("span",{innerHTML:a.graphPosition+".&nbsp;"},d),d.style.fontWeight="bold";if("agent"===a.specialNameType)d.appendChild(formatters.createIcon("agentIcon")),b.create("a",{href:"#agent/"+a.agent.id,innerHTML:a.agent.name.escape()},d),util.appendTextSpan(d,"&nbsp;");else if("resource"===a.specialNameType){d.appendChild(formatters.createIcon("componentIcon"));var e=a.resource.path.replace(/\//g,
" / ").escape(),f=b.create("div",{innerHTML:e});c&&(e=a.resource.name.replace(/\//g," / ").escape());b.create("a",{href:"#resource/"+a.resource.id,innerHTML:e},d);c&&new h({attachPoint:d,contents:f});util.appendTextSpan(d,"&nbsp;")}else if("componentProcess"===a.specialNameType)d.appendChild(formatters.createIcon("origProcessIcon")),b.create("a",{href:"#componentProcess/"+a.componentProcess.id+"/"+a.componentProcess.version,innerHTML:a.componentProcess.name.escape()},d),a.component?(util.appendTextSpan(d,
"&nbsp;("),b.create("a",{href:"#version/"+a.version.id,innerHTML:a.component.name.escape()+" "+a.version.name.escape()},d),util.appendTextSpan(d,")&nbsp;")):a.resource&&(util.appendTextSpan(d,"&nbsp;("),b.create("a",{href:"#resource/"+a.resource.id,innerHTML:a.resource.path.replace(/\//g," / ").escape()},d),util.appendTextSpan(d,")&nbsp;"));else if("note"===a.specialNameType)b.create("div",{className:"inline-block execution-log-process-icon process-icon note-step-icon"},d),e=a.text.substring(0,100),
100<=e.length&&(e=i18n("%s...",e)),util.appendTextSpan(d,e.escape()+"&nbsp;");else if("plugin"===a.specialNameType)e=s.getIconForStep(a,!0),b.create("div",{className:"inline-block execution-log-process-icon process-icon "+e+"-step-icon"},d),util.appendTextSpan(d,a.name.escape()+"&nbsp;"),a.command&&(e=i18n(a.command.plugin.name),f="",f="#RELEASE_VERSION#"===a.command.plugin.version?f+a.command.plugin.versionNumber:f+a.command.plugin.version,e=i18n("(%s v. %s)",e,f),f=b.create("div"),b.create("a",
{innerHTML:e,href:"#automationPlugin/"+a.command.plugin.id,className:"execution-log-process-link"},c?f:d),c&&new h({attachPoint:d,contents:f}));else if(a.patternActivity)d=n.nameFormatter(d,a,c);else{a.type&&(e=s.getIconForStep({activity:a}),b.create("div",{className:"inline-block execution-log-process-icon process-icon "+e+"-step-icon"},d));e=a.displayName;if(!e)e=a.name;a.name&&util.appendTextSpan(d,e.escape()+"&nbsp;")}return d};l.roleFormatter=function(a){var b=i18n("");a.role?b=a.role.name:"componentApprovalIterator"!==
a.type&&(b=i18n("Deleted Role"));return b};l.approvalTargetFormatter=function(a){var a=a.task,c="";a&&(a.environment?c=b.create("a",{innerHTML:a.environment.name.escape(),href:"#environment/"+a.environment.id}):a.application?c=b.create("a",{innerHTML:a.application.name.escape(),href:"#application/"+a.application.id}):a.component&&(c=b.create("a",{innerHTML:a.component.name.escape(),href:"#component/"+a.component.id})));return c};l.taskCompletedByFormatter=function(a){var a=a.task,b="";if(a&&a.completedBy)b=
a.completedBy,a.completedOn&&(b+=" ("+util.dateFormatShort(a.completedOn)+")");return b};l.statusFormatter=function(a,b){var d="",e=a.state,f=a.result;a.failureCaught&&(f="FAULTED");b.style.textAlign="center";"CLOSED"===e&&"SUCCEEDED"===f?a.notNeeded?(c.add(b,"gray-state-color"),"noResources"===a.notNeeded?d=i18n("Not Mapped"):"noComponents"===a.notNeeded?d=i18n("No Components Found"):"noVersionsSelected"===a.notNeeded?d=i18n("No Version Selected"):"noVersionsNeeded"===a.notNeeded?d=i18n("Already Installed"):
"noConfigurationChanged"===a.notNeeded?d=i18n("Configuration Not Changed"):"offline"===a.notNeeded?d=i18n("Resource Offline"):"roleNotFound"===a.notNeeded?d=i18n("Task Role Deleted"):"componentNotInApp"===a.notNeeded?d=i18n("Component Not Found"):"componentProcessDeleted"===a.notNeeded?d=i18n("Component Process Deleted"):"precondition"===a.notNeeded?d=i18n("Precondition Failed"):"genericProcessDeleted"===a.notNeeded&&(d=i18n("Generic Process Deleted"))):(c.add(b,"success-state-color"),d=i18n("Success")):
"CLOSED"===e&&"CANCELED"===f?(c.add(b,"gray-state-color"),d=i18n("Canceled")):"EXECUTING"===e?a.paused?(c.add(b,"gray-state-color"),d=i18n("Paused")):(c.add(b,"running-state-color"),d=i18n("Running")):"CLOSED"===e&&"FAULTED"===f||"FAULTING"===e?(c.add(b,"failed-state-color"),d=i18n("Failed")):"INITIALIZED"===e&&(c.add(b,"gray-state-color"),d=i18n("Not Started"));if(a.task)switch(a.task.status){case "OPEN":c.add(b,"running-state-color");d=i18n("Open");break;case "CLOSED":c.add(b,"success-state-color");
d=i18n("Complete");break;case "FAILED":c.add(b,"failed-state-color");d=i18n("Failed");break;case "CANCELLED":c.add(b,"gray-state-color"),d=i18n("Cancelled")}return d};l.actionsFormatter=function(d){var e=this,f=b.create("div");if(d.componentProcessRequest){var h=document.createElement("a");h.href="#componentProcessRequest/"+d.componentProcessRequest.id;h.innerHTML=i18n("Details");f.appendChild(h)}if(d.fault){h=b.create("a",{"class":"linkPointer"});h.onclick=function(){var a=new t,b=document.createElement("div");
if(d.fault.message)b.innerHTML=d.fault.message;else if(d.fault.type)b.innerHTML=d.fault.type;a.containerNode.appendChild(b);d.fault.trace&&(new m({label:i18n("Full Details..."),onClick:function(){var a,b,c=new t,e=document.createElement("div"),f=d.fault.trace.split(/\r\n|\n|\r/);for(a=0;a<f.length;a++)b=f[a],b=b.replace(/\&/,"&amp;"),b=b.replace(/>/,"&gt;"),b=b.replace(/</,"&lt;"),b=b.replace(/\t/,"&nbsp;&nbsp;&nbsp;&nbsp;"),b=b.replace(/ /,"&nbsp;"),b="<div>"+b+"</div>",f[a]=b;e.innerHTML=f.join("");
c.containerNode.appendChild(e);c.show()}})).placeAt(a.containerNode,"last");a.show()};var j=document.createElement("img");j.src=bootstrap.webextUrl+"images/webext/icons/icon_document_red.gif";j.title=i18n("Error Log");j.style.margin="0px 2px";h.appendChild(j);f.appendChild(h)}if(d.task)if("OPEN"===d.task.status)d.task.userCanModify&&(h=b.create("a",{"class":"linkPointer",innerHTML:i18n("Respond")},f),a(h,"click",function(){e.showApprovalDialog(d.task)}));else if(d.task.comment){var k=d.task,h=b.create("a",
{"class":"linkPointer"},f);a(h,"click",function(){var a=new t,b=document.createElement("div");b.innerHTML=k.comment?k.comment.escape():"";a.containerNode.appendChild(b);b=document.createElement("div");b.innerHTML="by "+k.completedBy+" on "+util.dateFormatShort(k.completedOn);b.style.marginTop="8px";b.style.marginLeft="12px";a.containerNode.appendChild(b);a.show()});j=document.createElement("img");j.src=bootstrap.webextUrl+"images/webext/icons/icon_document_white.gif";j.title=i18n("Comment");j.style.margin=
"0px 2px";h.appendChild(j)}else if("CLOSED"===d.task.status)h=document.createElement("span"),h.innerHTML=i18n("Completed by %s",d.task.completedBy),f.appendChild(h);else{if("FAILED"===d.task.status)h=document.createElement("span"),h.innerHTML=i18n("Failed by %s",d.task.completedBy),f.appendChild(h)}else if("plugin"===d.type){if("INITIALIZED"!==d.state){var l=new y;c.add(l.domNode,"logHeader");h=0;l.insertDiv(i18n("Working Directory"),d.workingDir,h);h++;d.username&&(l.insertDiv(i18n("Impersonation User"),
d.username,h),h++);d.password&&(l.insertDiv(i18n("Impersonation Password"),d.password,h),h++);d.group&&(l.insertDiv(i18n("Impersonation Group"),d.group,h),h++);null!==d.useSudo&&void 0!==d.useSudo&&(l.insertDiv(i18n("Use Sudo"),d.useSudo,h),h++);d.exception?(h=b.create("a",{"class":"linkPointer"},f),a(h,"click",function(){e.showErrorDialog(d)})):(h=b.create("a",{"class":"linkPointer"},f),a(h,"click",function(){(new o({url:bootstrap.restUrl+"logView/trace/"+d.workflowTraceId+"/"+d.id+"/stdOut.txt",
propsUrl:bootstrap.restUrl+"workflow/"+d.workflowTraceId+"/"+d.id+"/properties",title:i18n("Output Log"),autoRefresh:"EXECUTING"===d.state,header:l,paddingTop:"0px"})).show()}),j=document.createElement("img"),j.src=bootstrap.imageUrl+"icons/icon_output.gif",j.title=i18n("Output Log"),j.style.margin="0px 2px",h.appendChild(j),d.error?(h=b.create("a",{"class":"linkPointer"},f),a(h,"click",function(){e.showErrorDialog(d)})):(h=b.create("a",{"class":"linkPointer"},f),a(h,"click",function(){(new o({url:bootstrap.restUrl+
"logView/trace/"+d.workflowTraceId+"/"+d.id+"/log.txt",title:i18n("Error Log"),autoRefresh:"EXECUTING"===d.state})).show()})),j=document.createElement("img"),j.src=bootstrap.webextUrl+"images/webext/icons/icon_document_red.gif",j.title=i18n("Error Log"),j.style.margin="0px 2px",h.appendChild(j),h=b.create("a",{"class":"linkPointer"},f),a(h,"click",function(){e.showPropertiesDialog(d)}),j=document.createElement("img"),j.src=bootstrap.webextUrl+"images/webext/icons/icon_document_white.gif",j.title=
i18n("Input/Output Properties"),j.style.margin="0px 2px",h.appendChild(j));if(d.detailsLink)h=document.createElement("a"),h.href=d.detailsLink,h.innerHTML=i18n("Details"),f.appendChild(h)}}else if("switch"===d.type){if("INITIALIZED"!==d.state)h=b.create("a",{"class":"linkPointer"},f),a(h,"click",function(){var a=new t,b=new y;b.placeAt(a.containerNode);b.insertDiv(i18n("Property Name"),d.propertyName.escape());b.insertDiv(i18n("Value at Runtime"),d.value.escape());a.show()}),j=document.createElement("img"),
j.src=bootstrap.webextUrl+"images/webext/icons/icon_document_white.gif",j.title=i18n("Error Log"),j.style.margin="0px 2px",h.appendChild(j)}else if("acquireLock"===d.type||"releaseLock"===d.type){if("INITIALIZED"!==d.state)h=b.create("a",{"class":"linkPointer"},f),a(h,"click",function(){var a=new t,b=new y;b.placeAt(a.containerNode);b.insertDiv(i18n("Lock Name"),d.lockName.escape());a.show()}),j=document.createElement("img"),j.src=bootstrap.webextUrl+"images/webext/icons/icon_document_white.gif",
j.title=i18n("Details"),j.style.margin="0px 2px",h.appendChild(j)}else if("runProcess"===d.type)(h=d.childRequestId)&&b.create("a",{innerHTML:i18n("View Child Execution"),href:"#processRequest/"+h},f);else if("componentProcess"===d.type)(h=d.componentProcessRequestId)&&b.create("a",{innerHTML:i18n("View Child Execution"),href:"#componentProcessRequest/"+h},f);d.patternActivity&&n.actionsFormatter(d,f);return f};l.actionsMenuFormatter=function(a,b){var e=this,h=[],j=function(a){return'<div class="inlineBlock general-icon '+
a+'" ></div>'};a.componentProcessRequest&&h.push({label:i18n("Details"),showLabel:!0,icon:j("pageIcon"),href:"#componentProcessRequest/"+a.componentProcessRequest.id});a.error?h.push({label:i18n("Error Log"),icon:j("pageIconRed"),onClick:function(){e.showErrorDialog(a)}}):a.fault&&h.push({label:i18n("Error Log"),icon:j("pageIconRed"),onClick:function(){var d=new t,e=document.createElement("div");if(a.fault.message)e.innerHTML=a.fault.message;else if(a.fault.type)e.innerHTML=a.fault.type;d.containerNode.appendChild(e);
a.fault.trace&&((new m({label:i18n("Full Details..."),onClick:function(){var b,c,d=new t,e=document.createElement("div"),f=a.fault.trace.split(/\r\n|\n|\r/);for(b=0;b<f.length;b++)c=f[b],c=c.replace(/\&/,"&amp;"),c=c.replace(/>/,"&gt;"),c=c.replace(/</,"&lt;"),c=c.replace(/\t/,"&nbsp;&nbsp;&nbsp;&nbsp;"),c=c.replace(/ /,"&nbsp;"),c="<div>"+c+"</div>",f[b]=c;e.innerHTML=f.join("");d.containerNode.appendChild(e);d.show()}})).placeAt(d.containerNode,"last"),c.add(b,"always-show-actions"));d.show()}});
if(a.patternActivity)n.actionsMenuFormatter(a,b,h);else if(a.task)if("OPEN"===a.task.status)a.task.userCanModify&&(h.push({label:i18n("Respond"),showLabel:!0,onClick:function(){e.showApprovalDialog(a.task)}}),c.add(b,"always-show-actions"));else if(a.task.comment){var k=a.task;h.push({label:i18n("Completion Log"),icon:j("pageIcon"),onClick:function(){var a=new t,b=document.createElement("div");b.innerHTML=k.comment?k.comment.escape():"";a.containerNode.appendChild(b);b=document.createElement("div");
b.innerHTML="by "+k.completedBy+" on "+util.dateFormatShort(k.completedOn);b.style.marginTop="8px";b.style.marginLeft="12px";a.containerNode.appendChild(b);a.show()}})}else"CLOSED"===a.task.status?h.push({label:i18n("Completed by %s on %s",a.task.completedBy,util.dateFormatShort(a.task.completedOn)),showLabel:!0}):"FAILED"===a.task.status&&h.push({label:i18n("Failed by %s on %s",a.task.completedBy,util.dateFormatShort(a.task.completedOn)),showLabel:!0});else if("plugin"===a.type){if("INITIALIZED"!==
a.state){var l=new y;c.add(l.domNode,"logHeader");var q=0;l.insertDiv(i18n("Working Directory"),a.workingDir,q);q++;a.username&&(l.insertDiv(i18n("Impersonation User"),a.username,q),q++);a.password&&(l.insertDiv(i18n("Impersonation Password"),a.password,q),q++);a.group&&(l.insertDiv(i18n("Impersonation Group"),a.group,q),q++);null!==a.useSudo&&void 0!==a.useSudo&&(l.insertDiv(i18n("Use Sudo"),a.useSudo,q),q++);(!a.error||"CANCELED"===a.result)&&h.splice(0,0,{label:i18n("Output Log"),icon:j("consoleIcon"),
onClick:function(){(new o({url:bootstrap.restUrl+"logView/trace/"+a.workflowTraceId+"/"+a.id+"/stdOut.txt",propsUrl:bootstrap.restUrl+"workflow/"+a.workflowTraceId+"/"+a.id+"/properties",title:i18n("Output Log"),autoRefresh:"EXECUTING"===a.state,header:l,paddingTop:"0px"})).show()}});!a.fault&&!a.error&&a.errorLogExists&&h.push({label:i18n("Error Log"),icon:j("pageIconRed"),onClick:function(){(new o({url:bootstrap.restUrl+"logView/trace/"+a.workflowTraceId+"/"+a.id+"/log.txt",title:i18n("Error Log"),
autoRefresh:"EXECUTING"===a.state})).show()}});h.push({label:i18n("Input/Output Properties"),icon:j("pageIcon"),onClick:function(){e.showPropertiesDialog(a)}});f.forEach(a.extraLogs,function(b){-1!==a.extraLogs.indexOf(b+".compare")?h.push({label:b,icon:j("compareIcon"),onClick:function(){d.get({url:bootstrap.restUrl+"logView/trace/compare/"+a.workflowTraceId+"/"+a.id+"/"+b,handleAs:"json",load:function(a){if("resource"===a.type){var c=new t({title:i18n("Differences"),closable:!0,draggable:!1,width:-50});
(new r({readOnly:!0,data:a.data})).placeAt(c.containerNode);c.show()}else"file"===a.type&&(new v({data:a.data,title:i18n("File Differences"),version1:b,version2:b+".compare"})).show()}})}}):(-1===b.indexOf(".compare",b.length-8)||-1===a.extraLogs.indexOf(b.substring(0,b.length-8)))&&h.push({label:b,icon:j("extraLogIcon"),onClick:function(){(new o({url:bootstrap.restUrl+"logView/trace/"+a.workflowTraceId+"/"+a.id+"/"+b,title:b,autoRefresh:"EXECUTING"===a.state})).show()}})});a.detailsLink&&h.push({label:i18n("Details"),
showLabel:!0,href:a.detailsLink,handleNavigationError:function(){navBar.lastNotFoundAppReqHash===this.href.substr(1)&&w.showErrorDialog(i18n("Deployment history details were deleted"),i18n("No deployment history is available for this application process request, because daily cleanup removed all the details."))}})}}else"switch"===a.type?"INITIALIZED"!==a.state&&"FAULTED"!==a.result&&h.push({label:i18n("Output Log"),icon:j("pageIcon"),onClick:function(){var b=new t({title:i18n("%s Output",util.escape(a.name))}),
c=new y;c.placeAt(b.containerNode);c.insertDiv(i18n("Property Name"),a.propertyName.escape());c.insertDiv(i18n("Value at Runtime"),a.value.escape());b.show()}}):("acquireLock"===a.type||"releaseLock"===a.type)&&"INITIALIZED"!==a.state&&"FAULTED"!==a.result?h.push({label:i18n("More Info"),icon:j("pageIcon"),onClick:function(){var b=new t,c=new y;c.placeAt(b.containerNode);c.insertDiv(i18n("Lock Name"),a.lockName.escape());b.show()}}):"runProcess"===a.type?(q=a.childRequestId)&&(h=[{label:i18n("View Child Execution"),
showLabel:!0,href:"#processRequest/"+q}]):"componentProcess"===a.type?(q=a.componentProcessRequestId)&&(h=[{label:i18n("View Child Execution"),showLabel:!0,href:"#componentProcessRequest/"+q}]):"resourceDiscovery"===a.type&&(a.error||h.splice(0,0,{label:i18n("Output Log"),icon:j("consoleIcon"),onClick:function(){(new o({url:bootstrap.restUrl+"logView/resourceDiscovery/"+a.logReferenceId+"/stdOut.txt",title:i18n("Output Log"),autoRefresh:"EXECUTING"===a.state,paddingTop:"0px"})).show()}}),"COMPARE"===
a.actionType&&"SUCCEEDED"===a.result&&h.push({label:i18n("Compare with Live Cell"),icon:j("compareIcon"),onClick:function(){var b=new t({title:i18n("Compare with Live Cell"),closable:!0,draggable:!1,width:-50});(new r({readOnly:!0,url:bootstrap.restUrl+"resource/resource/transientCompare/"+a.resource.id+"/"+a.logReferenceId})).placeAt(b.containerNode);b.show()}}));a.iterationProperties&&h.push({label:i18n("Iteration Properties"),icon:j("pageIcon"),onClick:function(){e.showIterationPropertiesDialog(a)}});
return h};l.showPropertiesDialog=function(e){var h=e.id,j=new t,k=document.createElement("div"),l=document.createElement("div");l.className="hidden";var o="input",m=document.createElement("span");m.innerHTML=i18n("Input Properties");var n=b.create("a",{"class":"linkPointer",innerHTML:i18n("View Output Properties")});a(n,"click",function(){"output"===o?(c.add(l,"hidden"),c.remove(k,"hidden"),m.innerHTML=i18n("Input Properties"),n.innerHTML=i18n("View Output Properties"),o="input"):(c.add(k,"hidden"),
c.remove(l,"hidden"),m.innerHTML=i18n("Output Properties"),n.innerHTML=i18n("View Input Properties"),o="output")});var q=document.createElement("div");q.className="containerLabel";q.appendChild(m);util.appendTextSpan(q,"&nbsp; - &nbsp;");q.appendChild(n);var r=document.createElement("div");r.className="innerContainer";r.appendChild(l);r.appendChild(k);var s=document.createElement("div");s.style.maxWidth="700px";s.style.maxHeight="500px";s.style.overflow="auto";s.appendChild(q);s.appendChild(r);j.containerNode.appendChild(s);
j.show();d.get({url:bootstrap.restUrl+"workflow/"+e.workflowTraceId+"/"+h+"/properties",handleAs:"json",load:function(a){a.properties?(new x({data:a.properties,serverSideProcessing:!1,columns:[{name:i18n("Name"),field:"name","class":"activity-property-name",orderField:"name",getRawValue:function(a){return a.name}},{name:i18n("Value"),field:"value","class":"activity-property-value",formatter:function(a,c){var d=b.create("div");c&&f.forEach(c.split("\n"),function(a){b.create("div",{innerHTML:a.escape()},
d)});return d}}],orderField:"name",hidePagination:!0,style:{maxWidth:"640px"}})).placeAt(k):util.appendTextSpan(l,i18n("No input properties are available at this time."));a.outputProps?(new x({data:a.outputProps,serverSideProcessing:!1,columns:[{name:i18n("Name"),field:"name","class":"activity-property-name",orderField:"name",getRawValue:function(a){return a.name}},{name:i18n("Value"),field:"value","class":"activity-property-value",formatter:function(a,c){var d=b.create("div");c&&f.forEach(c.split("\n"),
function(a){b.create("div",{innerHTML:a.escape()},d)});return d}}],orderField:"name",hidePagination:!0,style:{maxWidth:"640px"}})).placeAt(l):util.appendTextSpan(l,i18n("No output properties are available at this time."))}})};l.showIterationPropertiesDialog=function(a){var c=new t({title:i18n("Iteration Properties")}),d=b.create("div",{style:{maxWidth:"700px",maxHeight:"500px",overflow:"auto"}},c.containerNode),d=b.create("div",{className:"innerContainer"},d),e=[],h;for(h in a.iterationProperties)a.iterationProperties.hasOwnProperty(h)&&
e.push({name:h,value:a.iterationProperties[h]});b.create("div",{innerHTML:i18n("These properties can be referenced by any steps inside this iteration using ${p:&lt;name&gt;}.")},d);(new x({data:e,serverSideProcessing:!1,columns:[{name:i18n("Name"),field:"name","class":"activity-property-name",orderField:"name",getRawValue:function(a){return a.name}},{name:i18n("Value"),field:"value","class":"activity-property-value",formatter:function(a,c){var d=b.create("div");c&&f.forEach(c.split("\n"),function(a){b.create("div",
{innerHTML:a.escape()},d)});return d}}],orderField:"name",noDataMessage:i18n("No iteration properties found."),hidePagination:!0,style:{maxWidth:"640px"}})).placeAt(d);c.show()};l.showErrorDialog=function(a){var c=new t,d=b.create("div",{style:{maxWidth:"700px",maxHeight:"500px",overflow:"auto"}},c.containerNode);b.create("div",{innerHTML:i18n("Error")},c.titleNode);d=b.create("div",{},d);util.appendTextSpan(d,i18n(a.exception||a.error));c.show()};l.showApprovalDialog=function(a){new q({task:a})};
l.progressFormatter=function(a,d,e){var f=["plugin","componentProcess","runProcess","patternResource"],h=b.create("div",{className:"inlineBlock progressContainer"});c.add(d,"progressCell");var d=this.getTotalChildCount(a,f),j=this.getClosedChildCount(a,f),k=this.getSucceededChildCount(a,f),a=this.getFailedChildCount(a,f);if(0<k||0===d)b.create("div",{className:"inlineBlock progressMeter success-state-color"},h).style.width=0===d?"100%":100*(k/d)+"%";if(0<a)b.create("div",{className:"inlineBlock progressMeter failed-state-color"},
h).style.width=100*(a/d)+"%";if(j<d)a=d-j,b.create("div",{className:"inlineBlock progressMeter running-state-color"},h).style.width=100*(a/d)+"%";d=b.create("div",{className:"progressLabel",innerHTML:j+" / "+d},h);if(e)h=d.innerHTML;return h};l.getTotalChildCount=function(a,b){var c=this,d=0;f.forEach(a.children,function(a){-1<b.indexOf(a.type)&&d++;d+=c.getTotalChildCount(a,b)});return d};l.getClosedChildCount=function(a,b){var c=this,d=0;f.forEach(a.children,function(a){-1<b.indexOf(a.type)&&"CLOSED"===
a.state&&d++;d+=c.getClosedChildCount(a,b)});return d};l.getSucceededChildCount=function(a,b){var c=this,d=0;f.forEach(a.children,function(a){-1<b.indexOf(a.type)&&"CLOSED"===a.state&&"SUCCEEDED"===a.result&&d++;d+=c.getSucceededChildCount(a,b)});return d};l.getFailedChildCount=function(a,b){var c=this,d=0;f.forEach(a.children,function(a){-1<b.indexOf(a.type)&&"CLOSED"===a.state&&"FAULTED"===a.result&&d++;d+=c.getFailedChildCount(a,b)});return d}})},"deploy/widgets/componentTemplate/EditComponentTemplate":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/array,dojo/_base/declare,dojo/dom-construct,dojo/on,dojo/_base/xhr,js/webext/widgets/Alert,js/webext/widgets/ColumnForm,js/webext/widgets/DomNode,js/webext/widgets/RestSelect,deploy/widgets/security/TeamSelector".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q){return j("deploy.widgets.componentTemplate.EditComponentTemplate",[m,l],{templateString:'<div class="editComponentTemplate">  <div data-dojo-attach-point="formAttach"></div></div>',postCreate:function(){this.inherited(arguments);var a=this;this.sourceConfigPropertyNames=[];this.existingValues={componentType:"STANDARD"};if(this.componentTemplate){if(this.readOnly=!this.componentTemplate.security["Edit Basic Settings"],this.existingValues=this.componentTemplate,this.existingValues.componentType=
this.componentTemplate.componentType,!this.readOnly)this.readOnly=this.componentTemplate.version!==this.componentTemplate.versionCount}else d.get({url:bootstrap.restUrl+"security/teamsWithCreateAction/Component Template",handleAs:"json",sync:!0,load:function(b){a.existingValues.extendedSecurity={teams:b}}});var e=[];this.sourceConfigPluginSelect=new h({restUrl:bootstrap.restUrl+"plugin/sourceConfigPlugin",getLabel:function(a){return i18n(a.name)},getValue:function(a){return a.name},value:this.existingValues.sourceConfigPluginName,
onChange:function(b,c){k.forEach(e,function(b){a.removePropertyField(a.form,b)});e=[];if(c){var d=c.componentPropSheetDef.name;k.forEach(c.componentPropDefs,function(b){var c=null;if(a.existingValues.sourceConfigProperties&&(c=util.getNamedProperty(a.existingValues.sourceConfigProperties,b.name)))b.value=c.value;var f=util.clone(b),b=d+"/"+b.name;f.name=b;f.translate=!0;e.push(b);if(-1<f.label.indexOf("URL")||-1<f.label.indexOf(" Url"))f.textDir="ltr";else if(-1<f.label.indexOf("Vob Location")||-1<
f.label.indexOf("Path"))f.textDir="ltr";a.addPropertyField(a.form,f,!!c)})}}});this.form=new b({submitUrl:bootstrap.restUrl+"deploy/componentTemplate",postSubmit:function(b){navBar.setHash("componentTemplate/"+b.id+"/-1");void 0!==a.callback&&a.callback()},addData:function(b){if(a.componentTemplate)b.existingId=a.componentTemplate.id;b.properties={};k.forEach(a.sourceConfigPropertyNames,function(a){void 0!==b[a]&&(b.properties[a]=b[a],delete b[a])});b.teamMappings=a.teamSelector.teams},onError:function(a){a.responseText&&
new c({message:util.escape(a.responseText)})},onCancel:function(){void 0!==a.callback&&a.callback()},readOnly:a.readOnly,showButtons:!a.readOnly});this.form.addField({name:"name",label:i18n("Name"),required:!0,type:"Text",value:this.existingValues.name});this.form.addField({name:"description",label:i18n("Description"),type:"Text",value:this.existingValues.description});var f=[];if(a.existingValues&&a.existingValues.extendedSecurity&&a.existingValues.extendedSecurity.teams)f=a.existingValues.extendedSecurity.teams;
a.teamSelector=new q({resourceRoleType:"Component Template",noneLabel:i18n("Standard Component Template"),teams:f});this.form.addField({name:"teams",label:i18n("Teams"),type:"Text",widget:a.teamSelector});this.form.addField({name:"componentType",label:i18n("Component Type"),description:i18n("The Type of Component. z/OS components do not use source configs and will have them disabled."),type:"Select",allowedValues:[{label:i18n("Standard"),value:"STANDARD"},{label:i18n("z/OS"),value:"ZOS"}],onChange:function(b){a.existingValues.componentType=
b;"ZOS"===b?(a.removeSourceConfigField(),a.removeAllSourceConfigPropertyFields(),a.showIgnoreQualifiers()):(a.removeIgnoreQualifiers(),a.addSourceConfigField())},value:this.existingValues.componentType});"ZOS"!==this.existingValues.componentType?a.addSourceConfigField():a.showIgnoreQualifiers();this.form.placeAt(this.formAttach)},showIgnoreQualifiers:function(){this.form.addField({name:"ignoreQualifiers",label:i18n("High Level Qualifier Length"),required:!1,type:"Text",value:!this.existingValues.ignoreQualifiers?
"0":this.existingValues.ignoreQualifiers},"_sourceProperties")},removeIgnoreQualifiers:function(){this.form.removeField("ignoreQualifiers")},addSourceConfigField:function(){var a=this,b=null;if(this.existingValues.sourceConfigPlugin)b=this.existingValues.sourceConfigPlugin.id;this.form.addField({name:"sourceConfigPlugin",type:"TableFilterSelect",label:i18n("Source Configuration Type"),url:bootstrap.restUrl+"plugin/sourceConfigPlugin",description:i18n("The source configuration plugin to use for this component."),
value:b,idProperty:function(a){return a.name},defaultQuery:{outputType:["BASIC","LINKED","EXTENDED"]},allowNone:!0,onChange:function(b,d){k.forEach(a.sourceConfigPropertyNames,function(b){a.removePropertyField(a.form,b)});a.sourceConfigPropertyNames=[];void 0!==a.componentTemplate&&d.id!==this.value&&new c({message:util.escape("When you change the source configuration of a component template you will have to also update the configuration of components based on that template before you do version imports.")});
if(d){var e=d.componentPropSheetDef.name;k.forEach(d.componentPropDefs,function(b){var c=null;if(a.existingValues.sourceConfigProperties&&(c=util.getNamedProperty(a.existingValues.sourceConfigProperties,b.name)))b.value=c.value;var d=util.clone(b),b=e+"/"+b.name;d.name=b;d.translate=!0;a.sourceConfigPropertyNames.push(b);a.addPropertyField(a.form,d,!!c)})}}},"_sourceProperties")},removeSourceConfigField:function(){this.form.removeField("sourceConfigPlugin")},updateSourceConfig:function(a){"ZOS"===
a?this.form.removeField("sourceConfigPlugin"):this.addSourceConfigField()},addPropertyField:function(b,c,d,h){var j="runtime_switch_"+c.name,k=new a,l=f.create("a",{"class":"linkPointer",innerHTML:i18n("Prompt for a value on use"),style:{marginBottom:"5px"}},k.domAttach),m={name:j,widget:k,label:""},q="config_switch_"+c.name,k=new a,y=f.create("a",{"class":"linkPointer",innerHTML:i18n("Set a value here"),style:{marginBottom:"5px"}},k.domAttach),A={name:q,widget:k,label:i18n(c.label)};e(l,"click",
function(){b.addField(A,c.name);b.removeField(j);b.removeField(c.name)});e(y,"click",function(){b.addField(c,q);b.addField(m,q);b.removeField(q)});d?(b.addField(c,h),this.readOnly||b.addField(m,h)):b.addField(A,h)},removeAllSourceConfigPropertyFields:function(){var a=this.sourceConfigPropertyNames.length,b;for(b=0;b<a;b++)this.removePropertyField(this.form,this.sourceConfigPropertyNames[b]);this.sourceConfigPropertyNames=[]},removePropertyField:function(a,b){var c="config_switch_"+b,d="runtime_switch_"+
b;a.hasField(c)?a.removeField(c):(a.removeField(b),a.removeField(d))}})})},"deploy/widgets/integration/pattern/EditPatternIntegrationProvider":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/CheckBox,dijit/form/Button,dijit/form/RadioButton,dojo/dom-class,dojo/dom-construct,dojo/on,dojo/_base/xhr,dojo/_base/declare,js/webext/widgets/ColumnForm,js/webext/widgets/Dialog,js/webext/widgets/RestSelect".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q){return a("deploy.widgets.integration.pattern.EditPatternIntegrationProvider",
[m,l],{templateString:'<div class="editIntegrationProvider">  <div data-dojo-attach-point="formAttach"></div></div>',postCreate:function(){this.inherited(arguments);var a=this,b={properties:{}};this.existingValues=b;if(this.integrationProvider)b.id=this.integrationProvider.id,b.name=this.integrationProvider.name,b.description=this.integrationProvider.description,b.integrationTypeName=this.integrationProvider.integrationTypeName,b.integrationType=this.integrationProvider.integrationType,b.properties=
this.integrationProvider.properties;this.form=new h({submitUrl:bootstrap.restUrl+"integration/pattern",postSubmit:function(){void 0!==a.callback&&a.callback()},addData:function(c){if(a.integrationProvider)c.existingId=b.id;var d={},e,f;for(e in c)if(c.hasOwnProperty(e))if(0===e.indexOf("property/"))f=e.substring(9),d[f]=c[e],delete c[e];else if("realmOrUserCreds"===e)d.useAdminCredentials="userCreds"===c[e]?!0:!1,delete c[e];c.properties=d},onCancel:function(){void 0!==a.callback&&a.callback()}});
this.form.addField({name:"name",label:i18n("Name"),required:!0,type:"Text",value:b.name});this.form.addField({name:"description",label:i18n("Description"),type:"Text",value:b.description});this.form.addField({name:"property/landscaperUrl",label:i18n("URL"),description:i18n("Base URL for the blueprint designer"),type:"Text",bidiDynamicURL:"URL",required:!0,value:util.getNamedPropertyValue(b.properties,"landscaperUrl")});var d="userCreds";"false"===util.getNamedPropertyValue(b.properties,"useAdminCredentials")&&
(d="realm");var e=function(b){a.removeUserNameField();a.removeUserPassField();a.removeRealmUserTextField();a.removeManualUserTextField();"userCreds"===b?(a.addRealmUserTextField(),a.addUserNameField(),a.addUserPassField()):a.addManualUserTextField()};this.form.addField({name:"realmOrUserCreds",type:"Radio",label:i18n("Response"),required:!0,value:d,allowedValues:[{label:i18n("Automatically authenticate for each UrbanCode Deploy user."),value:"realm"},{label:i18n("Always authenticate with one blueprint designer user name."),
value:"userCreds"}],onChange:e});e(d);this.form.testConnectionButton=new j({label:i18n("Test Connection")});this.form.testConnectionButton.placeAt(this.form.buttonsAttach);c(this.form.testConnectionButton,"click",function(){a.checkConnection()});this.form.placeAt(this.formAttach)},addUserNameField:function(){this.form.hasField("property/landscaperUser")||this.form.addField({name:"property/landscaperUser",label:i18n("Username"),description:i18n("Username for the account to use when authenticating to the blueprint designer"),
type:"Text",required:!0,value:util.getNamedPropertyValue(this.existingValues.properties,"landscaperUser")})},removeUserNameField:function(){this.form.hasField("property/landscaperUser")&&this.form.removeField("property/landscaperUser")},addUserPassField:function(){this.form.hasField("property/landscaperPassword")||this.form.addField({name:"property/landscaperPassword",label:i18n("Password"),description:i18n("Password for the account to use when authenticating to the blueprint designer"),type:"Secure",
required:!0,value:util.getNamedPropertyValue(this.existingValues.properties,"landscaperPassword")});return"admin"},removeUserPassField:function(){this.form.hasField("property/landscaperPassword")&&this.form.removeField("property/landscaperPassword")},addRealmUserTextField:function(){this.form.hasField("_realmUserNote")||this.form.addField({name:"_realmUserNote",type:"Label",label:"",value:i18n("Ensure that blueprint designer user name that you enter has permissions to access the cloud platforms where you provision cloud environments. The default administrative account for the blueprint design server, ucdpadmin, might not have access to the required resources on the target cloud platforms.  ")})},
removeRealmUserTextField:function(){this.form.hasField("_realmUserNote")&&this.form.removeField("_realmUserNote")},addManualUserTextField:function(){this.form.hasField("_manualUserNote")||this.form.addField({name:"_manualUserNote",type:"Label",label:"",value:i18n('On the blueprint designer, you must create an authentication  realm for this UrbanCode Deploy server. To see the instructions for creating the authentication realm, open the documentation, and search for "Importing user accounts from IBM UrbanCode Deploy to the blueprint design server."')})},
removeManualUserTextField:function(){this.form.hasField("_manualUserNote")&&this.form.removeField("_manualUserNote")},checkConnection:function(){var a=this,c=this.form.postSubmit;delete this.form.postSubmit;var f=!1;this.form.onSubmit=function(){f=!0};this.form.submitForm();delete this.form.onSubmit;this.form.postSubmit=c;f&&(c=a.form.getData(),c=a.form.formatData(c),a.form.block(),b.post({url:bootstrap.restUrl+"integration/pattern/testConnection",handleAs:"json",putData:c,headers:{"Content-Type":"application/json"},
load:function(b){var c=new q;b.error?(b=b.error,d.create("div",{innerHTML:i18n("Connection Failed")},c.titleNode),d.create("div",{innerHTML:b},c.containerNode)):(d.create("div",{innerHTML:i18n("Connection Successful")},c.titleNode),d.create("div",{innerHTML:i18n("Connection Successful")},c.containerNode));b=new j({label:i18n("Close"),onClick:function(){this.parentWidget.destroy()}});e.add(b.domNode,"underField");b.parentWidget=c;b.placeAt(c.containerNode);c.show();a.form.unblock()}}))}})})},"deploy/widgets/component/ComponentImportFailureIcon":function(){define(["dijit/_TemplatedMixin",
"dijit/_Widget","dijit/Tooltip","dojo/_base/declare"],function(l,m,k,j){return j("deploy.widgets.component.ComponentFileTable",[m,l],{templateString:'<div class="general-icon failed-icon inlineBlock"></div>',postCreate:function(){this.inherited(arguments);if(!this.label)this.label=i18n("A version import failed. Check the component's configuration for more details.");new k({connectId:[this.domNode],label:this.label,showDelay:100,position:["after","above","below","before"]})}})})},"dojo/dnd/Target":function(){define(["../_base/declare",
"../dom-class","./Source"],function(l,m,k){return l("dojo.dnd.Target",k,{constructor:function(){this.isSource=!1;m.remove(this.node,"dojoDndSource")}})})},"deploy/widgets/security/authorization/EditGroup":function(){define(["dijit/_TemplatedMixin","dijit/_Widget","dojo/_base/declare","js/webext/widgets/ColumnForm","js/webext/widgets/RestSelect"],function(l,m,k,j,f){return k("deploy.widgets.security.authorization.EditGroup",[m,l],{templateString:'<div class="editGroup">  <div data-dojo-attach-point="formAttach"></div></div>',
postCreate:function(){this.inherited(arguments);var e=this;this.existingValues={};this.group?(this.existingValues=this.group,this.submitMethod="PUT",this.submitUrl=bootstrap.baseUrl+"security/group/"+this.group.id):(this.submitMethod="POST",this.submitUrl=bootstrap.baseUrl+"security/group");this.form=new j({submitUrl:this.submitUrl,submitMethod:this.submitMethod,postSubmit:function(){void 0!==e.callback&&e.callback(!0)},addData:function(c){if(e.group)c.existingId=e.group.id},onCancel:function(){void 0!==
e.callback&&e.callback()}});this.form.addField({name:"name",label:i18n("Name"),required:!0,type:"Text",value:this.existingValues.name});if(!this.group){var d=new f({restUrl:"security/authorizationRealm",allowNone:!1,isValid:function(c){return"com.urbancode.security.authorization.internal.InternalAuthorizationModule"===c.authorizationModuleClassName},value:this.existingValues.authorizationRealmId});this.form.addField({name:"authorizationRealm",label:i18n("Authorization Realm"),required:!0,widget:d})}this.form.placeAt(this.formAttach)}})})},
"dijit/form/SimpleTextarea":function(){define("dijit/form/SimpleTextarea",["dojo/_base/declare","dojo/dom-class","dojo/sniff","./TextBox"],function(l,m,k,j){return l("dijit.form.SimpleTextarea",j,{baseClass:"dijitTextBox dijitTextArea",rows:"3",cols:"20",templateString:"<textarea ${!nameAttrSetting} data-dojo-attach-point='focusNode,containerNode,textbox' autocomplete='off'></textarea>",postMixInProperties:function(){if(!this.value&&this.srcNodeRef)this.value=this.srcNodeRef.value;this.inherited(arguments)},
buildRendering:function(){this.inherited(arguments);k("ie")&&this.cols&&m.add(this.textbox,"dijitTextAreaCols")},filter:function(f){f&&(f=f.replace(/\r/g,""));return this.inherited(arguments)},_onInput:function(f){if(this.maxLength){var e=parseInt(this.maxLength),d=this.textbox.value.replace(/\r/g,""),e=d.length-e;if(0<e){var c=this.textbox;if(c.selectionStart){var b=c.selectionStart,a=0;if(k("opera"))a=(this.textbox.value.substring(0,b).match(/\r/g)||[]).length;this.textbox.value=d.substring(0,b-
e-a)+d.substring(b-a);c.setSelectionRange(b-e,b-e)}else if(this.ownerDocument.selection)c.focus(),d=this.ownerDocument.selection.createRange(),d.moveStart("character",-e),d.text="",d.select()}}this.inherited(arguments)}})})},"dijit/ColorPalette":function(){require({cache:{"url:dijit/templates/ColorPalette.html":'<div class="dijitInline dijitColorPalette" role="grid">\n\t<table dojoAttachPoint="paletteTableNode" class="dijitPaletteTable" cellSpacing="0" cellPadding="0" role="presentation">\n\t\t<tbody data-dojo-attach-point="gridNode"></tbody>\n\t</table>\n</div>\n'}});
define("dijit/ColorPalette","require,dojo/text!./templates/ColorPalette.html,./_Widget,./_TemplatedMixin,./_PaletteMixin,./hccss,dojo/i18n,dojo/_base/Color,dojo/_base/declare,dojo/dom-construct,dojo/string,dojo/i18n!dojo/nls/colors,dojo/colors".split(","),function(l,m,k,j,f,e,d,c,b,a,h){var q=b("dijit.ColorPalette",[k,j,f],{palette:"7x10",_palettes:{"7x10":["white,seashell,cornsilk,lemonchiffon,lightyellow,palegreen,paleturquoise,lightcyan,lavender,plum".split(","),"lightgray,pink,bisque,moccasin,khaki,lightgreen,lightseagreen,lightskyblue,cornflowerblue,violet".split(","),
"silver,lightcoral,sandybrown,orange,palegoldenrod,chartreuse,mediumturquoise,skyblue,mediumslateblue,orchid".split(","),"gray,red,orangered,darkorange,yellow,limegreen,darkseagreen,royalblue,slateblue,mediumorchid".split(","),"dimgray,crimson,chocolate,coral,gold,forestgreen,seagreen,blue,blueviolet,darkorchid".split(","),"darkslategray,firebrick,saddlebrown,sienna,olive,green,darkcyan,mediumblue,darkslateblue,darkmagenta".split(","),"black,darkred,maroon,brown,darkolivegreen,darkgreen,midnightblue,navy,indigo,purple".split(",")],
"3x4":[["white","lime","green","blue"],["silver","yellow","fuchsia","navy"],["gray","red","purple","black"]]},templateString:m,baseClass:"dijitColorPalette",_dyeFactory:function(a,b,c,d){return new this._dyeClass(a,b,c,d)},buildRendering:function(){this.inherited(arguments);this._dyeClass=b(q._Color,{palette:this.palette});this._preparePalette(this._palettes[this.palette],d.getLocalization("dojo","colors",this.lang))}});q._Color=b("dijit._Color",c,{template:"<span class='dijitInline dijitPaletteImg'><img src='${blankGif}' alt='${alt}' title='${title}' class='dijitColorPaletteSwatch' style='background-color: ${color}'/></span>",
hcTemplate:"<span class='dijitInline dijitPaletteImg' style='position: relative; overflow: hidden; height: 12px; width: 14px;'><img src='${image}' alt='${alt}' title='${title}' style='position: absolute; left: ${left}px; top: ${top}px; ${size}'/></span>",_imagePaths:{"7x10":l.toUrl("./themes/a11y/colors7x10.png"),"3x4":l.toUrl("./themes/a11y/colors3x4.png")},constructor:function(a,b,d,e){this._title=e;this._row=b;this._col=d;this.setColor(c.named[a])},getValue:function(){return this.toHex()},fillCell:function(b,
c){var d=h.substitute(e("highcontrast")?this.hcTemplate:this.template,{color:this.toHex(),blankGif:c,alt:this._title,title:this._title,image:this._imagePaths[this.palette].toString(),left:-20*this._col-5,top:-20*this._row-5,size:"7x10"==this.palette?"height: 145px; width: 206px":"height: 64px; width: 86px"});a.place(d,b)}});return q})},"deploy/widgets/FormDelegateRegistry":function(){define("dojo/dom-style,dojo/store/JsonRest,deploy/widgets/scripts/Editor,deploy/widgets/version/VersionSelector,js/webext/widgets/FormDelegates,js/webext/widgets/select/WebextSelect".split(","),
function(l,m,k,j,f,e){f.registerDelegate("CodeEditor",function(d){var c=new k({name:d.name,label:d.label,language:d.language,fontSize:d.fontSize,syntaxCheck:d.syntaxCheck,existingValue:d.value,colorTheme:d.colorTheme,hasToolbar:d.hasToolbar});if(void 0!==d.onChange)c.onChange=d.onChange;return c});f.registerDelegate("TagDropDown",function(d){d.disabled=!!d.readOnly;d.allowNone=!0;d.defaultQuery={filterFields:["objectType"],filterType_objectType:"eq",filterValue_objectType:d.objectType};d.formatDropDownLabel=
function(c,b){l.set(c,"borderLeft","thick solid "+b.color)};d.store=new m({target:bootstrap.restUrl+"tag/",idProperty:d.idProperty||"id"});return new e(d)});f.registerDelegate("ApplicationComponentSelect",function(d){d.applicationId||console.error("Param 'applicationId' not set on ApplicationComponentSelect.");var c=d.multi?"TableFilterMultiSelect":"TableFilterSelect";if(!d.url)d.url=bootstrap.restUrl+"deploy/component";if(!d.idAttribute)d.idAttribute="id";d.searchAttr="name";if(!d.defaultQuery)d.defaultQuery=
{};if(!d.defaultQuery.filterFields)d.defaultQuery.filterFields=[];d.defaultQuery.filterFields.push("applications.id");d.defaultQuery["filterValue_applications.id"]=d.applicationId;d.defaultQuery["filterType_applications.id"]="eq";d.defaultQuery["filterClass_applications.id"]="UUID";return f.retrieveDelegate(c)(d)});f.registerDelegate("VersionPropDef",function(d){if(!d.context||!d.context.component)return console.error('No component in the given to the form delegate for VersionPropDef "'+d.name+'".'),
null;if(!1!==d.allowNone)d.allowNone=!0;var c=f.retrieveDelegate("TableFilterSelect")({url:bootstrap.restUrl+"deploy/version",label:d.label,noneLabel:d.noneLabel,allowNone:d.allowNone,name:d.name,value:d.value,defaultQuery:{filterFields:["component.id"],"filterType_component.id":"eq","filterValue_component.id":d.context.component.id,"filterClass_component.id":"UUID"}});if(void 0!==d.onChange)c.onChange=d.onChange;return c});f.registerDelegate("VersionSelector",function(d){if(!d.context||!d.context.component)return console.error('No component in the given to the form delegate for VersionSelector "'+
d.name+'".'),null;var c=new j({component:d.context.component,environment:d.context.environment,label:d.label,noneLabel:d.noneLabel,name:d.name,value:d.value});if(void 0!==d.onChange)c.onChange=d.onChange;return c})})},"deploy/widgets/navigation/Security":function(){define(["dojo/_base/kernel","dojox/html/entities","deploy/widgets/Security"],function(l){l.provide("deploy.widgets.navigation.Security");config.data.breadcrumbItems.push({id:"myprofile",getHash:function(){return"myprofile"},isUserData:!1,
getLabel:function(){return i18n("My Profile")}});config.data.tabSets.push({id:"myprofile",hashPattern:["tab"],breadcrumbs:["home","myprofile"],selectedTopLevelTab:"root",defaultTab:"teams",tabs:[{id:"teams",label:i18n("Teams"),view:"deploy/views/security/userTeams"},{id:"preferences",label:i18n("Preferences"),view:"deploy/views/security/userPreferences"}]});config.data.tabSets.push({id:"tools",hashPattern:["tab"],breadcrumbs:["tab"],selectedTopLevelTab:"root",defaultTab:"main",tabs:[{id:"main",label:i18n("Tools"),
view:"deploy/views/tools/Main"}]});config.data.tabSets.push({id:"security",hashPattern:["tab"],breadcrumbs:["home","topLevelTab","security"],selectedTopLevelTab:"settings",defaultTab:"authentication",tabs:[{id:"authentication",label:i18n("Authentication"),view:"deploy/views/security/authenticationRealmManager",isVisible:function(){return config.data.permissions[security.system.manageSecurity]}},{id:"authorization",label:i18n("Authorization"),view:"deploy/views/security/authorizationRealmManager",
isVisible:function(){return config.data.permissions[security.system.manageSecurity]}},{id:"teams",label:i18n("Teams"),view:"deploy/views/security/teamManager",isVisible:function(){return config.data.permissions[security.system.manageSecurity]}},{id:"tokens",label:i18n("Tokens"),view:"deploy/views/security/tokens",isVisible:function(){return config.data.permissions[security.system.manageSecurity]}},{id:"roles",label:i18n("Role Configuration"),view:"deploy/views/security/roleManager",isVisible:function(){return config.data.permissions[security.system.manageSecurity]}},
{id:"keys",label:i18n("API Keys"),view:"deploy/views/security/keyManager",isVisible:function(){return config.data.permissions[security.system.manageSecurity]}},{id:"types",label:i18n("Type Configuration"),view:"deploy/views/security/resourceRoleManager",isVisible:function(){return config.data.permissions[security.system.manageSecurity]}}]});config.data.breadcrumbItems.push({id:"security",getHash:function(){return"security"},isUserData:!1,getLabel:function(){return i18n("Security")}})})},"dojo/errors/RequestError":function(){define("dojo/errors/RequestError",
["./create"],function(l){return l("RequestError",function(l,k){this.response=k})})},"deploy/widgets/deploymentRequest/DeploymentRequestCompliancy":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/dom-class,deploy/widgets/Formatters,js/webext/widgets/table/TreeTable".split(","),function(l,m,k,j,f,e){return k("deploy.widgets.deploymentRequest.DeploymentRequestCompliancy",[m,l],{templateString:'<div class="deploymentRequestCompliancy"><div data-dojo-attach-point="gridAttach"></div></div>',
postCreate:function(){this.inherited(arguments);var d=[{name:i18n("Component"),formatter:function(c){return f.componentLinkFormatter(c.component)}},{name:i18n("Version"),formatter:function(c){return f.versionLinkFormatter(c.version)}},{name:i18n("Date"),field:"date",formatter:util.tableDateFormatter},{name:i18n("Status"),formatter:function(c,b,a){return f.statusFormatter(c.status,b,a)}},{name:i18n("Compliancy"),field:"status",style:{textAlign:"center"},formatter:function(c,b,a){b="";b=c.compliancy.desiredCount;
c=c.compliancy.correctCount;b===c?(b=i18n("Compliant (%s/%s)",""+c,""+b),j.add(a,"success-state-color")):(b=i18n("Noncompliant (%s/%s)",""+c,""+b),j.add(a,"failed-state-color"));return b}}];this.grid=new e({url:bootstrap.restUrl+"deploy/environment/"+this.deploymentRequest.rootRequest.environment.id+"/latestDesiredInventory/true",columns:d,hideExpandCollapse:!0,hidePagination:!1,orderField:"dateCreated",sortType:"desc",tableConfigKey:"compliancyInventoryList",noDataMessage:i18n("No desired inventory entries have been created for this deployment.")});
this.grid.placeAt(this.gridAttach)},destroy:function(){this.inherited(arguments);this.grid.destroy()}})})},"deploy/widgets/component/ComponentVersions":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dijit/form/CheckBox,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/dom-style,dojo/on,deploy/widgets/Formatters,js/webext/widgets/Alert,js/webext/widgets/ColumnForm,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/table/TreeTable,deploy/widgets/version/VersionCompare,deploy/widgets/component/ComponentSourceConfigHistory,deploy/widgets/filter/TagFilter,deploy/widgets/tag/TagDisplay".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u,x,v){return e("deploy.widgets.component.ComponentVersions",[m,l],{templateString:'<div class="versions"><div class="listTopButtons" data-dojo-attach-point="buttonAttach"></div><div data-dojo-attach-point="gridAttach"></div><div data-dojo-attach-point="activeBoxAttach" style="margin: 2px;"></div><hr><div data-dojo-attach-point="runningIntegrationTitleAttach" class="containerLabel"></div><div data-dojo-attach-point="runningIntegrationAttach"></div></div>',
postCreate:function(){this.inherited(arguments);var d=this,e=bootstrap.restUrl+"deploy/version",h=[{name:i18n("Version"),formatter:q.versionLinkFormatter,orderField:"name",filterField:"name",filterType:"text",getRawValue:function(a){return a.name}},{name:i18n("Statuses"),formatter:function(a){var c=b.create("div",{"class":"inlineBlock",style:"margin-right:130px;"});if(a.statuses)(new v({readOnly:!0,tags:a.statuses})).placeAt(c);else return"";return c},filterField:"statuses",filterType:"custom",getFilterFields:function(){return[new x({name:"statuses",
"class":"filter",style:{width:"80%"},placeHolder:i18n("Statuses"),type:"eq"})]},getRawValue:function(a){var b=null;if(a.latestStatus)b=a.latestStatus.name;return b}},{name:i18n("Type"),formatter:this.typeFormatter,orderField:"type",filterField:"type",filterType:"select",filterOptions:[{label:i18n("Full"),value:"FULL"},{label:i18n("Incremental"),value:"INCREMENTAL"}],getRawValue:function(a){return a.type}},{name:i18n("Created By"),field:"creator",orderField:"user.name"},{name:i18n("Date"),field:"created",
formatter:util.tableDateFormatter,orderField:"dateCreated",getRawValue:function(a){return new Date(a.created)}},{name:i18n("Description"),field:"description"},{name:i18n("Actions"),formatter:this.actionsFormatter,parentWidget:this}];this.grid=new t({url:e,serverSideProcessing:!0,columns:h,orderField:"dateCreated",sortType:"desc",tableConfigKey:"componentVersionList",noDataMessage:i18n("No versions found."),hidePagination:!1,hideExpandCollapse:!0,queryData:{outputType:["BASIC","LINKED"]},baseFilters:[{name:"component.id",
type:"eq",className:"UUID",values:[appState.component.id]},{name:"active",type:"eq",className:"Boolean",values:[!0]}]});this.grid.placeAt(this.gridAttach);if(config.data.systemConfiguration.enableInactiveLinks)(new j({checked:!1,value:"true",onChange:function(a){a?d.grid.baseFilters=f.filter(d.grid.baseFilters,function(a){return"active"!==a.name}):d.grid.baseFilters.push({name:"active",type:"eq",values:[!0],className:"Boolean"});d.grid.refresh()}})).placeAt(this.activeBoxAttach),e=document.createElement("div"),
c.add(e,"inlineBlock"),e.style.position="relative",e.style.top="2px",e.style.left="2px",e.innerHTML=i18n("Show Inactive Versions"),this.activeBoxAttach.appendChild(e);if(appState.component.extendedSecurity[security.component.manageVersions]&&appState.component.sourceConfigPlugin&&(e=new k({label:i18n("Import New Versions"),showTitle:!1,onClick:function(){d.importVersions()}}),c.add(e.domNode,"idxButtonSpecial"),e.placeAt(this.buttonAttach),!1===appState.component.sourceConfigPluginNameMatchesPlugin))e.disabled=
!0,a.set(e.domNode,"display","none");"ZOS"!==appState.component.componentType&&(d.showRunningIntegrations(),d.injectExtraRefreshLogic())},injectExtraRefreshLogic:function(){var a=this;this.compSourceHistory.grid.oldRefresh=this.compSourceHistory.grid.refresh;this.grid.oldRefresh=this.grid.refresh;this.refreshAll=function(){a.compSourceHistory.grid.oldRefresh();a.grid.oldRefresh()};this.compSourceHistory.grid.refresh=this.refreshAll;this.grid.refresh=this.refreshAll},destroy:function(){this.inherited(arguments);
this.grid.destroy()},typeFormatter:function(a){var b="";"FULL"===a.type?b=i18n("Full"):"INCREMENTAL"===a.type&&(b=i18n("Incremental"));return b},actionsFormatter:function(a){var c=this.parentWidget,d=document.createElement("div"),e=b.create("a",{"class":"actionsLink linkPointer",innerHTML:i18n("Compare")},d);h(e,"click",function(){c.compareVersion(a)});appState.component.extendedSecurity[security.component.manageVersions]&&(e=b.create("a",{"class":"actionsLink linkPointer",innerHTML:i18n("Delete")},
d),h(e,"click",function(){c.confirmDeletion(a)}),e=b.create("a",{"class":"actionsLink linkPointer",innerHTML:i18n("Copy")},d),h(e,"click",function(){c.copyDialog(a)}));return d},copyDialog:function(a){var b=this,c=new s({title:i18n("Copy"),closable:!0,draggable:!0}),d=new n({submitUrl:bootstrap.restUrl+"deploy/version",preSubmit:function(){b.grid.block()},postSubmit:function(){b.grid.unblock();c.hide();c.destroy();b.grid.refresh()},addData:function(b){b.copyId=a.id},onError:function(a){b.grid.unblock();
(new o({message:i18n("Error copying version: %s",util.escape(a.responseText))})).startup()},onCancel:function(){c.hide();c.destroy()}});d.addField({name:"name",label:i18n("Name"),required:!0,type:"Text"});d.addField({name:"description",label:i18n("Description"),required:!1,type:"Text"});d.placeAt(c.containerNode);c.show()},confirmDeletion:function(a){var b=this;new r({message:i18n("Are you sure you want to delete version %s?",a.name),action:function(){b.grid.block();d.del({url:bootstrap.restUrl+"deploy/version/"+
a.id,handleAs:"json",load:function(a){b.grid.unblock();a.passed?b.grid.refresh():b.showDeleteViolationDialog(a)},error:function(a){b.grid.unblock();new o({message:util.escape(a.responseText)});b.grid.refresh()}})}})},compareVersion:function(a){var b=new s({title:i18n("Compare Versions"),closable:!0,draggable:!0,heightPercent:75,widthPercent:75,destroyOnHide:!0});(new w({version:a})).placeAt(b.containerNode);b.show()},showDeleteViolationDialog:function(a){var b=document.createElement("div"),d=document.createElement("div");
d.style.width="200px";c.add(d,"inlineBlock");d.innerHTML=i18n("This version cannot be deleted because it is in use by the following:");b.appendChild(d);if(void 0!==a.offendingResources)d=document.createElement("div"),d.style.fontWeight="bold",d.style.marginTop="15px",d.innerHTML=i18n("Resources:"),b.appendChild(d),f.forEach(a.offendingResources,function(a){var c=document.createElement("div");c.style.marginLeft="15px";c.innerHTML=a.name.escape();b.appendChild(c)});if(void 0!==a.offendingSnapshots)d=
document.createElement("div"),d.style.fontWeight="bold",d.style.marginTop="15px",d.innerHTML=i18n("Application Snapshots:"),b.appendChild(d),f.forEach(a.offendingSnapshots,function(a){var c=document.createElement("div");c.style.marginLeft="15px";c.innerHTML=a.name.escape();b.appendChild(c)});if(void 0!==a.offendingProcesses)a=document.createElement("div"),a.style.fontWeight="bold",a.style.marginTop="15px",a.innerHTML=i18n("You cannot delete this version because it is used by: "),b.appendChild(a),
a=document.createElement("div"),a.style.marginTop="15px",a.innerHTML=i18n("Process History (You can delete versions that were deployed in a process only through Artifact Cleanup.)"),b.appendChild(a);new o({messageDom:b})},showRunningIntegrations:function(){this.runningIntegrationTitleAttach.innerHTML=i18n("Currently Running Version Imports");this.compSourceHistory=u({gridRestUrl:bootstrap.restUrl+"sourceConfigExecutionRecord/"+appState.component.id+"/table/running",tableConfigKey:"componentRunningIntegrations"+
appState.component.id});this.compSourceHistory.placeAt(this.runningIntegrationAttach)},importVersions:function(){var a=this;d.get({url:bootstrap.baseUrl+"property/propSheetDef/"+appState.component.sourceConfigPlugin.importPropSheetDef.id+"/propDefs",handleAs:"json",load:function(b){var c=!0;0===b.length&&(c=!1);"true"===util.getNamedPropertyValue(appState.component.properties,"FileSystemComponentProperties/useNamePattern")&&(c=!1);if(c){var e=new s({title:i18n("Import New Versions"),closable:!0,draggable:!0}),
h=new n({submitUrl:bootstrap.restUrl+"deploy/component/"+appState.component.id+"/integrate",preSubmit:function(){a.grid.block()},postSubmit:function(){a.grid.unblock();e.hide();e.destroy();a.grid.refresh()},addData:function(a){a.properties={};f.forEach(b,function(b){a.properties[b.name]=void 0!==a[b.name]?a[b.name]:"";delete a[b.name]})},onError:function(b){a.grid.unblock();(new o({message:i18n("Error running import: %s",util.escape(b.responseText))})).startup()},onCancel:function(){e.hide();e.destroy()}});
f.forEach(b,function(a){a.translate=!0;h.addField(a)});h.placeAt(e.containerNode);e.show()}else d.put({url:bootstrap.restUrl+"deploy/component/"+appState.component.id+"/integrate",putData:"{}",handleAs:"json",load:function(){a.grid.refresh()},error:function(a){(new o({message:i18n("Error running import: %s",util.escape(a.responseText))})).startup()}})}})}})})},"deploy/widgets/environment/EditEnvironmentBlueprintWizardPane":function(){define(["dojo/_base/declare","dojox/widget/WizardPane","deploy/widgets/environment/EditEnvironmentBlueprintProperties",
"dojo/dom-style"],function(l,m,k,j){return l([m],{postCreate:function(){this.inherited(arguments);var f=this;this.page=new k({environmentData:this.environmentData,dialog:this.dialog,requiredValues:this.requiredValues,blueprintId:this.blueprintId,callback:function(){f.dialog.hide();f.dialog.destroy();f.application&&navBar.setHash("#application/"+f.application.id,!1,!0)}});this.attachDoneFunction();this.addChild(this.page,0)},_doneFunction:function(){this.page.submitForm()},attachDoneFunction:function(){this.doneFunction=
this._doneFunction},detachDoneFunction:function(){this.doneFunction=null},getData:function(){return this.page.form.getData()},setData:function(f){this.page.setData(f)},refreshWizardIcons:function(){j.set(this.dialog.wizardIconNode1,"display","none");j.set(this.dialog.wizardIconNode2,"display","inline")}})})},"dojo/text":function(){define(["./_base/kernel","require","./has","./_base/xhr"],function(l,m,k,j){var f;f=function(a,b,c){j("GET",{url:a,sync:!!b,load:c,headers:l.config.textPluginHeaders||{}})};
var e={},d=function(a){if(a){var a=a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,""),b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);b&&(a=b[1])}else a="";return a},c={},b={};l.cache=function(a,b,c){var j;"string"==typeof a?/\//.test(a)?(j=a,c=b):j=m.toUrl(a.replace(/\./g,"/")+(b?"/"+b:"")):(j=a+"",c=b);a=void 0!=c&&"string"!=typeof c?c.value:c;c=c&&c.sanitize;if("string"==typeof a)return e[j]=a,c?d(a):a;if(null===a)return delete e[j],null;j in e||f(j,!0,function(a){e[j]=
a});return c?d(e[j]):e[j]};return{dynamic:!0,normalize:function(a,b){var c=a.split("!"),d=c[0];return(/^\./.test(d)?b(d):d)+(c[1]?"!"+c[1]:"")},load:function(a,h,j){var a=a.split("!"),k=1<a.length,l=a[0],m=h.toUrl(a[0]),a="url:"+m,r=c,t=function(a){j(k?d(a):a)};l in e?r=e[l]:a in h.cache?r=h.cache[a]:m in e&&(r=e[m]);if(r===c)if(b[m])b[m].push(t);else{var w=b[m]=[t];f(m,!h.async,function(a){e[l]=e[m]=a;for(var c=0;c<w.length;)w[c++](a);delete b[m]})}else t(r)}}})},"deploy/widgets/environmentComparison/ComponentPropertiesTable":function(){define(["dijit/_TemplatedMixin",
"dijit/_Widget","dojo/_base/declare","js/webext/widgets/Table"],function(l,m,k,j){return k("deploy.widgets.environmentComparison.ComponentPropertiesTable",[m,l],{templateString:'<div><div class="containerLabel" data-dojo-attach-point="labelAttach"></div><div class="innerContainer"><div data-dojo-attach-point="gridAttach"></div></div></div>',postCreate:function(){this.inherited(arguments);this.labelAttach.innerHTML=i18n("Active Property Report for %s",this.component.name.escape());var f=[{name:i18n("Name"),
field:"name"},{name:this.environment1.name,field:"environment1Value",formatter:function(e,d){var c=i18n("Not deployed");d&&(c=d);return c}},{name:this.environment2.name,field:"environment2Value",formatter:function(e,d){var c=i18n("Not deployed");d&&(c=d);return c}}];this.grid=new j({url:bootstrap.restUrl+"deploy/environment/"+this.environment1.id+"/compareProperties/"+this.environment2.id+"/"+this.component.id,serverSideProcessing:!1,columns:f,tableConfigKey:"componentPropertiesList",noDataMessage:i18n("No properties found.")});
this.grid.placeAt(this.gridAttach)},destroy:function(){this.inherited(arguments);this.grid.destroy()}})})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(l,m,k){function j(b){if("string"==typeof b||b instanceof String){if(b&&!e.test(b))return d[0]=b,d;b=b.split(e);b.length&&!b[0]&&b.shift();b.length&&!b[b.length-1]&&b.pop();return b}return!b?[]:m.filter(b,function(a){return a})}var f,e=/\s+/,d=[""],c={};return f={contains:function(b,a){return 0<=(" "+k.byId(b).className+
" ").indexOf(" "+a+" ")},add:function(b,a){var b=k.byId(b),a=j(a),c=b.className,d,c=c?" "+c+" ":" ";d=c.length;for(var e=0,f=a.length,l;e<f;++e)(l=a[e])&&0>c.indexOf(" "+l+" ")&&(c+=l+" ");d<c.length&&(b.className=c.substr(1,c.length-2))},remove:function(b,a){var b=k.byId(b),c;if(void 0!==a){a=j(a);c=" "+b.className+" ";for(var d=0,e=a.length;d<e;++d)c=c.replace(" "+a[d]+" "," ");c=l.trim(c)}else c="";b.className!=c&&(b.className=c)},replace:function(b,a,d){b=k.byId(b);c.className=b.className;f.remove(c,
d);f.add(c,a);b.className!==c.className&&(b.className=c.className)},toggle:function(b,a,c){b=k.byId(b);if(void 0===c)for(var a=j(a),d=0,e=a.length,l;d<e;++d)l=a[d],f[f.contains(b,l)?"remove":"add"](b,l);else f[c?"add":"remove"](b,a);return c}}})},"dijit/form/_RadioButtonMixin":function(){define("dijit/form/_RadioButtonMixin","dojo/_base/array,dojo/_base/declare,dojo/dom-attr,dojo/_base/event,dojo/_base/lang,dojo/query,../registry".split(","),function(l,m,k,j,f,e,d){return m("dijit.form._RadioButtonMixin",
null,{type:"radio",_getRelatedWidgets:function(){var c=[];e("input[type=radio]",this.focusNode.form||this.ownerDocument).forEach(f.hitch(this,function(b){b.name==this.name&&b.form==this.focusNode.form&&(b=d.getEnclosingWidget(b))&&c.push(b)}));return c},_setCheckedAttr:function(c){this.inherited(arguments);this._created&&c&&l.forEach(this._getRelatedWidgets(),f.hitch(this,function(b){b!=this&&b.checked&&b.set("checked",!1)}))},_getSubmitValue:function(c){return null==c?"on":c},_onClick:function(c){if(this.checked||
this.disabled)return j.stop(c),!1;return this.readOnly?(j.stop(c),l.forEach(this._getRelatedWidgets(),f.hitch(this,function(b){k.set(this.focusNode||this.domNode,"checked",b.checked)})),!1):this.inherited(arguments)}})})},"deploy/widgets/deploymentPreview/ComponentChanges":function(){define(["dijit/_TemplatedMixin","dijit/_Widget","dojo/_base/declare","js/webext/widgets/table/TreeTable","deploy/widgets/Formatters"],function(l,m,k,j,f){return k("deploy.widgets.deploymentPreview.ComponentChanges",[m,
l],{templateString:'<div class="componentChanges"><div data-dojo-attach-point="treeAttach"></div></div>',postCreate:function(){this.inherited(arguments);var e=[{name:i18n("Component/Resource"),formatter:function(d){return d.resource?util.getOnClickLink("resource/"+d.resource.id,d.resource.path):f.componentLinkFormatter(d)},getRawValue:function(d){return d.name},field:"name"},{name:i18n("Process"),formatter:function(d){if(d.version)return f.componentProcessLinkFormatter(d.componentProcess)}},{name:i18n("Version"),
formatter:function(d){if(d.version)return f.versionLinkFormatter(d.version)}},{name:i18n("Change Type"),formatter:function(d){var c;if(d.version&&d.type){c=document.createElement("div");var b=document.createElement("img");b.src="ADD"===d.type?bootstrap.webextUrl+"images/webext/icons/icon_plus.gif":bootstrap.webextUrl+"images/webext/icons/icon_minus.gif";c.appendChild(b);b=document.createElement("div");b.innerHTML=d.status.name.escape();b.style.backgroundColor=d.status.color;b.className="statusLabel";
c.appendChild(b)}return c}}];this.tree=new j({url:this.applicationProcessRequest?bootstrap.restUrl+"deploy/applicationProcessRequest/"+this.applicationProcessRequest.id+"/changesByComponent":bootstrap.restUrl+"deploy/snapshot/"+this.snapshot.id+"/changesByComponent?environmentId="+this.environment.id+"&applicationProcessId="+this.applicationProcess.id,columns:e,serverSideProcessing:!1,orderField:"name",tableConfigKey:"resourceChangesList"});this.tree.placeAt(this.treeAttach)},destroy:function(){this.inherited(arguments);
this.tree.destroy()}})})},"deploy/widgets/deploymentPreview/ResourceChanges":function(){define(["dijit/_TemplatedMixin","dijit/_Widget","dojo/_base/declare","js/webext/widgets/table/TreeTable","deploy/widgets/Formatters"],function(l,m,k,j,f){return k("deploy.widgets.deploymentPreview.ResourceChanges",[m,l],{templateString:'<div class="resourceChanges"><div data-dojo-attach-point="treeAttach"></div></div>',postCreate:function(){this.inherited(arguments);var e=[{name:i18n("Resource/Component"),formatter:function(d){return d.component?
f.componentLinkFormatter(d.component):util.getOnClickLink("resource/"+d.id,d.path)},getRawValue:function(d){return d.name},field:"name"},{name:i18n("Process"),formatter:function(d){if(d.version)return f.componentProcessLinkFormatter(d.componentProcess)}},{name:i18n("Version"),formatter:function(d){if(d.version)return f.versionLinkFormatter(d.version)}},{name:i18n("Change Type"),formatter:function(d){var c;if(d.version&&d.type){c=document.createElement("div");var b=document.createElement("img");b.src=
"ADD"===d.type?bootstrap.webextUrl+"images/webext/icons/icon_plus.gif":bootstrap.webextUrl+"images/webext/icons/icon_minus.gif";c.appendChild(b);b=document.createElement("div");b.innerHTML=d.status.name.escape();b.style.backgroundColor=d.status.color;b.className="statusLabel";c.appendChild(b)}return c}}];this.tree=new j({url:this.applicationProcessRequest?bootstrap.restUrl+"deploy/applicationProcessRequest/"+this.applicationProcessRequest.id+"/changesByResource":bootstrap.restUrl+"deploy/snapshot/"+
this.snapshot.id+"/changesByResource?environmentId="+this.environment.id+"&applicationProcessId="+this.applicationProcess.id,columns:e,serverSideProcessing:!1,orderField:"name",tableConfigKey:"resourceChangesList"});this.tree.placeAt(this.treeAttach)},destroy:function(){this.inherited(arguments);this.tree.destroy()}})})},"dijit/TitlePane":function(){require({cache:{"url:dijit/templates/TitlePane.html":'<div>\n\t<div data-dojo-attach-event="onclick:_onTitleClick, onkeydown:_onTitleKey"\n\t\t\tclass="dijitTitlePaneTitle" data-dojo-attach-point="titleBarNode" id="${id}_titleBarNode">\n\t\t<div class="dijitTitlePaneTitleFocus" data-dojo-attach-point="focusNode">\n\t\t\t<img src="${_blankGif}" alt="" data-dojo-attach-point="arrowNode" class="dijitArrowNode" role="presentation"\n\t\t\t/><span data-dojo-attach-point="arrowNodeInner" class="dijitArrowNodeInner"></span\n\t\t\t><span data-dojo-attach-point="titleNode" class="dijitTitlePaneTextNode"></span>\n\t\t</div>\n\t</div>\n\t<div class="dijitTitlePaneContentOuter" data-dojo-attach-point="hideNode" role="presentation">\n\t\t<div class="dijitReset" data-dojo-attach-point="wipeNode" role="presentation">\n\t\t\t<div class="dijitTitlePaneContentInner" data-dojo-attach-point="containerNode" role="region" id="${id}_pane" aria-labelledby="${id}_titleBarNode">\n\t\t\t\t<\!-- nested divs because wipeIn()/wipeOut() doesn\'t work right on node w/padding etc.  Put padding on inner div. --\>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n'}});
define("dijit/TitlePane","dojo/_base/array,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-class,dojo/dom-geometry,dojo/_base/event,dojo/fx,dojo/_base/kernel,dojo/keys,./_CssStateMixin,./_TemplatedMixin,./layout/ContentPane,dojo/text!./templates/TitlePane.html,./_base/manager".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s){return m("dijit.TitlePane",[o,q,h],{title:"",_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:!0,toggleable:!0,tabIndex:"0",duration:s.defaultDuration,baseClass:"dijitTitlePane",
templateString:n,doLayout:!1,_setTooltipAttr:{node:"focusNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);k.setSelectable(this.titleNode,!1)},postCreate:function(){this.inherited(arguments);this.toggleable&&this._trackMouseState(this.titleBarNode,"dijitTitlePaneTitle");var a=this.hideNode,b=this.wipeNode;this._wipeIn=c.wipeIn({node:b,duration:this.duration,beforeBegin:function(){a.style.display=""}});this._wipeOut=c.wipeOut({node:b,duration:this.duration,
onEnd:function(){a.style.display="none"}})},_setOpenAttr:function(a,b){l.forEach([this._wipeIn,this._wipeOut],function(a){a&&"playing"==a.status()&&a.stop()});b?this[a?"_wipeIn":"_wipeOut"].play():this.hideNode.style.display=this.wipeNode.style.display=a?"":"none";if(this._started)if(a)this._onShow();else this.onHide();this.containerNode.setAttribute("aria-hidden",a?"false":"true");this.focusNode.setAttribute("aria-pressed",a?"true":"false");this._set("open",a);this._setCss()},_setToggleableAttr:function(a){this.focusNode.setAttribute("role",
a?"button":"heading");a?(this.focusNode.setAttribute("aria-controls",this.id+"_pane"),this.focusNode.setAttribute("tabIndex",this.tabIndex),this.focusNode.setAttribute("aria-pressed",this.open)):(j.remove(this.focusNode,"aria-controls"),j.remove(this.focusNode,"tabIndex"),j.remove(this.focusNode,"aria-pressed"));this._set("toggleable",a);this._setCss()},_setContentAttr:function(a){!this.open||!this._wipeOut||"playing"==this._wipeOut.status()?this.inherited(arguments):(this._wipeIn&&"playing"==this._wipeIn.status()&&
this._wipeIn.stop(),e.setMarginBox(this.wipeNode,{h:e.getMarginBox(this.wipeNode).h}),this.inherited(arguments),this._wipeIn?this._wipeIn.play():this.hideNode.style.display="")},toggle:function(){this._setOpenAttr(!this.open,!0)},_setCss:function(){var a=this.titleBarNode||this.focusNode,b=this._titleBarClass;this._titleBarClass="dijit"+(this.toggleable?"":"Fixed")+(this.open?"Open":"Closed");f.replace(a,this._titleBarClass,b||"");this.arrowNodeInner.innerHTML=this.open?"-":"+"},_onTitleKey:function(b){b.keyCode==
a.ENTER||b.keyCode==a.SPACE?this.toggleable&&(this.toggle(),d.stop(b)):b.keyCode==a.DOWN_ARROW&&this.open&&(this.containerNode.focus(),b.preventDefault())},_onTitleClick:function(){this.toggleable&&this.toggle()},setTitle:function(a){b.deprecated("dijit.TitlePane.setTitle() is deprecated.  Use set('title', ...) instead.","","2.0");this.set("title",a)}})})},"deploy/widgets/version/VersionDisplay":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/on,dojo/json,dojo/mouse,dojo/_base/declare,dojo/_base/Color,dojo/dom-construct,dojo/dom-class,dojo/dom-style,js/webext/widgets/Alert,js/webext/widgets/GenericConfirm".split(","),
function(l,m,k,j,f,e,d,c,b){return e([m,l],{templateString:'<div class="tagDisplay" data-dojo-attach-point="versionDiv"><div class="tagContainer tagBox" data-dojo-attach-point="versionAttach"></div></div>',draggable:!0,postCreate:function(){var a=this;a.inherited(arguments);a.draggable&&b.add(a.versionDiv,"dojoDndItem");var d="",d=a.version instanceof String||"string"===typeof a.version?a.version.escape():a.version.name.escape(),d=c.create("div",{innerHTML:d});b.add(d,"tagName");c.place(d,a.versionAttach);
if(!a.readOnly){var e=c.create("div",{title:i18n("Delete"),innerHTML:"x"});b.add(e,"inlineBlock");b.add(e,"tagDelete");k(e,"click",function(){a.onDelete()});k(e,f.enter,function(){b.add(e,"tagSelector")});k(e,f.leave,function(){b.remove(e,"tagSelector")});c.place(e,a.versionAttach)}},onDelete:function(){this.destroy()}})})},"dijit/form/_FormWidget":function(){define("dijit/form/_FormWidget","dojo/_base/declare,dojo/has,dojo/_base/kernel,dojo/ready,../_Widget,../_CssStateMixin,../_TemplatedMixin,./_FormWidgetMixin".split(","),
function(l,m,k,j,f,e,d,c){m("dijit-legacy-requires")&&j(0,function(){require(["dijit/form/_FormValueWidget"])});return l("dijit.form._FormWidget",[f,d,e,c],{setDisabled:function(b){k.deprecated("setDisabled("+b+") is deprecated. Use set('disabled',"+b+") instead.","","2.0");this.set("disabled",b)},setValue:function(b){k.deprecated("dijit.form._FormWidget:setValue("+b+") is deprecated.  Use set('value',"+b+") instead.","","2.0");this.set("value",b)},getValue:function(){k.deprecated(this.declaredClass+
"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},postMixInProperties:function(){this.nameAttrSetting=this.name?'name="'+this.name.replace(/"/g,"&quot;")+'"':"";this.inherited(arguments)},_setTypeAttr:null})})},"deploy/widgets/security/authorization/SelectGroupMemberForm":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/FilteringSelect,dojo/_base/declare,dojox/data/JsonRestStore,js/webext/widgets/ColumnForm".split(","),function(l,m,k,j,f,
e){return j("deploy.widgets.security.authorization.SelectGroupMemberForm",[m,l],{templateString:'<div class="selectGroupMemberForm">  <div data-dojo-attach-point="formAttach"></div></div>',postCreate:function(){this.inherited(arguments);var d=this;this.form=new e({submitUrl:this.saveUrl,preSubmit:function(){this.submitUrl=d.saveUrl+"/"+d.groupMemberSelect.item.id},postSubmit:function(){void 0!==d.callback&&d.callback(!0)},onCancel:function(){void 0!==d.callback&&d.callback(!1)}});this.groupMembersStore=
new f({target:bootstrap.baseUrl+"security/user",idAttribute:"id"});this.groupMemberSelect=new k({store:this.groupMembersStore,searchAttr:"name"});this.form.addField({name:"groupMemberId",label:i18n("Group Member"),required:!0,widget:this.groupMemberSelect});this.form.placeAt(this.formAttach)}})})},"deploy/widgets/security/authorization/AuthorizationRealmList":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/on,deploy/widgets/security/authorization/EditAuthorizationRealm,js/webext/widgets/Alert,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/table/TreeTable".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o){return j("deploy.widgets.security.authorization.AuthorizationRealmList",[m,l],{templateString:'<div class="authorizationRealmList"><div data-dojo-attach-point="buttonAttach"></div><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var a=this,b=bootstrap.baseUrl+"security/authorizationRealm",c=[{name:i18n("Authorization Realm"),formatter:function(a){return a.name},orderField:"name",filterField:"name",filterType:"text",
getRawValue:function(a){return a.name}},{name:i18n("Description"),formatter:function(a){var b=a.description;"20000000000000000000000000000000"===a.id&&(b=i18n("Internal database storage."));return b},orderField:"description",filterField:"description",filterType:"text",getRawValue:function(a){return a.description}},{name:i18n("Actions"),formatter:this.actionsFormatter,parentWidget:this}];this.grid=new o({url:b,serverSideProcessing:!0,hidePagination:!1,hideExpandCollapse:!0,columns:c,tableConfigKey:"authRealmList",
noDataMessage:i18n("No authorization realms have been created yet.")});this.grid.placeAt(this.gridAttach);b=new k({label:i18n("Create Authorization Realm"),showTitle:!1,onClick:function(){a.showEditAuthorizationRealmDialog()}});e.add(b.domNode,"idxButtonSpecial");b.placeAt(this.buttonAttach)},destroy:function(){this.inherited(arguments);this.grid.destroy()},actionsFormatter:function(a){var b=this.parentWidget,e=document.createElement("div");if("20000000000000000000000000000000"!==a.id){var f=d.create("a",
{innerHTML:i18n("Edit"),"class":"actionsLink linkPointer"},e);c(f,"click",function(){b.showEditAuthorizationRealmDialog(a)});f=d.create("a",{innerHTML:i18n("Delete"),"class":"actionsLink linkPointer"},e);c(f,"click",function(){b.confirmDeletion(a)})}return e},confirmDeletion:function(b){var c=this;new q({message:i18n("This will delete all groups associated with this authorization realm. Are you sure you want to delete authorization realm '%s'?",b.name.escape()),action:function(){f.del({url:bootstrap.baseUrl+
"security/authorizationRealm/"+b.id,load:function(){c.grid.refresh()},error:function(b){new a({message:util.escape(b.responseText)})}})}})},showEditAuthorizationRealmDialog:function(a){var c=this,d=new h({title:i18n("Create Authorization Realm"),closable:!0,draggable:!0});(new b({authorizationRealm:a,callback:function(a){d.hide();d.destroy();a&&c.grid.refresh()}})).placeAt(d.containerNode);d.show()}})})},"dijit/DropDownMenu":function(){require({cache:{"url:dijit/templates/Menu.html":'<table class="dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role="menu" tabIndex="${tabIndex}"\n\t   data-dojo-attach-event="onkeypress:_onKeyPress" cellspacing="0">\n\t<tbody class="dijitReset" data-dojo-attach-point="containerNode"></tbody>\n</table>\n'}});
define("dijit/DropDownMenu","dojo/_base/declare,dojo/_base/event,dojo/keys,dojo/text!./templates/Menu.html,./_OnDijitClickMixin,./_MenuBase".split(","),function(l,m,k,j,f,e){return l("dijit.DropDownMenu",[e,f],{templateString:j,baseClass:"dijitMenu",postCreate:function(){this.inherited(arguments);var d=this.isLeftToRight();this._openSubMenuKey=d?k.RIGHT_ARROW:k.LEFT_ARROW;this._closeSubMenuKey=d?k.LEFT_ARROW:k.RIGHT_ARROW;this.connectKeyNavHandlers([k.UP_ARROW],[k.DOWN_ARROW])},_onKeyPress:function(d){if(!d.ctrlKey&&
!d.altKey)switch(d.charOrCode){case this._openSubMenuKey:this._moveToPopup(d);m.stop(d);break;case this._closeSubMenuKey:if(this.parentMenu)if(this.parentMenu._isMenuBar)this.parentMenu.focusPrev();else this.onCancel(!1);else m.stop(d)}}})})},"deploy/widgets/snapshot/SnapshotVersionSelection":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dijit/registry,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/_base/window,dojo/dnd/Source,dojo/dom,dojo/dom-construct,dojo/dom-style,dojo/on,js/webext/widgets/Alert,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/table/TreeTable,js/webext/widgets/form/MenuButton,js/webext/widgets/ColumnForm,deploy/widgets/version/VersionSelect,deploy/widgets/version/VersionDisplay".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u,x,v){return e("deploy.widgets.snapshot.SnapshotVersionSelection",[m,l],{templateString:'<div class="versionSelector" style="margin-top:15px;"><div data-dojo-attach-point="buttonAttach" class="inlineBlock"></div><div data-dojo-attach-point="gridAttach"></div></div>',versionDisplays:{},postCreate:function(){this.originalCompVersions=[];this.createVersionForm()},createVersionForm:function(){this.createVersionTable();this.snapshot.versionsLocked||(this.addSelectForAll(),
this.addRevertButton(),this.addLockButton())},showNameDialog:function(a){var b=this;this.nameDialog&&this.nameDialog.destroy();this.nameForm&&this.nameForm.destroy();this.nameDialog=new s({title:i18n("Add Versions With Name...")});h.create("div",{innerHTML:i18n("Warning: This action will remove any existing versions from the snapshot."),style:{fontWeight:"bold",padding:"3px 15px",marginLeft:"150px"}},this.nameDialog.containerNode);this.nameForm=new u({postSubmit:function(){b.nameDialog.destroy();
b.nameForm.destroy()},onCancel:function(){b.nameDialog.destroy();b.nameForm&&b.nameForm.destroy()},onSubmit:function(c){c&&d.put({url:a+"/"+c.name,handleAs:"json",load:function(){b.grid.refresh()},error:function(a){new n({messages:[i18n("Error adding component versions:"),"",util.escape(a.responseText)]})}})}});this.nameForm.addField({name:"name",label:i18n("Name"),required:!0,type:"Text",description:i18n("Use * as a wildcard. Without wildcard character, exact match is used.")});this.nameForm.placeAt(this.nameDialog.containerNode);
this.nameDialog.show()},showCopyFromEnvironmentDialog:function(){var a=this,b=new s({title:i18n("Copy Versions from Environment")});h.create("div",{innerHTML:i18n("Warning: This action will remove any existing versions from the snapshot."),style:{fontWeight:"bold",padding:"3px 15px",marginLeft:"150px"}},b.containerNode);var c=new u({submitUrl:null,postSubmit:function(){b.hide();b.destroy();a.grid.refresh()},onCancel:function(){b.hide();b.destroy()}});c.addField({name:"environmentId",label:i18n("Environment"),
type:"TableFilterSelect",required:!0,url:bootstrap.restUrl+"deploy/environment",defaultQuery:{filterFields:["application.id","active"],"filterType_application.id":"eq","filterValue_application.id":a.applicationId,filterType_active:"eq",filterValue_active:!0,filterClass_active:"Boolean"},onChange:function(b,d){if(d)c.submitUrl=bootstrap.restUrl+"deploy/snapshot/"+a.snapshot.id+"/versions/fromEnvironment/"+d.id},allowNone:!1});c.placeAt(b.containerNode);b.show()},showCopyFromSnapshotDialog:function(){var a=
this,b=new s({title:i18n("Copy Versions from Snapshot")});h.create("div",{innerHTML:i18n("Warning: This action will remove any existing versions from the snapshot."),style:{fontWeight:"bold",padding:"3px 15px",marginLeft:"150px"}},b.containerNode);var c=new u({submitUrl:null,postSubmit:function(){b.hide();b.destroy();a.grid.refresh()},onCancel:function(){b.hide();b.destroy()}});c.addField({name:"snapshotId",label:i18n("Snapshot"),type:"TableFilterSelect",url:bootstrap.restUrl+"deploy/application/"+
a.applicationId+"/snapshots/false",onChange:function(b,d){if(d)c.submitUrl=bootstrap.restUrl+"deploy/snapshot/"+a.snapshot.id+"/versions/fromSnapshot/"+d.id},defaultQuery:{filterFields:["id"],filterType_id:"ne",filterValue_id:a.snapshot.id,filterClass_id:"UUID"}});c.placeAt(b.containerNode);b.show()},addSelectForAll:function(){var a=this,b=[{label:i18n("Latest Available"),onClick:function(){a.addLatestVersions(bootstrap.restUrl+"deploy/snapshot/"+a.snapshot.id+"/latestVersions")}},{label:i18n("Copy From Environment..."),
onClick:function(){a.showCopyFromEnvironmentDialog()}},{label:i18n("Copy From Snapshot..."),onClick:function(){a.showCopyFromSnapshotDialog()}},{label:i18n("Versions With Name..."),onClick:function(){a.showNameDialog(bootstrap.restUrl+"deploy/snapshot/"+a.snapshot.id+"/versions")}},{label:i18n("None (Clear All)"),onClick:function(){a.removeAllVersions()}}];this.applyAllSelect=new w({options:b,label:i18n("Select For All...")});this.applyAllSelect.placeAt(a.buttonAttach)},addRevertButton:function(){var a=
this;(new k({label:i18n("Revert"),title:i18n("Reverts To Versions From Original Page Load"),onClick:function(){f.forEach(a.grid.cachedData,function(a){a.desiredVersions=[]});f.forEach(a.originalCompVersions,function(b){f.forEach(b.desiredVersions,function(c){a.addVersion(c.id,c,b)})});a.saveVersions()}})).placeAt(this.buttonAttach)},addLockButton:function(){var a=this;(new k({label:i18n("Lock Versions"),onClick:function(){new r({message:i18n("Are you sure you want to lock the versions on this snapshot? This will prevent any further changes to the list of versions included in this snapshot. Once locked, it cannot be unlocked."),
action:function(){a.grid.block();d.put({url:bootstrap.restUrl+"deploy/snapshot/"+a.snapshot.id+"/versions/lock"}).then(function(){a.readOnly=!0;h.empty(a.buttonAttach);a.grid.refresh()},function(b){a.grid.unblock();new n({message:i18n("Error locking snapshot versions: %s",util.escape(b.responseText))})})}})}})).placeAt(this.buttonAttach)},createVersionTable:function(){var d=this,e=bootstrap.restUrl+"deploy/snapshot/"+this.snapshot.id+"/versions",k=i18n("No components found on the snapshot.");this.grid&&
this.grid.destroy();var l=[{name:i18n("Component"),field:"name",orderField:"name",filterField:"name",filterType:"text",getRawValue:function(a){return a.name}},{name:i18n("Versions"),formatter:function(e,k,l){q.set(l,"width","50%");d.clearDisplays(e.id);var k=h.create("div"),m=h.create("div",{"class":"inlineBlock",id:"tagAttach_"+e.id},k),l=new b(m,{item:e,copyOnly:!1,copyState:function(){return!1},horizontal:!0,onDndDrop:function(a,b,c,e){if(this===a&&this===e)a=this.item.desiredVersions,b=j.byId(b[0].id).version,
c=f.indexOf(a,b),-1!==c&&a.splice(c,1),c=j.byId(e.current.id).version,c=f.indexOf(a,c),-1!==c&&(e.before||c++,a.splice(c,0,b)),d.clearDisplays(this.item.id),d.displayVersions(this.item,m),d.saveVersions();this.onDndCancel()}});m.source=l;var n=h.create("div",{"class":"selectorAttach"});if(!d.readOnly){var r=h.create("div",{innerHTML:i18n("Add..."),"class":"inlineBlock linkPointer"},k);d.addEvent=o(r,"click",function(){var b=this,f=r.getBoundingClientRect();q.set(n,{top:f.top-17+"px",left:f.left-200+
"px"});b.selector&&b.selector.destroy();b.selector=new x({component:e,environment:d.environment,allowInvalidVersions:d.allowInvalidVersions});b.selector.placeAt(n);if(b.selector.versionSelect&&b.selector.versionSelect.dropDown)f=b.selector.versionSelect.dropDown,f.focusNode&&f.focusNode.focus();o(b.selector.versionSelect,"add",function(a){a&&d.addVersion(a.id,a,e)});o(b.selector.versionSelect,"remove",function(a){a&&d.unAddVersion(a.id,a,e)});o(b.selector.latest,"click",function(){d.addLatestVersion(bootstrap.restUrl+
"deploy/component/"+e.id+"/latestVersion",e,m);b.selector&&b.selector.destroy()});var h=o(c.doc,"click",function(e){b.selector&&a.isDescendant(e.target,c.doc)&&e.target!==r&&!a.isDescendant(e.target,n)&&!a.isDescendant(e.target,n.nextSibling)&&(b.selector.destroy(),h.remove(),d.saveVersions())});b.selector.own(h)})}d.displayVersions(e,m);h.place(n,a.byId("body"));return k}}];d.grid=new t({url:e,processXhrResponse:function(a){if(null!==d.originalCompVersions&&0>=d.originalCompVersions.length)d.originalCompVersions=
a},serverSideProcessing:!1,columns:l,noDataMessage:k,hidePagination:!1,hideFooterLinks:!0,hideExpandCollapse:!0,queryData:{outputType:["BASIC"]}});d.grid.placeAt(d.gridAttach)},displayVersions:function(a,b){var c=this;f.forEach(a.desiredVersions,function(d){var e=new v({version:d,readOnly:c.readOnly,onDelete:function(){c.deleteVersion(d,e)}});e.placeAt(b);c.versionDisplays[a.id].push(e);b.source.setItem(e.id,{type:["text"]})})},clearDisplays:function(a){f.forEach(this.versionDisplays[a],function(a){a.destroy()});
this.versionDisplays[a]=[]},deleteVersion:function(a,b){var c=this;d.del({url:bootstrap.restUrl+"deploy/snapshot/"+c.snapshot.id+"/versions/"+a.id,handleAs:"json",load:function(){b.destroy();c.grid&&c.grid.refresh()},error:function(a){new n({messages:[i18n("Error deleting component versions:"),"",util.escape(a.responseText)]})}})},unAddVersion:function(a,b,c){a&&(a=f.indexOf(c.desiredVersions,b),0<=a&&c.desiredVersions.splice(a,1),(a=this.versionDisplays[c.id])&&(this.versionDisplays[c.id]=f.filter(a,
function(a){a.version.id===b.id&&a.destroy();return a.version.id!==b.id})))},addVersion:function(a,b,c){if(a){var d=f.indexOf(this.grid.cachedData,c);f.some(c.desiredVersions,function(b){return b===a})||c.desiredVersions.push(b);-1===d?this.grid.cachedData.push(c):this.grid.cachedData[d]=c}},saveVersions:function(){var a=this,b={versionIds:[]};f.forEach(a.grid.cachedData,function(a){f.forEach(a.desiredVersions,function(a){b.versionIds.push(a.id)})});d.put({url:bootstrap.restUrl+"deploy/snapshot/"+
a.snapshot.id+"/versions",putData:JSON.stringify(b),load:function(){a.grid.refresh()},error:function(a){new n({messages:[i18n("Error adding component versions:"),"",util.escape(a.responseText)]})}})},addLatestVersions:function(a){var b=this;d.put({url:a,load:function(){b.grid.refresh()},error:function(a){new n({messages:[i18n("Error adding latest component versions:"),"",util.escape(a.responseText)]})}})},addLatestVersion:function(a,b){var c=this;d.get({url:a,handleAs:"json",load:function(a){a&&(c.addVersion(a.id,
a,b),c.saveVersions())}})},removeAllVersions:function(){var a=this;d.put({url:bootstrap.restUrl+"deploy/snapshot/"+a.snapshot.id+"/versions",putData:JSON.stringify({versionIds:[]}),sync:!0,load:function(){a.grid.refresh()},error:function(a){new n({messages:[i18n("Error adding component versions:"),"",util.escape(a.responseText)]})}})},_getValueAttr:function(){var a={};f.forEach(this.grid.cachedData,function(b){a[b.id]=b.desiredVersions});return a}})})},"deploy/widgets/application/VersionSelection":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dijit/form/CheckBox,dijit/registry,dijit/Tooltip,dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dojo/_base/xhr,dojo/dnd/Source,dojo/dom,dojo/dom-construct,dojo/dom-style,dojo/dom-class,dojo/on,dojo/mouse,dojo/query,js/webext/widgets/Dialog,js/webext/widgets/table/TreeTable,js/webext/widgets/form/MenuButton,js/webext/widgets/ColumnForm,deploy/widgets/version/VersionSelect,deploy/widgets/version/VersionDisplay,js/webext/widgets/RestSelect".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u,x,v,y,A,z,B){return c("deploy.widgets.application.VersionSelection",[m,l],{templateString:'<div class="versionSelector" data-dojo-attach-point="formAttach"><div data-dojo-attach-point="selectAllAttach" class="inlineBlock" style="margin-right:50px;"></div><div data-dojo-attach-point="checkboxAttach" class="inlineBlock"></div><div data-dojo-attach-point="gridAttach"></div></div>',componentVersionsMap:{},versionSelectorMap:{},versionDisplays:{},postCreate:function(){this._changeCount();
this.createVersionForm()},createVersionForm:function(){this.addCheckBoxOptions();this.createVersionTable();this.addSelectForAll()},addCheckBoxOptions:function(){var a=this,b=o.create("div",{className:"inline-block version-secetion-checkbox-option"},this.checkboxAttach);this.onlyChangedOption=(new j({label:i18n("Show only changed components"),name:"onlyChanged",checked:!1,value:!1,onChange:function(b){this.set("value",b);a.grid&&(a.grid.destroy(),a.createVersionTable(b),a._changeCount())}})).placeAt(b);
o.create("label",{"for":this.onlyChangedOption.id,innerHTML:i18n("Show only changed components")},b);b=o.create("div",{"class":"labelsAndValues-helpCell inlineBlock"},b);new e({connectId:[b],label:i18n("This will only show components which contain newer versions than the current environment inventory as long as there is a newer version that passes the environment gates for the application."),showDelay:100,position:["after","above","below","before"]});var b=o.create("div",{className:"inline-block version-secetion-checkbox-option"},
this.checkboxAttach),c=(new j({onChange:function(b){a.allowInvalidVersions=!!b}})).placeAt(b);o.create("label",{"for":c.id,innerHTML:i18n("Allow invalid versions")},b);b=o.create("div",{"class":"labelsAndValues-helpCell inlineBlock"},b);new e({connectId:[b],label:i18n("This will allow selection of versions even if they have not achieved the statuses required of versions being deployed to this environment."),showDelay:100,position:["after","above","below","before"]})},showStatusDialog:function(a){var b=
this,c=new u({title:i18n("Select Status")}),d=new y({onSubmit:function(b){c.destroy();d.destroy();b.status&&a(b.status)},onCancel:function(){c.destroy();d.destroy()}}),e=new B({restUrl:bootstrap.restUrl+"deploy/status/versionStatuses",getValue:function(a){return a.name},getStyle:function(a){return{backgroundColor:a.color}},allowNone:!1,noIllegalValues:!0,onChange:function(a){b.value=a?a:void 0}});d.addField({name:"status",label:"Status",description:i18n("Status"),widget:e});d.placeAt(c.containerNode);
c.show()},showNameDialog:function(b){var c=this;this.nameDialog&&this.nameDialog.destroy();this.nameForm&&this.nameForm.destroy();this.nameDialog=new u({title:i18n("Add Versions With Name...")});this.nameForm=new y({postSubmit:function(){c.nameDialog.destroy();c.nameForm.destroy()},onCancel:function(){c.nameDialog.destroy();c.nameForm&&c.nameForm.destroy()},onSubmit:function(e){if(e){var f=b+"/"+e.name;e.mustPassGates&&(f+="/"+e.mustPassGates);a.get({url:f,handleAs:"json",load:function(a){a&&(d.forEach(c.grid.cachedData,
function(b){d.forEach(a,function(a){a.component.id===b.id&&c.addVersion(a,b,c._getTagAttachElement(b.id))})}),c.displayVersions())}})}}});this.nameForm.addField({name:"mustPassGates",label:"Passes Gates",description:i18n("Use only versions that pass environment gates"),type:"Checkbox",value:!0});this.nameForm.addField({name:"name",label:i18n("Name"),required:!0,type:"Text",description:i18n("Use * as a wildcard. Without wildcard character, exact match is used.")});this.nameForm.placeAt(this.nameDialog.containerNode);
this.nameDialog.show()},addSelectForAll:function(){var a=this,c=[{label:i18n("Latest Available"),onClick:function(){a.addLatestVersions(bootstrap.restUrl+"deploy/applicationProcess/"+a.applicationProcess.id+"/"+a.applicationProcess.version+"/"+a.environment.id+"/latestVersions")}},{label:i18n("Latest with Status"),onClick:function(){a.showStatusDialog(function(b){a.addLatestVersions(bootstrap.restUrl+"deploy/applicationProcess/"+a.applicationProcess.id+"/"+a.applicationProcess.version+"/"+a.environment.id+
"/latestVersions?status="+b)})}},{label:i18n("Versions With Name..."),onClick:function(){a.showNameDialog(bootstrap.restUrl+"deploy/applicationProcess/"+a.applicationProcess.id+"/"+a.applicationProcess.version+"/"+a.environment.id+"/versions")}},{label:i18n("Current Environment Inventory"),onClick:function(){d.forEach(a.grid.cachedData,function(c){a.removeAllVersions(c.id);var d=b.clone(c.desiredVersions);d.reverse();a.addCurrentInventory(c,a._getTagAttachElement(c.id),!1,d)})}},{label:i18n("Latest Available at Execution Time"),
onClick:function(){a.addLatestVersionsAtExecutionTime()}},{label:i18n("Latest with Status at Execution Time"),onClick:function(){a.showStatusDialog(function(b){a.addLatestWithStatusAtExecutionTime(b)})}},{label:i18n("Current Environment Inventory at Execution Time"),onClick:function(){a.addCurrentInventoryAtExecutionTime()}},{label:i18n("None (Clear All)"),onClick:function(){d.forEach(a.grid.cachedData,function(b){a.removeAllVersions(b.id)})}}];this.applyAllSelect=new v({options:c,label:i18n("Select For All...")});
this.applyAllSelect.placeAt(a.selectAllAttach)},createVersionTable:function(a){var b=this;b.componentVersionsMap={};b.versionSelectorMap={};var c=bootstrap.restUrl+"deploy/applicationProcess/"+this.applicationProcess.id+"/"+this.applicationProcess.version+"/"+this.environment.id+"/components",e=i18n("No components found on the environment.");a&&(c=bootstrap.restUrl+"deploy/applicationProcess/"+this.applicationProcess.id+"/"+this.applicationProcess.version+"/"+this.environment.id+"/changedComponents",
e=i18n("No changed components found."));a=[{name:i18n("Component"),field:"name",orderField:"name",filterField:"name",filterType:"text",getRawValue:function(a){return a.name}},{name:i18n("Current Environment Inventory"),formatter:function(a){var c=o.create("div");b.addCurrentInventory(a,c,!0);return c}},{name:i18n("Versions to Deploy"),formatter:function(a){b.componentVersionsMap.hasOwnProperty(a.id)||(b.componentVersionsMap[a.id]=[],b.versionSelectorMap[a.id]=void 0);var c=o.create("div",{className:"component-version-selection"}),
e=o.create("div",{"class":"inlineBlock tagAttach_"+a.id},c),j=new h(e,{item:a,copyOnly:!1,copyState:function(){return!1},horizontal:!0,onDndDrop:function(a,c,e,h){if(this===a&&this===h)a=b.componentVersionsMap[this.item.id],c=f.byId(c[0].id).version,e=d.indexOf(a,c),-1!==e&&a.splice(e,1),e=f.byId(h.current.id).version,e=d.indexOf(a,e),-1!==e&&(h.before||e++,a.splice(e,0,c)),b.displayVersions();this.onDndCancel()}});e.source=j;var k=o.create("div",{"class":"selectorAttach"},e,"before"),j=o.create("a",
{innerHTML:i18n("Add..."),"class":"inlineBlock linkPointer"},c);b.clearDisplays(a.id);d.forEach(b.componentVersionsMap[a.id],function(c){b.displayVersion(c,a.id,e)});if(b.versionSelectorMap[a.id]){var l=b.versionSelectorMap[a.id];b.displayVersion({name:b.getDisplayNameForVersionSelector(l),id:a.id+"-"+l},a.id,e)}b.addEvent=b.own(r(j,"click",function(){var c=this;c.selector&&c.selector.destroy();var d=[{name:i18n("Latest Available"),handler:function(){b.addLatestVersion(bootstrap.restUrl+"deploy/component/"+
a.id+"/latestVersionByEnvironment/"+b.environment.id,a,b._getTagAttachElement(a.id));b.displayVersions();c.selector.destroy()}},{name:i18n("Latest With Status"),handler:function(){b.showStatusDialog(function(d){b.addLatestVersion(bootstrap.restUrl+"deploy/component/"+a.id+"/latestVersionByEnvironment/"+b.environment.id+"?statusName="+d,a,b._getTagAttachElement(a.id));b.displayVersions();c.selector.destroy()})}},{name:i18n("Latest Available at Execution Time"),handler:function(){b.addVersionSelector("latestVersion/",
a,b._getTagAttachElement(a.id));b.displayVersions();c.selector.destroy()}},{name:i18n("Latest With Status At Execution Time"),handler:function(){b.showStatusDialog(function(d){b.addVersionSelector("latestWithStatus/"+d,a,b._getTagAttachElement(a.id));b.displayVersions();c.selector.destroy()})}},{name:i18n("Current Environment Inventory at Execution Time"),handler:function(){b.addVersionSelector("allInEnvironment/",a,b._getTagAttachElement(a.id));b.displayVersions();c.selector.destroy()}}];c.selector=
new A({component:a,environment:b.environment,allowInvalidVersions:b.allowInvalidVersions,extraSimpleLinkToHandlers:d});c.selector.placeAt(k);if(c.selector.versionSelect&&c.selector.versionSelect.dropDown)d=c.selector.versionSelect.dropDown,d.focusNode&&d.focusNode.focus();r(c.selector.versionSelect,"add",function(c){c&&b.addVersion(c,a,e)});var f=!1;setTimeout(function(){f=!0},300);c.selector.latest&&r(c.selector.latest,"click",function(){b.addLatestVersion(bootstrap.restUrl+"deploy/component/"+a.id+
"/latestVersionByEnvironment/"+b.environment.id,a,e);c.selector&&f&&(b.displayVersions(),c.selector.destroy())});r(this.selector,"click",function(){c.selector&&!c.selector.versionSelect.focused&&f&&(b.displayVersions(),c.selector.destroy())});r(this.selector,"blur",function(){c.selector&&f&&(b.displayVersions(),c.selector.destroy())})}));return c}}];b.grid=new x({url:c,serverSideProcessing:!1,columns:a,noDataMessage:e,hidePagination:!1,hideFooterLinks:!0,hideExpandCollapse:!0});b.grid.placeAt(b.gridAttach)},
addLatestWithStatusAtExecutionTime:function(a){this.addAllVersionSelectors("latestWithStatus/"+a)},addCurrentInventoryAtExecutionTime:function(){this.addAllVersionSelectors("allInEnvironment/")},addLatestVersionsAtExecutionTime:function(){this.addAllVersionSelectors("latestVersion/")},addAllVersionSelectors:function(a){var b=this;d.forEach(b.grid.cachedData,function(c){b.addVersionSelector(a,c,b._getTagAttachElement(c.id))});b.displayVersions()},addVersionSelector:function(a,b){a&&(this.componentVersionsMap[b.id]=
[],this.versionSelectorMap[b.id]=a,this._changeCount())},addVersion:function(a,b){var c;a&&(this.versionSelectorMap[b.id]=void 0,(c=d.some(this.componentVersionsMap[b.id],function(b){return b.id===a.id}))||this.componentVersionsMap[b.id].push(a),this._changeCount())},displayVersion:function(a,b,c){var e=this,f=new z({version:a,readOnly:!1,onDelete:function(){void 0!==e.versionSelectorMap?e.componentVersionsMap[b]=d.filter(e.componentVersionsMap[b],function(a){return a.id!==f.version.id}):e.versionSelectorMap=
void 0;e.versionDisplays[b]=d.filter(e.versionDisplays[b],function(a){return a.version.id!==f.version.id});f.destroy();e._changeCount()}});f.placeAt(c,"last");e.versionDisplays[b].push(f);c.source.setItem(f.id,{type:["text"]})},getDisplayNameForVersionSelector:function(a){var b=a;"latestVersion/"===a?b="Latest Version":"latestWithStatus/"===a.substring(0,17)?b="Latest With Status "+a.substring(a.indexOf("/")+1):"allInEnvironment/"===a.substring(0,17)&&(b="Environment Inventory "+a.substring(a.indexOf("/")+
1));return b},displayVersions:function(){var a=this,b,c,e=function(d){a.displayVersion(d,b,c)};for(b in a.componentVersionsMap)if(a.componentVersionsMap.hasOwnProperty(b)&&(c=a._getTagAttachElement(b)))if(a.clearDisplays(b),d.forEach(a.componentVersionsMap[b],e),void 0!==a.versionSelectorMap[b]){var f={name:a.getDisplayNameForVersionSelector(a.versionSelectorMap[b]),id:b+"-"+a.versionSelectorMap[b]};a.displayVersion(f,b,c)}},addLatestVersions:function(b){var c=this;d.forEach(c.grid.cachedData,function(a){c.removeAllVersions(a.id)});
a.get({url:b,handleAs:"json",load:function(a){a&&(d.forEach(c.grid.cachedData,function(b){d.forEach(a,function(a){a.component.id===b.id&&c.addVersion(a,b,c._getTagAttachElement(b.id))})}),c.displayVersions())}})},addLatestVersion:function(b,c,d){var e=this;a.get({url:b,handleAs:"json",load:function(a){a&&(e.addVersion(a,c,d),e.displayVersions())}})},addCurrentInventory:function(a,b,c,e){var f=this,e=e||a.desiredVersions;(!e||1>e.length)&&c?b.innerHTML=i18n("None"):e&&c?d.forEach(e,function(a){(new z({version:a,
readOnly:c})).placeAt(b)}):e&&(d.forEach(e,function(c){f.addVersion(c,a,b)}),f.displayVersions())},removeAllVersions:function(a){var b=this._getTagAttachElement(a);null!==b&&o.empty(b);this.componentVersionsMap[a]=[];this.versionSelectorMap[a]=void 0;this.clearDisplays(a);this._changeCount()},clearDisplays:function(a){d.forEach(this.versionDisplays[a],function(a){a.destroy()});this.versionDisplays[a]=[]},_changeCount:function(){var a=this,b=0;a.grid&&d.forEach(a.grid.cachedData,function(c){a.componentVersionsMap.hasOwnProperty(c.id)&&
(b+=a.componentVersionsMap[c.id].length);void 0!==a.versionSelectorMap[c.id]&&b++});this.count=b},getCount:function(){if(!this.count)this.count=0;return this.count},_getValueAttr:function(){var a=this,b={};this.grid&&d.forEach(a.grid.cachedData,function(c){void 0!==a.versionSelectorMap[c.id]?b[c.id]=a.versionSelectorMap[c.id]:a.componentVersionsMap.hasOwnProperty(c.id)&&(b[c.id]=d.map(a.componentVersionsMap[c.id],function(a){return a.id}))});return b},_getTagAttachElement:function(a){var b=null,a=
w(".tagAttach_"+a,this.domNode);0<a.length&&(b=a[0]);return b}})})},"deploy/widgets/process/ProcessList":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/on,deploy/widgets/Formatters,deploy/widgets/process/EditProcess,deploy/widgets/process/RunProcess,js/webext/widgets/Alert,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/table/TreeTable,dojo/io/iframe".split(","),function(l,
m,k,j,f,e,d,c,b,a,h,q,o,n,s,r){return j("deploy.widgets.process.ProcessList",[m,l],{templateString:'<div class="processList"><div class="listTopButtons" data-dojo-attach-point="buttonAttach"></div><div data-dojo-attach-point="gridAttach"></div></div>',processListHash:null,baseGridUrl:null,basePasteUrl:null,readOnly:!1,postCreate:function(){this.inherited(arguments);var a=this;this.grid=new s({url:bootstrap.restUrl+"process",serverSideProcessing:!1,columns:[{name:i18n("Process"),formatter:b.processLinkFormatter,
orderField:"name",filterField:"name",filterType:"text",getRawValue:function(a){return a.name}},{name:i18n("Description"),field:"description",orderField:"description",filterField:"description",filterType:"text",getRawValue:function(a){return a.description}},{name:i18n("Actions"),parentWidget:a,formatter:this.actionsFormatter}],tableConfigKey:"genericProcessList",noDataMessage:i18n("No processes found."),hideExpandCollapse:!0,hidePagination:!1});this.grid.placeAt(this.gridAttach);if(config.data.permissions[security.system.createProcess]){var c=
new k({label:i18n("Create Process"),showTitle:!1,onClick:function(){a.showNewProcessDialog()}}),d={label:i18n("Import Process"),showTitle:!1,onClick:function(){a.showImportProcessDialog()}};c.placeAt(this.buttonAttach);(new k(d)).placeAt(this.buttonAttach);e.add(c.domNode,"idxButtonSpecial")}},showImportProcessDialog:function(){var a=this,b=new o({title:i18n("Import Process"),closable:!0,draggable:!0});a.importIsUpgrade=!1;a.importTemplateUpgradeType="USE_EXISTING_IF_EXISTS";var d=document.createElement("form");
d.target="formTarget";d.method="POST";d.enctype="multipart/form-data";d.encoding="multipart/form-data";var f=document.createElement("input");f.type="file";f.name="file";var h=document.createElement("div"),j=document.createElement("div");j.innerHTML=i18n("Upgrade Process");e.add(j,"inlineBlock");var k=document.createElement("input");k.type="checkbox";k.name=i18n("Upgrade Process");c(k,"change",function(b){a.importIsUpgrade=b.target.checked;a.setFormAction(d)});var l=document.createElement("input");
l.type="submit";l.value=i18n("Submit");l.style.display="block";h.appendChild(j);h.appendChild(k);d.appendChild(h);d.appendChild(f);d.appendChild(l);b.containerNode.appendChild(d);d.onsubmit=function(){var c=!0;f.value?(a.setFormAction(d),r.send({form:d,handleAs:"json",load:function(c){"ok"===c.status?(b.hide(),b.destroy(),a.grid.refresh()):(new q({message:i18n("Error importing process: %s",c.error)})).startup()},error:function(a){(new q({message:i18n("Error importing process: %s",a.error)})).startup()}})):
(new q({message:i18n("Please choose a process json file to import.")}),c=!1);return c};b.show()},setFormAction:function(a){var b=util.getCookie(bootstrap.expectedSessionCookieName);a.action=bootstrap.restUrl+"process/"+(!0===this.importIsUpgrade?"upgrade":"import")+"?"+bootstrap.expectedSessionCookieName+"="+b},destroy:function(){this.inherited(arguments);this.grid.destroy();void 0!==this.copyGrid&&this.copyGrid.destroy()},actionsFormatter:function(a){var b=this.parentWidget,e=document.createElement("div");
if(a.security.execute){var f=d.create("a",{innerHTML:i18n("Run"),"class":"actionsLink linkPointer"},e);c(f,"click",function(){b.showRunProcessDialog(a)})}a.security["Edit Basic Settings"]&&d.create("a",{"class":"actionsLink linkPointer",innerHTML:i18n("Edit"),href:"#process/"+a.id+"/-1"},e);a.security.Delete&&(f=d.create("a",{"class":"actionsLink linkPointer",innerHTML:i18n("Delete")},e),c(f,"click",function(){b.confirmDelete(a)}));config.data.permissions[security.system.createProcess]&&(f=d.create("a",
{"class":"actionsLink linkPointer",innerHTML:i18n("Copy")},e),c(f,"click",function(){b.showNewProcessDialog(a)}));a.security.read&&util.createDownloadAnchor({"class":"actionsLink linkPointer",innerHTML:i18n("Export"),href:bootstrap.restUrl+"process/"+a.id+"/export"},e);return e},showNewProcessDialog:function(b){var c=new o({title:i18n("Create Process"),closable:!0,draggable:!0});(new a({source:b,callback:function(){c.hide();c.destroy()}})).placeAt(c.containerNode);c.show()},showRunProcessDialog:function(a){f.get({url:bootstrap.restUrl+
"process/"+a.id+"/-1",handleAs:"json",load:function(a){var b=new o({title:i18n("Run Process"),closable:!0,draggable:!0});(new h({process:a,callback:function(){b.hide();b.destroy()}})).placeAt(b.containerNode);b.show()}})},confirmDelete:function(a){var b=this;new n({message:i18n("Are you sure you want to delete %s? This will permanently delete it from the system.",a.name),action:function(){b.grid.block();f.del({url:bootstrap.restUrl+"process/"+a.id,load:function(){b.grid.unblock();b.grid.refresh()},
error:function(a){(new q({messages:[i18n("Error: "),"",util.escape(a.responseText)]})).startup();b.grid.unblock()}})}})}})})},"dijit/a11y":function(){define("dijit/a11y","dojo/_base/array,dojo/_base/config,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-style,dojo/sniff,./main".split(","),function(l,m,k,j,f,e,d,c){var b=c._isElementShown=function(a){var b=e.get(a);return"hidden"!=b.visibility&&"collapsed"!=b.visibility&&"none"!=b.display&&"hidden"!=f.get(a,"type")};c.hasDefaultTabStop=function(a){switch(a.nodeName.toLowerCase()){case "a":return f.has(a,
"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var b;try{var c=a.contentDocument;if("designMode"in c&&"on"==c.designMode)return!0;b=c.body}catch(d){try{b=a.contentWindow.document.body}catch(e){return!1}}return b&&("true"==b.contentEditable||b.firstChild&&"true"==b.firstChild.contentEditable);default:return"true"==a.contentEditable}};var a=c.isTabNavigable=function(a){return f.get(a,"disabled")?!1:f.has(a,"tabIndex")?0<=f.get(a,"tabIndex"):
c.hasDefaultTabStop(a)};c._getTabNavigable=function(c){function e(a){return a&&"input"==a.tagName.toLowerCase()&&a.type&&"radio"==a.type.toLowerCase()&&a.name&&a.name.toLowerCase()}var j,k,l,m,t,w,u={},x=function(c){for(c=c.firstChild;c;c=c.nextSibling)if(!(1!=c.nodeType||9>=d("ie")&&"HTML"!==c.scopeName||!b(c))){if(a(c)){var h=+f.get(c,"tabIndex");if(!f.has(c,"tabIndex")||0==h)j||(j=c),k=c;else if(0<h){if(!l||h<m)m=h,l=c;if(!t||h>=w)w=h,t=c}h=e(c);f.get(c,"checked")&&h&&(u[h]=c)}"SELECT"!=c.nodeName.toUpperCase()&&
x(c)}};b(c)&&x(c);return{first:u[e(j)]||j,last:u[e(k)]||k,lowest:u[e(l)]||l,highest:u[e(t)]||t}};c.getFirstInTabbingOrder=function(a,b){var d=c._getTabNavigable(j.byId(a,b));return d.lowest?d.lowest:d.first};c.getLastInTabbingOrder=function(a,b){var d=c._getTabNavigable(j.byId(a,b));return d.last?d.last:d.highest};return{hasDefaultTabStop:c.hasDefaultTabStop,isTabNavigable:c.isTabNavigable,_getTabNavigable:c._getTabNavigable,getFirstInTabbingOrder:c.getFirstInTabbingOrder,getLastInTabbingOrder:c.getLastInTabbingOrder}})},
"deploy/widgets/snapshotComparison/SnapshotVersionComparison":function(){define(["dijit/_TemplatedMixin","dijit/_Widget","dojo/_base/declare","deploy/widgets/Formatters","js/webext/widgets/table/TreeTable"],function(l,m,k,j,f){return k("deploy.widgets.snapshotComparison.SnapshotVersionComparison",[m,l],{templateString:'<div class="snapshotVersionComparison" style="width: 700px"><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var e=[{name:i18n("Component"),
formatter:function(d){return j.componentLinkFormatter(d.component)}},{name:i18n("Version"),formatter:function(d){return j.versionLinkFormatter(d)}},{name:this.snapshot1.name,style:{paddingTop:"2px",paddingBottom:"3px",textAlign:"center"},formatter:function(d){var c="";if(d.snapshot1)c=document.createElement("img"),c.src=bootstrap.webextUrl+"images/webext/icons/icon_check_green.png";return c}},{name:this.snapshot2.name,style:{paddingTop:"2px",paddingBottom:"3px",textAlign:"center"},formatter:function(d){var c=
"";if(d.snapshot2)c=document.createElement("img"),c.src=bootstrap.webextUrl+"images/webext/icons/icon_check_green.png";return c}}];this.grid=new f({url:bootstrap.restUrl+"deploy/snapshot/"+this.snapshot1.id+"/compareVersions/"+this.snapshot2.id,serverSideProcessing:!1,columns:e,tableConfigKey:"snapshotVersionComparisonList",noDataMessage:i18n("No versions found for either snapshot.")});this.grid.placeAt(this.gridAttach)},destroy:function(){this.inherited(arguments);this.grid.destroy()}})})},"dojo/errors/CancelError":function(){define("dojo/errors/CancelError",
["./create"],function(l){return l("CancelError",null,null,{dojoType:"cancel"})})},"idx/app/Header":function(){define("idx/app/Header","dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dojo/_base/window,dojo/aspect,dojo/query,dojo/dom-attr,dojo/dom-class,dojo/dom-construct,dojo/dom-style,dojo/i18n,dojo/keys,dojo/string,dijit/_base/popup,dijit/place,dijit/registry,dijit/_Widget,dijit/_TemplatedMixin,idx/util,idx/resources,dojo/NodeList-dom,dojo/i18n!../nls/base,dojo/i18n!./nls/base,dojo/i18n!./nls/Header".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u,x){var v=function(){log.error("dijit/form/Button has been used without being loaded")},y=function(){log.error("dijit/form/TextBox has been used without being loaded")},A=function(){log.error("idx/layout/MenuTabController has been used without being loaded")};return k.getObject("idx.oneui",!0).Header=m("idx.app.Header",[t,w],{primaryTitle:"",primaryBannerType:"thin",navigation:void 0,showNavigationDropDownArrows:!0,primarySearch:void 0,user:void 0,showUserDropDownArrow:!0,
settings:void 0,showSettingsDropDownArrow:!0,help:void 0,showHelpDropDownArrow:!0,secondaryTitle:"",secondaryBannerType:"blue",secondarySubtitle:"",additionalContext:"",actions:void 0,contentContainer:"",contentTabsInline:!1,secondarySearch:void 0,layoutType:"variable",templateString:'<div role="banner"><div style="visibility: hidden; display: none;" data-dojo-attach-point="containerNode"></div><div data-dojo-attach-point="_mainContainerNode"></div></div>',_getComputedUserName:function(){return this.user&&
"function"==typeof this.user.displayName?this.user.displayName():this.user.displayName||""},_getComputedUserImage:function(){return this.user&&"function"==typeof this.user.displayImage?this.user.displayImage():this.user.displayImage},_getComputedUserMessage:function(){var a=this._getComputedUserName(),b=("function"==typeof this.user.messageName?this.user.messageName():this.user.messageName)||a,c=b;this.user&&this.user.message&&(c="function"==typeof this.user.message?this.user.message():this.user.message,
c=o.substitute(c,this.user,function(c,d){switch(d){case "messageName":return b;case "displayName":return a;default:return c||""}}));return c},_setUserDisplayNameAttr:function(a){this.user=this.user||{};this.user.displayName=a;this._refreshUser()},_setUserDisplayImageAttr:function(a){this.user=this.user||{};this.user.displayImage=a;this._refreshUser()},_setUserMessageNameAttr:function(a){this.user=this.user||{};this.user.messageName=a;this._refreshUser()},_setUserMessageAttr:function(a){this.user=
this.user||{};this.user.message=a;this._refreshUser()},_prepareMenu:function(a,d,e,h,m,o){o||(o=[]);if(d){if(d[0]){var q=null,r=f.after(a,"onOpen",function(){if(a._popupWrapper){if(!a._oneuiWrapper){a._oneuiWrapper=b.create("div",{"class":"idxHeaderContainer "+d[0]},j.body());var c=null,c=f.after(a,"destroy",function(){b.destroy(a._oneuiWrapper);delete a._oneuiWrapper;c&&c.remove()});o.push(c)}a._oneuiWrapper.appendChild(a._popupWrapper)}}),q=f.after(a,"destroy",function(){r&&r.remove();q&&q.remove()});
o.push(q);o.push(r)}var v=1<d.length?d.slice(1):d,t=this;l.forEach(a.getChildren(),function(a){a.popup&&t._prepareMenu(a.popup,v,void 0,void 0,void 0,o);a.currentPage&&c.add(a.domNode,"idxHeaderNavCurrentPage")})}if(h)a._scheduleOpen=function(b,c){if(!this._openTimer){var d=a.isLeftToRight(),e=s.around(n._createWrapper(a),h,m?["below-alt","below","above-alt","above"]:["below","below-alt","above","above-alt"],d,a.orient?k.hitch(a,"orient"):null);d||(e.x+=e.w);this._openTimer=setTimeout(k.hitch(this,
function(){delete this._openTimer;this._openMyself({target:b,iframe:c,coords:e})}),1)}},a.leftClickToOpen=!0,e&&a.bindDomNode(e);return o},_refreshUser:function(){if(this.userNode){var b=this._getComputedUserName(),e=this._getComputedUserImage(),f=this._getComputedUserMessage();d.set(this.userNode,"title",b);d.set(this.userImageNode,"src",e||"");a.set(this.userImageNode,"display",e?"block":"none");this.userTextNode.innerHTML=f;c.replace(this.userNode,f?"idxHeaderUserName":"idxHeaderUserNameNoText",
"idxHeaderUserName idxHeaderUserNameNoText")}},_injectTemplate:function(a,c){var d=w.getCachedTemplate(c,!0),d=k.isString(d)?b.toDom(this._stringRepl(d)):d.cloneNode(!0);this._attachTemplateNodes(d,function(a,b){return a.getAttribute(b)});a.appendChild(d)},postMixInProperties:function(){this._nls=x.getResources("idx/app/Header",this.lang)},_setup:function(){this.contentContainer&&this.secondaryBannerType&&"white"==this.secondaryBannerType.toLowerCase()&&require.log('*** Warning: Header will not display content tabs when secondaryBannerType is "white". Specify a different type to see content tabs.');
var a=this.primaryTitle,b=this.help,d=this.settings,e=this.user,f=this.navigation,h=this.primarySearch,j=this.secondaryTitle||this.secondarySubtitle,k=this.contextActions,l=this.secondarySearch,m=this.contentContainer&&(!this.secondaryBannerType||"white"!=this.secondaryBannerType.toLowerCase()),o=m&&(this.contentTabsInline||!j),n=this.secondaryBannerType&&"white"==this.secondaryBannerType.toLowerCase(),q=m&&!o,r=a||!0,s=j||k||l||o,t;if(r||s||q)c.add(this.domNode,"idxHeaderContainer"),this.primaryBannerType&&
"thick"==this.primaryBannerType.toLowerCase()?c.add(this._mainContainerNode,"idxHeaderPrimaryThick"):c.add(this._mainContainerNode,"idxHeaderPrimaryThin"),this.secondaryBannerType&&("lightgrey"==this.secondaryBannerType.toLowerCase()||"lightgray"==this.secondaryBannerType.toLowerCase())?(c.add(this._mainContainerNode,"idxHeaderSecondaryGray"),c.add(this._mainContainerNode,q?"idxHeaderSecondaryGrayDoubleRow":"idxHeaderSecondaryGraySingleRow"),t=r):this.secondaryBannerType&&"white"==this.secondaryBannerType.toLowerCase()?
(c.add(this._mainContainerNode,"idxHeaderSecondaryWhite"),c.add(this._mainContainerNode,q?"idxHeaderSecondaryWhiteDoubleRow":"idxHeaderSecondaryWhiteSingleRow"),t=r):(c.add(this._mainContainerNode,"idxHeaderSecondaryBlue"),c.add(this._mainContainerNode,q?"idxHeaderSecondaryBlueDoubleRow":"idxHeaderSecondaryBlueSingleRow"),t=r&&!s&&!q),c.add(this._mainContainerNode,q?"idxHeaderSecondaryDoubleRow":"idxHeaderSecondarySingleRow"),this.layoutType&&"fixed"==this.layoutType.toLowerCase()?c.add(this._mainContainerNode,
"idxHeaderWidthFixed"):c.add(this._mainContainerNode,"idxHeaderWidthLiquid");var u=[],x=[],w=this;if(h||l||k)u.push("dijit/form/Button"),x.push(function(a){v=a});if(h||l)u.push("dijit/form/TextBox"),x.push(function(a){y=a});m&&(u.push("idx/layout/MenuTabController"),x.push(function(a){A=a}));require(u,function(){for(var c=0;c<x.length;c++)x[c](arguments[c]);r&&w._injectTemplate(w._mainContainerNode,'<div class="idxHeaderPrimary"><div class="idxHeaderPrimaryInner" data-dojo-attach-point="primaryBannerNode"><ul data-dojo-attach-point="_globalActionsNode" role="presentation"></ul></div></div>');
a&&w._renderPrimaryTitle(w._globalActionsNode);w._renderLogo(w._globalActionsNode);b&&w._renderHelp(w._globalActionsNode,d||e);d&&w._renderSettings(w._globalActionsNode,e);e&&w._renderUser(w._globalActionsNode);h&&w._renderPrimarySearch(w._globalActionsNode);f&&w._renderNavigation(w.primaryBannerNode);t&&w._injectTemplate(w._mainContainerNode,'<div class="idxHeaderBlueLip"></div>');s&&w._injectTemplate(w._mainContainerNode,'<div class="idxHeaderSecondary"> <div class="idxHeaderSecondaryInner" data-dojo-attach-point="secondaryBannerNode"></div></div>');
l&&w._renderSecondarySearch(w.secondaryBannerNode);j&&w._renderSecondaryTitle(w.secondaryBannerNode);o&&w._renderContent(w.secondaryBannerNode,!1);k&&w._renderContextActions(w.secondaryBannerNode);n&&w._renderSecondaryInnerBorder(w.secondaryBannerNode);q&&w._renderContent(w._mainContainerNode,!0);0<w._refreshing&&w._refreshing--;0==w._refreshing?w._refreshRequired=!1:w._doRefresh()})},_reset:function(){c.remove(this.domNode,"idxHeaderContainer");c.remove(this._mainContainerNode,"idxHeaderPrimaryThick");
c.remove(this._mainContainerNode,"idxHeaderPrimaryThin");c.remove(this._mainContainerNode,"idxHeaderSecondaryGray");c.remove(this._mainContainerNode,"idxHeaderSecondaryGrayDoubleRow");c.remove(this._mainContainerNode,"idxHeaderSecondaryGraySingleRow");c.remove(this._mainContainerNode,"idxHeaderSecondaryWhite");c.remove(this._mainContainerNode,"idxHeaderSecondaryWhiteDoubleRow");c.remove(this._mainContainerNode,"idxHeaderSecondaryWhiteSingleRow");c.remove(this._mainContainerNode,"idxHeaderSecondaryBlue");
c.remove(this._mainContainerNode,"idxHeaderSecondaryBlueDoubleRow");c.remove(this._mainContainerNode,"idxHeaderSecondaryBlueSingleRow");c.remove(this._mainContainerNode,"idxHeaderSecondaryDoubleRow");c.remove(this._mainContainerNode,"idxHeaderSecondarySingleRow");c.remove(this._mainContainerNode,"idxHeaderWidthFixed");c.remove(this._mainContainerNode,"idxHeaderWidthLiquid");if(this.help)(this.help=r.byId(this.help))&&this.help.placeAt(this.containerNode);this._clearHandles("_helpHandles");if(this.settings)(this.settings=
r.byId(this.settings))&&this.settings.placeAt(this.containerNode);this._clearHandles("_settingsHandles");if(this.user&&this.user.actions)this.user.actions=r.byId(this.user.actions),this.user.actions&&this.user.actions.placeAt(this.containerNode);this._clearHandles("_actionsHandles");if(this.navigation)(this.navigation=r.byId(this.navigation))&&this.navigation.placeAt(this.containerNode);this._clearHandles("_navHandles");this._clearHandles("_controllerHandlers");l.forEach(r.findWidgets(this._mainContainerNode),
function(a){a.destroy()});var a=[];l.forEach(this._mainContainerNode.childNodes,function(b){a.push(b)});l.forEach(a,function(a){b.destroy(a)});this._contextActionsNode=this.additionalContextTextNode=this.secondarySubtitleTextNode=this._secondaryTitleSeparatorNode=this.secondaryTitleTextNode=this.primarySearchButtonNode=this.primarySearchTextNode=this.userTextNode=this.userImageNode=this.userNode=this._settingsNode=this._helpNode=this.secondaryBannerNode=this.primaryBannerNode=this.primaryTitleTextNode=
this._globalActionsNode=null;this.contextActionNodes&&delete this.contextActionNodes;this.contentControllerNode=this.secondarySearchButtonNode=this.secondarySearchTextNode=null},constructor:function(){this._refreshing=0},destroy:function(){if(this.navigation)this.navigation.destroyRecursive?this.navigation.destroyRecursive():this.navigation.destroy&&this.navigation.destroy(),this.navigation=null;this._clearHandles("_navHandles");this._controller&&(this._controller.destroyRecursive?this._controller.destroyRecursive():
this._controller.destroy&&this._controller.destroy(),delete this._controller);this._clearHandles("_controllerHandles");if(this.settings)this.settings.destroyRecursive?this.settings.destroyRecursive():this.settings.destroy&&this.settings.destroy(),this.settings=null;this._clearHandles("_settingsHandles");if(this.help)this.help.destroyRecursive?this.help.destroyRecursive():this.help.destroy&&this.help.destroy(),this.help=null;this._clearHandles("_helpHandles");if(this.user&&this.user.actions)this.user.actions.destroyRecursive?
this.user.actions.destroyRecursive():this.user.actions.destroy&&this.user.actions.destroy(),this.user=this.user.actions=null;this._clearHandles("_actionsHandles");this.inherited(arguments)},_clearHandles:function(a){a in this&&(l.forEach(this[a],function(a){a.remove()}),delete this[a])},buildRendering:function(){this.inherited(arguments);this._setup()},_setContentTabsInlineAttr:function(a){var b=this.contentTabsInline;this.contentTabsInline=a;b!=a&&this._refresh()},_setContentContainerAttr:function(a){var b=
this.contentContainer;this.contentContainer=a;u.widgetEquals(b,a)||this._refresh()},_setActionsAttr:function(a){var b=this.actions;this.actions=a;b!==a&&this._refresh()},_setAdditionalContextAttr:function(a){var b=this.additionalContextTextNode;this.additionalContext=a;if(b)b.innerHTML=a?a:""},_setSecondaryBannerTypeAttr:function(a){var b=this.secondaryBannerType;this.secondaryBannerType=a;b!=a&&this._refresh()},_setPrimaryTitleAttr:function(a){var b=this.primaryTitle,c=this.primaryTitleTextNode;
if((this.primaryTitle=a)&&!b||b&&!a)this._refresh();else if(c&&a)c.innerHTML=a},_setSecondaryTitleAttr:function(a){var b=this.secondaryTitle,c=this.secondaryTitleTextNode;if((this.secondaryTitle=a)&&!b||b&&!a)this._refresh();else if(c&&a)c.innerHTML=a},_setLayoutTypeAttr:function(a){this.layoutType=a;this._mainContainerNode&&(this.layoutType&&"fixed"==this.layoutType.toLowerCase()?c.add(this._mainContainerNode,"idxHeaderWidthFixed"):c.add(this._mainContainerNode,"idxHeaderWidthLiquid"))},_setSecondarySubtitleAttr:function(a){var b=
this.secondarySubtitle,c=this.secondarySubtitleTextNode;if((this.secondarySubtitle=a)&&!b||b&&!a)this._refresh();else if(c&&a)c.innerHTML=a},_setShowHelpDropDownArrowAttr:function(a){this.showHelpDropDownArrow=a;this._helpNode&&c.toggle(this._helpNode,"idxHeaderDropDown",this.showHelpDropDownArrow)},_setShowSettingsDropDownArrowAttr:function(a){this.showSettingsDropDownArrow=a;this._settingsNode&&c.toggle(this._settingsNode,"idxHeaderDropDown",this.showSettingsDropDownArrow)},_setShowUserDropDownArrowAttr:function(a){this.showUserDropDownArrow=
a;this.userNode&&c.toggle(this.userNode,"idxHeaderDropDown",this.showUserDropDownArrow)},_setUserAttr:function(a){var b=this.user;this.user=a;b!==a&&(b&&!a||a&&!b?this._refresh():b&&b.actions!==a.actions?this._refresh():this._refreshUser())},_setShowNavigationDropDownArrowsAttr:function(a){var b=this.showNavigationDropDownArrows;this.showNavigationDropDownArrows=a;b!=a&&this._refresh()},_setPrimarySearchAttr:function(a){var b=this.primarySearch;this.primarySearch=a;b!==a&&this._refresh()},_setSecondarySearchAttr:function(a){var b=
this.secondarySearch;this.secondarySearch=a;b!==a&&this._refresh()},_setNavigationAttr:function(a){var b=this.navigation;this.navigation=a;u.widgetEquals(b,a)||this._refresh()},_setSettingsAttr:function(a){var b=this.settings;this.settings=a;u.widgetEquals(b,a)||this._refresh()},_setHelpAttr:function(a){var b=this.help;this.help=a;u.widgetEquals(b,a)||this._refresh()},deferRefresh:function(){this._refreshDeferred=!0},refresh:function(){if(this._refreshDeferred)this._refreshDeferred=!1;this._refreshRequired&&
this._refresh()},_refresh:function(){this._refreshRequired=!0;this._started&&!this._refreshDeferred&&(this._refreshing++,1==this._refreshing&&this._doRefresh())},_doRefresh:function(){this._reset();this._setup()},_setupChild:function(a){a=children[index];if("region"in a)switch(a.region){case "navigation":this.set("navigation",a);break;case "settings":this.set("settings",a);break;case "help":this.set("help",a)}},addChild:function(a){this.inherited(arguments);this._setupChild(a)},removeChild:function(a){a===
this.help&&this.set("help",null);a===this.navigation&&this.set("navigation",null);a===this.settings&&this.set("settings",null);this.inherited(arguments)},startup:function(){this.inherited(arguments);this.deferRefresh();for(var a=this.getChildren(),b=0;b<a.length;b++)this._setupChild(a[b]);this.refresh()},_renderPrimaryTitle:function(a){this._injectTemplate(a,'<li><span><div class="idxHeaderPrimaryTitle" data-dojo-attach-point="primaryTitleTextNode">${primaryTitle}</div></span></li>')},_renderLogo:function(a){this._injectTemplate(a,
'<li class="idxHeaderPrimaryAction idxHeaderEnd"><span><div class="idxHeaderLogoBox"><div class="idxHeaderLogo" alt="${_nls.ibmlogo}"><span class="idxTextAlternative">${_nls.ibmlogo}</span></div></div></span></li>')},_renderHelp:function(a,b){this._injectTemplate(a,'<li class="idxHeaderPrimaryAction idxHeaderHelp"><a tabindex="3" href="javascript://" data-dojo-attach-point="_helpNode" title="${_nls.actionHelp}"><span class="idxHeaderHelpIcon"><span class="idxTextAlternative">${_nls.actionHelp}</span></span><span class="idxHeaderDropDownArrow"><span class="idxTextAlternative">(v)</span></span></a></li>');
b&&this._injectTemplate(a,'<li class="idxHeaderPrimaryAction idxHeaderSeparator"><span></span></li>');if(this.help)this.help=r.byId(this.help),this._clearHandles("_helpHandles"),this._helpHandles=this._prepareMenu(this.help,["oneuiHeaderGlobalActionsMenu","oneuiHeaderGlobalActionsSubmenu"],this._helpNode,this._helpNode,!0),c.toggle(this._helpNode,"idxHeaderDropDown",this.showHelpDropDownArrow)},_renderSettings:function(a,b){this._injectTemplate(a,'<li class="idxHeaderPrimaryAction idxHeaderTools"><a tabindex="2" href="javascript://" data-dojo-attach-point="_settingsNode" title="${_nls.actionShare}"><span class="idxHeaderShareIcon"><span class="idxTextAlternative">${_nls.actionShare}</span></span><span class="idxHeaderDropDownArrow"><span class="idxTextAlternative">(v)</span></span></a></li>');
b&&this._injectTemplate(a,'<li class="idxHeaderPrimaryAction idxHeaderSeparator"><span></span></li>');if(this.settings)this.settings=r.byId(this.settings),this._clearHandles("_settingsHandles"),this._settingsHandles=this._prepareMenu(this.settings,["oneuiHeaderGlobalActionsMenu","oneuiHeaderGlobalActionsSubmenu"],this._settingsNode,this._settingsNode,!0),c.toggle(this._settingsNode,"idxHeaderDropDown",this.showSettingsDropDownArrow)},_renderUser:function(a){this._injectTemplate(a,'<li class="idxHeaderPrimaryAction"><a tabindex="1" href="javascript://" data-dojo-attach-point="userNode" class="idxHeaderUserNameNoText"><span class="idxHeaderUserIcon"><img data-dojo-attach-point="userImageNode" class="idxHeaderUserIcon" alt="" /></span><span class="idxHeaderUserText" data-dojo-attach-point="userTextNode"></span><span class="idxHeaderDropDownArrow"><span class="idxTextAlternative">(v)</span></span></a></li>');
this._refreshUser();if(this.user&&this.user.actions)this.user.actions=r.byId(this.user.actions),this._clearHandles("_actionsHandles"),this._actionsHandles=this._prepareMenu(this.user.actions,["oneuiHeaderGlobalActionsMenu","oneuiHeaderGlobalActionsSubmenu"],this.userNode,this.userNode,!0),c.toggle(this.userNode,"idxHeaderDropDown",this.showUserDropDownArrow)},_renderNavigation:function(a){if(this.navigation="object"==typeof this.navigation&&"nodeType"in this.navigation?r.byNode(this.navigation):r.byId(this.navigation)){this.navigation.placeAt(a);
this.navigation.startup();a=this.navigation.getChildren();if(1==a.length&&""==a[0].label)c.toggle(a[0].containerNode,"idxHeaderNavigationHome",!0);else if(this.showNavigationDropDownArrows)for(var b=0;b<a.length;b++)if(a[b].popup){var d=e(".idxHeaderDropDownArrow",a[b].focusNode);c.toggle(a[b].domNode,"idxHeaderDropDown",!0);0<d.length||this._injectTemplate(a[b].focusNode,'<span class="idxHeaderDropDownArrow"><span class="idxTextAlternative">(v)</span></span>')}for(a=this.navigation.domNode.firstChild;a;)b=
a,a=a.nextSibling,3==b.nodeType&&!b.nodeValue.match(/\S/)&&this.navigation.domNode.removeChild(b);this._clearHandles("_navHandles");this._navHandles=this._prepareMenu(this.navigation,[null,"oneuiHeaderNavigationMenu","oneuiHeaderNavigationSubmenu"])}else require.log("WARNING: navigation widget not found")},_renderPrimarySearch:function(a){this._injectTemplate(a,'<li role="search" class="idxHeaderSearchContainer"><input type="text" data-dojo-attach-point="primarySearchTextNode" /><input type="image" data-dojo-attach-point="primarySearchButtonNode" /></li>');
this.primarySearch.onChange=k.isFunction(this.primarySearch.onChange)?this.primarySearch.onChange:new Function("value",this.primarySearch.onChange);this.primarySearch.onSubmit=k.isFunction(this.primarySearch.onSubmit)?this.primarySearch.onSubmit:new Function("value",this.primarySearch.onSubmit);var b=this,a="entryPrompt"in this.primarySearch?this.primarySearch.entryPrompt:this._nls.searchEntry,c="submitPrompt"in this.primarySearch?this.primarySearch.submitPrompt:this._nls.searchSubmit,d=new y({trim:!0,
placeHolder:a,intermediateChanges:!0,title:a},this.primarySearchTextNode);d.own(f.after(d,"onChange",function(){b._onPrimarySearchChange(d.attr("value"))}));d.own(f.after(d,"onKeyUp",function(a){a.keyCode==q.ENTER&&b._onPrimarySearchSubmit(d.attr("value"))}));a=new v({label:c,showLabel:!1,iconClass:"idxHeaderSearchButton"},this.primarySearchButtonNode);a.own(f.after(a,"onClick",function(){b._onPrimarySearchSubmit(d.attr("value"))}))},_renderSecondaryTitle:function(b){this._injectTemplate(b,'<span class="idxHeaderSecondaryTitleContainer"><span class="idxHeaderSecondaryTitle" data-dojo-attach-point="secondaryTitleTextNode">${secondaryTitle}</span><span class="idxHeaderSecondarySubtitle" data-dojo-attach-point="_secondaryTitleSeparatorNode">&nbsp;&ndash;&nbsp;</span><span class="idxHeaderSecondarySubtitle" data-dojo-attach-point="secondarySubtitleTextNode">${secondarySubtitle}</span>&nbsp;&nbsp;<span class="idxHeaderSecondaryAdditionalContext" data-dojo-attach-point="additionalContextTextNode">${additionalContext}</span></span>');
a.set(this._secondaryTitleSeparatorNode,"display",this.secondaryTitle&&this.secondarySubtitle?"":"none")},_renderContextActions:function(a){this._injectTemplate(a,'<div class="idxHeaderSecondaryActions" data-dojo-attach-point="_contextActionsNode"></div>');this.contextActionNodes=[];for(a=0;a<this.contextActions.length;a++)this._injectTemplate(this._contextActionsNode,'<button type="button" data-dojo-attach-point="_nextActionNode"></button>'),new v(this.contextActions[a],this._nextActionNode),this.contextActionNodes.push(this._nextActionNode),
delete this._nextActionNode},_renderSecondarySearch:function(a){this._injectTemplate(a,'<div role="search" class="idxHeaderSearchContainer"><input type="text" data-dojo-attach-point="secondarySearchTextNode" /><input type="image" data-dojo-attach-point="secondarySearchButtonNode" /></div>');this.secondarySearch.onChange=k.isFunction(this.secondarySearch.onChange)?this.secondarySearch.onChange:new Function("value",this.secondarySearch.onChange);this.secondarySearch.onSubmit=k.isFunction(this.secondarySearch.onSubmit)?
this.secondarySearch.onSubmit:new Function("value",this.secondarySearch.onSubmit);var b=this,a="entryPrompt"in this.secondarySearch?this.secondarySearch.entryPrompt:this._nls.searchEntry,c="submitPrompt"in this.secondarySearch?this.secondarySearch.submitPrompt:this._nls.searchSubmit,d=new y({trim:!0,placeHolder:a,intermediateChanges:!0,title:a},this.secondarySearchTextNode);d.own(f.after(d,"onChange",function(){b._onSecondarySearchChange(d.attr("value"))}));d.own(f.after(d,"onKeyUp",function(a){a.keyCode==
q.ENTER&&b._onSecondarySearchSubmit(d.attr("value"))}));a=new v({label:c,showLabel:!1,iconClass:"idxHeaderSearchButton"},this.secondarySearchButtonNode);a.own(f.after(a,"onClick",function(){b._onSecondarySearchSubmit(d.attr("value"))}))},_renderSecondaryInnerBorder:function(a){this._injectTemplate(a,'<div class="idxHeaderSecondaryInnerBorder"></div>')},_renderContent:function(a,b){this._injectTemplate(a,'<div class="oneuiContentContainer">'+(b?'<div class="oneuiContentContainerInner">':"")+'<div data-dojo-attach-point="contentControllerNode"></div>'+
(b?"</div>":"")+"</div>");var c=new A({containerId:"string"===typeof this.contentContainer?this.contentContainer:this.contentContainer.id,"class":"dijitTabContainerTop-tabs",useMenu:this._tabMenu,useSlider:this._tabSlider,buttonWidget:k.extend(idx.layout._PopupTabButton,{tabDropDownText:"",tabSeparatorText:"|"})},this.contentControllerNode),d=this;this._clearHandles("_controllerHandles");this._controllerHandles=this._prepareMenu(c._menuBtn,["oneuiHeader2ndLevMenu","oneuiHeader2ndLevSubmenu"]);this._controllerHandles.push(f.after(c,
"_bindPopup",function(a,b,c,e){d._prepareMenu(e,["oneuiHeader2ndLevMenu","oneuiHeader2ndLevSubmenu"],c,b,this._controllerHandles)},!0));c.startup();this._controller=c;var e=r.byId(this.contentContainer);if(e&&e._started)c.onStartup({children:e.getChildren(),selected:e.selectedChildWidget})},_onPrimarySearchChange:function(a){this.primarySearch.onChange(a)},_onPrimarySearchSubmit:function(a){this.primarySearch.onSubmit(a)},_onSecondarySearchChange:function(a){this.secondarySearch.onChange(a)},_onSecondarySearchSubmit:function(a){this.secondarySearch.onSubmit(a)}})})},
"dijit/_PaletteMixin":function(){define("dijit/_PaletteMixin","dojo/_base/declare,dojo/dom-attr,dojo/dom-class,dojo/dom-construct,dojo/_base/event,dojo/keys,dojo/_base/lang,./_CssStateMixin,./focus,./typematic".split(","),function(l,m,k,j,f,e,d,c,b,a){return l("dijit._PaletteMixin",[c],{defaultTimeout:500,timeoutChangeRate:0.9,value:"",_selectedCell:-1,tabIndex:"0",cellClass:"dijitPaletteCell",dyeClass:null,_dyeFactory:function(a){return new ("string"==typeof this.dyeClass?d.getObject(this.dyeClass):
this.dyeClass)(a)},_preparePalette:function(b,c){this._cells=[];var d=this._blankGif;this.connect(this.gridNode,"ondijitclick","_onCellClick");for(var f=0;f<b.length;f++)for(var k=j.create("tr",{tabIndex:"-1",role:"row"},this.gridNode),l=0;l<b[f].length;l++){var m=b[f][l];if(m){var w=this._dyeFactory(m,f,l,c[m]),m=j.create("td",{"class":this.cellClass,tabIndex:"-1",title:c[m],role:"gridcell"},k);w.fillCell(m,d);m.idx=this._cells.length;this._cells.push({node:m,dye:w})}}this._xDim=b[0].length;this._yDim=
b.length;var u={UP_ARROW:-this._xDim,DOWN_ARROW:this._xDim,RIGHT_ARROW:this.isLeftToRight()?1:-1,LEFT_ARROW:this.isLeftToRight()?-1:1},x;for(x in u)this.own(a.addKeyListener(this.domNode,{charOrCode:e[x],ctrlKey:!1,altKey:!1,shiftKey:!1},this,function(){var a=u[x];return function(b){this._navigateByKey(a,b)}}(),this.timeoutChangeRate,this.defaultTimeout))},postCreate:function(){this.inherited(arguments);this._setCurrent(this._cells[0].node)},focus:function(){b.focus(this._currentFocus)},_onCellClick:function(a){for(var c=
a.target;"TD"!=c.tagName;){if(!c.parentNode||c==this.gridNode)return;c=c.parentNode}var d=this._getDye(c).getValue();this._setCurrent(c);b.focus(c);this._setValueAttr(d,!0);f.stop(a)},_setCurrent:function(a){"_currentFocus"in this&&m.set(this._currentFocus,"tabIndex","-1");(this._currentFocus=a)&&m.set(a,"tabIndex",this.tabIndex)},_setValueAttr:function(a,b){0<=this._selectedCell&&k.remove(this._cells[this._selectedCell].node,this.cellClass+"Selected");this._selectedCell=-1;if(a)for(var c=0;c<this._cells.length;c++)if(a==
this._cells[c].dye.getValue()){this._selectedCell=c;k.add(this._cells[c].node,this.cellClass+"Selected");break}this._set("value",0<=this._selectedCell?a:null);if(b||void 0===b)this.onChange(a)},onChange:function(){},_navigateByKey:function(a,c){if(-1!=c){var e=this._currentFocus.idx+a;if(e<this._cells.length&&-1<e)e=this._cells[e].node,this._setCurrent(e),this.defer(d.hitch(b,"focus",e))}},_getDye:function(a){return this._cells[a.idx].dye}})})},"deploy/widgets/componentTemplate/ComponentTemplateList":function(){define("dojo/_base/declare,dijit/_Widget,dijit/_TemplatedMixin,dijit/form/Button,dijit/form/CheckBox,dojo/dom-class,dojo/dom-geometry,dojo/dom-construct,dojo/on,dojo/topic,dojo/_base/xhr,dojo/io/iframe,deploy/widgets/Formatters,deploy/widgets/componentTemplate/EditComponentTemplate,deploy/widgets/tag/Tagger,deploy/widgets/tag/TagDisplay,js/webext/widgets/Table,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/Alert".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u,x){return l([m,k],{templateString:'<div class="componentTemplateList"><div class="listTopButtons" data-dojo-attach-point="buttonTopAttach"></div><div data-dojo-attach-point="gridAttach"></div><div data-dojo-attach-point="activeBoxAttach" style="margin: 2px;"></div></div>',postCreate:function(){this.inherited(arguments);var a=this,b=bootstrap.restUrl+"deploy/componentTemplate",h=[{name:i18n("Name"),formatter:function(b,e,f){f.style.position="relative";
var e=c.create("div",{"class":"inlineBlock",style:"margin-"+(d.isBodyLtr()?"right":"left")+":130px;"}),f=c.create("div",{"class":"inlineBlock"}),h=o.componentTemplateLinkFormatter(b);c.place(h,f);c.place(f,e);a.tagger=new s({objectType:"ComponentTemplate",item:b,callback:function(){a.grid.refresh()}});a.tagger.placeAt(e);return e},orderField:"name",filterField:"name",filterType:"text",getRawValue:function(a){return a.name}},{name:i18n("Description"),field:"description"},{name:i18n("Created"),field:"created",
formatter:util.tableDateFormatter,orderField:"created",getRawValue:function(a){return new Date(a.created)}},{name:i18n("By"),field:"user",orderField:"user",getRawValue:function(a){return a.user}},{name:i18n("Actions"),formatter:this.actionsFormatter,parentWidget:this}];this.grid=new t({url:b,serverSideProcessing:!1,noDataMessage:i18n("No component templates found."),tableConfigKey:"componentTemplateList",columns:h});this.grid.placeAt(this.gridAttach);if(config.data.systemConfiguration.enableInactiveLinks)(new f({checked:!1,
value:"true",onChange:function(b){a.grid.url=b?bootstrap.restUrl+"deploy/componentTemplate/all":bootstrap.restUrl+"deploy/componentTemplate";a.grid.refresh()}})).placeAt(this.activeBoxAttach),b=document.createElement("div"),e.add(b,"inlineBlock"),b.style.position="relative",b.style.top="2px",b.style.left="2px",b.innerHTML=i18n("Show Inactive Templates"),this.activeBoxAttach.appendChild(b);config.data.permissions[security.system.createComponentTemplates]&&(h={label:i18n("Create Template"),showTitle:!1,
onClick:function(){a.showNewComponentTemplateDialog()}},b={label:i18n("Import Template"),showTitle:!1,onClick:function(){a.showImportTemplateDialog()}},h=(new j(h)).placeAt(this.buttonTopAttach),(new j(b)).placeAt(this.buttonTopAttach),e.add(h.domNode,"idxButtonSpecial"))},destroy:function(){this.inherited(arguments);this.grid.destroy()},actionsFormatter:function(a){var d=this.parentWidget,e=document.createElement("div");if(a.security.Delete){var f=c.create("a",{"class":"actionsLink linkPointer",
innerHTML:i18n("Delete")},e);b(f,"click",function(){d.confirmDelete(a)})}util.createDownloadAnchor({"class":"actionsLink linkPointer",innerHTML:i18n("Export"),href:bootstrap.restUrl+"deploy/componentTemplate/"+a.id},e);return e},confirmDelete:function(a){var b=this;new u({message:i18n("Are you sure you want to delete %s? This will permanently delete it from the system.",a.name.escape()),action:function(){b.grid.block();h.del({url:bootstrap.restUrl+"deploy/componentTemplate/"+a.id,handleAs:"json",
load:function(){b.grid.unblock();b.grid.refresh()},error:function(a){(new w({title:i18n("Error deleting component template"),content:util.escape(a.responseText),closable:!0,draggable:!0})).show();b.grid.unblock()}})}})},showImportTemplateDialog:function(){var a=this,c=new w({title:i18n("Import Template"),closable:!0,draggable:!0});a.processUpgradeType="USE_EXISTING_IF_EXISTS";var d=document.createElement("form");d.target="formTarget";d.method="POST";d.enctype="multipart/form-data";d.encoding="multipart/form-data";
var f=document.createElement("input");f.type="file";f.name="file";var h=document.createElement("div"),j=document.createElement("div");j.innerHTML=i18n("Upgrade Template");e.add(j,"inlineBlock");var k=document.createElement("input");k.type="checkbox";k.name=i18n("Upgrade Template");var l=document.createElement("div"),m=document.createElement("div");m.innerHTML=i18n("Generic Process Upgrade Type");e.add(m,"inlineBlock");var o=document.createElement("select"),n=document.createElement("option");n.innerHTML=
i18n("Use Existing Process");n.value="USE_EXISTING_IF_EXISTS";o.appendChild(n);n=document.createElement("option");n.innerHTML=i18n("Create Process");n.value="CREATE_NEW_IF_EXISTS";o.appendChild(n);n=document.createElement("option");n.innerHTML=i18n("Fail If Process Exists");n.value="FAIL_IF_EXISTS";o.appendChild(n);n=document.createElement("option");n.innerHTML=i18n("Fail If Process Does Not Exist");n.value="FAIL_IF_DOESNT_EXIST";o.appendChild(n);n=document.createElement("option");n.innerHTML=i18n("Upgrade If Exists");
n.value="UPGRADE_IF_EXISTS";o.appendChild(n);b(o,"change",function(b){a.processUpgradeType=b.target.value;a.setFormAction(d)});l.appendChild(m);l.appendChild(o);m=document.createElement("input");m.type="submit";m.value=i18n("Submit");m.style.display="block";h.appendChild(j);h.appendChild(k);d.appendChild(h);d.appendChild(l);d.appendChild(f);d.appendChild(m);c.containerNode.appendChild(d);d.onsubmit=function(){var b=!0;if(f.value){var e=util.getCookie(bootstrap.expectedSessionCookieName);d.action=
bootstrap.restUrl+"deploy/componentTemplate/"+(!0===k.checked?"upgrade":"import")+"?processUpgradeType="+a.processUpgradeType+"&"+bootstrap.expectedSessionCookieName+"="+e;q.send({form:d,handleAs:"json",load:function(b){"ok"===b.status?(c.hide(),c.destroy(),a.grid.refresh()):(new x({message:i18n("Error importing component template: %s",b.error)})).startup()},error:function(a){(new x({message:i18n("Error importing component template: %s",a.error)})).startup()}})}else new x({message:i18n("Please choose a template json file to import.")}),
b=!1;return b};c.show()},showNewComponentTemplateDialog:function(){var a=new w({title:i18n("Create Component Template"),closable:!0,draggable:!0});(new n({callback:function(){a.hide();a.destroy()}})).placeAt(a.containerNode);a.show()}})})},"deploy/widgets/scripts/EditScript":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/has,dojo/_base/sniff,dojo/dom-construct,deploy/widgets/scripts/Editor,js/webext/widgets/ColumnForm".split(","),function(l,m,k,j,f,e,d,c){return k("deploy.widgets.scripts.EditScript",
[m,l],{templateString:'<div class="editScript">  <div data-dojo-attach-point="formAttach"></div></div>',_sampleScript:"var exit = properties.get('exitCode');\n\nscanner.register(\"regex\", function(lineNumber, line) {\n     var thing = 'do stuff';\n});\n\nif (exit == 0) {\n    properties.put('Status', 'Success');\n}\nelse {\n     properties.put('Status', 'Failure');\n}\n",postCreate:function(){this.inherited(arguments);var b=this;if(this.script)this.existingValues=this.script;else if(this.source)this.existingValues=
this.source,this.existingValues.name=void 0,this.existingValues.id=void 0;this.form=new c({submitUrl:bootstrap.restUrl+"script/postprocessing",postSubmit:function(a){void 0!==b.callback&&b.callback(a)},addData:function(a){if(b.script&&b.script.id)a.id=b.script.id},onCancel:function(){void 0!==b.callback&&b.callback()}});var a="",d="",e="";if(this.existingValues)a=this.existingValues.name,d=this.existingValues.description,e=this.existingValues.body;this.form.addField({name:"name",label:i18n("Name"),
required:!0,type:"Text",value:a});this.form.addField({name:"description",label:i18n("Description"),type:"Text",value:d});a="CodeEditor";9>j("ie")&&(a="Text Area");this.form.addField({name:"body",label:i18n("Script Body"),required:!0,description:i18n("Specify the post processing script to be run here(JavaScript).<br/> You will have access to the output properties from the step in a java.util.Properties variable name <b>properties</b>. <br>The properties will have a special property for the exit code of the process called <b>exitCode</b>.<br/>It will also have a special property for the final status called <b>Status</b>. A status of <b>Success</b> is the only status that wont result in the step failing. <br/>There will also be a variable called <b>scanner</b> which can be used to scan the output log of the step. It has these public methods:  <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;register(String regex, function call) -> this will register a new function to be called whenever the regex is matched. <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addLOI(Integer lineNumber) -> this will add a specific line to the lines  of interest list. These will be highlighted in the LogViewer after the  process has finished. This is implicitly called anytime the scanner  matches a line. <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getLinesOfInterest() -> this will return a java.util.List<Integer> that is the list of lines of interest. This can be used for removing lines when necessary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scan() -> this tells the scanner to go ahead and scan the log. Should be invoked after all regexs are registered."),
type:a,value:e||this._sampleScript,textDir:"ltr",language:"javascript"});this.form.placeAt(this.formAttach)},startup:function(){this.inherited(arguments);dojo.forEach(this.form.fieldsArray,function(b){"CodeEditor"===b.type&&b.widget.startup()})}})})},"deploy/widgets/resource/ResourceRolePropertyEditor":function(){define("dijit/_Templated,dijit/_Widget,dijit/form/Button,dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,dojo/json,dojo/on,js/webext/widgets/Alert,js/webext/widgets/ColumnForm,js/webext/widgets/Dialog,js/webext/widgets/Table".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s){return f("deploy.widgets.resource.ResourceRolePropertyEditor",[m,l],{templateString:'<div class="resourceRolePropertyEditor"><div data-dojo-attach-point="titleAttach" class="resourceRolePropertyEditorTitle"></div><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){var a=this,d=new o,f={},j={};this.titleAttach.innerHTML=i18n("Role Properties: %s",a.role.name.escape());var k=bootstrap.restUrl+"resource/resourceRole/"+a.role.id+"/propertiesForTableEditor";
a.resource&&a.resource.id&&(k=bootstrap.restUrl+"resource/resource/"+a.resource.id+"/propertiesForRole/"+a.role.id);var l=[{name:i18n("Property"),orderField:"label",filterField:"label",filterType:"text",getRawValue:function(a){return a.propDef.label},formatter:function(a,b,c){b=document.createElement("div");b.innerHTML=a.propDef.label?a.propDef.label.escape():"";if(a.propDef.required)c.style.fontWeight="bold",a=document.createElement("span"),a.className="required",a.innerHTML="*",b.appendChild(a);
return b}},{name:i18n("Description"),formatter:function(a){return a.propDef.description}},{name:i18n("Value"),formatter:function(b){var h=e.clone(b.propDef);h.value=a.getValueForItem(b);h.defaultLabel=b.propValue?b.propValue.label:b.propDef.defaultLabel;h.onChange=function(a,d){b.value=a;b.label=d.label;var e=f[b.propDef.name],h=j[b.propDef.name];e&&h&&(b.value===b.propDef.value?(c.add(e,"hidden"),c.remove(h,"hidden")):(c.remove(e,"hidden"),c.add(h,"hidden")))};"HTTP_MULTI_SELECT"===h.type&&util.updateWebextMultiSelectData(h,
b,"value","label",!1);return d.delegates.delegates[b.propDef.type](h)}},{name:i18n("Actions"),formatter:function(d){var e=document.createElement("div");if("SECURE"!==d.propDef.type){var k=b.create("a",{innerHTML:i18n("Reset to Default"),"class":"linkPointer"},e);h(k,"click",function(){d.value=d.propDef.value;a.propertyGrid.loadTable()});var l=document.createElement("span");l.innerHTML=i18n("Using Default");e.appendChild(l);f[d.propDef.name]=k;j[d.propDef.name]=l;a.getValueForItem(d)===d.propDef.value?
(c.add(f[d.propDef.name],"hidden"),c.remove(j[d.propDef.name],"hidden")):(c.remove(f[d.propDef.name],"hidden"),c.add(j[d.propDef.name],"hidden"))}return e}}];this.propertyGrid=new s({url:k,serverSideProcessing:!1,tableConfigKey:"resourceRolePropList",noDataMessage:i18n("No properties are available on this role."),columns:l,style:{minWidth:"650px"}});a.propertyGrid.placeAt(a.gridAttach)},getValueForItem:function(a){var b=a.value;if(void 0===b&&void 0!==a.propValue)b=a.propValue.value;if(void 0===b)b=
a.propDef.value;"MULTI_SELECT"===a.propDef.type&&e.isArray(b)&&(b=b.join(","));return b},_getValueAttr:function(){var a=this,b={};j.forEach(a.propertyGrid.cachedData,function(c){var d=a.getValueForItem(c);b[c.propDef.name]=d;b[c.propDef.name+"/HTTP_SELECT_LABEL"]=c.label});return b},getValidationErrors:function(){var a=this,b=[];j.forEach(a.propertyGrid.cachedData,function(c){!a.getValueForItem(c)&&c.propDef.required&&b.push(i18n("%s is a required field.",c.propDef.label))});return b}})})},"deploy/widgets/componentProcess/EditComponentProcess":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,js/webext/widgets/Alert,js/webext/widgets/ColumnForm,js/webext/widgets/RestSelect".split(","),
function(l,m,k,j,f,e){return k("deploy.widgets.componentProcess.EditComponentProcess",[m,l],{templateString:'<div class="editComponentProcess">  <div data-dojo-attach-point="formAttach"></div></div>',postCreate:function(){this.inherited(arguments);var d=this;this.existingValues={};this.componentProcess?this.existingValues=this.componentProcess:(this.existingValues.takesVersion=!0,this.existingValues.inventoryActionType="ADD",this.existingValues.defaultWorkingDir="${p:resource/work.dir}/${p:component.name}");
this.form=new f({submitUrl:bootstrap.restUrl+"deploy/componentProcess",readOnly:d.readOnly,showButtons:!d.readOnly,postSubmit:function(){d.component?navBar.setHash("component/"+d.component.id+"/processes",!1,!0):d.componentTemplate&&navBar.setHash("componentTemplate/"+d.componentTemplate.id+"/-1/processes",!1,!0);void 0!==d.callback&&d.callback()},onError:function(b){b.responseText&&new j({message:util.escape(b.responseText)});d.componentProcess&&navBar.setHash("componentProcess/"+d.componentProcess.id+
"/-1/configuration",!0,!1)},addData:function(b){if(d.component)b.componentId=d.component.id;else if(d.componentTemplate)b.componentTemplateId=d.componentTemplate.id;if(d.componentProcess)b.existingId=d.componentProcess.id,b.componentProcessVersion=d.componentProcess.version;var a=b.processType;delete b.processType;if("deploy"===a)b.inventoryActionType="ADD",b.configActionType="ADD",b.takesVersion=!0;else if("config_deploy"===a)b.configActionType="ADD",b.takesVersion=!1;else if("uninstall"===a)b.inventoryActionType=
"REMOVE",b.takesVersion=!0;else if("operational_version"===a)b.takesVersion=!0;else if("operational"===a)b.takesVersion=!1},onCancel:function(){void 0!==d.callback&&d.callback()}});this.form.addField({name:"name",label:i18n("Name"),required:!0,type:"Text",value:this.existingValues.name,textDir:util.getBaseTextDir()});this.form.addField({name:"description",label:i18n("Description"),type:"Text",value:this.existingValues.description});this.form.addField({name:"_type",type:"Invisible"});var c=null,c=
this.existingValues.takesVersion?"ADD"===this.existingValues.inventoryActionType?"deploy":"REMOVE"===this.existingValues.inventoryActionType?"uninstall":"operational_version":"ADD"===this.existingValues.configActionType?"config_deploy":"operational";this.form.addField({name:"processType",label:i18n("Process Type"),type:"Select",allowedValues:[{label:i18n("Deployment"),value:"deploy"},{label:i18n("Configuration Deployment"),value:"config_deploy"},{label:i18n("Uninstall"),value:"uninstall"},{label:i18n("Operational (With Version)"),
value:"operational_version"},{label:i18n("Operational (No Version Needed)"),value:"operational"}],required:!0,value:c,description:i18n('The type of action this process is performing. Specify "Deployment" to install a component or "Uninstall" to remove a component. Specify "Configuration Deployment" to apply new configuration settings to a component without installing files. Specify an operational process to make changes to an installed component without changing its status in the inventory. '),onChange:function(b){"deploy"===
b||"uninstall"===b?d.form.hasField("status")||d.showStatusSelect():d.form.hasField("status")&&d.form.removeField("status")}},"_type");("deploy"===c||"uninstall"===c)&&d.showStatusSelect();this.form.addField({name:"defaultWorkingDir",label:i18n("Default Working Directory"),type:"Text",bidiDynamicSTT:"FILE_PATH",required:!0,value:this.existingValues.defaultWorkingDir});c=new e({restUrl:bootstrap.baseUrl+"security/role",value:this.existingValues.requiredRoleId});this.form.addField({name:"requiredRoleId",
label:i18n("Required Role"),description:i18n("The role on the component which a user must have to execute this process"),widget:c});this.form.placeAt(this.formAttach)},showStatusSelect:function(){var d=new e({disabled:this.readOnly,restUrl:bootstrap.restUrl+"deploy/status/inventoryStatuses",getValue:function(c){return c.name},getStyle:function(c){return{backgroundColor:c.color}},allowNone:!1,value:this.existingValues.status});this.form.addField({name:"status",label:i18n("Inventory Status"),required:!0,
widget:d,description:i18n("The inventory status to add or remove.")},"_type")}})})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has","../selector/_loader"],function(l,m,k,j){function f(b){var a=c[b.options.handleAs];b.data=a?a(b):b.data||b.text;return b}j.add("activex","undefined"!==typeof ActiveXObject);j.add("dom-parser",function(b){return"DOMParser"in b});var e;if(j("activex")){var d=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0",
"MSXML.DOMDocument"];e=function(b){var a=b.data;a&&j("dom-qsa2.1")&&!a.querySelectorAll&&j("dom-parser")&&(a=(new DOMParser).parseFromString(b.text,"application/xml"));if(!a||!a.documentElement){var c=b.text;k.some(d,function(b){try{var d=new ActiveXObject(b);d.async=!1;d.loadXML(c);a=d}catch(e){return!1}return!0})}return a}}var c={javascript:function(b){return m.eval(b.text||"")},json:function(b){return l.parse(b.text||null)},xml:e};f.register=function(b,a){c[b]=a};return f})},"deploy/widgets/component/EditComponent":function(){define("dijit/_TemplatedMixin,dijit/_Widget,js/util/blocker/_BlockerMixin,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/store/Memory,dijit/form/ComboBox,js/webext/widgets/ColumnForm,js/webext/widgets/RestSelect,js/webext/widgets/Alert,deploy/widgets/security/TeamSelector".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q){return f("deploy.widgets.component.EditComponent",[m,l,k],{templateString:'<div class="editComponent">  <div data-dojo-attach-point="formAttach"></div></div>',postCreate:function(){var c=this;c.block();c.inherited(arguments);c.existingValues={useVfs:!0};if(c.component){if(c.existingValues=c.component,c.existingValues.componentType=c.component.componentType,c.component.sourceConfigPlugin)c.existingValues.sourceConfigPluginName=c.component.sourceConfigPlugin.name}else if(c.source){e.get({url:bootstrap.restUrl+
"deploy/component/"+c.source.id,handleAs:"json",sync:!0,load:function(a){c.source=a}});c.existingValues=c.source;c.existingValues.name=void 0;if(c.source.sourceConfigPlugin)c.existingValues.sourceConfigPluginName=c.source.sourceConfigPlugin.name;if(c.source.template)c.existingValues.templateId=c.source.template.id}else e.get({url:bootstrap.restUrl+"security/teamsWithCreateAction/Component",handleAs:"json",sync:!0,load:function(a){c.existingValues.extendedSecurity={teams:a}}});if(c.componentTemplate)c.existingValues.template=
c.componentTemplate;var d=c.existingValues.template;c.sourceConfigPropertyNames=[];c.templatePropertyNames=[];c.templatePropertyPatterns=[];c.form=new b({submitUrl:bootstrap.restUrl+"deploy/component",readOnly:c.readOnly,showButtons:!c.readOnly,postSubmit:function(a){c.noRedirect||navBar.setHash("component/"+a.id);void 0!==c.callback&&c.callback(a)},addData:function(a){if(c.component)a.existingId=c.component.id;if(c.source){a.copyId=c.source.id;if(c.source.componentTemplate)a.templateId=c.source.componentTemplate.id;
if(c.source.template)a.templateId=c.source.template.id}a.properties={};j.forEach(c.sourceConfigPropertyNames,function(b){void 0!==a[b]?(a.properties[b]=a[b],delete a[b]):a.properties[b]=""});a.teamMappings=c.teamSelector.teams},onError:function(a){a.responseText&&new h({message:util.escape(a.responseText)})},onCancel:function(){void 0!==c.callback&&c.callback()},validateFields:function(a){var b=[];j.forEach(c.templatePropertyNames,function(d){var e=c.templatePropertyNames[d],d=c.templatePropertyPatterns[d],
f=a[e];d&&f&&(c.validatePattern(f,d)||b.push(i18n("Value for property %s does not follow the required Pattern",e)))});return b}});c.form.addField({name:"name",label:i18n("Name"),required:!0,type:"Text",value:c.existingValues.name});c.form.addField({name:"description",label:i18n("Description"),type:"Text",value:c.existingValues.description});var f=[];if(c.existingValues&&c.existingValues.extendedSecurity&&c.existingValues.extendedSecurity.teams)f=c.existingValues.extendedSecurity.teams;c.teamSelector=
new q({resourceRoleType:"Component",noneLabel:i18n("Standard Component"),teams:f});c.form.addField({name:"teams",label:i18n("Teams"),type:"Text",widget:c.teamSelector});c.form.addField({name:"_templateInsert",type:"Invisible"});c.form.addField({name:"_componentTypeInsert",type:"Invisible"});c.form.addField({name:"_templateProperties",type:"Invisible"});c.addComponentTypeField();c.form.addField({name:"_sourceProperties",type:"Invisible"});c.form.addField({name:"_sourceStandardProperties",type:"Invisible"});
c.form.addField({name:"_integrationProperties",type:"Invisible"});c.form.addField({name:"_cleanupSettingsHeader",type:"SectionLabel",value:i18n("Cleanup Configuration")});c.form.addField({name:"_cleanupSettings",type:"Invisible"});c.component&&"ZOS"===c.component.componentType||c.addSourcePropertiesHeader();var f=config.data.permissions[security.system.createComponents],k=config.data.permissions[security.system.createComponentsFromTemplate],l=c.component&&c.component.template||c.componentTemplate;
(!c.component&&!c.componentTemplate&&!c.source||!l)&&k?(d=function(){return!0},c.requireTemplateTag&&(d=function(a){return a.tags.some(function(a){return a.id===c.requireTemplateTag.id})}),d=new a({restUrl:bootstrap.restUrl+"deploy/componentTemplate",value:c.existingValues.templateId,isValid:d,onChange:function(a,b){c.showStatusOrTemplateVersionFields(b)}}),c.form.addField({name:"templateId",label:i18n("Component Template"),description:i18n("The template to use for this component."),required:!f||
!!c.requireTemplateTag,widget:d},"_templateInsert")):l?(c.form.addField({name:"templateName",label:i18n("Template"),description:i18n("The template to use for this component."),readOnly:!0,type:"Text",value:d?d.name:"None"},"_templateInsert"),c.showStatusOrTemplateVersionFields(d)):c.showStatusOrTemplateVersionFields();f=!c.existingValues.cleanupDaysToKeep&&!c.existingValues.cleanupCountToKeep;c.form.addField({name:"inheritSystemCleanup",label:i18n("Inherit Cleanup Settings"),description:i18n("Determines how many component versions are kept in CodeStation and how long they are kept. If selected, the component uses the values on the System Settings pane. If cleared, the Days to Keep Versions and Number of Versions to Keep fields are displayed. Initially, both fields are set to -1, which means keep indefinitely, and keep all."),
type:"Checkbox",onChange:function(a){a?c.form.hasField("cleanupDaysToKeep")&&(c.form.removeField("cleanupDaysToKeep"),c.form.removeField("cleanupCountToKeep")):c.showCleanupFields()},value:f},"_cleanupSettings");f||c.showCleanupFields();c.form.placeAt(c.formAttach)},showStatusOrTemplateVersionFields:function(b){var c=this;c.form.hasField("templateVersion")&&c.form.removeField("templateVersion");if(b){var d=new a({restUrl:bootstrap.restUrl+"deploy/componentTemplate/"+b.id+"/versions",getLabel:function(a){return a.version+
" - "+util.dateFormatShort(a.commit.commitTime)},getValue:function(a){return a.version},noneLabel:i18n("Always Use Latest"),value:-1===this.existingValues.templateVersion?null:this.existingValues.templateVersion,onChange:function(a,d){d?c.selectTemplate(d):c.selectTemplate(b)}});this.form.addField({name:"templateVersion",label:i18n("Template Version"),description:i18n("The version of the template to use for this component."),widget:d},"_templateInsert")}else c.selectTemplate()},selectTemplate:function(a){var b=
this;j.forEach(b.sourceConfigPropertyNames,function(a){b.form.removeField(a)});b.sourceConfigPropertyNames=[];b.form.hasField("sourceConfigPlugin")?(b.form.removeField("sourceConfigPlugin"),b.form.removeField("importAutomatically"),b.form.removeField("useVfs"),b.form.removeField("defaultVersionType"),b.form.removeField("runVersionCreationProcess"),b.form.removeField("importAgentType")):b.form.hasField("ignoreQualifiers")&&b.form.removeField("ignoreQualifiers");j.forEach(b.templatePropertyNames,function(a){b.form.removeField(a)});
b.templatePropertyNames=[];a?e.get({url:bootstrap.restUrl+"deploy/componentTemplate/"+a.id+"/"+a.version,handleAs:"json",load:function(c){b.showTemplatePropDefs(c);a.componentType?(b.existingValues.componentType=a.componentType,b.existingValues.ignoreQualifiers=c.ignoreQualifiers,b.form.removeField("componentType"),b.addComponentTypeField(a),"STANDARD"===a.componentType?(b.addSourcePropertiesHeader(),b.showSourceConfigProperties(c)):(b.unblock(),b.removeSourcePropertiesHeader(),b.showIgnoreQualifiers(c))):
b.unblock()}}):"ZOS"!==b.existingValues.componentType?(b.addSourcePropertiesHeader(),b.showSourceConfigProperties()):(b.showIgnoreQualifiers(),b.unblock());b.form.removeField("componentType");b.addComponentTypeField(a)},showSourceConfigProperties:function(a){var b=this,c=null;if(this.existingValues.sourceConfigPlugin)c=this.existingValues.sourceConfigPlugin.id;if(a&&a.sourceConfigPlugin)c=a.sourceConfigPlugin.id;this.form.addField({name:"sourceConfigPlugin",type:"TableFilterSelect",label:i18n("Source Configuration Type"),
url:bootstrap.restUrl+"plugin/sourceConfigPlugin",description:i18n("The source configuration plugin to use for this component."),idProperty:function(a){return a.name},value:c,readOnly:!!a&&!!a.sourceConfigPluginName,allowNone:!0,defaultQuery:{outputType:["BASIC","LINKED","EXTENDED"]},onChange:function(c,d){j.forEach(b.sourceConfigPropertyNames,function(a){b.form.removeField(a)});b.sourceConfigPropertyNames=[];if(d){var e=d.componentPropSheetDef.name;j.forEach(d.componentPropDefs,function(c){var d=
!1;if(a&&a.sourceConfigProperties){var f=util.getNamedProperty(a.sourceConfigProperties,c.name);if(f)c.value=f.value,d=!0}if(b.existingValues.properties&&!d&&(d=util.getNamedProperty(b.existingValues.properties,e+"/"+c.name)))c.value=d.value;d=util.clone(c);f=e+"/"+c.name;d.name=f;d.translate=!0;b.sourceConfigPropertyNames.push(f);if(a)if(a.sourceConfigProperties){if(util.getNamedProperty(a.sourceConfigProperties,c.name))d.readOnly=!0}else if(b.existingValues.templateSourceProperties&&util.getNamedProperty(b.existingValues.templateSourceProperties,
c.name))d.readOnly=!0;if(-1<d.label.indexOf("URL")||-1<d.label.indexOf(" Url"))d.textDir="ltr";else if(-1<d.label.indexOf("Vob Location")||-1<d.label.indexOf("Path"))d.textDir="ltr";b.form.addField(d,"_sourceProperties")})}b.unblock()},onSetItem:function(){b.unblock()}},"_sourceProperties");c="inherit";this.existingValues.integrationTag?c="tag":this.existingValues.integrationAgent&&(c="agent");this.form.addField({name:"importAgentType",type:"Radio",label:"",value:c,allowedValues:[{label:i18n("Use the system's default version import agent/tag."),
value:"inherit"},{label:i18n("Import new component versions using a single agent."),value:"agent"},{label:i18n("Import new component versions using any agent with the specified tag."),value:"tag"}],onChange:function(a){b.removeIntegrationTagField();b.removeIntegrationAgentField();"tag"===a?b.addIntegrationTagField():"agent"===a&&b.addIntegrationAgentField()}},"_integrationProperties");"tag"===c?this.addIntegrationTagField():"agent"===c&&this.addIntegrationAgentField();this.form.addField({name:"importAutomatically",
label:i18n("Import Versions Automatically"),description:i18n("If this is checked, the configured version source will be polled periodically for new versions."),type:"Checkbox",value:this.existingValues.importAutomatically},"_sourceStandardProperties");this.form.addField({name:"useVfs",label:i18n("Copy to CodeStation"),description:i18n("If this is checked, artifacts will be copied from the given source into the server's CodeStation repository, from which they can be retrieved during deployments."),
type:"Checkbox",value:this.existingValues.useVfs},"_sourceStandardProperties");this.form.addField({name:"defaultVersionType",label:i18n("Default Version Type"),description:i18n("The type of versions to create by default on version imports."),required:!0,type:"Select",allowedValues:[{label:i18n("Full"),value:"FULL"},{label:i18n("Incremental"),value:"INCREMENTAL"}],value:this.existingValues.defaultVersionType},"_sourceStandardProperties");this.form.addField({name:"runVersionCreationProcess",label:i18n("Run Process after a Version is Created"),
type:"Checkbox",value:!!this.existingValues.versionCreationProcessId,onChange:function(a){a?b.showProcessOptions():b.hideProcessOptions()}});this.form.addField({name:"_versionCreationProcessInsert",type:"Invisible"});this.existingValues.versionCreationProcessId?this.showProcessOptions():this.hideProcessOptions();b.unblock()},showIgnoreQualifiers:function(a){this.form.addField({name:"ignoreQualifiers",label:i18n("High Level Qualifier Length"),required:!1,readOnly:!!a,type:"Text",textDir:"ltr",value:!this.existingValues.ignoreQualifiers?
"0":this.existingValues.ignoreQualifiers},"_sourceProperties")},showTemplatePropDefs:function(a){var b=this;j.forEach(a.propDefs,function(a){var c=util.clone(a);c.name="template/"+a.name;a.pattern&&(c.description+=i18n(" Required Pattern: %s",util.escape(a.pattern)));util.populatePropValueAndLabel(b.existingValues.properties,c);b.form.addField(c,"_templateProperties");b.templatePropertyNames.push(c.name);b.templatePropertyPatterns.push(c.pattern)})},showCleanupFields:function(){var a=this.existingValues.cleanupDaysToKeep,
b=this.existingValues.cleanupCountToKeep;if(0===a&&0===b)a=this.existingValues.systemCleanupDaysToKeep,b=this.existingValues.systemCleanupCountToKeep;this.form.addField({name:"cleanupDaysToKeep",label:i18n("Days to Keep Versions"),description:i18n("Number of days to keep component versions. -1 will keep indefinitely."),value:a,required:!0,textDir:"ltr",type:"Text"},"_cleanupSettings");this.form.addField({name:"cleanupCountToKeep",label:i18n("Number of Versions to Keep"),description:i18n("Number of versions to keep for each component. -1 will keep all."),
value:b,required:!0,textDir:"ltr",type:"Text"},"_cleanupSettings")},showProcessOptions:function(){var b=new a({restUrl:bootstrap.restUrl+"deploy/application/processes/forComponent/"+this.existingValues.id,getLabel:function(a){return a.application.name+" - "+a.name},value:this.existingValues.versionCreationProcessId});this.form.addField({name:"versionCreationProcessId",label:i18n("Application Process"),widget:b,required:!0},"_versionCreationProcessInsert");b=new a({restUrl:bootstrap.restUrl+"deploy/application/environments/forComponent/"+
this.existingValues.id,getLabel:function(a){return a.application.name+" - "+a.name},value:this.existingValues.versionCreationEnvironmentId});this.form.addField({name:"versionCreationEnvironmentId",label:i18n("Environment"),widget:b,required:!0},"_versionCreationProcessInsert")},hideProcessOptions:function(){this.form.hasField("versionCreationProcessId")&&this.form.removeField("versionCreationProcessId");this.form.hasField("versionCreationEnvironmentId")&&this.form.removeField("versionCreationEnvironmentId")},
validatePattern:function(a,b){var c=!0;RegExp(b).exec(a)||(c=!1);return c},addIntegrationAgentField:function(){var a;if(this.existingValues.integrationAgent)a=this.existingValues.integrationAgent.id;this.form.addField({name:"integrationAgent",label:i18n("Agent for Version Imports"),description:i18n("The agent to use for version imports on this component"),type:"FilteringSelect",url:bootstrap.restUrl+"agent",defaultQuery:{filterFields:"requiredActions",filterType_requiredActions:"eq",filterValue_requiredActions:security.agent.manageVersionImports},
value:a},"_integrationProperties")},addIntegrationTagField:function(){var a="";if(this.existingValues.integrationTag&&this.existingValues.integrationTag.name)a=this.existingValues.integrationTag.name;var b=[];e.get({url:bootstrap.restUrl+"tag/type/Agent",sync:!0,handleAs:"json",load:function(a){b=a}});var f=new d({data:b}),a=new c({store:f,searchAttr:"name",value:a,noDataMessage:i18n("No tags found."),autoComplete:!1,selectOnClick:!0,pageSize:"10"});this.form.addField({name:"integrationTag",label:i18n("Agent Tag for Version Imports"),
widget:a,description:i18n("The tag to use for version imports on this component")},"_integrationProperties")},removeIntegrationAgentField:function(){this.form.removeField("integrationAgent")},removeIntegrationTagField:function(){this.form.removeField("integrationTag")},addSourcePropertiesHeader:function(){this.form.hasField("_sourcePropertiesHeader")||this.form.addField({name:"_sourcePropertiesHeader",type:"SectionLabel",value:i18n("Version Source Configuration")},"_sourceProperties")},removeIgnoreQualifiers:function(){this.form.removeField("ignoreQualifiers")},
removeSourcePropertiesHeader:function(){this.form.removeField("_sourcePropertiesHeader")},removeSourceConfigProperties:function(){this.form.removeField("sourceConfigPlugin");this.form.removeField("importAutomatically");this.form.removeField("useVfs");this.form.removeField("defaultVersionType");this.form.removeField("runVersionCreationProcess");this.form.removeField("importAgentType")},removeSourceConfigFields:function(){var a=this.sourceConfigPropertyNames.length,b;for(b=0;b<a;b++)this.form.removeField(this.sourceConfigPropertyNames[b]);
this.sourceConfigPropertyNames=[]},addInvisibleIncrementalVersionTypeField:function(){this.form.addField({name:"defaultVersionType",type:"Invisible",value:"INCREMENTAL"})},addComponentTypeField:function(a){var b=this;if(a)b.existingValues.componentType=a.componentType;this.form.addField({name:"componentType",label:i18n("Component Type"),description:i18n("The Type of Component. z/OS components do not use source configs and will have them disabled."),type:"Select",allowedValues:[{label:i18n("Standard"),
value:"STANDARD"},{label:i18n("z/OS"),value:"ZOS"}],value:b.existingValues.componentType,readOnly:!!a,onChange:function(a){b.existingValues.componentType=a;b.removeSourceConfigProperties();"ZOS"===a?(b.removeSourcePropertiesHeader(),b.addInvisibleIncrementalVersionTypeField(),b.removeSourceConfigFields(),b.showIgnoreQualifiers()):(b.addSourcePropertiesHeader(),b.showSourceConfigProperties(),b.removeIgnoreQualifiers())}},"_componentTypeInsert")}})})},"deploy/widgets/component/ComponentRequestHistory":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/dom-construct,dojo/on,deploy/widgets/Formatters,js/webext/widgets/table/TreeTable".split(","),
function(l,m,k,j,f,e,d){return k("deploy.widgets.component.ComponentRequestHistory",[m,l],{templateString:'<div class="componentRequestHistory"><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var c=[{name:i18n("Process"),formatter:function(b){b.componentProcess.component=b.component;return e.componentProcessLinkFormatter(b.componentProcess)}},{name:i18n("Resource"),formatter:function(b){return e.resourcePathFormatter(b.resource)}},{name:i18n("Version"),
formatter:function(b){return e.versionLinkFormatter(b.version)}},{name:i18n("Application"),formatter:function(b){return e.applicationLinkFormatter(b.application)}},{name:i18n("Environment"),formatter:function(b){return e.environmentLinkFormatter(b.environment)}},{name:i18n("Scheduled For"),field:"calendarEntry.scheduledDate",formatter:function(b){return util.dateFormatShort(b.entry.scheduledDate)},orderField:"calendarEntry.scheduledDate"},{name:i18n("By"),field:"userName"},{name:i18n("Status"),formatter:function(b,
a,c){return e.requestStatusFormatter(b,a,c)}},{name:i18n("Actions"),formatter:function(b){var a=document.createElement("div"),c=document.createElement("a");c.className="actionsLink";c.innerHTML=i18n("View Request");c.href="#componentProcessRequest/"+b.id;a.appendChild(c);return a}}];this.grid=new d({url:bootstrap.restUrl+"deploy/componentProcessRequest/table",baseFilters:[{name:"component.id",type:"eq",className:"UUID",values:[appState.component.id]}],columns:c,orderField:"calendarEntry.scheduledDate",
sortType:"desc",tableConfigKey:"componentRequestHistory"+appState.component.id,noDataMessage:i18n("No process history found for this component."),hideExpandCollapse:!0,hidePagination:!1,queryData:{outputType:["BASIC","LINKED"]}});this.grid.placeAt(this.gridAttach)},destroy:function(){this.inherited(arguments);this.grid.destroy()}})})},"dojo/io-query":function(){define(["./_base/lang"],function(l){var m={};return{objectToQuery:function(k){var j=encodeURIComponent,f=[],e;for(e in k){var d=k[e];if(d!=
m[e]){var c=j(e)+"=";if(l.isArray(d))for(var b=0,a=d.length;b<a;++b)f.push(c+j(d[b]));else f.push(c+j(d))}}return f.join("&")},queryToObject:function(k){for(var j=decodeURIComponent,k=k.split("&"),f={},e,d,c=0,b=k.length;c<b;++c)if(d=k[c],d.length){var a=d.indexOf("=");0>a?(e=j(d),d=""):(e=j(d.slice(0,a)),d=j(d.slice(a+1)));"string"==typeof f[e]&&(f[e]=[f[e]]);l.isArray(f[e])?f[e].push(d):f[e]=d}return f}}})},"dijit/form/_FormMixin":function(){define("dijit/form/_FormMixin","dojo/_base/array,dojo/_base/declare,dojo/_base/kernel,dojo/_base/lang,dojo/on,dojo/window".split(","),
function(l,m,k,j,f,e){return m("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(d){var c=[];l.forEach(d||this.getChildren(),function(b){"value"in b?c.push(b):c=c.concat(this._getDescendantFormWidgets(b.getChildren()))},this);return c},reset:function(){l.forEach(this._getDescendantFormWidgets(),function(d){d.reset&&d.reset()})},validate:function(){var d=!1;return l.every(l.map(this._getDescendantFormWidgets(),function(c){c._hasBeenBlurred=!0;var b=c.disabled||!c.validate||
c.validate();!b&&!d&&(e.scrollIntoView(c.containerNode||c.domNode),c.focus(),d=!0);return b}),function(c){return c})},setValues:function(d){k.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",d)},_setValueAttr:function(d){var c={};l.forEach(this._getDescendantFormWidgets(),function(a){a.name&&(c[a.name]||(c[a.name]=[])).push(a)});for(var b in c)if(c.hasOwnProperty(b)){var a=c[b],e=j.getObject(b,!1,d);void 0!==e&&(j.isArray(e)||
(e=[e]),"boolean"==typeof a[0].checked?l.forEach(a,function(a){a.set("value",-1!=l.indexOf(e,a.value))}):a[0].multiple?a[0].set("value",e):l.forEach(a,function(a,b){a.set("value",e[b])}))}},getValues:function(){k.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},_getValueAttr:function(){var d={};l.forEach(this._getDescendantFormWidgets(),function(c){var b=c.name;if(b&&!c.disabled){var a=c.get("value");"boolean"==typeof c.checked?
/Radio/.test(c.declaredClass)?!1!==a?j.setObject(b,a,d):(a=j.getObject(b,!1,d),void 0===a&&j.setObject(b,null,d)):(c=j.getObject(b,!1,d),c||(c=[],j.setObject(b,c,d)),!1!==a&&c.push(a)):(c=j.getObject(b,!1,d),"undefined"!=typeof c?j.isArray(c)?c.push(a):j.setObject(b,[c,a],d):j.setObject(b,a,d))}});return d},isValid:function(){return""==this.state},onValidStateChange:function(){},_getState:function(){var d=l.map(this._descendants,function(c){return c.get("state")||""});return 0<=l.indexOf(d,"Error")?
"Error":0<=l.indexOf(d,"Incomplete")?"Incomplete":""},disconnectChildren:function(){},connectChildren:function(d){this._descendants=this._getDescendantFormWidgets();l.forEach(this._descendants,function(c){c._started||c.startup()});d||this._onChildChange()},_onChildChange:function(d){(!d||"state"==d||"disabled"==d)&&this._set("state",this._getState());if(!d||"value"==d||"disabled"==d||"checked"==d)this._onChangeDelayTimer&&this._onChangeDelayTimer.remove(),this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;
this._set("value",this.get("value"))},10)},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var d=this;this.own(f(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(c){c.target!=d.domNode&&d._onChildChange(c.type.replace("attrmodified-",""))}));this.watch("state",function(c,b,a){this.onValidStateChange(""==a)})},destroy:function(){this.inherited(arguments)}})})},
"deploy/widgets/resource/SingleResourceSelector":function(){define("dijit/_Widget,dijit/form/FilteringSelect,dojo/_base/declare,dojox/data/JsonRestStore,js/webext/widgets/ColumnForm,js/webext/widgets/Dialog".split(","),function(l,m,k,j,f,e){return k("deploy.widgets.resource.SingleResourceSelector",[l],{postCreate:function(){this.inherited(arguments);var d=this;if(this.resourceGroup)this.submitUrl=bootstrap.restUrl+"resource/resGroup/static/"+this.resourceGroup.id+"/addResources",this.storeUrl=bootstrap.restUrl+
"resource/resGroup/static/"+this.resourceGroup.id+"/unusedResources";this.dialog=new e({title:i18n("Add a Resource"),closable:!0,draggable:!0});var c=new j({target:this.storeUrl,idAttribute:"id"});this.select=new m({store:c,autoComplete:!1});this.form=new f({submitUrl:this.submitUrl,getData:function(){var b=[];b.push(d.select.value);var a={};if(void 0!==d.storeData)a=d.storeData;a.resources=b;return a},postSubmit:function(){d.dialog.hide();void 0!==d.callback&&d.callback()},onCancel:function(){d.dialog.hide()}});
this.form.addField({name:"resource",label:i18n("Select a Resource"),description:i18n("Start typing to filter results. Use * as a wildcard."),required:!0,widget:this.select});this.form.placeAt(this.dialog.containerNode);this.dialog.show()}})})},"dojo/domReady":function(){define("dojo/domReady",["./has"],function(l){function m(a){d?a(j):c.push(a)}var k=this,j=document,f={loaded:1,complete:1},e="string"!=typeof j.readyState,d=!!f[j.readyState];if(e)j.readyState="loading";if(!d){var c=[],b=[],a=function(a){a=
a||k.event;if(!(d||"readystatechange"==a.type&&!f[j.readyState])){d=1;if(e)j.readyState="complete";for(;c.length;)c.shift()(j)}},h=function(b,d){b.addEventListener(d,a,!1);c.push(function(){b.removeEventListener(d,a,!1)})};if(!l("dom-addeventlistener")){var h=function(b,d){d="on"+d;b.attachEvent(d,a);c.push(function(){b.detachEvent(d,a)})},q=j.createElement("div");try{q.doScroll&&null===k.frameElement&&b.push(function(){try{return q.doScroll("left"),1}catch(a){}})}catch(o){}}h(j,"DOMContentLoaded");
h(k,"load");"onreadystatechange"in j?h(j,"readystatechange"):e||b.push(function(){return f[j.readyState]});if(b.length){var n=function(){if(!d){for(var c=b.length;c--;)if(b[c]()){a("poller");return}setTimeout(n,30)}};n()}}m.load=function(a,b,c){m(c)};return m})},"deploy/widgets/application/ApplicationComponents":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/_base/xhr,dojo/dom-construct,dojo/json,dojo/on,deploy/widgets/component/RunComponentProcess,deploy/widgets/component/ComponentImportFailureIcon,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/webext/widgets/table/TreeTable".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q){return k("deploy.widgets.application.ApplicationComponents",[m,l],{templateString:'<div class="applicationComponents"><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var a=bootstrap.restUrl+"deploy/component",b=[{name:i18n("Component"),formatter:this.componentLinkFormatter,orderField:"name"},{name:i18n("Description"),field:"description"},{name:i18n("Actions"),formatter:this.actionsFormatter,parentWidget:this}];
this.grid=new q({serverSideProcessing:!0,url:a,tableConfigKey:"applicationComponentsList",noDataMessage:i18n("No components have been added to this application."),columns:b,hidePagination:!1,hideExpandCollapse:!0,orderField:"name",sortType:"asc",baseFilters:[{name:"applications.id",type:"eq",className:"UUID",values:[appState.application.id]}]});this.grid.placeAt(this.gridAttach)},componentLinkFormatter:function(a){var c=document.createElement("div");if(a.integrationFailed){var d=new b({label:i18n("A version import failed. Check the component's configuration for more details or use the Actions menu on the Components page to dismiss this error.")});
f.place(d.domNode,c)}d=document.createElement("a");d.href="#component/"+a.id;d.innerHTML=a.name.escape();f.place(d,c);return c},actionsFormatter:function(a){var b=this.parentWidget,c=document.createElement("span");if(appState.application.extendedSecurity[security.application.runComponentProcesses]){var e=f.create("a",{innerHTML:i18n("Run Process"),"class":"actionsLink linkPointer"},c);d(e,"click",function(){b.showComponentDeploymentDialog(a)})}appState.application.security["Manage Components"]&&(e=
f.create("a",{innerHTML:i18n("Remove"),"class":"actionsLink linkPointer"},c),d(e,"click",function(){b.confirmRemoval(a)}));return c},confirmRemoval:function(a){var b=this,c={components:[]};c.components.push(a.id);new h({message:i18n("Are you sure you want to remove component '%s' from this application?",a.name.escape()),action:function(){j.put({url:bootstrap.restUrl+"deploy/application/"+appState.application.id+"/removeComponents",putData:e.stringify(c),load:function(){b.grid.refresh()}})}})},showComponentDeploymentDialog:function(b){var d=
new a({closable:!0,draggable:!0});(new c({application:appState.application,component:b,callback:function(){d.hide();d.destroy()}})).placeAt(d.containerNode);d.show()}})})},"deploy/widgets/resourceTemplate/CloudConnectionSelect":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/_base/xhr,dojo/_base/lang,dojo/aspect,dojo/dom-construct,dojo/dom-class,dijit/form/Button,js/webext/widgets/Dialog,js/webext/widgets/ColumnForm,js/webext/widgets/RestSelect,deploy/widgets/security/TeamSelector".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o){return k("js.deploy.widgets.resourceTemplate.CloudConnectionSelect",[m,l],{templateString:'<div class="collectionSelector">  <div data-dojo-attach-point="selectorAttach" class="versionSelectorComponent"></div>  <div data-dojo-attach-point="buttonAttach" style="vertical-align: top; display:inline-block;" ></div></div>',postCreate:function(){var c=this;this.inherited(arguments);j.get({url:bootstrap.restUrl+"security/teamsWithCreateAction/Cloud Connection",handleAs:"json",
sync:!0,load:function(a){c.extendedSecurity={teams:a}}});var d=bootstrap.restUrl+"resource/cloud/connection";c.blueprintId&&(d+="?filter_type=blueprint&same_host_as="+c.blueprintId);this.connectionSelector=new q({restUrl:d,onChange:function(a,b){if(a)c.selectedCloudId=a,c.set("value",c.selectedCloudId),c.selectedCloudabel=b.name;c.onChange(a)},isValid:function(){return!0},allowNone:!1});this.newConnectionBtn=new b({label:i18n("New Connection..."),onClick:function(){var b=new a({title:i18n("New Cloud Connection"),
closable:!0,draggable:!0,description:i18n("To create a cloud connection, specify the cloud system to connect to and the credentials for that cloud system. Make sure that you have a user account on the cloud system and that you have the permissions to read information about virtual system patterns, IP groups, cloud groups, and environment profiles.")});this.form=new h({submitUrl:bootstrap.restUrl+"resource/cloud/connection",postSubmit:function(a){b.hide();b.destroy();void 0!==c.callback&&c.callback(a);
c.connectionSelector._updateRestUrl()},addData:function(a){a.teamMappings=c.teamSelector.teams},onCancel:function(){b.hide();b.destroy();void 0!==c.callback&&c.callback()}});this.form.addField({name:"name",label:i18n("Name"),required:!1,type:"Text"});this.form.addField({name:"url",label:i18n("Management Console"),required:!0,textDir:"ltr",type:"Text",placeholder:"<hostname>",description:i18n("Specify the host name of the cloud system.")});this.form.addField({name:"username",label:i18n("Username"),
required:!0,description:i18n("The user name of an account that has permission to request cloud resources. The server stores this user name and password and uses it to request cloud resources when you use this cloud connection."),type:"Text"});this.form.addField({name:"password",label:i18n("Password"),required:!0,description:i18n("The password for the user account."),textDir:"ltr",type:"Secure"});this.form.addField({name:"description",label:i18n("Description"),required:!1,type:"Text"});var d=[];if(c.extendedSecurity.teams)d=
c.extendedSecurity.teams;c.teamSelector=new o({resourceRoleType:"Cloud Connection",noneLabel:i18n("Standard Cloud Connection"),teams:d});this.form.addField({name:"teams",label:i18n("Teams"),type:"Text",widget:c.teamSelector});this.form.placeAt(b.containerNode);b.show()}});this.connectionSelector.placeAt(this.selectorAttach);this.newConnectionBtn.placeAt(this.buttonAttach)},get:function(a){if(this.connectionSelector)return this.connectionSelector.get(a)},set:function(a,b){if(this.connectionSelector)return this.connectionSelector.set(a,
b)}})})},"dojox/layout/ContentPane":function(){define("dojox/layout/ContentPane",["dojo/_base/lang","dojo/_base/xhr","dijit/layout/ContentPane","dojox/html/_base","dojo/_base/declare"],function(l,m,k,j,f){return f("dojox.layout.ContentPane",k,{adjustPaths:!1,cleanContent:!1,renderStyles:!1,executeScripts:!0,scriptHasHooks:!1,ioMethod:m.get,ioArgs:{},onExecError:function(){},_setContent:function(e){var d=this._contentSetter;if(!(d&&d instanceof j._ContentSetter))d=this._contentSetter=new j._ContentSetter({node:this.containerNode,
_onError:l.hitch(this,this._onError),onContentError:l.hitch(this,function(c){c=this.onContentError(c);try{this.containerNode.innerHTML=c}catch(b){console.error("Fatal "+this.id+" could not change content due to "+b.message,b)}})});this._contentSetterParams={adjustPaths:Boolean(this.adjustPaths&&(this.href||this.referencePath)),referencePath:this.href||this.referencePath,renderStyles:this.renderStyles,executeScripts:this.executeScripts,scriptHasHooks:this.scriptHasHooks,scriptHookReplacement:"dijit.byId('"+
this.id+"')"};this.inherited("_setContent",arguments)}})})},"dojo/data/util/filter":function(){define(["../../_base/lang"],function(l){var m={};l.setObject("dojo.data.util.filter",m);m.patternToRegExp=function(k,j){for(var f="^",e=null,d=0;d<k.length;d++)switch(e=k.charAt(d),e){case "\\":f+=e;d++;f+=k.charAt(d);break;case "*":f+=".*";break;case "?":f+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":f+="\\";default:f+=e}f+="$";return j?
RegExp(f,"mi"):RegExp(f,"m")};return m})},"deploy/widgets/navigation/Settings":function(){define(["dojo","dojo/_base/xhr","dojo/dom-construct","dojox/html/entities","js/webext/widgets/Alert"],function(l,m,k,j,f){l.provide("deploy.widgets.navigation.Settings");config.data.tabSets.push({id:"settings",hashPattern:["tab"],breadcrumbs:["home","topLevelTab"],selectedTopLevelTab:"settings",defaultTab:"main",tabs:[{id:"main",label:i18n("Settings"),view:"deploy/views/settings/settingsIndex"}]});config.data.tabSets.push({id:"automation",
hashPattern:["tab"],breadcrumbs:["home","topLevelTab","automation"],selectedTopLevelTab:"settings",defaultTab:"automationPlugins",tabs:[{id:"automationPlugins",label:i18n("Automation Plugins"),view:"deploy/views/plugin/pluginList"},{id:"sourceConfigPlugins",label:i18n("Source Configuration Plugins"),view:"deploy/views/plugin/sourceConfigList"},{id:"runningSourceConfigs",label:i18n("Running Version Imports"),view:"deploy/views/version/runningVersionImports"},{id:"locks",label:i18n("Locks"),view:"deploy/views/lock/lockList"},
{id:"blueprintdesignerIntegrations",label:i18n("Blueprint Designer Integrations"),view:"deploy/views/settings/blueprintdesignerIntegrations"},{id:"postProcessingScripts",label:i18n("Post Processing Scripts"),view:"deploy/views/scripts/postProcessingList"},{id:"statuses",label:i18n("Statuses"),view:"deploy/views/status/statusList"}]});config.data.tabSets.push({id:"system",hashPattern:["tab"],breadcrumbs:["home","topLevelTab","system"],selectedTopLevelTab:"settings",defaultTab:"properties",tabs:[{id:"logging",
label:i18n("Logging"),view:"deploy/views/settings/logging"},{id:"network",label:i18n("Network"),view:"deploy/views/network/networkRelayList"},{id:"notification",label:i18n("Notifications"),view:"deploy/views/notification/notificationSchemeList"},{id:"auditLog",label:i18n("Audit Log"),view:"deploy/views/settings/auditlog"},{id:"patches",label:i18n("Patches"),view:"deploy/views/settings/patches"},{id:"properties",label:i18n("Properties"),view:"deploy/views/settings/systemProperties"},{id:"artifactRepo",
label:i18n("CodeStation"),view:"deploy/views/settings/artifactRepo"},{id:"settings",label:i18n("System Settings"),view:"deploy/views/settings/systemSettings"}]});config.data.tabSets.push({id:"notificationScheme",hashPattern:["notificationScheme","tab"],breadcrumbs:["home","topLevelTab","notificationSchemes","notificationScheme"],selectedTopLevelTab:"settings",getDetailTitle:function(){return i18n("Notification Scheme: %s",j.encode(appState.notificationScheme.name))},getDetailDescription:function(){return j.encode(appState.notificationScheme.description)},
stateCalls:[{targetAppStateEntry:"notificationScheme",getUrl:function(e){return bootstrap.restUrl+"notification/notificationScheme/"+e.notificationScheme}}],defaultTab:"main",tabs:[{id:"main",label:i18n("Main"),view:"deploy/views/notification/notificationSchemeMain"},{id:"edit",label:i18n("Edit"),view:"deploy/views/notification/editNotificationScheme"}]});config.data.tabSets.push({id:"automationPlugin",hashPattern:["automationPlugin","tab"],breadcrumbs:["home","topLevelTab","automation","automationPlugin"],
selectedTopLevelTab:"settings",getDetailTitle:function(){return i18n("Automation Plugin: %s",j.encode(i18n(appState.automationPlugin.name)))},getDetailDescription:function(){return j.encode(i18n(appState.automationPlugin.description))},stateCalls:[{targetAppStateEntry:"automationPlugin",getUrl:function(e){return bootstrap.restUrl+"plugin/automationPlugin/"+e.automationPlugin}}],defaultTab:"main",tabs:[{id:"main",label:i18n("Main"),view:"deploy/views/automationPlugin/automationPluginMain"}]});config.data.tabSets.push({id:"license",
hashPattern:["license","tab"],breadcrumbs:["home","topLevelTab","licenses","license"],selectedTopLevelTab:"settings",getDetailTitle:function(){return i18n("License %s",appState.license.licenseId)},getDetailFields:function(){return[{label:i18n("Description"),value:j.encode(appState.license.description)}]},stateCalls:[{targetAppStateEntry:"license",getUrl:function(e){return bootstrap.restUrl+"license/"+e.license}}],defaultTab:"edit",tabs:[{id:"edit",label:i18n("Edit"),view:"deploy/views/license/editLicense"}]});
config.data.tabSets.push({id:"diagnostics",hashPattern:["tab"],breadcrumbs:["home","topLevelTab","diagnostics"],selectedTopLevelTab:"settings",defaultTab:"threadDumps",tabs:[{id:"threadDumps",label:i18n("Java Thread Dumps"),view:"deploy/views/settings/diagnostics/threadDumps"},{id:"restCallLog",label:i18n("REST Call Log"),view:"deploy/views/settings/diagnostics/restCallLog"},{id:"metadataIndexing",label:i18n("Metadata Indexing"),view:"deploy/views/settings/diagnostics/metadataIndexing"}]});config.data.breadcrumbItems.push({id:"system",
getHash:function(){return"system"},isUserData:!1,getLabel:function(){return i18n("System")}});config.data.breadcrumbItems.push({id:"automation",getHash:function(){return"automation/automationPlugins"},isUserData:!1,getLabel:function(){return i18n("Automation")}});config.data.breadcrumbItems.push({id:"automationPlugin",getHash:function(){return"automationPlugin/"+appState.automationPlugin.id},isUserData:!1,getLabel:function(){return j.encode(i18n(appState.automationPlugin.name))}});config.data.breadcrumbItems.push({id:"notificationSchemes",
getHash:function(){return"system/notification"},isUserData:!1,getLabel:function(){return i18n("Notifications")}});config.data.breadcrumbItems.push({id:"notificationScheme",getHash:function(){return"notificationScheme/"+appState.notificationScheme.id},isUserData:!0,getLabel:function(){return j.encode(appState.notificationScheme.name)}});config.data.breadcrumbItems.push({id:"diagnostics",getHash:function(){return"system/diagnostics"},isUserData:!0,getLabel:function(){return i18n("Diagnostics")}});config.data.tabSets.push({id:"noPermissions",
hashPattern:["noPermissions"],breadcrumbs:["home"],selectedTopLevelTab:"noPermissions",defaultTab:"noPermissions",tabs:[{id:"noPermissions",label:i18n("No Permissions"),view:"deploy/views/noPermissions"}]});config.data.alerts={ALERT_LICENSE_LOG_ENTRIES:{getDisplay:function(){return k.create("div",{innerHTML:i18n("A license could not be obtained for a server or agent. Please check your license log for more information.")})},dismiss:function(){m.del({url:bootstrap.restUrl+"license/dismiss",load:function(){},
error:function(e){new f({messages:[i18n("An error occurred while dismissing the alert."),"",util.escape(e.responseText)]})}})}},ALERT_PROCESS_INDEXING:{getDisplay:function(e){e=k.create("div",{innerHTML:i18n("Processes are currently being indexed. Navigating to a process may fail until this is complete. Current completion: %s%",e.data.completionPercent)});if(config.data.permissions["Settings Tab"]){var d=k.create("div",{},e);k.create("a",{href:"#diagnostics/metadataIndexing",innerHTML:i18n("View detailed status...")},
d)}return e}}}})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],function(l,m,k,j,f){var e=Object.freeze||function(){},d=function(a,b,d,e,f){2===b&&h.instrumentRejected&&0===a.length&&h.instrumentRejected(d,!1,e,f);for(f=0;f<a.length;f++)c(a[f],b,d,e)},c=function(c,d,e,f){var j=c[d],k=c.deferred;if(j)try{var l=j(e);if(0===d)"undefined"!==typeof l&&a(k,d,l);else{if(l&&"function"===typeof l.then){c.cancel=l.cancel;l.then(b(k,
1),b(k,2),b(k,0));return}a(k,1,l)}}catch(m){a(k,2,m)}else a(k,d,e);2===d&&h.instrumentRejected&&h.instrumentRejected(e,!!j,f,k.promise)},b=function(b,c){return function(d){a(b,c,d)}},a=function(a,b,c){if(!a.isCanceled())switch(b){case 0:a.progress(c);break;case 1:a.resolve(c);break;case 2:a.reject(c)}},h=function(a){var b=this.promise=new j,f=this,l,m,t,w=!1,u=[];Error.captureStackTrace&&(Error.captureStackTrace(f,h),Error.captureStackTrace(b,h));this.isResolved=b.isResolved=function(){return 1===
l};this.isRejected=b.isRejected=function(){return 2===l};this.isFulfilled=b.isFulfilled=function(){return!!l};this.isCanceled=b.isCanceled=function(){return w};this.progress=function(a,c){if(l){if(!0===c)throw Error("This deferred has already been fulfilled.");return b}d(u,0,a,null,f);return b};this.resolve=function(a,c){if(l){if(!0===c)throw Error("This deferred has already been fulfilled.");return b}d(u,l=1,m=a,null,f);u=null;return b};var x=this.reject=function(a,c){if(l){if(!0===c)throw Error("This deferred has already been fulfilled.");
return b}Error.captureStackTrace&&Error.captureStackTrace(t={},x);d(u,l=2,m=a,t,f);u=null;return b};this.then=b.then=function(a,d,e){var f=[e,a,d];f.cancel=b.cancel;f.deferred=new h(function(a){return f.cancel&&f.cancel(a)});l&&!u?c(f,l,m,t):u.push(f);return f.deferred.promise};this.cancel=b.cancel=function(b,c){if(l){if(!0===c)throw Error("This deferred has already been fulfilled.");}else{if(a)var d=a(b),b="undefined"===typeof d?b:d;w=!0;if(l){if(2===l&&m===b)return b}else return"undefined"===typeof b&&
(b=new k),x(b),b}};e(b)};h.prototype.toString=function(){return"[object Deferred]"};f&&f(h);return h})},"dojo/request/iframe":function(){define("dojo/request/iframe","module,require,./watch,./util,./handlers,../_base/lang,../io-query,../query,../has,../dom,../dom-construct,../_base/window,../NodeList-dom".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q){function o(){return!this.isFulfilled()}function n(){return!!this._finished}function s(a,b){if(!b)try{var d=a.options,h=t.doc(t._frame),j=d.handleAs;if("html"!==
j){if("xml"===j)if("html"===h.documentElement.tagName.toLowerCase()){c("a",h.documentElement).orphan();var k=h.documentElement.innerText,k=k.replace(/>\s+</g,"><");a.text=e.trim(k)}else a.data=h;else a.text=h.getElementsByTagName("textarea")[0].value;f(a)}else a.data=h}catch(l){b=l}b?this.reject(b):this._finished?this.resolve(a):this.reject(Error("Invalid dojo/request/iframe request state"))}function r(){this._callNext()}function t(a,b,c){var d=j.parseArgs(a,j.deepCreate(x,b),!0),a=d.url,b=d.options;
if("GET"!==b.method&&"POST"!==b.method)throw Error(b.method+" not supported by dojo/request/iframe");if(!t._frame)t._frame=t.create(t._iframeName,u+"();");a=j.deferred(d,null,o,n,s,r);a._callNext=function(){if(!this._calledNext)this._calledNext=!0,t._currentDfd=null,t._fireNextRequest()};a._legacy=c;t._dfdQueue.push(a);t._fireNextRequest();k(a);return c?a:a.promise}var w=l.id.replace(/[\/\.\-]/g,"_"),u=w+"_onload";q.global[u]||(q.global[u]=function(){var b=t._currentDfd;if(b){var c=a.byId(b.response.options.form)||
b._tmpForm;if(c){for(var d=b._contentToClean,e=0;e<d.length;e++)for(var f=d[e],j=0;j<c.childNodes.length;j++){var k=c.childNodes[j];if(k.name===f){h.destroy(k);break}}b._originalAction&&c.setAttribute("action",b._originalAction);if(b._originalMethod)c.setAttribute("method",b._originalMethod),c.method=b._originalMethod;if(b._originalTarget)c.setAttribute("target",b._originalTarget),c.target=b._originalTarget}b._tmpForm&&(h.destroy(b._tmpForm),delete b._tmpForm);b._finished=!0}else t._fireNextRequest()});
var x={method:"POST"};t.create=function(a,c,d){if(q.global[a])return q.global[a];if(q.global.frames[a])return q.global.frames[a];d||(b("config-useXDomain")&&!b("config-dojoBlankHtmlUrl")&&console.warn("dojo/request/iframe: When using cross-domain Dojo builds, please save dojo/resources/blank.html to your domain and set dojoConfig.dojoBlankHtmlUrl to the path on your domain to blank.html"),d=b("config-dojoBlankHtmlUrl")||m.toUrl("dojo/resources/blank.html"));c=h.place('<iframe id="'+a+'" name="'+a+
'" src="'+d+'" onload="'+c+'" style="position: absolute; left: 1px; top: 1px; height: 1px; width: 1px; visibility: hidden">',q.body());return q.global[a]=c};t.doc=function(a){if(a.contentDocument)return a.contentDocument;var b=a.name;if(b){var c=q.doc.getElementsByTagName("iframe");if(a.document&&c[b].contentWindow&&c[b].contentWindow.document)return c[b].contentWindow.document;if(q.doc.frames[b]&&q.doc.frames[b].document)return q.doc.frames[b].document}return null};t.setSrc=function(a,b,c){a=q.global.frames[a.name];
if(a.contentWindow)a=a.contentWindow;try{c?a.location.replace(b):a.location=b}catch(d){}};t._iframeName=w+"_IoIframe";t._notifyStart=function(){};t._dfdQueue=[];t._currentDfd=null;t._fireNextRequest=function(){var b;try{if(!t._currentDfd&&t._dfdQueue.length){do b=t._currentDfd=t._dfdQueue.shift();while(b&&(b.canceled||b.isCanceled&&b.isCanceled())&&t._dfdQueue.length);if(!b||b.canceled||b.isCanceled&&b.isCanceled())t._currentDfd=null;else{var c=b.response,f=c.options,k=b._contentToClean=[],l=a.byId(f.form),
m=j.notify,n=f.data||null,o;!b._legacy&&"POST"===f.method&&!l?l=b._tmpForm=h.create("form",{name:w+"_form",style:{position:"absolute",top:"-1000px",left:"-1000px"}},q.body()):"GET"===f.method&&l&&-1<c.url.indexOf("?")&&(o=c.url.slice(c.url.indexOf("?")+1),n=e.mixin(d.queryToObject(o),n));if(l){if(!b._legacy){var r=l;do r=r.parentNode;while(r!==q.doc.documentElement);if(!r)l.style.position="absolute",l.style.left="-1000px",l.style.top="-1000px",q.body().appendChild(l);if(!l.name)l.name=w+"_form"}if(n){var r=
function(a,b){h.create("input",{type:"hidden",name:a,value:b},l);k.push(a)},s;for(s in n){var u=n[s];if(e.isArray(u)&&1<u.length)for(o=0;o<u.length;o++)r(s,u[o]);else l[s]?l[s].value=u:r(s,u)}}var x=l.getAttributeNode("action"),I=l.getAttributeNode("method"),J=l.getAttributeNode("target");if(c.url)b._originalAction=x?x.value:null,x?x.value=c.url:l.setAttribute("action",c.url);if(b._legacy){if(!I||!I.value)I?I.value=f.method:l.setAttribute("method",f.method)}else b._originalMethod=I?I.value:null,I?
I.value=f.method:l.setAttribute("method",f.method);b._originalTarget=J?J.value:null;J?J.value=t._iframeName:l.setAttribute("target",t._iframeName);l.target=t._iframeName;m&&m.emit("send",c,b.promise.cancel);t._notifyStart(c);l.submit()}else{f="";if(c.options.data)f=c.options.data,"string"!==typeof f&&(f=d.objectToQuery(f));r=c.url+(-1<c.url.indexOf("?")?"&":"?")+f;m&&m.emit("send",c,b.promise.cancel);t._notifyStart(c);t.setSrc(t._frame,r,!0)}}}}catch(U){b.reject(U)}};j.addCommonMethods(t,["GET","POST"]);
return t})},"deploy/widgets/resource/ResourceRequestHistory":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/_base/xhr,dojo/dom-construct,dojo/on,deploy/widgets/Formatters,js/webext/widgets/table/TreeTable".split(","),function(l,m,k,j,f,e,d,c){return k("deploy.widgets.resource.ResourceRequestHistory",[m,l],{templateString:'<div class="resourceRequestHistory"><div data-dojo-attach-point="gridAttach"></div></div>',postCreate:function(){this.inherited(arguments);var b=
[{name:i18n("Component Process"),formatter:function(a){a.componentProcess.component=a.component;return d.componentProcessLinkFormatter(a.componentProcess)}},{name:i18n("Component"),formatter:function(a){return d.componentLinkFormatter(a.component)}},{name:i18n("Version"),formatter:function(a){return d.versionLinkFormatter(a.version)}},{name:i18n("Application"),formatter:function(a){return d.applicationLinkFormatter(a.application)}},{name:i18n("Environment"),formatter:function(a){return d.environmentLinkFormatter(a.environment)}},
{name:i18n("Scheduled For"),field:"calendarEntry.scheduledDate",formatter:function(a){return util.dateFormatShort(a.entry.scheduledDate)},orderField:"calendarEntry.scheduledDate"},{name:i18n("Status"),formatter:function(a,b,c){return d.requestStatusFormatter(a,b,c)}},{name:i18n("Actions"),formatter:function(a){var b=document.createElement("div"),c=document.createElement("a");c.className="actionsLink";c.innerHTML=i18n("View Request");c.href="#componentProcessRequest/"+a.id;b.appendChild(c);return b}}];
this.grid=new c({url:bootstrap.restUrl+"deploy/componentProcessRequest/table",baseFilters:[{name:"resource.id",type:"eq",className:"UUID",values:[appState.resource.id]}],columns:b,orderField:"calendarEntry.scheduledDate",sortType:"desc",tableConfigKey:"resourceProcessHistory",noDataMessage:i18n("No component process history found for this resource."),hideExpandCollapse:!0,hidePagination:!1,queryData:{outputType:["BASIC","LINKED"]}});this.grid.placeAt(this.gridAttach)},destroy:function(){this.inherited(arguments);
this.grid.destroy()}})})},"deploy/widgets/property/EditPropDef":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/aspect,js/webext/widgets/ColumnForm,js/webext/widgets/DateTime,js/webext/widgets/BidiDateUtil,dijit/form/DateTextBox".split(","),function(l,m,k,j,f,e,d,c,b){return j("deploy.widgets.property.EditPropDef",[m,l],{templateString:'<div class="editPropDef">  <div data-dojo-attach-point="formAttach"></div></div>',httpFieldNames:"httpUrl,httpUsername,httpPassword,httpFormat,httpBasePath,httpValuePath,httpLabelPath".split(","),
postCreate:function(){this.inherited(arguments);var a=this;this.existingValues={};if(this.propDef)this.existingValues.name=this.propDef.name,this.existingValues.description=this.propDef.description,this.existingValues.label=this.propDef.label,this.existingValues.pattern=this.propDef.pattern,this.existingValues.required=this.propDef.required,this.existingValues.value=this.propDef.value,this.existingValues.defaultLabel=this.propDef.defaultLabel,this.existingValues.type=this.propDef.type,this.existingValues.allowedValues=
this.propDef.allowedValues,this.existingValues.httpUrl=this.propDef.httpUrl,this.existingValues.httpUsername=this.propDef.httpUsername,this.existingValues.httpPassword=this.propDef.httpPassword,this.existingValues.httpFormat=this.propDef.httpFormat,this.existingValues.httpBasePath=this.propDef.httpBasePath,this.existingValues.httpValuePath=this.propDef.httpValuePath,this.existingValues.httpLabelPath=this.propDef.httpLabelPath;var b;this.propSheetDefPath?(b=bootstrap.baseUrl+"property/propSheetDef/"+
util.vc.encodeVersionedPath(this.propSheetDefPath)+".-1/propDefs",this.propDef&&(b+="/"+encodeURIComponent(this.propDef.name))):this.saveUrl?b=this.saveUrl:(b=bootstrap.baseUrl+"property/propSheetDef/"+this.propSheetDefId+"/propDefs",this.propDef&&(b+="/"+encodeURIComponent(this.propDef.name)));this.form=new d({submitUrl:b,addData:function(b){b.definitionGroupId=a.propSheetDefId;if(a.propDef)b.existingId=a.propDef.id;if("SELECT"===b.type||"MULTI_SELECT"===b.type){b.allowedValues=[];if(" "===b.value)b.value=
"";var c;a.form.getValue("pattern")&&(c=util.getNormalizedRegExp(a.form.getValue("pattern")));var d=a.form.getValue("allowedValues").split("\n");k.forEach(d,function(a){0<a.length&&(!c||c.test(a))&&b.allowedValues.push({label:a,value:a})})}if("HTTP_SELECT"===b.type||"HTTP_MULTI_SELECT"===b.type)b.resolveHttpValuesUrl=a.resolveHttpValuesUrl+"/"+b.name;if("DATETIME"===b.type)b.value=(new Date(b.value)).getTime();a.addData(b)},onSubmit:a.onSubmit,onError:function(b){void 0!==a.callback&&a.callback(b)},
validateFields:function(b){var c=[],d=!0;b.pattern&&(a.isPatternValid(b.pattern)||(c.push(i18n("Invalid regular expression pattern for property")),d=!1),b.value&&d&&(a.validatePattern(b.value,b.pattern)||c.push(i18n("Default value for property %s does not follow the required pattern",b.name))));return c},postSubmit:function(){void 0!==a.callback&&a.callback()},onCancel:function(){void 0!==a.callback&&a.callback()}});this.form.addField({name:"name",label:i18n("Name"),required:!0,readOnly:void 0!==
this.propDef,type:"Text",value:this.existingValues.name});this.form.addField({name:"description",label:i18n("Description"),type:"Text",readOnly:this.onlyValueChange,value:this.existingValues.description});this.form.addField({name:"label",label:i18n("Label"),type:"Text",readOnly:this.onlyValueChange,value:this.existingValues.label});this.form.addField({name:"pattern",label:i18n("Pattern"),type:"Text",value:this.existingValues.pattern,readOnly:this.onlyValueChange,description:i18n("Enter a regular expression to enforce that values for this property match a certain pattern. Leave blank to allow any values."),
onChange:function(){a.updateDefaultValueField()},intermediateChanges:!0});this.form.addField({name:"required",label:i18n("Required"),type:"Checkbox",readOnly:this.onlyValueChange,value:this.existingValues.required});this.form.addField({name:"type",label:i18n("Type"),required:!0,type:"Select",readOnly:this.onlyValueChange,value:this.existingValues.type,allowedValues:[{label:i18n("Text"),value:"TEXT"},{label:i18n("Text Area"),value:"TEXTAREA"},{label:i18n("Checkbox"),value:"CHECKBOX"},{label:i18n("Select"),
value:"SELECT"},{label:i18n("Multi Select"),value:"MULTI_SELECT"},{label:i18n("HTTP Select"),value:"HTTP_SELECT"},{label:i18n("HTTP Multi Select"),value:"HTTP_MULTI_SELECT"},{label:i18n("Secure"),value:"SECURE"},{label:i18n("DateTime"),value:"DATETIME"}],onChange:function(b){a.updateAllowedValues();a.updateHttpValues();a.updateDefaultValueField();this.previousType=b}});if(this.propDef){var c;if("SELECT"===this.existingValues.type||"MULTI_SELECT"===this.existingValues.type)c=[],"SELECT"===this.existingValues.type&&
c.push({label:i18n("-- Make Selection --"),value:" "}),k.forEach(this.existingValues.allowedValues,function(a){c.push({label:a.label,value:a.value})})}this.updateAllowedValues();this.updateHttpValues();this.updateDefaultValueField();this.form.placeAt(this.formAttach)},updateAllowedValues:function(){var a=this,b=this.form.getValue("type"),c;this.form.hasField("allowedValues")?(c=this.form.getValue("allowedValues"),this.form.removeField("allowedValues")):this.existingValues.allowedValues&&(c="",k.forEach(this.existingValues.allowedValues,
function(a){c+=a.value+"\n"}));("SELECT"===b||"MULTI_SELECT"===b)&&this.form.addField({name:"allowedValues",label:i18n("Allowed Values"),type:"TEXTAREA",value:c,readOnly:this.onlyValueChange,onChange:function(){a.updateDefaultValueField()}},"value")},updateHttpValues:function(){var a=this,b=this.form.getValue("type"),c={};k.forEach(a.httpFieldNames,function(b){a.form.hasField(b)?(c[b]=a.form.getValue(b),a.form.removeField(b)):a.existingValues[b]&&(c[b]=a.existingValues[b])});if("HTTP_SELECT"===b||
"HTTP_MULTI_SELECT"===b)this.form.addField({name:"httpUrl",label:i18n("URL"),type:"TEXT",value:c.httpUrl,readOnly:this.onlyValueChange,required:!0,description:i18n("URL to retrieve the XML or JSON data from."),onChange:function(){a.updateDefaultValueField()},intermediateChanges:!0}),this.form.addField({name:"httpUsername",label:i18n("Username"),type:"TEXT",value:c.httpUsername,readOnly:this.onlyValueChange,description:i18n("Username required to authenticate on the given URL."),onChange:function(){a.updateDefaultValueField()},
intermediateChanges:!0}),this.form.addField({name:"httpPassword",label:i18n("Password"),type:"SECURE",value:c.httpPassword,readOnly:this.onlyValueChange,description:i18n("Password required to authenticate on the given URL."),onChange:function(){a.updateDefaultValueField()},intermediateChanges:!0}),this.form.addField({name:"httpFormat",label:i18n("Data Format"),type:"SELECT",allowedValues:["JSON","XML"],value:c.httpFormat,readOnly:this.onlyValueChange,required:!0,description:i18n("The format which the retrieved data will have."),
onChange:function(){a.updateDefaultValueField()}}),this.form.addField({name:"httpBasePath",label:i18n("Base Path"),type:"TEXT",value:c.httpBasePath,readOnly:this.onlyValueChange,description:i18n("If Data Format is set to XML, this is an XPath statement that will retrieve the list of XML nodes, each of which contains a property. If Data Format is set to JSON, this is a dot-separated path which leads to the JSON Array containing each property. See documention for more details and examples."),onChange:function(){a.updateDefaultValueField()},
intermediateChanges:!0}),this.form.addField({name:"httpValuePath",label:i18n("Value Path"),type:"TEXT",value:c.httpValuePath,readOnly:this.onlyValueChange,description:i18n("This is a path which describes how to obtain the value representing a property from each object within the list found via the Base Path. For XML, this is an XPath statement. JSON requires a dot-seperated path. See documention for more details and examples."),onChange:function(){a.updateDefaultValueField()},intermediateChanges:!0}),
this.form.addField({name:"httpLabelPath",label:i18n("Label Path"),type:"TEXT",value:c.httpLabelPath,readOnly:this.onlyValueChange,description:i18n("This is a path which describes how to obtain the displayable name for a property from each object within the list found via the Base Path. For XML, this is an XPath statement. JSON requires a dot-seperated path. If no label is specified, the value retrieved via the Name Path will be used. See documention for more details and examples."),onChange:function(){a.updateDefaultValueField()},
intermediateChanges:!0})},updateDefaultValueField:function(){var a=this.form.getValue("type"),c,d,e;if(this.form.hasField("value")){if(this.previousType&&("MULTI_SELECT"!==this.previousType||"HTTP_MULTI_SELECT"!==this.previousType)&&("MULTI_SELECT"!==a||"HTTP_MULTI_SELECT"!==a))c=this.form.getValue("value");this.form.removeField("value")}else if(this.existingValues.value)c=this.existingValues.value;if(this.form.hasField("defaultLabel"))d=this.form.getValue("defaultLabel"),this.form.removeField("defaultLabel");
else if(this.existingValues.defaultLabel)d=this.existingValues.defaultLabel;if("SELECT"===a||"MULTI_SELECT"===a){e=[];"SELECT"===a&&e.push({label:i18n("-- Make Selection --"),value:" "});var f;this.form.getValue("pattern")&&(f=util.getNormalizedRegExp(this.form.getValue("pattern")));d=this.form.getValue("allowedValues").split("\n");k.forEach(d,function(a){0<a.length&&(!f||f.test(a))&&e.push({label:a,value:a})});this.form.addField({name:"value",label:i18n("Default Value"),type:a,value:c,allowedValues:e})}else"HTTP_SELECT"===
a||"HTTP_MULTI_SELECT"===a?this.updateHttpDefaultValue(c,d):"DATETIME"===a?(c=c?new Date(Number(c)):new Date,this.form.addField({name:"value",label:i18n("Default Value"),type:"DateTime",datePackage:b.getDatePackage(),value:c,readOnly:this.onlyValueChange})):this.form.addField({name:"value",label:i18n("Default Value"),type:a,value:c,readOnly:this.onlyValueChange})},updateHttpDefaultValue:function(a,b){var c=this,d=this.form.getValue("type");if("HTTP_SELECT"===d||"HTTP_MULTI_SELECT"===d){var f={};k.forEach(c.httpFieldNames,
function(a){f[a]=c.form.getValue(a)});if(this.propDef)f.propDefName=this.propDef.name;var j;if(this.resolveHttpValuesUrl)j=bootstrap.baseUrl+this.resolveHttpValuesUrl;else{var l="property/propSheetDef/"+(this.propSheetDefPath?util.vc.encodeVersionedPath(this.propSheetDefPath)+".-1":this.propSheetDefId)+"/resolveHttpValues";j=bootstrap.baseUrl+l;if(!this.resolveHttpValuesUrl)this.resolveHttpValuesUrl=l}var m=function(a){c.form.hasField("value")&&c.form.removeField("value");c.form.addField({name:"value",
label:i18n("Default Value"),type:d,allowedValues:[],readOnly:!0});a&&c.form.fields.value.widget.dropDown.set("placeholder",a)},l=function(){c.form.hasField("defaultLabel")&&c.form.removeField("defaultLabel");c.form.addField({name:"defaultLabel",type:"hidden",value:b});"HTTP_MULTI_SELECT"===d&&e.after(c.form.fields.defaultLabel.widget,"get",function(a){if("value"===a&&c.form.fields.value){var b=[];k.forEach(c.form.fields.value.widget.items,function(a){b.push(a.label)});return b.join(",")}},!0);c.form.addField({name:"value",
label:i18n("Default Value"),pattern:c.form.getValue("pattern"),url:j,defaultQuery:f,type:d,value:a,defaultLabel:b,allowNone:!0,readOnly:c.onlyValueChange,onSetItem:function(a,b){a&&c.form.setValue("defaultLabel",b.label)},onQueryError:function(){m(i18n("An error occurred."))}})};c.form.getValue("httpUrl")?l():m()}},validatePattern:function(a,b){var c=!0;RegExp(b).exec(a)||(c=!1);return c},isPatternValid:function(){return!0}})})},"dijit/form/Textarea":function(){define("dijit/form/Textarea",["dojo/_base/declare",
"dojo/dom-style","./_ExpandingTextAreaMixin","./SimpleTextarea"],function(l,m,k,j){return l("dijit.form.Textarea",[j,k],{baseClass:"dijitTextBox dijitTextArea dijitExpandingTextArea",cols:"",buildRendering:function(){this.inherited(arguments);m.set(this.textbox,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"})}})})},"deploy/widgets/snapshot/SnapshotEditManager":function(){define("dojo/_base/array,dojo/_base/declare,dojo/on,dojo/dom-construct,js/webext/widgets/TwoPaneListManager,deploy/widgets/snapshot/EditSnapshot,deploy/widgets/snapshot/SnapshotConfiguration".split(","),
function(l,m,k,j,f,e,d){return m([f],{postCreate:function(){this.inherited(arguments);this.showList()},showList:function(){var c=this;c.addEntry({id:"basic",label:i18n("Basic Settings"),action:function(){c.addHeading(i18n("Basic Settings"));c.showBasicSettings()}});c.addEntry({id:"advanced",label:i18n("Advanced Settings"),action:function(){c.addHeading(i18n("Advanced Settings"));c.showAdvancedSettings()}})},addHeading:function(c){j.create("div",{innerHTML:c,"class":"containerLabel",style:{padding:"10px"}},
this.detailAttach)},addDescription:function(c){j.create("div",{innerHTML:c,style:{marginBottom:"10px"}},this.detailAttach)},showBasicSettings:function(){(new e({snapshot:appState.snapshot,application:appState.application,readOnly:!appState.application.extendedSecurity[security.application.manageSnapshots]||appState.snapshot.versionsLocked||appState.snapshot.configLocked})).placeAt(this.detailAttach)},showAdvancedSettings:function(){(new d({snapshotId:appState.snapshot.id,applicationId:appState.application.id,
readOnly:!appState.application.extendedSecurity[security.application.manageSnapshots]||appState.snapshot.configLocked})).placeAt(this.detailAttach)}})})},"deploy/widgets/agentPool/AgentPoolEditManager":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/on,dojo/dom-construct,js/webext/widgets/TwoPaneListManager,deploy/widgets/agentPool/EditAgentPool".split(","),function(l,m,k,j,f,e,d){return m([e],{postCreate:function(){this.inherited(arguments);this.showList()},showList:function(){var c=
this;c.addEntry({id:"basic",label:i18n("Basic Settings"),action:function(){c.addHeading(i18n("Basic Settings"));c.showBasicSettings()}})},addHeading:function(c){f.create("div",{innerHTML:c,"class":"containerLabel",style:{padding:"10px"}},this.detailAttach)},addDescription:function(c){f.create("div",{innerHTML:c,style:{marginBottom:"10px"}},this.detailAttach)},showBasicSettings:function(){(new d({agentPool:appState.agentPool,readOnly:!appState.agentPool.security["Edit Basic Settings"]})).placeAt(this.detailAttach)}})})},
"dijit/_TemplatedMixin":function(){define("dijit/_TemplatedMixin","dojo/_base/lang,dojo/touch,./_WidgetBase,dojo/string,dojo/cache,dojo/_base/array,dojo/_base/declare,dojo/dom-construct,dojo/sniff,dojo/_base/unload".split(","),function(l,m,k,j,f,e,d,c,b,a){var h=d("dijit._TemplatedMixin",null,{templateString:null,templatePath:null,_skipNodeCache:!1,_earlyTemplatedStartup:!1,constructor:function(){this._attachPoints=[];this._attachEvents=[]},_stringRepl:function(a){var b=this.declaredClass,c=this;
return j.substitute(a,this,function(a,d){"!"==d.charAt(0)&&(a=l.getObject(d.substr(1),!1,c));if("undefined"==typeof a)throw Error(b+" template:"+d);return null==a?"":"!"==d.charAt(0)?a:a.toString().replace(/"/g,"&quot;")},this)},buildRendering:function(){if(!this.templateString)this.templateString=f(this.templatePath,{sanitize:!0});var a=h.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument),b;if(l.isString(a)){if(b=c.toDom(this._stringRepl(a),this.ownerDocument),1!=b.nodeType)throw Error("Invalid template: "+
a);}else b=a.cloneNode(!0);this.domNode=b;this.inherited(arguments);this._attachTemplateNodes(b,function(a,b){return a.getAttribute(b)});this._beforeFillContent();this._fillContent(this.srcNodeRef)},_beforeFillContent:function(){},_fillContent:function(a){var b=this.containerNode;if(a&&b)for(;a.hasChildNodes();)b.appendChild(a.firstChild)},_attachTemplateNodes:function(a,b){for(var c=l.isArray(a)?a:a.all||a.getElementsByTagName("*"),d=l.isArray(a)?0:-1;0>d||c[d];d++){var e=-1==d?a:c[d];if(!this.widgetsInTemplate||
!b(e,"dojoType")&&!b(e,"data-dojo-type")){var f=b(e,"dojoAttachPoint")||b(e,"data-dojo-attach-point");if(f)for(var h=f.split(/\s*,\s*/);f=h.shift();)l.isArray(this[f])?this[f].push(e):this[f]=e,this._attachPoints.push(f);if(f=b(e,"dojoAttachEvent")||b(e,"data-dojo-attach-event"))for(var h=f.split(/\s*,\s*/),j=l.trim;f=h.shift();)if(f){var k=null;-1!=f.indexOf(":")?(k=f.split(":"),f=j(k[0]),k=j(k[1])):f=j(f);k||(k=f);this._attachEvents.push(this.connect(e,m[f]||f,k))}}}},destroyRendering:function(){e.forEach(this._attachPoints,
function(a){delete this[a]},this);this._attachPoints=[];e.forEach(this._attachEvents,this.disconnect,this);this._attachEvents=[];this.inherited(arguments)}});h._templateCache={};h.getCachedTemplate=function(a,b,d){var e=h._templateCache,f=a,k=e[f];if(k){try{if(!k.ownerDocument||k.ownerDocument==(d||document))return k}catch(l){}c.destroy(k)}a=j.trim(a);if(b||a.match(/\$\{([^\}]+)\}/g))return e[f]=a;b=c.toDom(a,d);if(1!=b.nodeType)throw Error("Invalid template: "+a);return e[f]=b};b("ie")&&a.addOnWindowUnload(function(){var a=
h._templateCache,b;for(b in a){var d=a[b];"object"==typeof d&&c.destroy(d);delete a[b]}});l.extend(k,{dojoAttachEvent:"",dojoAttachPoint:""});return h})},"url:dojox/calendar/templates/LabelRenderer.html":'<div class="dojoxCalendarEvent dojoxCalendarLabel" onselectstart="return false;">\t\n\t<div class="labels">\n\t\t<span data-dojo-attach-point="startTimeLabel" class="startTime"></span>\n\t\t<span data-dojo-attach-point="summaryLabel" class="summary"></span>\n\t\t<span data-dojo-attach-point="endTimeLabel" class="endTime"></span>\n\t</div>\t\n\t<div data-dojo-attach-point="moveHandle" class="handle moveHandle" ></div>\n</div>\n',
"deploy/widgets/process/RunProcess":function(){define("js/webext/widgets/ColumnForm,js/webext/widgets/Alert,dojo/_base/lang,dijit/_Widget,dijit/_TemplatedMixin,dijit/form/FilteringSelect,dojox/data/JsonRestStore,js/webext/widgets/Dialog,js/webext/widgets/DomNode,dojo/_base/declare,dojo/_base/array,deploy/widgets/resource/ResourceSelector".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q){return a([j,f],{templateString:'<div class="runProcess">  <div data-dojo-attach-point="formAttach" style="max-height: 500px; overflow: auto;"></div></div>',
postCreate:function(){this.inherited(arguments);var a=this;h.forEach(a.process.propDefs,function(a){if(!a.required)a.allowNone=!0});this.form=new l({submitUrl:bootstrap.restUrl+"process/request",submitMethod:"POST",cancelLabel:a.callback?i18n("Cancel"):null,addData:function(b){b.properties=k.clone(b);b.processId=a.process.id},postSubmit:function(b){void 0!==a.callback&&a.callback();navBar.setHash("#processRequest/"+b.id)},onCancel:function(){void 0!==a.callback&&a.callback()},onError:function(b){void 0!==
a.callback&&a.callback();new m({title:i18n("Error"),messages:[i18n("An error has occurred while submitting the process request:"),"",util.escape(b.responseText)]})},saveLabel:i18n("Submit"),fields:a.process.propDefs});if("Resource"===util.getNamedPropertyValue(a.process.properties,"contextType")){var b=new q({url:bootstrap.restUrl+"resource/resource/tree",value:a.process.defaultResourceId,isSelectable:function(a){return a.hasAgent}});a.form.addField({name:"resource",label:i18n("Resource"),widget:b,
required:!0});a.showProcessProperties()}this.form.placeAt(this.formAttach)},showProcessProperties:function(){var a=this;void 0!==this.process&&h.forEach(a.process.unfilledProperties,function(b){var c=b.name;if(""===b.label)b.label=b.name;a.form.addField({name:c,type:b.type,description:b.description,required:b.required,value:b.value,label:b.label,allowedValues:b.allowedValues},"_propertiesInsert")})}})})},"dojox/date/hebrew/Date":function(){define("dojox/date/hebrew/Date",["dojo/_base/lang","dojo/_base/declare",
"./numerals"],function(l,m,k){l=m("dojox.date.hebrew.Date",null,{_MONTH_LENGTH:[[30,30,30],[29,29,30],[29,30,30],[29,29,29],[30,30,30],[30,30,30],[29,29,29],[30,30,30],[29,29,29],[30,30,30],[29,29,29],[30,30,30],[29,29,29]],_MONTH_START:[[0,0,0],[30,30,30],[59,59,60],[88,89,90],[117,118,119],[147,148,149],[147,148,149],[176,177,178],[206,207,208],[235,236,237],[265,266,267],[294,295,296],[324,325,326],[353,354,355]],_LEAP_MONTH_START:[[0,0,0],[30,30,30],[59,59,60],[88,89,90],[117,118,119],[147,148,
149],[177,178,179],[206,207,208],[236,237,238],[265,266,267],[295,296,297],[324,325,326],[354,355,356],[383,384,385]],_GREGORIAN_MONTH_COUNT:[[31,31,0,0],[28,29,31,31],[31,31,59,60],[30,30,90,91],[31,31,120,121],[30,30,151,152],[31,31,181,182],[31,31,212,213],[30,30,243,244],[31,31,273,274],[30,30,304,305],[31,31,334,335]],_date:0,_month:0,_year:0,_hours:0,_minutes:0,_seconds:0,_milliseconds:0,_day:0,constructor:function(){var j=arguments.length;if(j)if(1==j)j=arguments[0],"number"==typeof j&&(j=
new Date(j)),j instanceof Date?this.fromGregorian(j):""==j?this._year=this._month=this._date=this._hours=this._minutes=this._seconds=this._milliseconds=NaN:(this._year=j._year,this._month=j._month,this._date=j._date,this._hours=j._hours,this._minutes=j._minutes,this._seconds=j._seconds,this._milliseconds=j._milliseconds);else{if(3<=j){this._year+=arguments[0];this._month+=arguments[1];this._date+=arguments[2];if(12<this._month)console.warn("the month is incorrect , set 0  "+this._month+"   "+this._year),
this._month=0;this._hours+=arguments[3]||0;this._minutes+=arguments[4]||0;this._seconds+=arguments[5]||0;this._milliseconds+=arguments[6]||0}}else this.fromGregorian(new Date);this._setDay()},getDate:function(){return this._date},getDateLocalized:function(j){return(j||dojo.locale).match(/^he(?:-.+)?$/)?k.getDayHebrewLetters(this._date):this.getDate()},getMonth:function(){return this._month},getFullYear:function(){return this._year},getHours:function(){return this._hours},getMinutes:function(){return this._minutes},
getSeconds:function(){return this._seconds},getMilliseconds:function(){return this._milliseconds},setDate:function(j){var j=+j,f;if(0<j)for(;j>(f=this.getDaysInHebrewMonth(this._month,this._year));)j-=f,this._month++,13<=this._month&&(this._year++,this._month-=13);else for(;0>=j;)f=this.getDaysInHebrewMonth(0<=this._month-1?this._month-1:12,0<=this._month-1?this._year:this._year-1),this._month--,0>this._month&&(this._year--,this._month+=13),j+=f;this._date=j;this._setDay();return this},setFullYear:function(j,
f,e){this._year=j=+j;!this.isLeapYear(j)&&5==this._month&&this._month++;void 0!==f&&this.setMonth(f);void 0!==e&&this.setDate(e);j=this.getDaysInHebrewMonth(this._month,this._year);if(j<this._date)this._date=j;this._setDay();return this},setMonth:function(j){j=+j;!this.isLeapYear(this._year)&&5==j&&j++;if(0<=j)for(;12<j;)this._year++,j-=13,!this.isLeapYear(this._year)&&5<=j&&j++;else for(;0>j;)this._year--,j+=!this.isLeapYear(this._year)&&-7>j?12:13;this._month=j;j=this.getDaysInHebrewMonth(this._month,
this._year);if(j<this._date)this._date=j;this._setDay();return this},setHours:function(){var j=arguments.length,f=0;1<=j&&(f=+arguments[0]);if(2<=j)this._minutes=+arguments[1];if(3<=j)this._seconds=+arguments[2];if(4==j)this._milliseconds=+arguments[3];for(;24<=f;)this._date++,j=this.getDaysInHebrewMonth(this._month,this._year),this._date>j&&(this._month++,!this.isLeapYear(this._year)&&5==this._month&&this._month++,13<=this._month&&(this._year++,this._month-=13),this._date-=j),f-=24;this._hours=f;
this._setDay();return this},_addMinutes:function(j){j+=this._minutes;this.setMinutes(j);this.setHours(this._hours+parseInt(j/60));return this},_addSeconds:function(j){j+=this._seconds;this.setSeconds(j);this._addMinutes(parseInt(j/60));return this},_addMilliseconds:function(j){j+=this._milliseconds;this.setMilliseconds(j);this._addSeconds(parseInt(j/1E3));return this},setMinutes:function(j){this._minutes=j%60;return this},setSeconds:function(j){this._seconds=j%60;return this},setMilliseconds:function(j){this._milliseconds=
j%1E3;return this},_setDay:function(){var j=this._startOfYear(this._year);0!=this._month&&(j+=(this.isLeapYear(this._year)?this._LEAP_MONTH_START:this._MONTH_START)[this._month||0][this._yearType(this._year)]);j+=this._date-1;this._day=(j+1)%7},toString:function(){return isNaN(this._date)?"Invalid Date":this._date+", "+this._month+", "+this._year+"  "+this._hours+":"+this._minutes+":"+this._seconds},getDaysInHebrewMonth:function(j,f){var e=1==j||2==j?this._yearType(f):0;return!this.isLeapYear(this._year)&&
5==j?0:this._MONTH_LENGTH[j][e]},_yearType:function(j){var f=this._handleGetYearLength(Number(j));380<f&&(f-=30);var e=f-353;if(0>e||2<e)throw Error("Illegal year length "+f+" in year "+j);return e},_handleGetYearLength:function(j){return this._startOfYear(j+1)-this._startOfYear(j)},_startOfYear:function(j){var f=Math.floor((235*j-234)/19),e=13753*f+12084,f=29*f+Math.floor(e/25920),e=e%25920,d=f%7;if(2==d||4==d||6==d)f+=1,d=f%7;1==d&&16404<e&&!this.isLeapYear(j)?f+=2:0==d&&23269<e&&this.isLeapYear(j-
1)&&(f+=1);return f},isLeapYear:function(j){j=(12*j+17)%19;return j>=(0>j?-7:12)},fromGregorian:function(j){var f=!isNaN(j)?this._computeHebrewFields(j):NaN;this._year=!isNaN(j)?f[0]:NaN;this._month=!isNaN(j)?f[1]:NaN;this._date=!isNaN(j)?f[2]:NaN;this._hours=j.getHours();this._milliseconds=j.getMilliseconds();this._minutes=j.getMinutes();this._seconds=j.getSeconds();isNaN(j)||this._setDay();return this},_computeHebrewFields:function(j){for(var f=this._getJulianDayFromGregorianDate(j)-347997,j=Math.floor((19*
Math.floor(25920*f/765433)+234)/235)+1,e=this._startOfYear(j),e=f-e;1>e;)j--,e=this._startOfYear(j),e=f-e;for(var f=this._yearType(j),d=this.isLeapYear(j)?this._LEAP_MONTH_START:this._MONTH_START,c=0;e>d[c][f];)c++;c--;return[j,c,e-d[c][f]]},toGregorian:function(){var j=this._year||0,f=this._month||0,e=this._date||0,d=this._startOfYear(j);0!=f&&(d+=(this.isLeapYear(j)?this._LEAP_MONTH_START:this._MONTH_START)[f][this._yearType(j)]);var j=[],e=this._floorDivide(e+d+347997-1721426,146097,j),d=this._floorDivide(j[0],
36524,j),c=this._floorDivide(j[0],1461,j),f=this._floorDivide(j[0],365,j),e=400*e+100*d+4*c+f,j=j[0];4==d||4==f?j=365:++e;d=!(e%4)&&(e%100||!(e%400));f=0;j>=(d?60:59)&&(f=d?1:2);f=Math.floor((12*(j+f)+6)/367);return new Date(e,f,j-this._GREGORIAN_MONTH_COUNT[f][d?3:2]+1,this._hours,this._minutes,this._seconds,this._milliseconds)},_floorDivide:function(j,f,e){if(0<=j)return e[0]=j%f,Math.floor(j/f);var d=Math.floor(j/f);e[0]=j-d*f;return d},getDay:function(){var j=this._year,f=this._month,e=this._date,
d=this._startOfYear(j);0!=f&&(d+=(this.isLeapYear(j)?this._LEAP_MONTH_START:this._MONTH_START)[f][this._yearType(j)]);return(d+(e-1)+1)%7},_getJulianDayFromGregorianDate:function(j){var f=j.getFullYear(),e=j.getMonth(),j=j.getDate(),d=f-1,d=365*d+Math.floor(d/4)-Math.floor(d/100)+Math.floor(d/400)+1721426-1;0<e&&(d+=this._GREGORIAN_MONTH_COUNT[e][!(f%4)&&(f%100||!(f%400))?3:2]);return d+j}});l.prototype.valueOf=function(){return this.toGregorian().valueOf()};return l})},"dojox/calendar/SimpleColumnView":function(){require({cache:{"url:dojox/calendar/templates/SimpleColumnView.html":'<div data-dojo-attach-events="keydown:_onKeyDown">\t\n\t<div data-dojo-attach-point="header" class="dojoxCalendarHeader">\n\t\t<div class="dojoxCalendarYearColumnHeader" data-dojo-attach-point="yearColumnHeader">\n\t\t\t<table><tr><td><span data-dojo-attach-point="yearColumnHeaderContent"></span></td></tr></table>\t\t\n\t\t</div>\n\t\t<div data-dojo-attach-point="columnHeader" class="dojoxCalendarColumnHeader">\n\t\t\t<table data-dojo-attach-point="columnHeaderTable" class="dojoxCalendarColumnHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t\t</div>\n\t</div>\t\n\t<div data-dojo-attach-point="vScrollBar" class="dojoxCalendarVScrollBar">\n\t\t<div data-dojo-attach-point="vScrollBarContent" style="visibility:hidden;position:relative; width:1px; height:1px;" ></div>\n\t</div>\t\n\t<div data-dojo-attach-point="scrollContainer" class="dojoxCalendarScrollContainer">\n\t\t<div data-dojo-attach-point="sheetContainer" style="position:relative;left:0;right:0;margin:0;padding:0">\n\t\t\t<div data-dojo-attach-point="rowHeader" class="dojoxCalendarRowHeader">\n\t\t\t\t<table data-dojo-attach-point="rowHeaderTable" class="dojoxCalendarRowHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t\t\t</div>\n\t\t\t<div data-dojo-attach-point="grid" class="dojoxCalendarGrid">\n\t\t\t\t<table data-dojo-attach-point="gridTable" class="dojoxCalendarGridTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t\t\t</div>\n\t\t\t<div data-dojo-attach-point="itemContainer" class="dojoxCalendarContainer" data-dojo-attach-event="mousedown:_onGridMouseDown,mouseup:_onGridMouseUp,ondblclick:_onGridDoubleClick,touchstart:_onGridTouchStart,touchmove:_onGridTouchMove,touchend:_onGridTouchEnd">\n\t\t\t\t<table data-dojo-attach-point="itemContainerTable" class="dojoxCalendarContainerTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t\t\t</div>\n\t\t</div> \n\t</div>\n</div>\n\n'}});
define("dojox/calendar/SimpleColumnView","./ViewBase,dijit/_TemplatedMixin,./_VerticalScrollBarBase,dojo/text!./templates/SimpleColumnView.html,dojo/_base/declare,dojo/_base/event,dojo/_base/lang,dojo/_base/array,dojo/_base/sniff,dojo/_base/fx,dojo/_base/html,dojo/on,dojo/dom,dojo/dom-class,dojo/dom-style,dojo/dom-geometry,dojo/dom-construct,dojo/mouse,dojo/query,dojox/html/metrics".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u,x){return f("dojox.calendar.SimpleColumnView",[l,m],{baseClass:"dojoxCalendarSimpleColumnView",
templateString:j,viewKind:"columns",_setTabIndexAttr:"domNode",renderData:null,startDate:null,columnCount:7,minHours:8,maxHours:18,hourSize:100,timeSlotDuration:15,verticalRenderer:null,percentOverlap:70,horizontalGap:4,_columnHeaderHandlers:null,constructor:function(){this.invalidatingProperties="columnCount,startDate,minHours,maxHours,hourSize,verticalRenderer,rowHeaderTimePattern,columnHeaderDatePattern,timeSlotDuration,percentOverlap,horizontalGap,scrollBarRTLPosition,itemToRendererKindFunc,layoutPriorityFunction,formatItemTimeFunc,textDir,items".split(",");
this._columnHeaderHandlers=[]},destroy:function(a){this._cleanupColumnHeader();this.scrollBar&&this.scrollBar.destroy(a);this.inherited(arguments)},_scrollBar_onScroll:function(a){this._setScrollPosition(a)},buildRendering:function(){this.inherited(arguments);if(this.vScrollBar)this.scrollBar=new k({content:this.vScrollBarContent},this.vScrollBar),this.scrollBar.on("scroll",d.hitch(this,this._scrollBar_onScroll)),this._viewHandles.push(q(this.scrollContainer,w.wheel,dojo.hitch(this,this._mouseWheelScrollHander)))},
postscript:function(){this.inherited(arguments);this._initialized=!0;this.invalidRendering||this.refreshRendering()},_setVerticalRendererAttr:function(a){this._destroyRenderersByKind("vertical");this._set("verticalRenderer",a)},_createRenderData:function(){var a={};a.minHours=this.get("minHours");a.maxHours=this.get("maxHours");a.hourSize=this.get("hourSize");a.hourCount=a.maxHours-a.minHours;a.slotDuration=this.get("timeSlotDuration");a.slotSize=Math.ceil(a.hourSize/(60/a.slotDuration));a.hourSize=
a.slotSize*(60/a.slotDuration);a.sheetHeight=a.hourSize*a.hourCount;a.scrollbarWidth=x.getScrollbar().w+1;a.dateLocaleModule=this.dateLocaleModule;a.dateClassObj=this.dateClassObj;a.dateModule=this.dateModule;a.dates=[];a.columnCount=this.get("columnCount");var b=this.get("startDate");null==b&&(b=new a.dateClassObj);this.startDate=b=this.floorToDay(b,!1,a);for(var c=0;c<a.columnCount;c++)a.dates.push(b),b=a.dateModule.add(b,"day",1),b=this.floorToDay(b,!1,a);a.startTime=new a.dateClassObj(a.dates[0]);
a.startTime.setHours(a.minHours);a.endTime=new a.dateClassObj(a.dates[a.columnCount-1]);a.endTime.setHours(a.maxHours);if(this.displayedItemsInvalidated)this.displayedItemsInvalidated=!1,this._computeVisibleItems(a),this._isEditing&&this._endItemEditing(null,!1);else if(this.renderData)a.items=this.renderData.items;return a},_validateProperties:function(){this.inherited(arguments);var a=this.minHours;if(0>a||24<a||isNaN(a))this.minHours=0;a=this.maxHours;if(0>a||24<a||isNaN(a))this.minHours=24;if(this.minHours>
this.maxHours){var b=this.maxHours;this.maxHours=this.minHours;this.maxHours=b}if(1>a-this.minHours)this.minHours=0,this.maxHours=24;if(1>this.columnCount||isNaN(this.columnCount))this.columnCount=1;if(0>this.percentOverlap||100<this.percentOverlap||isNaN(this.percentOverlap))this.percentOverlap=70;if(5>this.hourSize||isNaN(this.hourSize))this.hourSize=10;a=this.timeSlotDuration;1>a||60<a||isNaN(a)},_setStartDateAttr:function(a){this.displayedItemsInvalidated=!0;this._set("startDate",a)},_setColumnCountAttr:function(a){this.displayedItemsInvalidated=
!0;this._set("columnCount",a)},__fixEvt:function(a){a.sheet="primary";a.source=this;return a},_formatRowHeaderLabel:function(a){return this.renderData.dateLocaleModule.format(a,{selector:"time",timePattern:this.rowHeaderTimePattern})},_formatColumnHeaderLabel:function(a){return this.renderData.dateLocaleModule.format(a,{selector:"date",datePattern:this.columnHeaderDatePattern,formatLength:"medium"})},startTimeOfDay:null,scrollBarRTLPosition:"left",_getStartTimeOfDay:function(){var a=(this.get("maxHours")-
this.get("minHours"))*this._getScrollPosition()/this.renderData.sheetHeight;return{hours:this.renderData.minHours+Math.floor(a),minutes:60*(a-Math.floor(a))}},_getEndTimeOfDay:function(){var a=(this.get("maxHours")-this.get("minHours"))*(this._getScrollPosition()+this.scrollContainer.offsetHeight)/this.renderData.sheetHeight;return{hours:this.renderData.minHours+Math.floor(a),minutes:60*(a-Math.floor(a))}},_setStartTimeOfDayAttr:function(a){this._setStartTimeOfDay(a.hours,a.minutes,a.duration,a.easing)},
_getStartTimeOfDayAttr:function(){return this._getStartTimeOfDay()},_setStartTimeOfDay:function(a,b,c,d){var e=this.renderData,a=a||e.minHours,b=b||0,c=c||0;0>b?b=0:59<b&&(b=59);0>a?a=0:24<a&&(a=24);var a=60*a+b,b=60*e.minHours,f=60*e.maxHours;a<b?a=b:a>f&&(a=f);a=(a-b)*e.sheetHeight/(f-b);a=Math.min(e.sheetHeight-this.scrollContainer.offsetHeight,a);this._scrollToPosition(a,c,d)},_scrollToPosition:function(b,c,e){if(c){this._scrollAnimation&&this._scrollAnimation.stop();var f=this._getScrollPosition(),
c=Math.abs((b-f)*c/this.renderData.sheetHeight);this._scrollAnimation=new a.Animation({curve:[f,b],duration:c,easing:e,onAnimate:d.hitch(this,function(a){this._setScrollImpl(a)})});this._scrollAnimation.play()}else this._setScrollImpl(b)},_setScrollImpl:function(a){this._setScrollPosition(a);this.scrollBar&&this.scrollBar.set("value",a)},ensureVisibility:function(a,b,c,d,e){d=void 0==d?this.renderData.slotDuration:d;if(this.scrollable&&this.autoScroll){var a=60*a.getHours()+a.getMinutes()-d,b=60*
b.getHours()+b.getMinutes()+d,d=this._getStartTimeOfDay(),f=this._getEndTimeOfDay(),d=60*d.hours+d.minutes,f=60*f.hours+f.minutes,h=!1,j=null;switch(c){case "start":h=a>=d&&a<=f;j=a;break;case "end":h=b>=d&&b<=f;j=b-(f-d);break;case "both":h=a>=d&&b<=f,j=a}h||this._setStartTimeOfDay(Math.floor(j/60),j%60,e)}},scrollView:function(a){var b=this._getStartTimeOfDay(),b=60*b.hours+b.minutes+a*this.timeSlotDuration;this._setStartTimeOfDay(Math.floor(b/60),b%60)},_mouseWheelScrollHander:function(a){this.scrollView(0<
a.wheelDelta?-1:1)},refreshRendering:function(){if(this._initialized){this._validateProperties();var a=this.renderData,b=this._createRenderData();this.renderData=b;this._createRendering(b,a);this._layoutRenderers(b)}},_createRendering:function(a,b){s.set(this.sheetContainer,"height",a.sheetHeight+"px");this._configureScrollBar(a);this._buildColumnHeader(a,b);this._buildRowHeader(a,b);this._buildGrid(a,b);this._buildItemContainer(a,b)},_configureScrollBar:function(a){b("ie")&&this.scrollBar&&s.set(this.scrollBar.domNode,
"width",a.scrollbarWidth+1+"px");var c=this.isLeftToRight()?!0:"right"==this.scrollBarRTLPosition,d=c?"right":"left",e=c?"left":"right";this.scrollBar&&(this.scrollBar.set("maximum",a.sheetHeight),s.set(this.scrollBar.domNode,d,0),s.set(this.scrollBar.domNode,c?"left":"right","auto"));s.set(this.scrollContainer,d,a.scrollbarWidth+"px");s.set(this.scrollContainer,e,"0");s.set(this.header,d,a.scrollbarWidth+"px");s.set(this.header,e,"0");this.buttonContainer&&null!=this.owner&&this.owner.currentView==
this&&(s.set(this.buttonContainer,d,a.scrollbarWidth+"px"),s.set(this.buttonContainer,e,"0"))},_columnHeaderClick:function(a){e.stop(a);var b=u("td",this.columnHeaderTable).indexOf(a.currentTarget);this._onColumnHeaderClick({index:b,date:this.renderData.dates[b],triggerEvent:a})},_buildColumnHeader:function(a,c){var f=this.columnHeaderTable;if(f){var j=a.columnCount-(c?c.columnCount:0);if(8==b("ie"))if(null==this._colTableSave)this._colTableSave=d.clone(f);else if(0>j)this._cleanupColumnHeader(),
this.columnHeader.removeChild(f),t.destroy(f),this.columnHeaderTable=f=d.clone(this._colTableSave),this.columnHeader.appendChild(f),j=a.columnCount;var k=u("tbody",f),l=u("tr",f),m,k=1==k.length?k[0]:h.create("tbody",null,f),l=1==l.length?l[0]:t.create("tr",null,k);if(0<j)for(k=0;k<j;k++){m=t.create("td",null,l);var o=[];o.push(q(m,"click",d.hitch(this,this._columnHeaderClick)));b("touch")?(o.push(q(m,"touchstart",function(a){e.stop(a);n.add(a.currentTarget,"Active")})),o.push(q(m,"touchend",function(a){e.stop(a);
n.remove(a.currentTarget,"Active")}))):(o.push(q(m,"mousedown",function(a){e.stop(a);n.add(a.currentTarget,"Active")})),o.push(q(m,"mouseup",function(a){e.stop(a);n.remove(a.currentTarget,"Active")})),o.push(q(m,"mouseover",function(a){e.stop(a);n.add(a.currentTarget,"Hover")})),o.push(q(m,"mouseout",function(a){e.stop(a);n.remove(a.currentTarget,"Hover")})));this._columnHeaderHandlers.push(o)}else{j=-j;for(k=0;k<j;k++){m=l.lastChild;l.removeChild(m);t.destroy(m);for(m=this._columnHeaderHandlers.pop();0<
m.length;)m.pop().remove()}}u("td",f).forEach(function(b,c){b.className="";0==c?n.add(b,"first-child"):c==this.renderData.columnCount-1&&n.add(b,"last-child");var d=a.dates[c];this._setText(b,this._formatColumnHeaderLabel(d));this.styleColumnHeaderCell(b,d,a)},this);this.yearColumnHeaderContent&&this._setText(this.yearColumnHeaderContent,a.dateLocaleModule.format(a.dates[0],{selector:"date",datePattern:"yyyy"}))}},_cleanupColumnHeader:function(){for(;0<this._columnHeaderHandlers.length;)for(var a=
this._columnHeaderHandlers.pop();0<a.length;)a.pop().remove()},styleColumnHeaderCell:function(a,b){if(this.isToday(b))return n.add(a,"dojoxCalendarToday");if(this.isWeekEnd(b))return n.add(a,"dojoxCalendarWeekend")},_buildRowHeader:function(a,c){var d=this.rowHeaderTable;if(d){s.set(d,"height",a.sheetHeight+"px");var e=u("tbody",d),f,e=1==e.length?e[0]:t.create("tbody",null,d),h=a.hourCount-(c?c.hourCount:0);if(0<h)for(var j=0;j<h;j++)f=t.create("tr",null,e),t.create("td",null,f);else{h=-h;for(j=
0;j<h;j++)e.removeChild(e.lastChild)}var k=new Date(2E3,0,1,0,0,0);u("tr",d).forEach(function(c,d){var e=u("td",c)[0];e.className="";var f=a.hourSize;7==b("ie")&&(f-=2);s.set(c,"height",f+"px");k.setHours(this.renderData.minHours+d);this.styleRowHeaderCell(e,k.getHours(),a);this._setText(e,this._formatRowHeaderLabel(k))},this)}},styleRowHeaderCell:function(){},_buildGrid:function(a,c){var e=this.gridTable;if(e){s.set(e,"height",a.sheetHeight+"px");var f=Math.floor(60/a.slotDuration)*a.hourCount,h=
f-(c?Math.floor(60/c.slotDuration)*c.hourCount:0),j=0<h,k=a.columnCount-(c?c.columnCount:0);if(8==b("ie"))if(null==this._gridTableSave)this._gridTableSave=d.clone(e);else if(0>k)this.grid.removeChild(e),t.destroy(e),this.gridTable=e=d.clone(this._gridTableSave),this.grid.appendChild(e),k=a.columnCount,h=f,j=!0;var l=u("tbody",e),l=1==l.length?l[0]:t.create("tbody",null,e);if(j)for(var m=0;m<h;m++)t.create("tr",null,l);else{h=-h;for(m=0;m<h;m++)l.removeChild(l.lastChild)}var o=Math.floor(60/a.slotDuration)*
a.hourCount-h,q=j||0<k,k=q?k:-k;u("tr",e).forEach(function(b,c){if(q)for(var d=c>=o?a.columnCount:k,c=0;c<d;c++)t.create("td",null,b);else for(c=0;c<k;c++)b.removeChild(b.lastChild)});u("tr",e).forEach(function(b,c){s.set(b,"height",a.slotSize+"px");0==c?n.add(b,"first-child"):c==f-1&&n.add(b,"last-child");var d=c*this.renderData.slotDuration%60;u("td",b).forEach(function(b,c){b.className="";0==c?n.add(b,"first-child"):c==this.renderData.columnCount-1&&n.add(b,"last-child");this.styleGridColumn(b,
a.dates[c],a);switch(d){case 0:n.add(b,"hour");break;case 30:n.add(b,"halfhour");break;case 15:case 45:n.add(b,"quarterhour")}},this)},this)}},styleGridColumn:function(a,b){if(this.isToday(b))return n.add(a,"dojoxCalendarToday");if(this.isWeekEnd(b))return n.add(a,"dojoxCalendarWeekend")},_buildItemContainer:function(a,c){var e=this.itemContainerTable;if(e){var f=[];s.set(e,"height",a.sheetHeight+"px");var h=a.columnCount-(c?c.columnCount:0);if(8==b("ie"))if(null==this._itemTableSave)this._itemTableSave=
d.clone(e);else if(0>h)this.itemContainer.removeChild(e),this._recycleItemRenderers(!0),t.destroy(e),this.itemContainerTable=e=d.clone(this._itemTableSave),this.itemContainer.appendChild(e),h=a.columnCount;var j=u("tbody",e),k=u("tr",e),j=1==j.length?j[0]:t.create("tbody",null,e),k=1==k.length?k[0]:t.create("tr",null,j);if(0<h)for(var l=0;l<h;l++)j=t.create("td",null,k),t.create("div",{className:"dojoxCalendarContainerColumn"},j);else{h=-h;for(l=0;l<h;l++)k.removeChild(k.lastChild)}u("td>div",e).forEach(function(b){s.set(b,
{height:a.sheetHeight+"px"});f.push(b)},this);a.cells=f}},_overlapLayoutPass2:function(a){var b,c,d,e;d=a[a.length-1];for(c=0;c<d.length;c++)d[c].extent=1;for(b=0;b<a.length-1;b++){d=a[b];for(c=0;c<d.length;c++)if(e=d[c],-1==e.extent){e.extent=1;for(var f=0,h=!1,j=b+1;j<a.length&&!h;j++){for(var k=a[j],l=0;l<k.length&&!h;l++){var m=k[l];e.start<m.end&&m.start<e.end&&(h=!0)}h||f++}e.extent+=f}}},_defaultItemToRendererKindFunc:function(){return"vertical"},_layoutInterval:function(a,b,c,d,e){var f=[];
a.colW=this.itemContainer.offsetWidth/a.columnCount;for(var h=0;h<e.length;h++){var j=e[h];"vertical"==this._itemToRendererKind(j)&&f.push(j)}0<f.length&&this._layoutVerticalItems(a,b,c,d,f)},_layoutVerticalItems:function(a,b,c,e,f){if(null!=this.verticalRenderer){for(var b=a.cells[b],h=[],j=0;j<f.length;j++){var k=f[j],l=this.computeRangeOverlap(a,k.startTime,k.endTime,c,e),m=this.computeProjectionOnDate(a,c,l[0],a.sheetHeight),n=this.computeProjectionOnDate(a,c,l[1],a.sheetHeight);n>m&&(k=d.mixin({start:m,
end:n,range:l,item:k},k),h.push(k))}c=this.computeOverlapping(h,this._overlapLayoutPass2).numLanes;e=this.percentOverlap/100;for(j=0;j<h.length;j++){k=h[j];m=k.lane;l=k.extent;0==e?(f=1==c?a.colW:(a.colW-(c-1)*this.horizontalGap)/c,m*=f+this.horizontalGap,f=1==l?f:f*l+(l-1)*this.horizontalGap,f=100*f/a.colW,m=100*m/a.colW):(f=1==c?100:100/(c-(c-1)*e),m*=f-e*f,f=1==l?f:f*(l-(l-1)*e));l=this._createRenderer(k,"vertical",this.verticalRenderer,"dojoxCalendarVertical");s.set(l.container,{top:k.start+"px",
left:m+"%",width:f+"%",height:k.end-k.start+1+"px"});var m=this.isItemBeingEdited(k),n=this.isItemSelected(k),o=this.isItemHovered(k),q=this.isItemFocused(k),r=l.renderer;r.set("hovered",o);r.set("selected",n);r.set("edited",m);r.set("focused",this.showFocus?q:!1);r.set("moveEnabled",this.isItemMoveEnabled(k,"vertical"));r.set("resizeEnabled",this.isItemResizeEnabled(k,"vertical"));this.applyRendererZIndex(k,l,o,n,m,q);r.updateRendering&&r.updateRendering(f,k.end-k.start+1);t.place(l.container,b);
s.set(l.container,"display","block")}}},_sortItemsFunction:function(a,b){var c=this.dateModule.compare(a.startTime,b.startTime);0==c&&(c=-1*this.dateModule.compare(a.endTime,b.endTime));return this.isLeftToRight()?c:-c},getTime:function(a,b,c,d){null!=a&&(c=r.position(this.itemContainer,!0),a.touches?(d=void 0==d?0:d,b=a.touches[d].pageX-c.x,c=a.touches[d].pageY-c.y):(b=a.pageX-c.x,c=a.pageY-c.y));a=r.getContentBox(this.itemContainer);this.isLeftToRight()||(b=a.w-b);0>b?b=0:b>a.w&&(b=a.w-1);0>c?c=
0:c>a.h&&(c=a.h-1);b=Math.floor(b/(r.getMarginBox(this.itemContainer).w/this.renderData.columnCount));c=this.getTimeOfDay(c,this.renderData);a=null;b<this.renderData.dates.length&&(a=this.newDate(this.renderData.dates[b]),a=this.floorToDay(a,!0),a.setHours(c.hours),a.setMinutes(c.minutes));return a},_onGridMouseUp:function(a){this.inherited(arguments);if(this._gridMouseDown)this._gridMouseDown=!1,this._onGridClick({date:this.getTime(a),triggerEvent:a})},_onGridTouchStart:function(a){this.inherited(arguments);
var b=this._gridProps;b.moved=!1;b.start=a.touches[0].screenY;b.scrollTop=this._getScrollPosition()},_onGridTouchMove:function(a){this.inherited(arguments);if(1<a.touches.length&&!this._isEditing)e.stop(a);else if(this._gridProps&&!this._isEditing){var b=a.touches[0].screenX,c=a.touches[0].screenY,d=this._edProps;if(!d||d&&(25<Math.abs(b-d.start.x)||25<Math.abs(c-d.start.y)))this._gridProps.moved=!0,b=this._gridProps.scrollTop-(a.touches[0].screenY-this._gridProps.start),c=this.itemContainer.offsetHeight-
this.scrollContainer.offsetHeight,0>b?(this._gridProps.start=a.touches[0].screenY,this._setScrollImpl(0),this._gridProps.scrollTop=0):b>c?(this._gridProps.start=a.touches[0].screenY,this._setScrollImpl(c),this._gridProps.scrollTop=c):this._setScrollImpl(b)}},_onGridTouchEnd:function(a){this.inherited(arguments);var b=this._gridProps;if(b){if(!this._isEditing&&!b.moved&&(!b.fromItem&&!b.editingOnStart&&this.selectFromEvent(a,null,null,!0),!b.fromItem))this._pendingDoubleTap&&this._pendingDoubleTap.grid?
(this._onGridDoubleClick({date:this.getTime(this._gridProps.event),triggerEvent:this._gridProps.event}),clearTimeout(this._pendingDoubleTap.timer),delete this._pendingDoubleTap):(this._onGridClick({date:this.getTime(this._gridProps.event),triggerEvent:this._gridProps.event}),this._pendingDoubleTap={grid:!0,timer:setTimeout(d.hitch(this,function(){delete this._pendingDoubleTap}),this.doubleTapDelay)});this._gridProps=null}},_onColumnHeaderClick:function(a){this._dispatchCalendarEvt(a,"onColumnHeaderClick")},
onColumnHeaderClick:function(){},getTimeOfDay:function(a,b){var c=60*b.minHours,c=c+a*(60*b.maxHours-c)/b.sheetHeight;return{hours:Math.floor(c/60),minutes:Math.floor(c%60)}},_isItemInView:function(a){var b=this.inherited(arguments);if(b){var c=this.renderData;if(c.dateModule.difference(a.startTime,a.endTime,"millisecond")>36E5*(24-c.maxHours+c.minHours))return!0;var d=60*a.startTime.getHours()+a.startTime.getMinutes(),e=60*a.endTime.getHours()+a.endTime.getMinutes(),f=60*c.minHours,c=60*c.maxHours;
if(0<d&&d<f||d>c&&1440>=d||0<e&&e<f||e>c&&1440>=e)return!1}return b},_ensureItemInView:function(a){var b,c=a.startTime,d=a.endTime,e=this.renderData,f=e.dateModule,h=Math.abs(f.difference(a.startTime,a.endTime,"millisecond"));if(h>36E5*(24-e.maxHours+e.minHours))return!1;var c=60*c.getHours()+c.getMinutes(),d=60*d.getHours()+d.getMinutes(),j=60*e.minHours,k=60*e.maxHours;if(0<c&&c<j)this.floorToDay(a.startTime,!0,e),a.startTime.setHours(e.minHours),a.endTime=f.add(a.startTime,"millisecond",h),b=!0;
else if(c>k&&1440>=c)this.floorToDay(a.startTime,!0,e),a.startTime=f.add(a.startTime,"day",1),a.startTime.setHours(e.minHours),a.endTime=f.add(a.startTime,"millisecond",h),b=!0;if(0<d&&d<j)this.floorToDay(a.endTime,!0,e),a.endTime=f.add(a.endTime,"day",-1),a.endTime.setHours(e.maxHours),a.startTime=f.add(a.endTime,"millisecond",-h),b=!0;else if(d>k&&1440>=d)this.floorToDay(a.endTime,!0,e),a.endTime.setHours(e.maxHours),a.startTime=f.add(a.endTime,"millisecond",-h),b=!0;return b=b||this.inherited(arguments)},
_onScrollTimer_tick:function(){this._scrollToPosition(this._getScrollPosition()+this._scrollProps.scrollStep)},snapUnit:"minute",snapSteps:15,minDurationUnit:"minute",minDurationSteps:15,liveLayout:!1,stayInView:!0,allowStartEndSwap:!0,allowResizeLessThan24H:!0})})},"dojo/_base/fx":function(){define("dojo/_base/fx","./kernel,./config,./lang,../Evented,./Color,./connect,./sniff,../dom,../dom-style".split(","),function(l,m,k,j,f,e,d,c,b){var a=k.mixin,h={},q=h._Line=function(a,b){this.start=a;this.end=
b};q.prototype.getValue=function(a){return(this.end-this.start)*a+this.start};var o=h.Animation=function(b){a(this,b);if(k.isArray(this.curve))this.curve=new q(this.curve[0],this.curve[1])};o.prototype=new j;k.extend(o,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var a=this._percent,b=this.easing;return b?b(a):a},_fire:function(a,b){var c=b||[];if(this[a])if(m.debugAtAllCosts)this[a].apply(this,c);else try{this[a].apply(this,c)}catch(d){console.error("exception in animation handler for:",
a),console.error(d)}return this},play:function(a,b){this._delayTimer&&this._clearTimer();if(b)this._stopTimer(),this._active=this._paused=!1,this._percent=0;else if(this._active&&!this._paused)return this;this._fire("beforeBegin",[this.node]);var c=a||this.delay,d=k.hitch(this,"_play",b);if(0<c)return this._delayTimer=setTimeout(d,c),this;d();return this},_play:function(){this._delayTimer&&this._clearTimer();this._startTime=(new Date).valueOf();this._paused&&(this._startTime-=this.duration*this._percent);
this._active=!0;this._paused=!1;var a=this.curve.getValue(this._getStep());if(!this._percent){if(!this._startRepeatCount)this._startRepeatCount=this.repeat;this._fire("onBegin",[a])}this._fire("onPlay",[a]);this._cycle();return this},pause:function(){this._delayTimer&&this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);return this},gotoPercent:function(a,b){this._stopTimer();this._active=this._paused=!0;this._percent=
a;b&&this.play();return this},stop:function(a){this._delayTimer&&this._clearTimer();if(!this._timer)return this;this._stopTimer();if(a)this._percent=1;this._fire("onStop",[this.curve.getValue(this._getStep())]);this._active=this._paused=!1;return this},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){if(this._active){var a=(new Date).valueOf(),a=0===this.duration?1:(a-this._startTime)/this.duration;1<=a&&(a=1);this._percent=a;this.easing&&(a=this.easing(a));
this._fire("onAnimate",[this.curve.getValue(a)]);if(1>this._percent)this._startTimer();else{this._active=!1;if(0<this.repeat)this.repeat--,this.play(null,!0);else if(-1==this.repeat)this.play(null,!0);else if(this._startRepeatCount)this.repeat=this._startRepeatCount,this._startRepeatCount=0;this._percent=0;this._fire("onEnd",[this.node]);!this.repeat&&this._stopTimer()}}return this},_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer}});var n=0,s=null,r={run:function(){}};
k.extend(o,{_startTimer:function(){if(!this._timer)this._timer=e.connect(r,"run",this,"_cycle"),n++;s||(s=setInterval(k.hitch(r,"run"),this.rate))},_stopTimer:function(){if(this._timer)e.disconnect(this._timer),this._timer=null,n--;0>=n&&(clearInterval(s),s=null,n=0)}});var t=d("ie")?function(a){var c=a.style;if(!c.width.length&&"auto"==b.get(a,"width"))c.width="auto"}:function(){};h._fade=function(d){d.node=c.byId(d.node);var f=a({properties:{}},d),d=f.properties.opacity={};d.start=!("start"in f)?
function(){return+b.get(f.node,"opacity")||0}:f.start;d.end=f.end;d=h.animateProperty(f);e.connect(d,"beforeBegin",k.partial(t,f.node));return d};h.fadeIn=function(b){return h._fade(a({end:1},b))};h.fadeOut=function(b){return h._fade(a({end:0},b))};h._defaultEasing=function(a){return 0.5+Math.sin((a+1.5)*Math.PI)/2};var w=function(a){this._properties=a;for(var b in a){var c=a[b];if(c.start instanceof f)c.tempColor=new f}};w.prototype.getValue=function(a){var b={},c;for(c in this._properties){var d=
this._properties[c],e=d.start;e instanceof f?b[c]=f.blendColors(e,d.end,a,d.tempColor).toCss():k.isArray(e)||(b[c]=(d.end-e)*a+e+("opacity"!=c?d.units||"px":0))}return b};h.animateProperty=function(d){var h=d.node=c.byId(d.node);if(!d.easing)d.easing=l._defaultEasing;d=new o(d);e.connect(d,"beforeBegin",d,function(){var c={},d;for(d in this.properties){if("width"==d||"height"==d)this.node.display="block";var e=this.properties[d];k.isFunction(e)&&(e=e(h));e=c[d]=a({},k.isObject(e)?e:{end:e});if(k.isFunction(e.start))e.start=
e.start(h);if(k.isFunction(e.end))e.end=e.end(h);var j=0<=d.toLowerCase().indexOf("color"),l=function(a,c){var d={height:a.offsetHeight,width:a.offsetWidth}[c];if(void 0!==d)return d;d=b.get(a,c);return"opacity"==c?+d:j?d:parseFloat(d)};if("end"in e){if(!("start"in e))e.start=l(h,d)}else e.end=l(h,d);j?(e.start=new f(e.start),e.end=new f(e.end)):e.start="opacity"==d?+e.start:parseFloat(e.start)}this.curve=new w(c)});e.connect(d,"onAnimate",k.hitch(b,"set",d.node));return d};h.anim=function(a,b,c,
d,e,f){return h.animateProperty({node:a,duration:c||o.prototype.duration,properties:b,easing:d,onEnd:e}).play(f||0)};a(l,h);l._Animation=o;return h})},"deploy/widgets/environment/EditEnvironmentWizard":function(){define(["dojo/_base/declare","dojox/widget/Wizard","dojo/dom-class","dojo/dom-style"],function(l,m,k){return l([m],{postCreate:function(){this.inherited(arguments);k.add(this.doneButton.domNode,"idxButtonSpecial");k.add(this.nextButton.domNode,"idxButtonSpecial")},forward:function(){var j;
this.selectedChildWidget.getData&&(j=this.selectedChildWidget.getData());this.inherited(arguments);this.selectedChildWidget.setData&&this.selectedChildWidget.setData(j)}})})},"dijit/form/RadioButton":function(){define("dijit/form/RadioButton",["dojo/_base/declare","./CheckBox","./_RadioButtonMixin"],function(l,m,k){return l("dijit.form.RadioButton",[m,k],{baseClass:"dijitRadio"})})},"dijit/_CssStateMixin":function(){define("dijit/_CssStateMixin","dojo/_base/array,dojo/_base/declare,dojo/dom,dojo/dom-class,dojo/has,dojo/_base/lang,dojo/on,dojo/ready,dojo/_base/window,./registry".split(","),
function(l,m,k,j,f,e,d,c,b,a){m=m("dijit._CssStateMixin",[],{cssStateNodes:{},hovering:!1,active:!1,_applyAttributes:function(){this.inherited(arguments);l.forEach("disabled,readOnly,checked,selected,focused,state,hovering,active,_opened".split(","),function(a){this.watch(a,e.hitch(this,"_setStateClass"))},this);for(var a in this.cssStateNodes)this._trackMouseState(this[a],this.cssStateNodes[a]);this._trackMouseState(this.domNode,this.baseClass);this._setStateClass()},_cssMouseEvent:function(a){if(!this.disabled)switch(a.type){case "mouseover":this._set("hovering",
!0);this._set("active",this._mouseDown);break;case "mouseout":this._set("hovering",!1);this._set("active",!1);break;case "mousedown":case "touchstart":this._set("active",!0);break;case "mouseup":case "touchend":this._set("active",!1)}},_setStateClass:function(){function a(c){b=b.concat(l.map(b,function(a){return a+c}),"dijit"+c)}var b=this.baseClass.split(" ");this.isLeftToRight()||a("Rtl");var c="mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&a(c);this.state&&a(this.state);
this.selected&&a("Selected");this._opened&&a("Opened");this.disabled?a("Disabled"):this.readOnly?a("ReadOnly"):this.active?a("Active"):this.hovering&&a("Hover");this.focused&&a("Focused");var c=this.stateNode||this.domNode,d={};l.forEach(c.className.split(" "),function(a){d[a]=!0});"_stateClasses"in this&&l.forEach(this._stateClasses,function(a){delete d[a]});l.forEach(b,function(a){d[a]=!0});var e=[],f;for(f in d)e.push(f);c.className=e.join(" ");this._stateClasses=b},_subnodeCssMouseEvent:function(a,
b,c){function d(c){j.toggle(a,b+"Active",c)}if(!this.disabled&&!this.readOnly)switch(c.type){case "mouseover":j.toggle(a,b+"Hover",!0);break;case "mouseout":j.toggle(a,b+"Hover",!1);d(!1);break;case "mousedown":case "touchstart":d(!0);break;case "mouseup":case "touchend":d(!1);break;case "focus":case "focusin":j.toggle(a,b+"Focused",!0);break;case "blur":case "focusout":j.toggle(a,b+"Focused",!1)}},_trackMouseState:function(a,b){a._cssState=b}});c(function(){function c(b){if(!k.isDescendant(b.relatedTarget,
b.target))for(var d=b.target;d&&d!=b.relatedTarget;d=d.parentNode)if(d._cssState){var e=a.getEnclosingWidget(d);e&&(d==e.domNode?e._cssMouseEvent(b):e._subnodeCssMouseEvent(d,d._cssState,b))}}function e(a){a.target=a.srcElement;c(a)}var j=b.body(),m=(f("touch")?[]:["mouseover","mouseout"]).concat(["mousedown","touchstart","mouseup","touchend"]);l.forEach(m,function(a){j.addEventListener?j.addEventListener(a,c,!0):j.attachEvent("on"+a,e)});d(j,"focusin, focusout",function(b){var c=b.target;c._cssState&&
!c.getAttribute("widgetId")&&a.getEnclosingWidget(c)._subnodeCssMouseEvent(c,c._cssState,b)})});return m})},"dijit/form/ValidationTextBox":function(){require({cache:{"url:dijit/form/templates/ValidationTextBox.html":'<div class="dijit dijitReset dijitInline dijitLeft"\n\tid="widget_${id}" role="presentation"\n\t><div class=\'dijitReset dijitValidationContainer\'\n\t\t><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n\t/></div\n\t><div class="dijitReset dijitInputField dijitInputContainer"\n\t\t><input class="dijitReset dijitInputInner" data-dojo-attach-point=\'textbox,focusNode\' autocomplete="off"\n\t\t\t${!nameAttrSetting} type=\'${type}\'\n\t/></div\n></div>\n'}});
define("dijit/form/ValidationTextBox","dojo/_base/declare,dojo/_base/kernel,dojo/i18n,./TextBox,../Tooltip,dojo/text!./templates/ValidationTextBox.html,dojo/i18n!./nls/validate".split(","),function(l,m,k,j,f,e){var d;return d=l("dijit.form.ValidationTextBox",j,{templateString:e,required:!1,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(c,b){b!=d.prototype[c]&&
(m.deprecated("ValidationTextBox id="+this.id+", set('"+c+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0"),this.set("pattern",b))},_setRegExpGenAttr:function(c){this._deprecateRegExp("regExpGen",c);this.regExpGen=this._getPatternAttr},_setRegExpAttr:function(c){this._deprecateRegExp("regExp",c)},_setValueAttr:function(){this.inherited(arguments);this.validate(this.focused)},validator:function(c,b){return RegExp("^(?:"+this._getPatternAttr(b)+")"+(this.required?"":"?")+"$").test(c)&&
(!this.required||!this._isEmpty(c))&&(this._isEmpty(c)||void 0!==this.parse(c,b))},_isValidSubset:function(){return 0==this.textbox.value.search(this._partialre)},isValid:function(){return this.validator(this.textbox.value,this.constraints)},_isEmpty:function(c){return(this.trim?/^\s*$/:/^$/).test(c)},getErrorMessage:function(){var c="$_unset_$"==this.invalidMessage?this.messages.invalidMessage:!this.invalidMessage?this.promptMessage:this.invalidMessage,b="$_unset_$"==this.missingMessage?this.messages.missingMessage:
!this.missingMessage?c:this.missingMessage;return this.required&&this._isEmpty(this.textbox.value)?b:c},getPromptMessage:function(){return this.promptMessage},_maskValidSubsetError:!0,validate:function(c){var b="",a=this.disabled||this.isValid(c);if(a)this._maskValidSubsetError=!0;var d=this._isEmpty(this.textbox.value),e=!a&&c&&this._isValidSubset();this._set("state",a?"":((!this._hasBeenBlurred||c)&&d||e)&&(this._maskValidSubsetError||e&&!this._hasBeenBlurred&&c)?"Incomplete":"Error");this.focusNode.setAttribute("aria-invalid",
a?"false":"true");"Error"==this.state?(this._maskValidSubsetError=c&&e,b=this.getErrorMessage(c)):"Incomplete"==this.state?(b=this.getPromptMessage(c),this._maskValidSubsetError=!this._hasBeenBlurred||c):d&&(b=this.getPromptMessage(c));this.set("message",b);return a},displayMessage:function(c){c&&this.focused?f.show(c,this.domNode,this.tooltipPosition,!this.isLeftToRight()):f.hide(this.domNode)},_refreshState:function(){this._created&&this.validate(this.focused);this.inherited(arguments)},constructor:function(){this.constraints=
{};this.baseClass+=" dijitValidationTextBox"},startup:function(){this.inherited(arguments);this._refreshState()},_setConstraintsAttr:function(c){if(!c.locale&&this.lang)c.locale=this.lang;this._set("constraints",c);this._refreshState()},_setPatternAttr:function(c){this._set("pattern",c)},_getPatternAttr:function(c){var b=this.pattern;"function"==(typeof b).toLowerCase()&&(b=this.pattern(c||this.constraints));if(b!=this._lastRegExp){var a="";this._lastRegExp=b;".*"!=b&&b.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,
function(b){switch(b.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":a+=b;break;case ")":a+="|$)";break;default:a+="(?:"+b+"|$)"}});try{"".search(a)}catch(d){a=this.pattern,console.warn("RegExp error in "+this.declaredClass+": "+this.pattern)}this._partialre="^(?:"+a+")$"}return b},postMixInProperties:function(){this.inherited(arguments);this.messages=k.getLocalization("dijit.form","validate",this.lang);this._setConstraintsAttr(this.constraints)},_setDisabledAttr:function(c){this.inherited(arguments);
this._refreshState()},_setRequiredAttr:function(c){this._set("required",c);this.focusNode.setAttribute("aria-required",c);this._refreshState()},_setMessageAttr:function(c){this._set("message",c);this.displayMessage(c)},reset:function(){this._maskValidSubsetError=!0;this.inherited(arguments)},_onBlur:function(){this.displayMessage("");this.inherited(arguments)}})})},"deploy/widgets/security/team/EditTeam":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/dom-construct,dojo/dom-class,dojo/dom-geometry,dojo/on,dojo/query,dojo/mouse,dojo/dnd/Target,js/webext/widgets/ColumnForm,deploy/widgets/security/team/MemberSelector,deploy/widgets/rightPanel/RightPanelUsersAndGroups".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s){return j([m,l],{templateString:'<div class="edit-user"><div class="add-members-button" data-dojo-attach-point="buttonAttach"></div><div class="right-panel-container users-and-groups-right-panel" data-dojo-attach-point="panelAttach"></div><div class="team-list" data-dojo-attach-point="formAttach"></div></div>',postCreate:function(){this.inherited(arguments);var a=this;this._loadPermissions();this.existingValues=this.team||{};f.get({url:bootstrap.baseUrl+"security/role",
handleAs:"json",load:function(b){a.roleData=b;a.showForm();a.showPanel()}})},_loadPermissions:function(){var a=config.data.permissions,b=a["Add Team Members"];this.canModify=a["Manage Security"]&&b},showForm:function(){var c=this;this.roleRows=[];this.canModify||d.add(this.domNode,"edit-team-read-only");this.form=new o({submitUrl:bootstrap.baseUrl+"security/team"+(c.team?"/"+c.team.id:""),submitMethod:c.team?"PUT":"POST",cancelLabel:null,showButtons:c.canModify,addData:function(a){a.roleMappings=
[];k.forEach(c.roleData,function(b){var c=a["roleMembers_"+b.id];delete a["roleMembers_"+b.id];c&&(k.forEach(c.userIds,function(c){a.roleMappings.push({user:c,role:b.id})}),k.forEach(c.groupIds,function(c){a.roleMappings.push({group:c,role:b.id})}))})},postSubmit:function(a){void 0!==c.callback&&c.callback(!0,!c.rightPanel.panelHidden,a.id)},onCancel:function(){void 0!==c.callback&&c.callback(!0)}});this.form.addField({name:"name",label:i18n("Name"),required:c.canModify,type:"Text",readOnly:!c.canModify,
value:this.existingValues.name});if(c.team){var f=!1;k.forEach(this.roleData,function(a){var b=new n({team:c.team,role:a,header:i18n(a.name),parentForm:c.form,parent:c}),a=c.form.addField({name:"roleMembers_"+a.id,label:!f?i18n("Role Members"):"",widget:b});c.roleRows.push(a);f=!0})}this.form.placeAt(this.formAttach);var h=this.form.saveButton;h&&(d.add(h.domNode,"idxButtonCompact team-save-button"),e.place(h.domNode,this.form.formAttach,"first"));var j=a(".dijitTextBox")[0];j&&this.form.saveButton&&
(d.add(h.domNode,"hidden"),d.add(c.domNode,"edit-team-read-only"),b(j,"click",function(){d.remove(h.domNode,"hidden");d.remove(c.domNode,"edit-team-read-only")}))},showPanel:function(){var a=this;this.rightPanel=new s({attachPoint:a.panelAttach,buttonAttachPoint:a.buttonAttach,parent:a,display:a.showRightPanel,onShow:function(){if(!d.contains(a.panelAttach,"panel-with-scroll-bars")||!d.contains(a.panelAttach,"panel-with-no-scroll-bars"))85<c.position(a.panelAttach).w?d.add(a.domNode,"panel-with-scroll-bars"):
d.add(a.domNode,"panel-with-no-scroll-bars");d.add(a.domNode,"right-panel-show")},onHideExtra:function(){d.remove(a.domNode,"right-panel-show")}});this.rightPanel.isHidden()||d.add(a.domNode,"right-panel-show");24>c.position(a.domNode).y&&d.add(a.domNode,"right-panel-top");window&&b(window,"scroll",function(){if(!a.rightPanel.isHidden())try{var b=c.position(a.domNode);b&&24>b.y?d.contains(a.domNode,"right-panel-top")||d.add(a.domNode,"right-panel-top"):d.contains(a.domNode,"right-panel-top")&&d.remove(a.domNode,
"right-panel-top")}catch(e){}});this.showPanelMinimizer()},showPanelMinimizer:function(){var a=this,c=e.create("div",{className:"right-panel-role-minimizer-container hide-minimizer"},this.panelAttach),f=e.create("div",{className:"inline-block right-panel-role-minimizer-text containerLabel",innerHTML:i18n("Hover here to minimize roles")},c);this.dndListener=new q(e.create("div"),{onDndStart:function(){d.remove(c,"hide-minimizer")},onDndDrop:function(){d.add(c,"hide-minimizer");a.domNode&&d.remove(a.domNode,
"minimize-roles")},onDndCancel:function(){d.add(c,"hide-minimizer");a.domNode&&d.remove(a.domNode,"minimize-roles")}});b(f,h.enter,function(){d.add(a.domNode,"minimize-roles");d.add(c,"hide-minimizer")})}})})},"deploy/widgets/workflow/activity/PatternDeploymentActivity":function(){define(["dojo/_base/declare","deploy/widgets/workflow/activity/BaseActivity"],function(l,m){return l("deploy.widgets.workflow.activity.PatternDeploymentActivity",[m],{postCreate:function(){this.inherited(arguments)},getLabel:function(){return this.data.name},
canEdit:function(){return!1}})})},"deploy/widgets/resource/EditResourceCondition":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Select,dijit/form/TextBox,dojo/_base/declare,dojo/dom-construct,dojo/dom-style,dojo/on".split(","),function(l,m,k,j,f,e,d,c){return f([m,l],{templateString:'<div class="edit-resource-condition"><div data-dojo-attach-point="typeAttach" class="inline-block"></div><div data-dojo-attach-point="typeValueAttach" class="inline-block"></div><div data-dojo-attach-point="comparisonAttach" class="inline-block"></div><div data-dojo-attach-point="valueAttach" class="inline-block"></div><div data-dojo-attach-point="deleteAttach" class="inline-block linkPointer"></div></div>',
postCreate:function(){this.inherited(arguments);var b=this;d.set(this.domNode,{height:"26px"});var a=b.get("value");b.typeSelect=new k({options:[{label:i18n("Name"),value:"NAME",selected:"NAME"===a.type},{label:i18n("Property"),value:"PROPERTY",selected:"PROPERTY"===a.type}],onChange:function(a){b.typeValueText&&(b.typeValueText.destroy(),delete b.typeValueText);"TYPE"===a?(b.comparisonSelect&&(b.comparisonSelect.destroy(),delete b.comparisonSelect),b.valueText&&(b.valueText.destroy(),delete b.valueText),
b._createResourceTypeSelect(a)):b.resourceTypeSelect&&(b.resourceTypeSelect.destroy(),delete b.resourceTypeSelect,b._createComparisonSelect(a),b._createValueText(a));"PROPERTY"===a&&b._createTypeValueText()}});b.typeSelect.placeAt(b.typeAttach);"PROPERTY"===a.type&&b._createTypeValueText();b._createComparisonSelect(a);b._createValueText(a);a=e.create("div",{className:"iconMinus",style:{position:"relative",top:"5px"}},b.deleteAttach);c(a,"click",function(){if(b.onDelete)b.onDelete()})},validate:function(){var b=
[],a=this.get("value");"PROPERTY"===a.type&&!a.typeValue&&b.push(i18n("A property name must be specified."));a.value||b.push(i18n("A comparison value must be specified."));return b},_getValueAttr:function(){var b=this.value||{type:"NAME",comparison:"EQUALS",typeValue:"",value:""};this.value=b;if(this.typeSelect)b.type=this.typeSelect.get("value");if(this.typeValueText)b.typeValue=this.typeValueText.get("value");if(this.comparisonSelect)b.comparison=this.comparisonSelect.get("value");else if("TYPE"===
b.type)b.comparison="EQUALS";if(this.valueText)b.value=this.valueText.get("value");if(this.resourceTypeSelect)b.value=this.resourceTypeSelect.get("value");if("NAME"===b.type)b.typeValue="";return b},_setValueAttr:function(b){this.value=b},_createTypeValueText:function(){var b=this.get("value");this.typeValueText=new j({value:b.typeValue});this.typeValueText.domNode.style.width="60px";this.typeValueText.placeAt(this.typeValueAttach)},_createComparisonSelect:function(b){this.comparisonSelect=new k({options:[{label:i18n("Equals"),
value:"EQUALS",selected:"EQUALS"===b.comparison},{label:i18n("Doesn't Equal"),value:"NOT_EQUALS",selected:"NOT_EQUALS"===b.comparison},{label:i18n("Contains"),value:"CONTAINS",selected:"CONTAINS"===b.comparison},{label:i18n("Doesn't Contain"),value:"NOT_CONTAINS",selected:"NOT_CONTAINS"===b.comparison},{label:i18n("Matches Regex"),value:"REGEX",selected:"REGEX"===b.comparison}]});this.comparisonSelect.placeAt(this.comparisonAttach)},_createValueText:function(b){this.valueText=new j({value:b.value});
this.valueText.domNode.style.width="100px";this.valueText.placeAt(this.valueAttach)}})})},"deploy/widgets/resource/ResourceConfigInventory":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/declare,dojo/dom-construct,dojo/on,deploy/widgets/property/PropValues,js/webext/widgets/Dialog,js/webext/widgets/table/TreeTable".split(","),function(l,m,k,j,f,e,d,c){return k("deploy.widgets.resource.ResourceConfigInventory",[m,l],{templateString:'<div class="resourceConfigInventory"><div data-dojo-attach-point="configTree"></div></div>',
postCreate:function(){this.inherited(arguments);var b=bootstrap.restUrl+"inventory/resourceConfiguration/"+this.resourceId,a=[{name:i18n("Name"),field:"name",orderField:"name",filterField:"name",filterType:"text",getRawValue:function(a){return a.name}},{name:i18n("Version"),field:"version"},{name:i18n("Commit"),formatter:function(a){var b="";a.commit&&(b=a.commit.committer+" on "+util.dateFormatShort(a.commit.commitTime));return b}},{name:i18n("Actions"),formatter:this.actionsFormatter,parentWidget:this}];
this.tree=new c({url:b,serverSideProcessing:!1,orderField:"name",tableConfigKey:"resourceConfigList",noDataMessage:i18n("No configuration has been deployed yet."),columns:a});this.tree.placeAt(this.configTree)},actionsFormatter:function(b){var a=this.parentWidget,c=document.createElement("div");if(b.propSheet){var d=j.create("a",{innerHTML:i18n("View"),"class":"linkPointer actionsLink"},c);f(d,"click",function(){a.showProperties(b.name,b.propSheet)})}return c},showProperties:function(b,a){var c=new d({title:i18n("Property Details: %s",
util.escape(b)),closable:!0,draggable:!0,style:{width:"500px"}});(new e({propSheet:a,showDescription:!1,readOnly:!0})).placeAt(c.containerNode);c.show()}})})},"js/webext/widgets/ProgressBar":function(){define("js/webext/widgets/ProgressBar","dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/xhr,dojo/_base/declare,dojo/_base/fx,dojo/dom-construct,dojo/dom-style,dojo/dom-attr,dojo/Deferred".split(","),function(l,m,k,j,f,e,d,c,b){return j([m,l],{templateString:'<div class="webext progressBar" data-dojo-attach-point="progressBar"><div class="caption"> <span data-dojo-attach-point="label" class="label"> </span><span data-dojo-attach-point="progressDetailsProgressCount" class="progressDetailsProgressCount"> </span>&nbsp<span data-dojo-attach-point="progressDetailsOutOfLabel" class="progressDetailsOutOfLabel"> </span>&nbsp<span data-dojo-attach-point="progressDetailsTotalCount" class="progressDetailsTotalCount"> </span>&nbsp<span data-dojo-attach-point="progressDetailsLabel" class="progressDetailsLabel"> </span><span data-dojo-attach-point="progressDetailsTimeInfo" class="progressDetailsTimeInfo"> </span></div><div data-dojo-attach-point="progressIndicator" class="progressIndicator"><div data-dojo-attach-point="progressIndicatorFill" class="progressIndicatorFill"> </div></div></div>',
showProgressDetailsTimeInfo:!0,postCreate:function(){this.inherited(arguments);this.progressDetailsOutOfLabel.innerHTML=i18n("of")},setProgressDetailsLabel:function(a){this.progressDetailsLabel.innerHTML=a},setProgressDetailsTimeInfo:function(a){this.progressDetailsTimeInfo.innerHTML=a},setProgressCount:function(a){this.progressDetailsProgressCount.innerHTML=a},setTitleForProgressCount:function(a){c.set(this.progressIndicatorFill,"title",a)},setTotalCount:function(a){this.progressDetailsTotalCount.innerHTML=
a},setTitleForTotalCount:function(a){c.set(this.progressIndicator,"title",a)},setProgressPercent:function(a){d.set(this.progressIndicatorFill,"width",a+"%")},setCleanupError:function(){},setLabel:function(a){this.label.innerHTML=a},show:function(){f.fadeIn({node:this.progressBar,duration:2E3}).play()},hide:function(){f.fadeOut({node:this.progressBar,duration:2E3}).play()},disableProgressDetailsTimeInfo:function(a){this.showProgressDetailsTimeInfo=a?!1:!0},getProgress:function(a){var c=new b;k.get({url:a,
handleAs:"json",load:function(a){c.resolve(a)},error:function(a){c.reject(a)}});return c}})})},"dojo/query":function(){define("./_base/kernel,./has,./dom,./on,./_base/array,./_base/lang,./selector/_loader,./selector/_loader!default".split(","),function(l,m,k,j,f,e,d,c){function b(a,b){var c=function(c,d){if("string"==typeof d&&(d=k.byId(d),!d))return new b([]);var e="string"==typeof c?a(c,d):c?c.orphan?c:[c]:[];return e.orphan?e:new b(e)};c.matches=a.match||function(a,b,d){return 0<c.filter([a],b,
d).length};c.filter=a.filter||function(a,b,d){return c(b,d).filter(function(b){return-1<f.indexOf(a,b)})};if("function"!=typeof a)var d=a.search,a=function(a,b){return d(b||document,a)};return c}m.add("array-extensible",function(){return 1==e.delegate([],{length:1}).length&&!m("bug-for-in-skips-shadowed")});var a=Array.prototype,h=a.slice,q=a.concat,o=f.forEach,n=function(a,b,c){b=[0].concat(h.call(b,0));c=c||l.global;return function(d){b[0]=d;return a.apply(c,b)}},s=function(a){var b=this instanceof
r&&m("array-extensible");"number"==typeof a&&(a=Array(a));var c=a&&"length"in a?a:arguments;if(b||!c.sort){for(var d=b?this:[],f=d.length=c.length,h=0;h<f;h++)d[h]=c[h];if(b)return d;c=d}e._mixin(c,t);c._NodeListCtor=function(a){return r(a)};return c},r=s,t=r.prototype=m("array-extensible")?[]:{};r._wrap=t._wrap=function(a,b,c){a=new (c||this._NodeListCtor||r)(a);return b?a._stash(b):a};r._adaptAsMap=function(a,b){return function(){return this.map(n(a,arguments,b))}};r._adaptAsForEach=function(a,
b){return function(){this.forEach(n(a,arguments,b));return this}};r._adaptAsFilter=function(a,b){return function(){return this.filter(n(a,arguments,b))}};r._adaptWithCondition=function(a,b,c){return function(){var d=arguments,e=n(a,d,c);if(b.call(c||l.global,d))return this.map(e);this.forEach(e);return this}};o(["slice","splice"],function(b){var c=a[b];t[b]=function(){return this._wrap(c.apply(this,arguments),"slice"==b?this:null)}});o(["indexOf","lastIndexOf","every","some"],function(a){var b=f[a];
t[a]=function(){return b.apply(l,[this].concat(h.call(arguments,0)))}});e.extend(s,{constructor:r,_NodeListCtor:r,toString:function(){return this.join(",")},_stash:function(a){this._parent=a;return this},on:function(a,b){var c=this.map(function(c){return j(c,a,b)});c.remove=function(){for(var a=0;a<c.length;a++)c[a].remove()};return c},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(a){var b=h.call(this,0),c=f.map(arguments,function(a){return h.call(a,0)});
return this._wrap(q.apply(b,c),this)},map:function(a,b){return this._wrap(f.map(this,a,b),this)},forEach:function(a,b){o(this,a,b);return this},filter:function(a){var b=arguments,c=this,d=0;if("string"==typeof a){c=w._filterResult(this,b[0]);if(1==b.length)return c._stash(this);d=1}return this._wrap(f.filter(c,b[d],b[d+1]),this)},instantiate:function(a,b){var c=e.isFunction(a)?a:e.getObject(a),b=b||{};return this.forEach(function(a){new c(b,a)})},at:function(){var a=new this._NodeListCtor(0);o(arguments,
function(b){0>b&&(b=this.length+b);this[b]&&a.push(this[b])},this);return a._stash(this)}});var w=b(c,s);l.query=b(c,function(a){return s(a)});w.load=function(a,c,e){d.load(a,c,function(a){e(b(a,s))})};l._filterQueryResult=w._filterResult=function(a,b,c){return new s(w.filter(a,b,c))};l.NodeList=w.NodeList=s;return w})},"deploy/widgets/rightPanel/ResourceRightPanel":function(){define("dojo/_base/declare,dojo/_base/array,deploy/widgets/rightPanel/RightPanel,deploy/widgets/resource/EditResource,dojo/dom-class,dojo/dom-style,dojo/dom-construct,dojo/dom-geometry,dojo/on,js/webext/widgets/Dialog,js/webext/widgets/ColumnForm,js/webext/widgets/Switch,js/webext/widgets/table/TreeTable".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o){return l("deploy.widgets.resource.ResourceRightPanel",[k],{url:null,showSwitch:!0,postCreate:function(){this.inherited(arguments);this._buildPanel();this.attachPoint&&this.placeAt(this.attachPoint)},getColumns:function(){},refresh:function(){this.table&&this.table.refresh()},loadTable:function(){var a=this;if(this.url)this.table=(new o({url:a.url,baseFilters:a.baseFilters,serverSideProcessing:!0,orderField:"name",noDataMessage:a.noDataMessage||i18n("No resources found."),
tableConfigKey:"rightPanelList",selectorField:"id",columns:a.getColumns(),hideExpandCollapse:!0,hidePagination:!1,selectable:a.selectable||!1,draggable:a.onDrop?!0:!1,copyOnly:!0,suppressDefaultOnDrop:!0,onDrop:function(b,c,d){setTimeout(function(){a.onDrop(b,c,d)},100)},onDisplayTable:function(){a.table.dndContainer.checkAcceptance=function(){return!1};a.loaded=!0;a.content=a.table.domNode}})).placeAt(this.contentAttach);this.showSwitch&&this.showOptionsBox()},showOptionsBox:function(){this.titleContent=
d.create("div",{className:"show-drop-options"});this.optionsSwitch=(new q({labelText:"string"===typeof this.showSwitch?this.showSwitch:i18n("Show options on drop"),labelPlacement:"before",value:!1})).placeAt(this.titleContentAttach)},onDrop:function(){},submitData:function(b,c,d,e,f){var k=this;if(e){var l=new a({title:i18n("Create Resource"),closable:!0,draggable:!0});(new j({parent:c,type:b,callback:function(){l.hide();l.destroy();k.parent.grid.refreshRowChildrenForItem(c)},existingData:f,selectedValue:d})).placeAt(l.containerNode);
l.show()}else e=new h({submitUrl:bootstrap.restUrl+"resource/resource",readOnly:k.readOnly,postSubmit:function(){if(k.parent&&k.parent.grid){var a=null;m.forEach(k.parent.grid.rowObjectList,function(b){if(b.item&&b.item.id===c.id)a=b.item});k.parent.grid.refreshRowChildrenForItem(a)}},addData:function(a){if(f)for(var b in f)f.hasOwnProperty(b)&&(a[b]=f[b]);if(c)a.parentId=c.id;if(k.blueprint&&k.blueprint.id)a.blueprintId=k.blueprint.id},onCancel:function(){void 0!==k.callback&&k.callback()}}),e.addField({name:"name",
value:d.name,type:"Invisible"}),e.addField({name:b+"Id",value:d.id,type:"Invisible"}),e.submitForm()}})})},"deploy/widgets/applicationTemplate/ApplicationTemplateEditManager":function(){define("dojo/_base/array,dojo/_base/declare,dojo/on,dojo/dom-construct,js/webext/widgets/TwoPaneListManager,deploy/widgets/application/ApplicationEnvironmentConditions,deploy/widgets/applicationTemplate/EditApplicationTemplate,deploy/widgets/property/PropDefs".split(","),function(l,m,k,j,f,e,d,c){return m([f],{postCreate:function(){this.inherited(arguments);
this.showList();void 0!==appState.goBack.id&&this.selectEntryById(appState.goBack.id)},showList:function(){var b=this;b.addEntry({id:"basic",label:i18n("Basic Settings"),action:function(){b.addHeading(i18n("Basic Settings"));b.showBasicSettings()}});b.addEntry({id:"properties",label:i18n("Application Property Definitions"),action:function(){b.addHeading(i18n("Application Property Definitions"));b.showProperties()}});b.addEntry({id:"gates",label:i18n("Environment Gates"),action:function(){b.addHeading(i18n("Environment Gates"));
b.showGates()}})},addHeading:function(b){j.create("div",{innerHTML:b,"class":"containerLabel",style:{padding:"10px"}},this.detailAttach)},addDescription:function(b){j.create("div",{innerHTML:b,style:{marginBottom:"10px"}},this.detailAttach)},showBasicSettings:function(){(new d({applicationTemplate:this.applicationTemplate,readOnly:!this.applicationTemplate.security["Edit Basic Settings"]||!this.isMaxVersion()})).placeAt(this.detailAttach)},showProperties:function(){var b=this.isMaxVersion(),a=null,
d=null;b?d="applicationTemplates/"+this.applicationTemplate.id+"/propSheetDef":a=this.applicationTemplate.propDefs;this.addDescription(i18n("Define properties here to be given values on each application using this template."));(new c({propDefs:a,propSheetDefPath:d,readOnly:!this.applicationTemplate.security["Manage Properties"]||!b,refreshHash:"applicationTemplate/"+this.applicationTemplate.id+"/-1/configuration/properties",headers:{applicationTemplateVersion:this.applicationTemplate.version}})).placeAt(this.detailAttach)},
showGates:function(){(new e({applicationTemplate:appState.applicationTemplate})).placeAt(this.detailAttach)},isMaxVersion:function(){return this.applicationTemplate.version===this.applicationTemplate.versionCount}})})},"deploy/widgets/workflow/activity/UninstallComponentActivity":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dojo/on,deploy/widgets/workflow/activity/BaseActivity,js/webext/widgets/RestSelect,deploy/widgets/property/PropertyTextareaBox".split(","),function(l,
m,k,j,f,e){return m("deploy.widgets.workflow.activity.UninstallComponentActivity",[f],{postCreate:function(){this.inherited(arguments);if(!this.initialized)this.data.name=util.randomString(30),this.editProperties()},getLabel:function(){var d="";if(this.initialized){var c=this.getChildChildData();if(c.component&&c.component.deleted)d+=c.name+"\n"+i18n("(Deleted Component)");else{var b=i18n("Uninstall %s",c.componentName),d=d+c.name;d!==b&&(d+="\n"+b)}}else d+=i18n("Uninstall Component");return d},
editProperties:function(d){var c=this,b=this.getChildData(),a=this.getChildChildData(),e,f=c.createPropertyDialog(),j=c.createPropertyForm({dialog:f,validateFields:function(a){return c.validateName(a.name)},onSubmit:function(a){d&&d();c.initialized=!0;c.data={name:c.data.name,type:"componentEnvironmentIterator"};c.data.component=e.get("item");c.data.componentName=c.data.component.name;if(a.tagId&&""!==a.tagId)c.data.tagId=a.tagId;else if(c.data.tagId)c.data.tagId=void 0;c.data.runOnlyOnFirst=a.runOnlyOnFirst;
c.data.maxIteration=a.maxIteration;c.data.failFast=a.failFast;c.data.preconditionScript=a.preconditionScript;var b={};l.forEach(c.extraPropertyNames,function(c){var d=c.substring(2);b[d]=a[c]});c.data.children=[{name:util.randomString(30),type:"uninstallAllVersionsIterator",componentName:c.data.component.name,selectionType:a.selectionType,status:a.status,children:[{name:a.name,type:"componentProcess",componentName:c.data.component.name,componentProcessName:a.componentProcessName,allowFailure:a.allowFailure,
properties:b}]}];c.updateLabel();f.hide();j.destroy();f.destroy()},readOnly:c.readOnly});j.addField({name:"name",label:i18n("Name"),type:"Text",required:!0,value:a.name});e=j.addField({name:"component",label:i18n("Component"),required:!0,autoSelectFirst:!0,type:"ApplicationComponentSelect",applicationId:c.graphEditor.application.id,value:!c.data.component?void 0:c.data.component.id,disabled:c.readOnly,onSetItem:function(a,b){c.showFieldsForComponent(j,b)}}).widget;j.addField({name:"tagId",label:i18n("Limit to Resource Tag"),
type:"TagDropDown",objectType:"Resource",value:c.data.tagId,readOnly:c.readOnly});j.addField({name:"selectionType",label:i18n("Uninstall Type"),type:"Select",required:!0,value:b.selectionType,allowedValues:[{label:i18n("All Existing"),value:"ALL_EXISTING"},{label:i18n("All Selected For Process"),value:"SELECTED"}]});j.addField({name:"maxIteration",label:i18n("Max # of concurrent jobs."),type:"Text",textDir:"ltr",required:!0,value:c.data.maxIteration||-1,description:i18n("The max number of concurrent component processes to run at any time. Use -1 for unlimited.")});
j.addField({name:"failFast",label:i18n("Fail Fast"),type:"Checkbox",description:i18n("When this is checked, this step will not start any more component processes if one fails."),value:c.data.failFast});j.addField({name:"runOnlyOnFirst",label:i18n("Run on First Online Resource Only"),type:"Checkbox",description:i18n("When this is checked, this step will only use one resource. It will not run on all resources."),value:c.data.runOnlyOnFirst});j.addField({name:"preconditionScript",label:i18n("Precondition"),
type:"PropertyArea",description:i18n("A script to determine whether this step should run. Must evaluate to true or false if not left blank."),value:c.data.preconditionScript,cache:c.graphEditor.cache});j.placeAt(f.containerNode);f.show()},showFieldsForComponent:function(d,c){var b=this;d.removeField("status");d.removeField("componentProcessName");d.removeField("allowFailure");if(c){var a=this.getChildData(),f=this.getChildChildData(),j=d.getValue("name");(!j||this.selectedComponent&&j===i18n("Uninstall %s",
this.selectedComponent.name))&&d.setValue("name",i18n("Uninstall %s",c.name));this.selectedComponent=c;a=new e({restUrl:bootstrap.restUrl+"deploy/status/inventoryStatuses",getValue:function(a){return a.name},getStyle:function(a){return{backgroundColor:a.color}},value:a.status,allowNone:!1});d.addField({name:"status",label:i18n("Remove Versions With Status"),required:!0,widget:a},"tagId");l.forEach(this.extraPropertyNames,function(a){b.removePropertyField(d,a)});this.extraPropertyNames=[];var m;if(b.data.component&&
b.data.component.id===c.id)m=f.componentProcessName;m=new e({restUrl:bootstrap.restUrl+"deploy/component/"+c.id+"/fullProcesses/false",getLabel:function(a){var b=a.name;a.componentTemplate&&(b+=i18n(" (Template)"));return b},getValue:function(a){return a.name},onChange:function(a,c){l.forEach(b.extraPropertyNames,function(a){b.removePropertyField(d,a)});b.extraPropertyNames=[];c&&l.forEach(c.unfilledProperties,function(a){var c="p_"+a.name,e=a.value,j=!1;f.properties&&f.properties[a.name]&&(e=f.properties[a.name],
j=!0);var l=k.clone(a);l.name=c;l.value=e;if(a.description)l.description=a.description.escape();b.extraPropertyNames.push(c);b.addPropertyField(d,l,j,"allowFailure")})},allowNone:!1,value:m,disabled:b.readOnly});d.addField({name:"componentProcessName",label:i18n("Component Process"),required:!0,description:i18n("The process to run."),widget:m},"tagId");(config.data.systemConfiguration.enableAllowFailure||f.allowFailure)&&d.addField({name:"allowFailure",label:i18n("Ignore Failure"),description:i18n("When checked, this step will always be considered successful."),
type:"Checkbox",value:f.allowFailure},"tagId")}}})})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(l,m,k){function j(a){return d[a]=new Function("item","index","array",a)}function f(a){var b=!a;return function(c,e,f){var k=0,l=c&&c.length||0,m;l&&"string"==typeof c&&(c=c.split(""));"string"==typeof e&&(e=d[e]||j(e));if(f)for(;k<l;++k){if(m=!e.call(f,c[k],k,c),a^m)return!m}else for(;k<l;++k)if(m=!e(c[k],k,c),a^m)return!m;return b}}function e(a){var d=1,e=0,f=0;a||(d=
e=f=-1);return function(j,k,l,m){if(m&&0<d)return b.lastIndexOf(j,k,l);var m=j&&j.length||0,w=a?m+f:e;l===c?l=a?e:m+f:0>l?(l=m+l,0>l&&(l=e)):l=l>=m?m+f:l;for(m&&"string"==typeof j&&(j=j.split(""));l!=w;l+=d)if(j[l]==k)return l;return-1}}var d={},c,b={every:f(!1),some:f(!0),indexOf:e(!0),lastIndexOf:e(!1),forEach:function(a,b,c){var e=0,f=a&&a.length||0;f&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&(b=d[b]||j(b));if(c)for(;e<f;++e)b.call(c,a[e],e,a);else for(;e<f;++e)b(a[e],e,a)},map:function(a,
b,c,e){var f=0,k=a&&a.length||0,e=new (e||Array)(k);k&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&(b=d[b]||j(b));if(c)for(;f<k;++f)e[f]=b.call(c,a[f],f,a);else for(;f<k;++f)e[f]=b(a[f],f,a);return e},filter:function(a,b,c){var e=0,f=a&&a.length||0,k=[],l;f&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&(b=d[b]||j(b));if(c)for(;e<f;++e)l=a[e],b.call(c,l,e,a)&&k.push(l);else for(;e<f;++e)l=a[e],b(l,e,a)&&k.push(l);return k},clearCache:function(){d={}}};k.mixin(l,b);return b})},
"dijit/main":function(){define("dijit/main",["dojo/_base/kernel"],function(l){return l.dijit})},"dojox/date/hebrew":function(){define("dojox/date/hebrew",["..","dojo/_base/lang","dojo/date","./hebrew/Date"],function(l,m,k,j){var f=m.getObject("date.hebrew",!0,l);f.getDaysInMonth=function(e){return e.getDaysInHebrewMonth(e.getMonth(),e.getFullYear())};f.compare=function(e,d,c){e instanceof j&&(e=e.toGregorian());d instanceof j&&(d=d.toGregorian());return k.compare.apply(null,arguments)};f.add=function(e,
d,c){var b=new j(e);switch(d){case "day":b.setDate(e.getDate()+c);break;case "weekday":var d=e.getDay(),a=0;0>c&&6==d&&(d=5,a=-1);if(5>d+c&&0<=d+c)b.setDate(e.getDate()+c+a);else{var f=0<c?5:-1,k=0<c?2:-2;if(0<c&&(5==d||6==d))a=4-d,d=4;var c=d+c-f,l=parseInt(c/5);b.setDate(e.getDate()-d+k+7*l+a+c%5+f)}break;case "year":b.setFullYear(e.getFullYear()+c);break;case "week":b.setDate(e.getDate()+7*c);break;case "month":d=e.getMonth();c=d+c;e.isLeapYear(e.getFullYear())||(5>d&&5<=c?c++:5<d&&5>=c&&c--);
b.setMonth(c);break;case "hour":b.setHours(e.getHours()+c);break;case "minute":b._addMinutes(c);break;case "second":b._addSeconds(c);break;case "millisecond":b._addMilliseconds(c)}return b};f.difference=function(e,d,c){var d=d||new j,c=c||"day",b=d.getFullYear()-e.getFullYear(),a=1;switch(c){case "weekday":a=Math.round(f.difference(e,d,"day"));c=parseInt(f.difference(e,d,"week"));if(0==a%7)a=5*c;else{var b=0,h=e.getDay(),k=d.getDay(),c=parseInt(a/7),d=a%7,e=new j(e);e.setDate(e.getDate()+7*c);e=e.getDay();
if(0<a)switch(!0){case 5==h:b=-1;break;case 6==h:b=0;break;case 5==k:b=-1;break;case 6==k:b=-2;break;case 5<e+d:b=-2}else if(0>a)switch(!0){case 5==h:b=0;break;case 6==h:b=1;break;case 5==k:b=2;break;case 6==k:b=1;break;case 0>e+d:b=2}a=a+b-2*c}break;case "year":a=b;break;case "month":h=d.toGregorian()>e.toGregorian()?d:e;c=d.toGregorian()>e.toGregorian()?e:d;k=h.getMonth();a=c.getMonth();if(0==b)a=!d.isLeapYear(d.getFullYear())&&5<h.getMonth()&&5>=c.getMonth()?h.getMonth()-c.getMonth()-1:h.getMonth()-
c.getMonth();else{a=!c.isLeapYear(c.getFullYear())&&6>a?13-a-1:13-a;a+=!h.isLeapYear(h.getFullYear())&&5<k?k-1:k;b=c.getFullYear()+1;for(h=h.getFullYear();b<h;b++)a+=c.isLeapYear(b)?13:12}d.toGregorian()<e.toGregorian()&&(a=-a);break;case "week":a=parseInt(f.difference(e,d,"day")/7);break;case "day":a/=24;case "hour":a/=60;case "minute":a/=60;case "second":a/=1E3;case "millisecond":a*=d.toGregorian().getTime()-e.toGregorian().getTime()}return Math.round(a)};return f})},"deploy/widgets/workflow/activity/RollbackComponentActivity":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dojo/on,deploy/widgets/workflow/activity/BaseActivity,js/webext/widgets/RestSelect,deploy/widgets/property/PropertyTextareaBox".split(","),
function(l,m,k,j,f,e){return m("deploy.widgets.workflow.activity.RollbackComponentActivity",[f],{postCreate:function(){this.inherited(arguments);if(!this.initialized)this.data.name=util.randomString(30),this.editProperties()},getLabel:function(){var d="";if(this.initialized){var c=this.getChildChildData();if(c.component&&c.component.deleted)d+=c.name+"\n"+i18n("(Deleted Component)");else{var b=i18n("Rollback %s",c.componentName),d=d+c.name;d!==b&&(d+="\n"+b)}}else d+=i18n("Rollback Component");return d},
editProperties:function(d){var c=this,b=this.getChildData(),a=this.getChildChildData(),e,f=c.createPropertyDialog(),j=c.createPropertyForm({dialog:f,validateFields:function(a){return c.validateName(a.name)},onSubmit:function(a){d&&d();c.initialized=!0;c.data={name:c.data.name,type:"componentEnvironmentIterator"};c.data.component=e.get("item");c.data.componentName=c.data.component.name;if(a.tagId&&""!==a.tagId)c.data.tagId=a.tagId;else if(c.data.tagId)c.data.tagId=void 0;c.data.runOnlyOnFirst=a.runOnlyOnFirst;
c.data.maxIteration=a.maxIteration;c.data.failFast=a.failFast;c.data.preconditionScript=a.preconditionScript;var b={};l.forEach(c.extraPropertyNames,function(c){var d=c.substring(2);b[d]=a[c]});c.data.children=[{name:util.randomString(30),type:"uninstallVersionDiff",componentName:c.data.component.name,selectionType:a.selectionType,status:a.status,children:[{name:a.name,type:"componentProcess",componentName:c.data.component.name,componentProcessName:a.componentProcessName,allowFailure:a.allowFailure,
properties:b}]}];c.updateLabel();f.hide();j.destroy();f.destroy()},readOnly:c.readOnly});j.addField({name:"name",label:i18n("Name"),type:"Text",required:!0,value:a.name});e=j.addField({name:"component",label:i18n("Component"),required:!0,autoSelectFirst:!0,type:"ApplicationComponentSelect",applicationId:c.graphEditor.application.id,value:!c.data.component?void 0:c.data.component.id,disabled:c.readOnly,onSetItem:function(a,b){c.showFieldsForComponent(j,b)}}).widget;j.addField({name:"tagId",label:i18n("Limit to Resource Tag"),
type:"TagDropDown",objectType:"Resource",value:c.data.tagId,readOnly:c.readOnly});j.addField({name:"selectionType",label:i18n("Rollback Type"),type:"Select",required:!0,value:b.selectionType,allowedValues:[{label:i18n("Remove Undesired Incremental Versions"),value:"UNDESIRED"},{label:i18n("Replace with Last Deployed"),value:"LAST_DEPLOYED"}]});j.addField({name:"maxIteration",label:i18n("Max # of concurrent jobs."),type:"Text",textDir:"ltr",required:!0,value:c.data.maxIteration||-1,description:i18n("The max number of concurrent component processes to run at any time. Use -1 for unlimited.")});
j.addField({name:"failFast",label:i18n("Fail Fast"),type:"Checkbox",description:i18n("When this is checked, this step will not start any more component processes if one fails."),value:c.data.failFast});j.addField({name:"runOnlyOnFirst",label:i18n("Run on First Online Resource Only"),type:"Checkbox",description:i18n("When this is checked, this step will only use one resource. It will not run on all resources."),value:c.data.runOnlyOnFirst});j.addField({name:"preconditionScript",label:i18n("Precondition"),
type:"PropertyArea",description:i18n("A script to determine whether this step should run. Must evaluate to true or false if not left blank."),value:c.data.preconditionScript,cache:c.graphEditor.cache});j.placeAt(f.containerNode);f.show()},showFieldsForComponent:function(d,c){var b=this;d.removeField("status");d.removeField("componentProcessName");d.removeField("allowFailure");if(c){var a=this.getChildData(),f=this.getChildChildData(),j=d.getValue("name");(!j||this.selectedComponent&&j===i18n("Rollback %s",
this.selectedComponent.name))&&d.setValue("name",i18n("Rollback %s",c.name));this.selectedComponent=c;a=new e({restUrl:bootstrap.restUrl+"deploy/status/inventoryStatuses",getValue:function(a){return a.name},getStyle:function(a){return{backgroundColor:a.color}},value:a.status,allowNone:!1});d.addField({name:"status",label:i18n("Remove Versions With Status"),required:!0,widget:a},"tagId");l.forEach(this.extraPropertyNames,function(a){b.removePropertyField(d,a)});this.extraPropertyNames=[];var m;if(b.data.component&&
b.data.component.id===c.id)m=f.componentProcessName;m=new e({restUrl:bootstrap.restUrl+"deploy/component/"+c.id+"/fullProcesses/false",getLabel:function(a){var b=a.name;a.componentTemplate&&(b+=i18n(" (Template)"));return b},getValue:function(a){return a.name},onChange:function(a,c){l.forEach(b.extraPropertyNames,function(a){b.removePropertyField(d,a)});b.extraPropertyNames=[];c&&l.forEach(c.unfilledProperties,function(a){var c="p_"+a.name,e=a.value,j=!1;f.properties&&f.properties[a.name]&&(e=f.properties[a.name],
j=!0);var l=k.clone(a);l.name=c;l.value=e;if(a.description)l.description=a.description.escape();b.extraPropertyNames.push(c);b.addPropertyField(d,l,j,"allowFailure")})},allowNone:!1,value:m,disabled:b.readOnly});d.addField({name:"componentProcessName",label:i18n("Component Process"),required:!0,description:i18n("The process to run."),widget:m},"tagId");(config.data.systemConfiguration.enableAllowFailure||f.allowFailure)&&d.addField({name:"allowFailure",label:i18n("Ignore Failure"),description:i18n("When checked, this step will always be considered successful."),
type:"Checkbox",value:f.allowFailure},"tagId")}}})})},"deploy/widgets/report/deploymentCount/DeploymentCountReportTable":function(){define(["dojo/_base/declare","dojo/dom-construct","deploy/widgets/report/ReportTable"],function(l,m,k){return l("deploy.widgets.report.deploymentCount.DeploymentCountReportTable",[k],{reportRestUrlBase:null,reportTable:null,reportChart:null,selectableColumns:!1,requiredFields:["time_unit"],constructor:function(){this.inherited(arguments);this.reportRestUrlBase=bootstrap.restUrl+
"report/"},reportType:"com.urbancode.ds.subsys.report.domain.deployment_count.DeploymentCountReport",destroyChart:function(){if(this.reportChart)this.reportChart.destroy(),this.reportChart=null},getReportResultLayout:function(){return[]},createChart:function(j,f,e){var f=[],d=[],c,b,a={},h;b={gridLineColor:"#cfcdcc",gridLineDashStyle:"ShortDash",gridLineWidth:1,allowDecimals:!1,min:0,title:{text:i18n("Deployments")}};a.text=i18n("Deployment Count");for(h in j)if(j.hasOwnProperty(h)&&j[h]){var k=j[h],
l={};l.name=k[i18n("Environment")];l.type="line";var n=[],s;for(s in k)k.hasOwnProperty(s)&&"Application"!==s&&"Environment"!==s&&(0===parseInt(h,10)&&d.push(s),n.push({name:s,y:parseInt(k[s],10)}));l.data=n;f.push(l);c=c?"Multiple Applications":j[h][i18n("Application")]}5>d.length?(j=null,h=1,4===d.length&&(h=2)):(j=Math.ceil(d.length/5),h=Math.min(2,Math.ceil(d.length/(2*j))));s=m.create("div",{className:"chart-outer-container"},e);m.create("div",{className:"description-text chart-help-link-container",
innerHTML:i18n("Click and drag to select an area to zoom in")},e);e=m.create("div",{className:"highcharts-outer-container"},s);this.reportChart=new Highcharts.Chart({chart:{height:300,renderTo:e,zoomType:"xy"},colors:"#53ABCC,#6ECFC7,#86B347,#F0CC00,#E6944A,#E2515B,#C767AE,#9169BF,#53ABCC,#6ECFC7,#86B347,#F0CC00,#E6944A,#E2515B,#C767AE,#9169BF".split(","),labels:{style:{color:"#8a8989"}},credits:{enabled:!1},title:{text:c,x:-20},subtitle:a,xAxis:{type:"line",categories:d,minorTickWidth:2,tickmarkPlacement:"on",
tickInterval:j,labels:{staggerLines:h,style:{color:"#8a8989"}},dateTimeLabelFormats:{month:"%e. %b",year:"%b"}},yAxis:b,plotOptions:{line:{visible:!0,dashStyle:"solid",connectNulls:!0,shadow:!1,dataLabels:{color:"#0000ff"}}},tooltip:{formatter:function(){var a="<b>";this.points&&this.points[0]&&this.points[0].point&&(a+=this.points[0].point.name);var a=a+"</b>",b=[];dojo.forEach(this.points,function(a){b.push({deployments:a.y,tooltipText:'<br/><span style="color:'+a.series.color+';">'+a.series.name+
"</span>: "+a.y})});b.sort(function(a,b){return b.deployments-a.deployments});for(var c in b)b.hasOwnProperty(c)&&(a+=b[c].tooltipText);return a},crosshairs:!0,shared:!0},legend:{layout:"vertical",borderWidth:0,lineHeight:34,align:"right",verticalAlign:"top",style:{color:"#ff0000",fontSize:"11px"}},series:f})}})})},"dijit/Destroyable":function(){define("dijit/Destroyable",["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(l,m,k){return k("dijit.Destroyable",null,{destroy:function(){this._destroyed=
!0},own:function(){l.forEach(arguments,function(j){var f="destroyRecursive"in j?"destroyRecursive":"destroy"in j?"destroy":"remove",e=m.before(this,"destroy",function(c){j[f](c)}),d=m.after(j,f,function(){e.remove();d.remove()},!0)},this);return arguments}})})},"url:dojox/widget/Wizard/Wizard.html":'<div class="dojoxWizard" dojoAttachPoint="wizardNode">\n    <div class="dojoxWizardContainer" dojoAttachPoint="containerNode"></div>\n    <div class="dojoxWizardButtons" dojoAttachPoint="wizardNav">\n        <button dojoType="dijit.form.Button" type="button" dojoAttachPoint="previousButton">${previousButtonLabel}</button>\n        <button dojoType="dijit.form.Button" type="button" dojoAttachPoint="nextButton">${nextButtonLabel}</button>\n        <button dojoType="dijit.form.Button" type="button" dojoAttachPoint="doneButton" style="display:none">${doneButtonLabel}</button>\n        <button dojoType="dijit.form.Button" type="button" dojoAttachPoint="cancelButton">${cancelButtonLabel}</button>\n    </div>\n</div>\n',
"js/webext/widgets/form/MenuButton":function(){define("js/webext/widgets/form/MenuButton",["dijit/form/DropDownButton","dijit/DropDownMenu","dijit/MenuItem","dojo/_base/array","dojo/_base/declare"],function(l,m,k,j,f){return f([l],{postCreate:function(){this.inherited(arguments);var e=this;this.dropDown=new m;j.forEach(this.options,function(d){e.dropDown.addChild(new k(d))})}})})},"deploy/widgets/Popup":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/_base/array,dijit/_Widget,dijit/_TemplatedMixin,dojo/on,dojo/mouse,dojo/dom-geometry,dojo/dom-class,dojo/dom-construct,dojo/dom-style,dojo/has,dijit/place".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q){return l("deploy.widgets.Popup",[j,f],{templateString:'<div class="mouse-over-popup hidden"><div class="popup-pointer" data-dojo-attach-point="pointerAttach"></div><div class="popup-container" data-dojo-attach-point="popupAttach"><div class="popup-contents" data-dojo-attach-point="containerAttach"></div></div></div>',attachPoint:void 0,hoverPoint:void 0,clickPoint:null,hoverPointExit:null,contents:null,align:"center",popupShow:d.enter,popupHide:d.leave,textAlign:"center",
postCreate:function(){this.inherited(arguments);var d=this;this.contents&&a.place(d.contents,d.containerAttach);this.autoWidth||b.add(this.popupAttach,"fixed-popup-width");h.set(this.popupAttach,"textAlign",this.textAlign);if(this.attachPoint){a.place(this.domNode,this.attachPoint);if(this.popupShow)this.showPopup=e(this.hoverPoint||this.attachPoint,this.popupShow,function(){var a=c.position(d.attachPoint).w||null;if(a)a/=2,d.popupAttach.value=a,q("mozilla")||q("ff")?(d.popupAttach.style.marginLeft=
a+"px",d.pointerAttach.style.marginLeft=a-20+"px"):(h.set(d.popupAttach,"margin-left",a+"px"),h.set(d.pointerAttach,"margin-left",a-20+"px"));d.show()});this.popupHide&&e(this.hoverPointExit||this.hoverPoint||this.attachPoint,this.popupHide,function(){d.hide()})}},movePointer:function(a){q("mozilla")||q("ff")?this.pointerAttach.style.marginLeft=a+"px":h.set(this.pointerAttach,"margin-left",a+"px")},movePopup:function(a){q("mozilla")||q("ff")?this.popupAttach.style.marginLeft=a+"px":h.set(this.popupAttach,
"margin-left",a+"px")},show:function(){this.popupHide=!1;b.remove(this.domNode,"hidden");b.add(this.domNode,"popup-show");var a=c.position(this.domNode).w||null;if(a&&(a-=this.popupAttach.value))q("mozilla")||q("ff")?this.popupAttach.style.marginLeft=this.popupAttach.value-a/2+"px":h.set(this.popupAttach,"margin-left",this.popupAttach.value-a/2+"px");this.postShow()},postShow:function(){},externalShow:function(){var a=c.position(this.attachPoint).w||null;if(a)a/=2,this.popupAttach.value=a,q("mozilla")||
q("ff")?(this.popupAttach.style.marginLeft=a+"px",this.pointerAttach.style.marginLeft=a-20+"px"):(h.set(this.popupAttach,"margin-left",a+"px"),h.set(this.pointerAttach,"margin-left",a-20+"px"));this.show()},hide:function(){this.popupHide=!0;b.remove(this.domNode,"popup-show");b.add(this.domNode,"hidden");this.postHide()},postHide:function(){},destroy:function(){a.destroy(this.domNode);this.showPopup=null}})})},"url:dijit/templates/Dialog.html":'<div class="dijitDialog" role="dialog" aria-labelledby="${id}_title">\n\t<div data-dojo-attach-point="titleBar" class="dijitDialogTitleBar">\n\t\t<span data-dojo-attach-point="titleNode" class="dijitDialogTitle" id="${id}_title"\n\t\t\t\trole="heading" level="1"></span>\n\t\t<span data-dojo-attach-point="closeButtonNode" class="dijitDialogCloseIcon" data-dojo-attach-event="ondijitclick: onCancel" title="${buttonCancel}" role="button" tabIndex="-1">\n\t\t\t<span data-dojo-attach-point="closeText" class="closeText" title="${buttonCancel}">x</span>\n\t\t</span>\n\t</div>\n\t<div data-dojo-attach-point="containerNode" class="dijitDialogPaneContent"></div>\n</div>\n',
"deploy/widgets/calendar/CalendarBase":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dijit/form/TextBox,dijit/form/DateTextBox,dijit/form/TimeTextBox,dijit/form/Select,dijit/Calendar,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/cldr/supplemental,dojo/dom-class,dojo/dom-construct,dojo/dom-style,dojo/on,dojo/mouse,dojo/date/locale,dojox/calendar/Calendar,dojo/store/JsonRest,dojo/store/Memory,dojo/store/Observable,dojo/date/stamp,js/util/blocker/_BlockerMixin,js/webext/widgets/select/WebextSelect,js/webext/widgets/select/WebextMultiSelect,js/webext/widgets/BidiDateUtil".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u,x,v,y,A,z,B,D,G){return a("deploy.widgets.calendar.CalendarBase",[m,l,z],{templateString:'<div class="calendar"><div class="calendar-sidebar"><div class="calendar-sidebar-tabs" data-dojo-attach-point="calendarSidebarTabsAttachPoint"></div><div data-dojo-attach-point="calendarSidebarAttachPoint"></div><div data-dojo-attach-point="calendarSidebarPanel" class="calendar-sidebar-panel"><div data-dojo-attach-point="calendarSidebarCreateButtonAttachPoint"></div><div data-dojo-attach-point="calendarSidebarPanelAttachPoint"></div></div><div class="calendar-sidebar-panel calendar-sidebar-panel-filters hidden" data-dojo-attach-point="calendarSidebarFilterAttachPoint"></div></div><div class="calendar-contents"><div data-dojo-attach-point="calendarAttachPoint"></div></div></div>',
height:640,labelHeight:14,itemStartAttr:"startDate",itemEndAttr:"endDate",itemNameAttr:"name",initialView:"month",startHours:0,endHours:24,hourSize:40,showCreateRequest:!0,serviceUrlPattern:null,serviceUrlPatterns:{startTime:"{startTime}",endTime:"{endTime}"},postCreate:function(){this.inherited(arguments);this.now=G.getNewDate();this.months=G.getLocale().getNames("months","wide","standAlone","",G.getNewDate());var a=q.getFirstDayOfWeek();0===a?o.add(this.calendarAttachPoint,"sunday-first-day-of-week"):
1===a&&o.add(this.calendarAttachPoint,"monday-first-day-of-week");this._createCalendar()},_createCalendar:function(a){var b=this;a?(this.calendar=(new u({datePackage:G.getDatePackage(),date:G.getNewDate(),startTimeAttr:b.itemStartAttr,endTimeAttr:b.itemEndAttr,summaryAttr:b.itemNameAttr,store:new y(new v({data:a})),cssClassFunc:function(a){return b.itemClassName(a)},columnViewProps:{minHours:b.startHours,maxHours:b.endHours,hourSize:b.hourSize},onCurrentViewChange:function(a){b._highlightCurrentTime(a);
b.onChangeCalendarView(a)},dateInterval:b.initialView,isItemMoveEnabled:function(a){return b.canMoveItem(a)},isItemResizeEnabled:function(a){return b.canResizeItem(a)},onRenderersLayoutDone:function(a){b._onItemCreate(a,this.store)},onItemRollOver:function(a){b._onItemHover(a,a.source.itemToRenderer[a.item.id])},onItemRollOut:function(a){b._onItemHover(a,a.source.itemToRenderer[a.item.id],!0)},onItemClick:function(a){b.updateSidebar(a);b._onItemClick(a,a.source.itemToRenderer[a.item.id])},style:"position:relative; height:"+
b.height+"px;"})).placeAt(this.calendarAttachPoint),this._addCalendarTitle(),this._addCalendarToolbarHighlight(),this._addCalendarEditConditions(),this._addEntryOnClick(),this._createSidebar(),this.calendar.matrixView.labelRendererHeight=this.labelHeight,this.calendar.matrixView.roundToDay=this.roundToDay||!1,this.calendar.columnView.scrollMethod="dom"):this.loadData()},_onItemCreate:function(a,c){var d=this;b.forEach(a.rendererList,function(a){var b=c.get(a.renderer.item.id);d.onItemCreate(b,a)})},
onItemCreate:function(){},_onItemHover:function(a,c,d){var e=this;b.forEach(c,function(b){e.onItemHover(a,b,d)})},onItemHover:function(){},_onItemClick:function(a,c){var d=this;b.forEach(c,function(b){d.onItemClick(a,b)});this.lastItemClicked={item:a,renderList:c}},onItemClick:function(){},onGridClick:function(){},_highlightCurrentTime:function(a){var b=this;if(a.newView.secondarySheet){if(!this.currentTimeBar)this.currentTimeBar=n.create("div",{className:"current-time-bar"},a.newView.grid,"first");
var c=function(){var a=new Date,c=a.getHours(),d=a.getMinutes(),a=a.getSeconds(),e=60/b.hourSize;s.set(b.currentTimeBar,"top",c*b.hourSize+d/e+a/(60*e)-1+"px")};c();setInterval(function(){c()},1E4)}},onChangeCalendarView:function(){},itemClassName:function(){return"entry"},canMoveItem:function(){return!0},canResizeItem:function(){return!0},refreshCalendar:function(a,b){this.loadData(a,b)},refresh:function(){this.loadData(this.calendar?new Date(this.calendar.date):null)},loadData:function(a,b){var c=
this,d;d=c.calendar?"month"===c.calendar.dateInterval:"month"===c.initialView;this.block();h.get({url:c.getCalendarUrl(a,b),handleAs:"json",load:function(a){c.unblock();c.addItemsToCalendar(c.formatData(a,d))}})},getCalendarUrl:function(a,b){var C;var c=this.serviceUrlPattern,d,e=null;a&&b?(d=new Date(a),e=new Date(b)):a?(d=new Date(a.getFullYear(),a.getMonth()),e=util.shiftMonths(d,1)):(d=new Date,C=e=new Date(d.getFullYear(),d.getMonth()),d=C,e=util.shiftMonths(e,1));d=util.getStartOfWeek(d);e=
util.getEndOfWeek(e);c=c.replace(this.serviceUrlPatterns.startTime,d.valueOf());return c=c.replace(this.serviceUrlPatterns.endTime,e.valueOf())},formatData:function(a){return this.formatAndFilterItems(a,"entry")},formatAndFilterItems:function(a,c,d){var e=this,f=[];b.forEach(a,function(a){a=e.formatItem(a,c,d);(!e.applyFilters||e.filterCalendar(a))&&f.push(a)});return f},formatItem:function(a){return a},addItemsToCalendar:function(a){this.calendar?this.calendar.set("store",new v({data:a})):this._createCalendar(a)},
_addCalendarTitle:function(){this.calendar.calendarTitle=n.create("div",{innerHTML:this.months[this.calendar.date.getMonth()],className:"calendar-title"});n.place(this.calendar.calendarTitle,this.calendar.buttonContainer,"first")},_addCalendarToolbarHighlight:function(){var a=this.calendar,c=a.monthButton,d=function(){o.add(c.domNode,"current-calendar-view")};d();var e=[a.todayButton,a.dayButton,a.fourDaysButton,a.weekButton,a.monthButton];b.forEach(e,function(b){r(b,"click",function(){o.remove(c.domNode,
"current-calendar-view");c=b===a.todayButton?e[1]:b;d()})})},_addCalendarEditConditions:function(){var a=this,b,c;this.calendar.on("itemEditBegin",function(a){b=a.item.startTime;c=a.item.endTime});this.calendar.on("itemEditEnd",function(d){a.itemEndEdit(d,b,c)})},itemEndEdit:function(a,b,c){this.updateSidebar(a);a.item.originalDate=b;a.item.originalEndDate=c;this.updateItem(a.item,"move",a.item.startDate,a.item.endDate)},enableCreateOnShiftDoubleClick:function(){return!0},enableCreateOnControlAltClick:function(){return!0},
_addEntryOnClick:function(){var a=this;this.enableCreateOnShiftDoubleClick()&&this.addCreateOnShiftDoubleClick();this.enableCreateOnControlAltClick()&&(this.calendar.set("createOnGridClick",!0),this.calendar.set("createItemFunc",function(b,c,d){if(d.ctrlKey||d.altKey)return a.tempCreateItem=a.addCreateOnControlAltClick(b,c),a.tempCreateItem}))},addCreateOnShiftDoubleClick:function(){var a=this,b=function(b){a.calendar.gridClick=!0;a.updateSidebar(b,!0);a.calendar.gridClick=!1};this.calendar.on("gridClick",
function(c){b(c);a.onGridClick(c)});this.calendar.on("gridDoubleClick",function(a){b(a,!0)})},addCreateOnControlAltClick:function(a,b){var c,d;d=this.calendar.columnView;var e=this.calendar.dateModule;a===d?(c=this.calendar.floorDate(b,"minute",d.timeSlotDuration),d=e.add(c,"minute",d.timeSlotDuration)):(c=this.calendar.floorToDay(b),d=e.add(c,"day",1));e=i18n("New Entry");return{id:"noId",summary:e,name:e,startDate:c,endDate:d,clickCreate:!0,calendarId:this.calendarId}},_createSidebar:function(){var a=
this;this.calendar.gridClick=!1;this.sidebar={};this._addSidebarTabs();this.addSidebarCreateButtons();this.addCalendarFilters();this.sidebar.calendar=new c({datePackage:G.getDatePackage(),minDate:null,maxDate:null,getClassForDate:function(a){if(this.minDate&&this.maxDate){var b=this.dateModule;if(0<=b.compare(a,this.minDate)&&0>=b.compare(a,this.maxDate))return"highlighted-date"}return null},updateSideCalendar:function(a,b){this.set("currentFocus",a,!1);this.set("minDate",a);this.set("maxDate",b);
this._populateGrid()}},this.calendarSidebarAttachPoint);this.sidebar.calendar.on("change",function(b){a.calendar&&!a.calendar.gridClick&&a.calendar.set("date",b)});this.calendar.on("timeIntervalChange",function(b){a.sidebar.calendar.updateSideCalendar(b.startTime,b.endTime);b.oldStartTime&&b.oldEndTime&&a.refreshCalendar(b.startTime,b.endTime);a.calendar.calendarTitle.innerHTML=a.months[a.calendar.date.getMonth()]+" "+a.calendar.date.getFullYear()});this.sidebarContainer=n.create("div",{className:"calendar-sidebar-panel-container"},
this.calendarSidebarPanelAttachPoint)},_addSidebarTabs:function(){var a=this,b,c,d=n.create("div",{innerHTML:i18n("Details"),className:"calendar-sidebar-tab current-calendar-tab inline-block"},this.calendarSidebarTabsAttachPoint);b=d;c=a.calendarSidebarPanel;var e=n.create("div",{innerHTML:i18n("Filters"),className:"calendar-sidebar-tab inline-block"},this.calendarSidebarTabsAttachPoint);this.showTab=function(e,f){o.remove(b,"current-calendar-tab");o.add(c,"hidden");b=e||d;c=f||a.calendarSidebarPanel;
o.add(b,"current-calendar-tab");o.remove(c,"hidden")};r(d,"click",function(){a.showTab()});r(e,"click",function(){a.showTab(e,a.calendarSidebarFilterAttachPoint)})},addSidebarCreateButtons:function(){},createSidebarCreateButton:function(a){var b=n.create("div",{className:"calendar-sidebar-create-button-container"},this.calendarSidebarCreateButtonAttachPoint),b=(new k({label:a.label,onClick:a.onClick})).placeAt(b);a.highlight&&o.add(b.domNode,"idxButtonSpecial");if(a.hoverMessage){var c=n.create("div",
{innerHTML:a.hoverMessage,className:"calendar-sidebar-hover-container hidden"},this.calendarSidebarPanelAttachPoint);r(b,t.enter,function(){o.remove(c,"hidden")});r(b,t.leave,function(){o.add(c,"hidden")})}return b},showSaveMessage:function(a,b){var c=this,d=b||this.calendarSidebarPanelAttachPoint;if(!this.calendarSaveMessage)this.calendarSaveMessage=n.create("div",{className:"calendar-sidebar-save-message hidden"}),r(this.calendarSaveMessage,t.enter,function(){o.add(c.calendarSaveMessage,"hidden")});
this.calendarSaveMessage.innerHTML=a||i18n("Calendar Saved");n.place(this.calendarSaveMessage,d,"first");o.remove(this.calendarSaveMessage,"hidden");setTimeout(function(){o.add(c.calendarSaveMessage,"hidden")},2500)},createSidebarItem:function(a){var b=a.type||"div",c=n.create(b,{className:a.className||"",innerHTML:a.innerHTML||""},a.attachPoint||this.sidebarContainer||"");if("a"===b&&a.href)c.href=a.href;return c},_createItemForSidebar:function(a,b,c){return{innerHTML:a||"",attachPoint:b||this.sidebarContainer||
"",className:c||""}},createSidebarSection:function(a,b){return this.createSidebarItem(this._createItemForSidebar(a,b,"calendar-sidebar-panel-section"))},createSidebarLabel:function(a,b){return this.createSidebarItem(this._createItemForSidebar(a,b,"calendar-sidebar-panel-label"))},createSidebarLabelContainer:function(a,b){var c=b||this.createSidebarSection();this.createSidebarLabel(a,c);return c},createSidebarText:function(a,b,c){c=this.createSidebarLabelContainer(a,c);this.createSidebarItem(this._createItemForSidebar(b,
c,"calendar-sidebar-panel-text"))},createSidebarLink:function(a,b,c,d,e){d?this.createSidebarText(a,b,e):(e=this.createSidebarLabelContainer(a,e),this.createSidebarItem({innerHTML:b,attachPoint:e,className:"calendar-sidebar-panel-text calendar-sidebar-panel-link",href:c,type:"a"}))},createSidebarTitle:function(a,b){var c=b||this.createSidebarSection();this.createSidebarItem(this._createItemForSidebar(a,c,"calendar-sidebar-panel-title"))},createSidebarButton:function(a,b,c,d,e,f){d=d||this.sidebarContainer;
a=e?n.create("a",{innerHTML:a,title:f||a,className:"calendar-sidebar-button-link linkPointer "+b},d):(new k({label:a})).placeAt(d);e||o.add(a.domNode,b+" calendar-sidebar-button");r(a,"click",function(){c()});return a},clearSidebar:function(){n.empty(this.sidebarContainer)},updateSidebar:function(a){a=a.item||null;this.clearSidebar();this.showTab();if(a){a.name&&this.createSidebarTitle(a.name);if(a.startDate){var b=this.createSidebarLabelContainer(a.endDate?i18n("Start Date"):i18n("Date"));(new f({datePackage:G.getDatePackage(),
value:G.getNewDate(a.startDate)})).placeAt(b);(new e({value:a.startDate})).placeAt(b)}a.endDate&&(b=this.createSidebarLabelContainer(i18n("End Date")),(new f({datePackage:G.getDatePackage(),value:G.getNewDate(a.endDate)})).placeAt(b),(new e({value:a.endDate})).placeAt(b))}},updateItem:function(a,b){var c=this.calendar.store;if(b.date)a.startDate=b.date;if(b.endDate)a.endDate=b.endDate;c.put(a);this.showSaveMessage()},createCalendarFilterSection:function(a){var b=a.section||this.createSidebarLabelContainer(a.label);
a.placeAt?n.place(b,a.placeAt):a.noPlace||n.place(b,this.calendarSidebarFilterAttachPoint);var c=null,c=null;a.url?c=new x({target:a.url,idProperty:"id"}):a.options&&a.value&&(c=new v({data:a.value}));c={store:c,placeHolder:a.placeHolder||i18n("All"),pageSize:"10",listClassName:a.listClassName,options:a.options};if(a.onChange)c.onChange=a.onChange;if(a.formatDropDownLabel)c.formatDropDownLabel=a.formatDropDownLabel;if(a.multiple){if(a.formatSelectedItem)c.formatSelectedItem=a.formatSelectedItem;c=
new D(c)}else c=new B(c);c.placeAt(b);a.className&&o.add(c.domNode,a.className);return c},addCalendarFilters:function(){},filterCalendar:function(){return!0}})})},"dojox/date/hebrew/numerals":function(){define("dojox/date/hebrew/numerals",["../..","dojo/_base/lang","dojo/_base/array"],function(l,m,k){var j=m.getObject("date.hebrew.numerals",!0,l),f=function(c,b){c=c.replace("\u05d9\u05d4","\u05d8\u05d5").replace("\u05d9\u05d5","\u05d8\u05d6");if(!b)var a=c.length,c=1<a?c.substr(0,a-1)+'"'+c.charAt(a-
1):c+"\u05f3";return c},e=function(c){var b=0;k.forEach(c,function(a){var c;if(-1!=(c="\u05d0\u05d1\u05d2\u05d3\u05d4\u05d5\u05d6\u05d7\u05d8".indexOf(a)))b+=++c;else if(-1!=(c="\u05d9\u05db\u05dc\u05de\u05e0\u05e1\u05e2\u05e4\u05e6".indexOf(a)))b+=10*++c;else if(-1!=(c="\u05e7\u05e8\u05e9\u05ea".indexOf(a)))b+=100*++c});return b},d=function(c){for(var b="",a=4,d=9;c;)c>=100*a?(b+="\u05e7\u05e8\u05e9\u05ea".charAt(a-1),c-=100*a):1<a?a--:c>=10*d?(b+="\u05d9\u05db\u05dc\u05de\u05e0\u05e1\u05e2\u05e4\u05e6".charAt(d-
1),c-=10*d):1<d?d--:0<c&&(b+="\u05d0\u05d1\u05d2\u05d3\u05d4\u05d5\u05d6\u05d7\u05d8".charAt(c-1),c=0);return b};j.getYearHebrewLetters=function(c){return f(d(c%1E3))};j.parseYearHebrewLetters=function(c){return e(c)+5E3};j.getDayHebrewLetters=function(c,b){return f(d(c),b)};j.parseDayHebrewLetters=function(c){return e(c)};j.getMonthHebrewLetters=function(c){return f(d(c+1))};j.parseMonthHebrewLetters=function(c){c=j.parseDayHebrewLetters(c)-1;if(-1==c||12<c)throw Error("The month name is incorrect , month = "+
c);return c};return j})},"deploy/widgets/automationPlugin/AutomationPluginList":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Button,dijit/form/CheckBox,dojo/_base/declare,dojo/_base/xhr,dojo/_base/array,dojo/dom-class,dojo/dom-construct,dojo/request/iframe,dojo/on,js/webext/widgets/Alert,js/webext/widgets/Dialog,js/webext/widgets/GenericConfirm,js/util/blocker/BlockingContainer,dijit/form/TextBox,js/webext/widgets/table/TreeTable".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o,
n,s,r,t){return f("deploy.widgets.automationPlugin.AutomationPluginList",[m,l],{templateString:'<div class="pluginList"><div class="listTopButtons" data-dojo-attach-point="buttonTopAttach"></div><div data-dojo-attach-point="gridAttach"></div><div data-dojo-attach-point="activeBoxAttach" style="margin: 2px;"></div></div>',postCreate:function(){this.inherited(arguments);var a=this,b=bootstrap.restUrl+"plugin/automationPlugin",d=[{name:i18n("Plugin"),formatter:this.pluginFormatter,orderField:"name",
filterField:"name",getRawValue:function(a){return a.name},filterType:"text"},{name:i18n("Description"),formatter:function(a){return i18n(a.description)}},{name:i18n("Version"),formatter:this.versionFormatter,orderField:"pluginVersion",filterField:"releaseVersion",getRawValue:function(a){return a.version},filterType:"text"},{name:i18n("Actions"),formatter:this.actionsFormatter,parentWidget:this}];this.grid=new t({url:b,serverSideProcessing:!0,hideExpandCollapse:!0,columns:d,orderField:"name",hidePagination:!1,
tableConfigKey:"pluginList",noDataMessage:i18n("No plugins have been loaded.")});this.grid.placeAt(this.gridAttach);config.data.permissions[security.system.managePlugins]&&(b={label:i18n("Load Plugin"),showTitle:!1,onClick:function(){a.showNewPluginForm()}},b=(new k(b)).placeAt(this.buttonTopAttach),c.add(b.domNode,"idxButtonSpecial"),b.placeAt(this.buttonTopAttach))},destroy:function(){this.inherited(arguments);this.grid.destroy()},pluginFormatter:function(a){var b=document.createElement("a");b.innerHTML=
i18n(a.name.escape());b.href="#automationPlugin/"+a.id;return b},versionFormatter:function(a){return a.version},actionsFormatter:function(a){var c=this.parentWidget,d=b.create("div");if(config.data.permissions[security.system.managePlugins]){var e=b.create("a",{innerHTML:i18n("Delete"),"class":"actionsLink linkPointer"},d);h(e,"click",function(){c.getProcessesUsingPluginAndDelete(a)})}return d},showPluginDeletionConfirm:function(a,b){var c=this;new n({message:b,forceRawMessages:!0,action:function(){c.grid.block();
e.del({url:bootstrap.restUrl+"plugin/automationPlugin/"+a.id,handleAs:"json",load:function(){c.grid.unblock();c.grid.refresh()},error:function(a){(new q({messages:[i18n("Error deleting plugin:"),"",util.escape(a.responseText)]})).startup();c.grid.unblock()}})}})},getProcessesUsingPluginAndDelete:function(a){var b=this,c=i18n("Are you sure you want to delete %s? This will permanently delete it from the system. ",i18n(a.name.escape())+" "+a.version);e.get({url:bootstrap.restUrl+"plugin/automationPlugin/"+
a.id+"/processes",handleAs:"json",load:function(e){if(e&&0<e.length){var f=i18n("The following processes are using this plugin:")+"<br/>";d.forEach(e,function(a){f+=a.name.escape()+"<br/>"});c=f+"<br/>"+c}b.showPluginDeletionConfirm(a,c)},error:function(){c+="<br/>"+i18n("It is unknown if the plugin is being used by any processes.");b.showPluginDeletionConfirm(a,c)}})},showNewPluginForm:function(){var b=this,c=new s,d=new o({title:i18n("Load Plugin"),closable:!0,draggable:!0}),e=document.createElement("form");
e.target="formTarget";e.method="POST";e.enctype="multipart/form-data";e.encoding="multipart/form-data";c.placeAt(d.containerNode);var f=document.createElement("input");f.type="file";f.name="file";var h=document.createElement("input");h.type="submit";h.value=i18n("Submit");h.style.display="block";e.appendChild(f);e.appendChild(h);c.containerNode.appendChild(e);e.onsubmit=function(){if(f.value){c.block();var h=util.getCookie(bootstrap.expectedSessionCookieName);a(bootstrap.restUrl+"plugin/automationPlugin/ui?"+
bootstrap.expectedSessionCookieName+"="+h,{form:e,handleAs:"json"}).then(function(a){"ok"===a.status?(c.unblock(),d.hide(),d.destroy(),b.grid.refresh()):(c.unblock(),(new q({message:i18n("Error loading plugin: %s",a.error)})).startup())},function(a){c.unblock();(new q({message:i18n("Error loading plugin: %s",a.error)})).startup()})}else(new q({message:i18n("Please choose a plugin file to import.")})).startup();return!1};d.show()}})})},"dojo/cookie":function(){define(["./_base/kernel","./regexp"],
function(l,m){l.cookie=function(k,j,f){var e=document.cookie,d;if(1==arguments.length)d=(d=e.match(RegExp("(?:^|; )"+m.escapeString(k)+"=([^;]*)")))?decodeURIComponent(d[1]):void 0;else{f=f||{};e=f.expires;if("number"==typeof e){var c=new Date;c.setTime(c.getTime()+864E5*e);e=f.expires=c}if(e&&e.toUTCString)f.expires=e.toUTCString();var j=encodeURIComponent(j),e=k+"="+j,b;for(b in f)e+="; "+b,c=f[b],!0!==c&&(e+="="+c);document.cookie=e}return d};l.cookie.isSupported=function(){if(!("cookieEnabled"in
navigator))this("__djCookieTest__","CookiesAllowed"),navigator.cookieEnabled="CookiesAllowed"==this("__djCookieTest__"),navigator.cookieEnabled&&this("__djCookieTest__","",{expires:-1});return navigator.cookieEnabled};return l.cookie})},"js/webext/widgets/Link":function(){require({cache:{"url:js/webext/widgets/Link.html":'<div role="presentation" class="dijitInline">\n    <span class="dijitReset dijitInline"\n      data-dojo-attach-event="ondijitclick:_onClick" role="presentation">\n        <a class="dijitStretch"\n          data-dojo-attach-point="titleNode,focusNode"\n          role="navigation" aria-labelledby="${id}_label">\n            <span class="dijitReset dijitInline dijitIcon" data-dojo-attach-point="iconNode"></span>\n            <span class="dijitReset dijitInline"\n              id="${id}_label" style="text-decoration:inherit; color:inherit"\n              data-dojo-attach-point="containerNode"></span>\n        </a>\n    </span>\n</div>'}});
define("js/webext/widgets/Link","dojo/_base/declare,dojo/_base/kernel,dijit/_Widget,dijit/_TemplatedMixin,dojo/_base/array,dojox/html/entities,dojo/dom-class,dojo/text!./Link.html,dojo/dom,dojo/on,dojo/keys,dojo/dom-style,dojo/_base/lang,dojo/window,dojo/has,dijit/a11y".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r){return l([k,j],{templateString:c,_setIdAttr:"focusNode",href:"",target:"",iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},"class":"link",_setClassAttr:{node:"focusNode",
type:"class"},_setStyleAttr:[{node:"focusNode",type:"attribute"},{node:"containerNode",type:"attribute"}],label:"",showLabel:!0,disabled:!1,tabIndex:"0",_setTabIndexAttr:"focusNode",scrollOnFocus:!0,postCreate:function(){this.inherited(arguments);b.setSelectable(this.focusNode,!1);this._enterListener=this._setupEnterToDoClick(this.focusNode)},destroy:function(){this._enterListener.remove();this.inherited(arguments)},_fillContent:function(a){if(a&&(!this.params||void 0===this.params.label))if(a=o.trim(a.innerHTML))this.label=
a},_setHrefAttr:function(a){this.inherited(arguments);this._set("href",a);if(a)this.focusNode.href=a},_setTargetAttr:function(a){this.inherited(arguments);this._set("target",a);a?this.focusNode.setAttribute("target",a):this.focusNode.removeAttribute("target")},_setLabelTextAttr:function(a){this.inherited(arguments);this.set("label",e.encode(a))},_setLabelAttr:function(a){this.inherited(arguments);this._set("label",a);(this.containerNode||this.focusNode).innerHTML=a;if(!this.showLabel)this.titleNode.title=
o.trim(this.containerNode.innerText||this.containerNode.textContent||""),this.titleNode.title&&this.disabled&&(this.titleNode.title+=" (disabled)")},_setShowLabelAttr:function(a){this.containerNode&&d.toggle(this.containerNode,"dijitDisplayNone",!a);this._set("showLabel",a)},_setDisabledAttr:function(a){this._set("disabled",a);if(this.titleNode.title)this.titleNode.title=a?this.titleNode.title.replace(/( \(disabled\))?$/," (disabled)"):this.titleNode.title.replace(/ \(disabled\)$/,"");d.toggle(this.focusNode,
"disabled",a);d.toggle(this.iconNode,this.iconClass+"Disabled",a);this.focusNode.setAttribute("aria-disabled",a?"true":"false");a?(a=this._firstNonUndefined(this.attributeMap.tabIndex,this._setTabIndexAttr,"focusNode"),o.isArray(a)||(a=[a]),f.forEach(a,function(a){a=this[a];s("webkit")||r.hasDefaultTabStop(a)?a.setAttribute("tabIndex","-1"):a.removeAttribute("tabIndex")},this)):""!==this.tabIndex&&this.set("tabIndex",this.tabIndex)},isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!==
q.get(this.domNode,"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},onClick:function(){},_onFocus:function(){this.scrollOnFocus&&this.defer(function(){n.scrollIntoView(this.domNode)});this.inherited(arguments)},_onClick:function(a){if(this.disabled)a.preventDefault(),a.stopPropagation();else this.onClick();this.noBubble&&a.stopPropagation();return!this.disabled},_firstNonUndefined:function(){var a=null;f.some(arguments,function(b){void 0!==
b&&(a=b);return void 0!==b});return a},defer:function(a,b){var c=m.global,d=c.setTimeout(o.hitch(this,function(){d=null;this._destroyed||o.hitch(this,a)()}),b||0);return{remove:function(){d&&(c.clearTimeout(d),d=null);return null}}},_setupEnterToDoClick:function(b){return a(b,"keyup",function(a){if((a.charCode||a.keyCode)===h.ENTER)m.doc.createEvent?(a=m.doc.createEvent("HTMLEvents"),a.initEvent("click",!0,!0),this.dispatchEvent(a)):this.fireEvent&&this.fireEvent("onclick")})}})})},"deploy/widgets/report/deploymentCount/DeploymentCountReportForm":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/Select,dojo/_base/array,dojo/_base/declare,dojo/dom-construct,deploy/widgets/DateRangeSelector,js/webext/widgets/FormDelegates".split(","),
function(l,m,k,j,f,e,d,c){return f("deploy.widgets.report.deploymentCount.DeploymentCountReportForm",[m,l],{templateString:"<div></div>",applicationSelect:null,report:null,datePickerAttach:null,constructor:function(b){this.applicationRestUrl=bootstrap.restUrl+"deploy/application";if(b.report)this.report=b.report;if(b.datePickerAttach)this.datePickerAttach=b.datePickerAttach},buildRendering:function(){this.inherited(arguments);var b=e.create("div",{"class":"inlineBlock report-form-field"},this.domNode);
e.create("div",{innerHTML:i18n("Application")},b);this.applicationSelect=c.retrieveDelegate("TableFilterMultiSelect")({url:this.applicationRestUrl,idAttribute:"id",name:"application",placeHolder:"Any",formatDropDownLabel:function(a,b){a.innerHTML=b.name.escape()}});this.applicationSelect.placeAt(b);this.dateRangeSelector=new d;e.create("div",{innerHTML:i18n("Date Range"),"class":"inlineBlock report-form-field"},this.datePickerAttach);this.dateRangeSelector.placeAt(this.datePickerAttach);b=e.create("div",
{"class":"inlineBlock report-form-field"},this.domNode);e.create("div",{innerHTML:i18n("Status")},b);this.statusCriteriaSelect=new k({name:"statusCriteria",required:!0,options:[{label:i18n("Success or Failure"),value:"BOTH",selected:!0},{label:i18n("Success"),value:"SUCCESS"},{label:i18n("Failure"),value:"FAILURE"}]});this.statusCriteriaSelect.placeAt(b);b=e.create("div",{"class":"inlineBlock report-form-field"},this.domNode);e.create("div",{innerHTML:i18n("Plugin")},b);this.pluginSelect=c.retrieveDelegate("TableFilterSelect")({url:bootstrap.restUrl+
"plugin/automationPlugin",name:"plugin",allowNone:!0,placeHolder:"Any",formatDropDownLabel:function(a,b){a.innerHTML=i18n(b.name)}});this.pluginSelect.placeAt(b);this.setProperties(this.report.properties)},destroy:function(){this.inherited(arguments);this.applicationSelect.destroy();this.pluginSelect.destroy();this.statusCriteriaSelect.destroy();this.dateRangeSelector.destroy()},setProperties:function(b){var a=this,c=function(b,c,d){b.get("name")===c&&(b.set("value",d),"app"===c&&a.updateEnvironmentOptions(d))};
j.forEach(b,function(b){var d=b.name,b=b.value;c(a.applicationSelect,d,b);c(a.statusCriteriaSelect,d,b);c(a.pluginSelect,d,b);if("time_unit"===d)a.dateRangeSelector.timeUnit=b;"dateRange"===d&&a.dateRangeSelector.set("value",b);if("startDate"===d)a.dateRangeSelector.startDate=new Date(Number(b));if("endDate"===d)a.dateRangeSelector.endDate=new Date(Number(b))})},getProperties:function(){var b=[],a=function(a,c){var d=a.get("name"),e;e="plugin"===d?(e=a.get("item"))?e.name:a.get("value"):a.get("value");
d&&e&&(c?b.push({name:d,value:e.getTime()}):b.push({name:d,value:e}))};a(this.applicationSelect);a(this.statusCriteriaSelect);a(this.pluginSelect);this.dateRangeSelector&&(b.push({name:"time_unit",value:this.dateRangeSelector.getTimeUnit()}),b.push({name:"dateRange",value:this.dateRangeSelector.get("value")}),"custom"===this.dateRangeSelector.get("value")&&(null!==this.dateRangeSelector.getStartDate()&&b.push({name:"startDate",value:this.dateRangeSelector.getStartDate().getTime()}),null!==this.dateRangeSelector.getEndDate()&&
b.push({name:"endDate",value:this.dateRangeSelector.getEndDate().getTime()})));return b}})})},"dijit/form/_ExpandingTextAreaMixin":function(){define("dijit/form/_ExpandingTextAreaMixin","dojo/_base/declare,dojo/dom-construct,dojo/has,dojo/_base/lang,dojo/on,dojo/_base/window,../Viewport".split(","),function(l,m,k,j,f,e,d){k.add("textarea-needs-help-shrinking",function(){var c=e.body(),b=m.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,fontSize:"12px",height:"96px",overflow:"hidden",
visibility:"hidden",position:"absolute",border:"5px solid white",margin:"0",padding:"0",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"}},c,"last"),a=b.scrollHeight>=b.clientHeight;c.removeChild(b);return a});return l("dijit.form._ExpandingTextAreaMixin",null,{_setValueAttr:function(){this.inherited(arguments);this.resize()},postCreate:function(){this.inherited(arguments);var c=this.textbox;c.style.overflowY="hidden";this.own(f(c,"focus, resize",
j.hitch(this,"_resizeLater")))},startup:function(){this.inherited(arguments);this.own(d.on("resize",j.hitch(this,"_resizeLater")));this._resizeLater()},_onInput:function(c){this.inherited(arguments);this.resize()},_estimateHeight:function(){var c=this.textbox;c.rows=(c.value.match(/\n/g)||[]).length+1},_resizeLater:function(){this.defer("resize")},resize:function(){function c(){var a=!1;if(""===b.value)b.value=" ",a=!0;var c=b.scrollHeight;if(a)b.value="";return c}var b=this.textbox;if("hidden"==
b.style.overflowY)b.scrollTop=0;if(!this.busyResizing){this.busyResizing=!0;if(c()||b.offsetHeight){var a=c()+Math.max(b.offsetHeight-b.clientHeight,0),d=a+"px";if(d!=b.style.height)b.style.height=d,b.rows=1;if(k("textarea-needs-help-shrinking")){var e=c(),f=b.style.minHeight,j=4,l=b.scrollTop;b.style.minHeight=d;for(b.style.height="auto";0<a;){b.style.minHeight=Math.max(a-j,4)+"px";d=c();e-=d;a-=e;if(e<j)break;e=d;j<<=1}b.style.height=a+"px";b.style.minHeight=f;b.scrollTop=l}b.style.overflowY=c()>
b.clientHeight?"auto":"hidden";if("hidden"==b.style.overflowY)b.scrollTop=0}else this._estimateHeight();this.busyResizing=!1}}})})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(l,m,k,j){return l("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(f){var e=this._attrPairNames;return e[f]?e[f]:e[f]={s:"_"+f+"Setter",g:"_"+f+"Getter"}},postscript:function(f){f&&this.set(f)},_get:function(f,e){return"function"===typeof this[e.g]?this[e.g]():
this[f]},get:function(f){return this._get(f,this._getAttrNames(f))},set:function(f,e){if("object"===typeof f){for(var d in f)f.hasOwnProperty(d)&&"_watchCallbacks"!=d&&this.set(d,f[d]);return this}d=this._getAttrNames(f);var c=this._get(f,d);d=this[d.s];var b;"function"===typeof d?b=d.apply(this,Array.prototype.slice.call(arguments,1)):this[f]=e;if(this._watchCallbacks){var a=this;j(b,function(){a._watchCallbacks(f,c,e)})}return this},_changeAttrValue:function(f,e){var d=this.get(f);this[f]=e;this._watchCallbacks&&
this._watchCallbacks(f,d,e);return this},watch:function(f,e){var d=this._watchCallbacks;if(!d)var c=this,d=this._watchCallbacks=function(a,b,e,f){var j=function(d){if(d)for(var d=d.slice(),f=0,j=d.length;f<j;f++)d[f].call(c,a,b,e)};j(d["_"+a]);f||j(d["*"])};!e&&"function"===typeof f?(e=f,f="*"):f="_"+f;var b=d[f];"object"!==typeof b&&(b=d[f]=[]);b.push(e);var a={};a.unwatch=a.remove=function(){var a=k.indexOf(b,e);-1<a&&b.splice(a,1)};return a}})})},"dijit/_Templated":function(){define("dijit/_Templated",
"./_WidgetBase,./_TemplatedMixin,./_WidgetsInTemplateMixin,dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dojo/_base/kernel".split(","),function(l,m,k,j,f,e,d){e.extend(l,{waiRole:"",waiState:""});return f("dijit._Templated",[m,k],{widgetsInTemplate:!1,constructor:function(){d.deprecated(this.declaredClass+": dijit._Templated deprecated, use dijit._TemplatedMixin and if necessary dijit._WidgetsInTemplateMixin","","2.0")},_attachTemplateNodes:function(c,b){this.inherited(arguments);for(var a=
e.isArray(c)?c:c.all||c.getElementsByTagName("*"),d=e.isArray(c)?0:-1;d<a.length;d++){var f=-1==d?c:a[d],k=b(f,"waiRole");k&&f.setAttribute("role",k);(k=b(f,"waiState"))&&j.forEach(k.split(/\s*,\s*/),function(a){-1!=a.indexOf("-")&&(a=a.split("-"),f.setAttribute("aria-"+a[0],a[1]))})}}})})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(l,m,k,j){var f=l.Color=function(e){e&&this.setColor(e)};f.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,
255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:j.transparentColor||[0,0,0,0]};m.extend(f,{r:255,g:255,b:255,a:1,_set:function(e,d,c,b){this.r=e;this.g=d;this.b=c;this.a=b},setColor:function(e){m.isString(e)?f.fromString(e,this):m.isArray(e)?f.fromArray(e,this):(this._set(e.r,e.g,e.b,e.a),e instanceof f||this.sanitize());return this},
sanitize:function(){return this},toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+k.map(["r","g","b"],function(e){e=this[e].toString(16);return 2>e.length?"0"+e:e},this).join("")},toCss:function(e){var d=this.r+", "+this.g+", "+this.b;return(e?"rgba("+d+", "+this.a:"rgb("+d)+")"},toString:function(){return this.toCss(!0)}});f.blendColors=l.blendColors=function(e,d,c,b){var a=b||new f;k.forEach(["r","g","b","a"],function(b){a[b]=
e[b]+(d[b]-e[b])*c;"a"!=b&&(a[b]=Math.round(a[b]))});return a.sanitize()};f.fromRgb=l.colorFromRgb=function(e,d){var c=e.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return c&&f.fromArray(c[1].split(/\s*,\s*/),d)};f.fromHex=l.colorFromHex=function(e,d){var c=d||new f,b=4==e.length?4:8,a=(1<<b)-1,e=Number("0x"+e.substr(1));if(isNaN(e))return null;k.forEach(["b","g","r"],function(d){var f=e&a;e>>=b;c[d]=4==b?17*f:f});c.a=1;return c};f.fromArray=l.colorFromArray=function(e,d){var c=d||new f;c._set(Number(e[0]),
Number(e[1]),Number(e[2]),Number(e[3]));if(isNaN(c.a))c.a=1;return c.sanitize()};f.fromString=l.colorFromString=function(e,d){var c=f.named[e];return c&&f.fromArray(c,d)||f.fromRgb(e,d)||f.fromHex(e,d)};return f})},"dojo/dnd/Source":function(){define("../_base/array,../_base/connect,../_base/declare,../_base/kernel,../_base/lang,../dom-class,../dom-geometry,../mouse,../ready,../topic,./common,./Selector,./Manager".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o){j.isAsync||b(0,function(){require(["dojo/dnd/AutoSource",
"dojo/dnd/Target"])});var n=k("dojo.dnd.Source",q,{isSource:!0,horizontal:!1,copyOnly:!1,selfCopy:!1,selfAccept:!0,skipForm:!1,withHandles:!1,autoSync:!1,delay:0,accept:["text"],generateText:!0,constructor:function(b,c){f.mixin(this,f.mixin({},c));var d=this.accept;if(d.length){this.accept={};for(var h=0;h<d.length;++h)this.accept[d[h]]=1}this.mouseDown=this.isDragging=!1;this.targetBox=this.targetAnchor=null;this.before=!0;this._lastY=this._lastX=0;this.sourceState="";this.isSource&&e.add(this.node,
"dojoDndSource");this.targetState="";this.accept&&e.add(this.node,"dojoDndTarget");this.horizontal&&e.add(this.node,"dojoDndHorizontal");this.topics=[a.subscribe("/dnd/source/over",f.hitch(this,"onDndSourceOver")),a.subscribe("/dnd/start",f.hitch(this,"onDndStart")),a.subscribe("/dnd/drop",f.hitch(this,"onDndDrop")),a.subscribe("/dnd/cancel",f.hitch(this,"onDndCancel"))]},checkAcceptance:function(a,b){if(this==a)return!this.copyOnly||this.selfAccept;for(var c=0;c<b.length;++c){for(var d=a.getItem(b[c].id).type,
e=!1,f=0;f<d.length;++f)if(d[f]in this.accept){e=!0;break}if(!e)return!1}return!0},copyState:function(a,b){if(a)return!0;2>arguments.length&&(b=this==o.manager().target);if(b){if(this.copyOnly)return this.selfCopy}else return this.copyOnly;return!1},destroy:function(){n.superclass.destroy.call(this);l.forEach(this.topics,function(a){a.remove()});this.targetAnchor=null},onMouseMove:function(a){if(!(this.isDragging&&"Disabled"==this.targetState)){n.superclass.onMouseMove.call(this,a);var b=o.manager();
if(!this.isDragging&&this.mouseDown&&this.isSource&&(Math.abs(a.pageX-this._lastX)>this.delay||Math.abs(a.pageY-this._lastY)>this.delay)){var c=this.getSelectedNodes();c.length&&b.startDrag(this,c,this.copyState(h.getCopyKeyState(a),!0))}if(this.isDragging){c=!1;if(this.current){if(!this.targetBox||this.targetAnchor!=this.current)this.targetBox=d.position(this.current,!0);c=this.horizontal?a.pageX-this.targetBox.x<this.targetBox.w/2==d.isBodyLtr(this.current.ownerDocument):a.pageY-this.targetBox.y<
this.targetBox.h/2}if(this.current!=this.targetAnchor||c!=this.before)this._markTargetAnchor(c),b.canDrop(!this.current||b.source!=this||!(this.current.id in this.selection))}}},onMouseDown:function(a){if(!this.mouseDown&&this._legalMouseDown(a)&&(!this.skipForm||!h.isFormElement(a)))this.mouseDown=!0,this._lastX=a.pageX,this._lastY=a.pageY,n.superclass.onMouseDown.call(this,a)},onMouseUp:function(a){if(this.mouseDown)this.mouseDown=!1,n.superclass.onMouseUp.call(this,a)},onDndSourceOver:function(a){this!==
a?(this.mouseDown=!1,this.targetAnchor&&this._unmarkTargetAnchor()):this.isDragging&&(a=o.manager(),a.canDrop("Disabled"!=this.targetState&&(!this.current||a.source!=this||!(this.current.id in this.selection))))},onDndStart:function(a,b,c){this.autoSync&&this.sync();this.isSource&&this._changeState("Source",this==a?c?"Copied":"Moved":"");this._changeState("Target",this.accept&&this.checkAcceptance(a,b)?"":"Disabled");this==a&&o.manager().overSource(this);this.isDragging=!0},onDndDrop:function(a,b,
c,d){if(this==d)this.onDrop(a,b,c);this.onDndCancel()},onDndCancel:function(){if(this.targetAnchor)this._unmarkTargetAnchor(),this.targetAnchor=null;this.before=!0;this.mouseDown=this.isDragging=!1;this._changeState("Source","");this._changeState("Target","")},onDrop:function(a,b,c){if(this!=a)this.onDropExternal(a,b,c);else this.onDropInternal(b,c)},onDropExternal:function(a,b,c){var d=this._normalizedCreator;this._normalizedCreator=this.creator?function(b,c){return d.call(this,a.getItem(b.id).data,
c)}:c?function(b){var c=a.getItem(b.id),b=b.cloneNode(!0);b.id=h.getUniqueId();return{node:b,data:c.data,type:c.type}}:function(b){var c=a.getItem(b.id);a.delItem(b.id);return{node:b,data:c.data,type:c.type}};this.selectNone();!c&&!this.creator&&a.selectNone();this.insertNodes(!0,b,this.before,this.current);!c&&this.creator&&a.deleteSelectedNodes();this._normalizedCreator=d},onDropInternal:function(a,b){var c=this._normalizedCreator;if(!(this.current&&this.current.id in this.selection)){if(b)this._normalizedCreator=
this.creator?function(a,b){return c.call(this,this.getItem(a.id).data,b)}:function(a){var b=this.getItem(a.id),a=a.cloneNode(!0);a.id=h.getUniqueId();return{node:a,data:b.data,type:b.type}};else{if(!this.current)return;this._normalizedCreator=function(a){var b=this.getItem(a.id);return{node:a,data:b.data,type:b.type}}}this._removeSelection();this.insertNodes(!0,a,this.before,this.current);this._normalizedCreator=c}},onDraggingOver:function(){},onDraggingOut:function(){},onOverEvent:function(){n.superclass.onOverEvent.call(this);
o.manager().overSource(this);if(this.isDragging&&"Disabled"!=this.targetState)this.onDraggingOver()},onOutEvent:function(){n.superclass.onOutEvent.call(this);o.manager().outSource(this);if(this.isDragging&&"Disabled"!=this.targetState)this.onDraggingOut()},_markTargetAnchor:function(a){if(!(this.current==this.targetAnchor&&this.before==a))this.targetAnchor&&this._removeItemClass(this.targetAnchor,this.before?"Before":"After"),this.targetAnchor=this.current,this.targetBox=null,this.before=a,this.targetAnchor&&
this._addItemClass(this.targetAnchor,this.before?"Before":"After")},_unmarkTargetAnchor:function(){if(this.targetAnchor)this._removeItemClass(this.targetAnchor,this.before?"Before":"After"),this.targetBox=this.targetAnchor=null,this.before=!0},_markDndStatus:function(a){this._changeState("Source",a?"Copied":"Moved")},_legalMouseDown:function(a){if("touchstart"!=a.type&&!c.isLeft(a))return!1;if(!this.withHandles)return!0;for(a=a.target;a&&a!==this.node;a=a.parentNode){if(e.contains(a,"dojoDndHandle"))return!0;
if(e.contains(a,"dojoDndItem")||e.contains(a,"dojoDndIgnore"))break}return!1}});return n})},"dijit/form/_ComboBoxMenu":function(){define("dijit/form/_ComboBoxMenu","dojo/_base/declare,dojo/dom-class,dojo/dom-style,dojo/keys,../_WidgetBase,../_TemplatedMixin,./_ComboBoxMenuMixin,./_ListMouseMixin".split(","),function(l,m,k,j,f,e,d,c){return l("dijit.form._ComboBoxMenu",[f,e,c,d],{templateString:"<div class='dijitReset dijitMenu' data-dojo-attach-point='containerNode' style='overflow: auto; overflow-x: hidden;' role='listbox'><div class='dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point='previousButton' role='option'></div><div class='dijitMenuItem dijitMenuNextButton' data-dojo-attach-point='nextButton' role='option'></div></div>",
baseClass:"dijitComboBoxMenu",postCreate:function(){this.inherited(arguments);this.isLeftToRight()||(m.add(this.previousButton,"dijitMenuItemRtl"),m.add(this.nextButton,"dijitMenuItemRtl"));this.containerNode.setAttribute("role","listbox")},_createMenuItem:function(){var b=this.ownerDocument.createElement("div");b.className="dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl");b.setAttribute("role","option");return b},onHover:function(b){m.add(b,"dijitMenuItemHover")},onUnhover:function(b){m.remove(b,
"dijitMenuItemHover")},onSelect:function(b){m.add(b,"dijitMenuItemSelected")},onDeselect:function(b){m.remove(b,"dijitMenuItemSelected")},_page:function(b){var a=0,c=this.domNode.scrollTop,d=k.get(this.domNode,"height");for(this.getHighlightedOption()||this.selectNextNode();a<d;){var e=this.getHighlightedOption();if(b){if(!e.previousSibling||"none"==e.previousSibling.style.display)break;this.selectPreviousNode()}else{if(!e.nextSibling||"none"==e.nextSibling.style.display)break;this.selectNextNode()}e=
this.domNode.scrollTop;a+=(e-c)*(b?-1:1);c=e}},handleKey:function(b){switch(b.keyCode){case j.DOWN_ARROW:return this.selectNextNode(),!1;case j.PAGE_DOWN:return this._page(!1),!1;case j.UP_ARROW:return this.selectPreviousNode(),!1;case j.PAGE_UP:return this._page(!0),!1;default:return!0}}})})},"deploy/widgets/Color":function(){define(["dojo/_base/array","dojo/dom-construct","dojo/dom-class","dojo/dom-style"],function(){return{getBasicColorName:function(l){var m="",l=l.toUpperCase();switch(l){case "#FFF5EE":case "#FFC0CB":case "#F08080":case "#FF0000":case "#DC143C":case "#B22222":case "#8B0000":case "#A52A2A":m=
"red";break;case "#FFF8DC":case "#FFE4C4":case "#F4A460":case "#FF4500":case "#D2691E":case "#8B4513":case "#FFE4B5":case "#FFA500":case "#FF8C00":case "#FF7F50":case "#A0522D":m="orange";break;case "#FFFACD":case "#FFFFE0":case "#F0E68C":case "#EEE8AA":case "#FFFF00":case "#FFD700":case "#808000":m="yellow";break;case "#556B2F":case "#98FB98":case "#90EE90":case "#7FFF00":case "#32CD32":case "#228B22":case "#008000":case "#006400":case "#8FBC8F":case "#2E8B57":m="green";break;case "#AFEEEE":case "#20B2AA":case "#48D1CC":case "#008B8B":case "#191970":case "#E0FFFF":case "#87CEFA":case "#87CEEB":case "#4169E1":case "#0000FF":case "#0000CD":case "#000080":case "#E6E6FA":case "#6495ED":case "#7B68EE":case "#6A5ACD":case "#483D8B":m=
"blue";break;case "#8A2BE2":case "#4B0082":case "#DDA0DD":case "#EE82EE":case "#DA70D6":case "#BA55D3":case "#9932CC":case "#8B008B":case "#800080":m="purple";break;case "#FFFFFF":case "#D3D3D3":case "#C0C0C0":case "#808080":case "#696969":case "#2F4F4F":case "#000000":m="black";break;default:m="black"}return m}}})},"deploy/widgets/process/ProcessIconsFormatter":function(){define("dojo/_base/array,dojo/dom-construct,dojo/dom-class,dojo/dom-style,dojo/mouse,dojo/on,dijit/form/Button,dijit/TooltipDialog,dijit/popup,deploy/widgets/tag/TagDisplay,js/webext/widgets/Dialog,js/webext/widgets/table/TreeTable".split(","),
function(l,m){return{getIconForTree:function(k){var j="process-icon ",j=k.type?"folder"===k.type?j+"process-folder-icon":j+(k.type+"-step-icon"):j+(this.getIconForStep(k)+"-step-icon");return m.create("div",{className:"inline-block "+j})},getIconForStep:function(k,j){var f="process",e=k.id,d=!1;if(j)e=k.name;if(k.activity&&k.activity.type)e=k.activity.type,d=!0;if(k.plugin)e=k.name;if(k.data&&(e=k.data.commandName,!e))(e=k.data.type)?-1!==e.indexOf("EnvironmentIterator")||"touchedResourceIterator"===
e?e=k.id:d=-1!==e.indexOf("ManualTask")||-1!==e.indexOf("ResourceInventory")||-1!==e.indexOf("rollback")||-1!==e.indexOf("Approval")||"componentProcess"===e||"resourceDiscovery"===e?!1:!0:(e=k.id,d=!1);e||(e=k.id||"",d=!1);if(d)f=e;else{k.command&&k.command.name?e=k.command.name:e.charAt(0)&&0<e.length&&(e=e.charAt(0).toUpperCase()+e.slice(1));switch(e){case "Run Groovy Script":f="runScript";break;case "Shell":f="shell";break;case "Shell (with xargs)":f="shellArgs";break;case "Unzip":f="unzip";break;
case "Untar Tarball":f="unzip"}d=function(c,b){var a=e.toLowerCase(),c=c.toLowerCase(),d=0===a.indexOf(c);b&&(d=-1!==a.indexOf(c));return d};if("process"===f)if(d("DesiredInventoryActivity",1)||d("DesiredSnapshotInventoryActivity",1))f="process";else if(d("Add"))f="add";else if(d("Allocate"))f="allocate";else if(d("AppCmd"))f="shellArgs";else if(d("Approval",1)||d("Submit"))f="setStatus";else if(d("Assign"))f="set";else if(d("Associate")||d("Link"))f="link";else if(d("Check")||d("Verify"))f="check";
else if(d("Configure"))f="configure";else if(d("Copy"))f="copy";else if(d("Create"))f="create";else if(d("Delete"))f="delete";else if(d("Deregister"))f="cancel";else if(d("Disable"))f="stop";else if(d("Download"))f="download";else if(d("Enable")||d("Execute"))f="start";else if(d("Export"))f="export";else if(d("Flip"))f="flip";else if(d("FTP"))f="ftp";else if(d("Get"))f="read";else if(d("Import")||d("Batch Import"))f="import";else if(d("Install",1))f="install";else if(d("Launch"))f="deploy";else if(d("Modify")||
d("Change")||d("Define"))f="modify";else if(d("Monitor")||d("View"))f="monitor";else if(d("Move"))f="move";else if(d("ManualTask",1))f="manualTask";else if(d("Publish"))f="publish";else if(d("Read"))f="read";else if(d("Recycle"))f="recycle";else if(d("Register"))f="create";else if(d("Remove"))f="remove";else if(d("Replace"))f="replace";else if(d("Receive")||d("Retrieve"))f="receive";else if(d("Restart")||d("Reboot"))f="restart";else if(d("Revert")||d("Rollback",1))f="revert";else if(d("Set"))f="set";
else if(d("Run",1)||d("Each",1)||d("Process",1))f="runProcess";else if(d("Script",1))f="runScript";else if(d("Send"))f="send";else if(d("Start")||d("Activate"))f="start";else if(d("Stop")||d("Terminate")||d("Cancel"))f="stop";else if(d("Sync"))f="sync";else if(d("Undeploy"))f="undeploy";else if(d("Uninstall",1))f="uninstall";else if(d("Untar",1))f="unzip";else if(d("Update"))f="sync";else if(d("Upgrade"))f="upgrade";else if(d("Upload"))f="upload";else if(d("Validate"))f="setStatus";else if(d("Wait"))f=
"wait";else if(d("WebSphere",1))f="websphere";else if(d("Deploy")||d("Launch"))f="deploy"}return f}}})},"dojo/errors/create":function(){define(["../_base/lang"],function(l){return function(m,k,j,f){var j=j||Error,e=function(d){if(j===Error){Error.captureStackTrace&&Error.captureStackTrace(this,e);var c=Error.call(this,d),b;for(b in c)c.hasOwnProperty(b)&&(this[b]=c[b]);this.message=d;this.stack=c.stack}else j.apply(this,arguments);k&&k.apply(this,arguments)};e.prototype=l.delegate(j.prototype,f);
e.prototype.name=m;return e.prototype.constructor=e}})},"dojo/_base/config":function(){define(["../has","require"],function(l,m){var k={},j=m.rawConfig,f;for(f in j)k[f]=j[f];return k})},"deploy/widgets/security/authentication/EditAuthenticationRealm":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/array,dojo/_base/declare,js/webext/widgets/ColumnForm,js/webext/widgets/RestSelect".split(","),function(l,m,k,j,f){return j("deploy.widgets.security.authentication.EditAuthenticationRealm",
[m,l],{templateString:'<div class="editAuthenticationRealm">  <div data-dojo-attach-point="formAttach"></div></div>',postCreate:function(){this.inherited(arguments);var e=this;this.existingValues={properties:{}};if(this.authenticationRealm)this.existingValues=this.authenticationRealm;this.extraPropertyNames=[];this.form=new f({submitUrl:bootstrap.baseUrl+"security/authenticationRealm"+(this.authenticationRealm?"/"+this.authenticationRealm.id:""),submitMethod:this.authenticationRealm?"PUT":"POST",
addData:function(d){if(e.authenticationRealm)d.existingId=e.authenticationRealm.id;d.properties={};k.forEach(e.extraPropertyNames,function(c){var b="property/"+c;d.properties[c]=d[b];delete d[b]})},postSubmit:function(d){void 0!==e.callback&&e.callback(!0,d?d.id:null)},cancelLabel:null});this.form.addField({name:"name",label:i18n("Name"),required:!0,type:"Text",value:this.existingValues.name});this.form.addField({name:"description",label:i18n("Description"),type:"Text",value:this.existingValues.description});
this.form.addField({name:"allowedAttempts",label:i18n("Allowed Login Attempts"),description:i18n("The number of invalid login attempts before a user account is locked.  Leave blank or enter 0 to allow an unlimited number of attempts."),type:"Number",textDir:"ltr",value:this.existingValues.allowedAttempts});"20000000000000000000000000000001"===this.existingValues.id?(this.form.addField({name:"loginClassName",type:"Invisible",value:this.existingValues.loginModuleClassName}),this.form.addField({name:"authorizationRealm",
type:"Invisible",value:this.existingValues.authorizationRealmId})):(this.form.addField({name:"loginClassName",label:i18n("Type"),value:this.existingValues.loginModuleClassName,type:"Select",required:!0,onChange:function(d){e.typeChanged(d)},allowedValues:[{label:i18n("LDAP or Active Directory"),value:"com.urbancode.security.authentication.ldap.LdapLoginModule"},{label:i18n("Single Sign-On"),value:"com.urbancode.security.authentication.sso.SingleSignOnLoginModule"},{label:i18n("Internal Storage"),
value:"com.urbancode.security.authentication.internal.InternalLoginModule"}]}),this.typeChanged(this.existingValues.loginModuleClassName||"com.urbancode.security.authentication.ldap.LdapLoginModule"));this.form.placeAt(this.formAttach)},typeChanged:function(e){var d=this;this.form.hasField("authorizationRealms")&&this.form.removeField("authorizationRealms");k.forEach(this.extraPropertyNames,function(c){d.form.hasField("property/"+c)&&d.form.removeField("property/"+c);d.form.hasField(c)&&d.form.removeField(c)});
this.extraPropertyNames=[];"com.urbancode.security.authentication.ldap.LdapLoginModule"===e?d.showLDAPFields():"com.urbancode.security.authentication.internal.InternalLoginModule"===e?d.showInternalFields():"com.urbancode.security.authentication.sso.SingleSignOnLoginModule"===e&&d.showSSOFields()},showLDAPFields:function(){var e=this;this.form.addField({name:"authorizationRealms",label:i18n("Authorization Realm"),required:!0,type:"TableFilterMultiSelect",url:bootstrap.baseUrl+"security/authorizationRealm",
value:e.existingValues.authorizationRealms,allowNone:!1,defaultQuery:{filterFields:"authorizationModuleClassName",filterType_authorizationModuleClassName:"ne",filterValue_authorizationModuleClassName:"com.urbancode.security.authorization.sso.SingleSignOnAuthorizationModule"}});e.form.addField({name:"property/context-factory",label:i18n("Context Factory"),description:i18n("The context factory class to use to connect. This may vary depending upon your specific Java implementation. The default for Sun Java implementations: com.sun.jndi.ldap.LdapCtxFactory"),
required:!0,type:"Invisible",value:e.existingValues.properties["context-factory"]||"com.sun.jndi.ldap.LdapCtxFactory"});this.extraPropertyNames.push("context-factory");e.form.addField({name:"property/url",label:i18n("LDAP URL"),description:i18n("The URL of the LDAP server. It should begin with 'ldap://' or 'ldaps://'. Failover servers can be added by separating the URLs with a space. Example: ldap://ldap.mydomain.com:389 ldap://ldap.mydomain2.com"),required:!0,type:"Text",textDir:"ltr",placeholder:"ldap(s)://example.com",
value:e.existingValues.properties.url});this.extraPropertyNames.push("url");e.form.addField({name:"_connectionInsertPoint",type:"Invisible"});this.extraPropertyNames.push("_connectionInsertPoint");var d=function(a){e.form.hasField("property/connection-name")&&(e.form.removeField("property/connection-name"),e.form.removeField("property/connection-password"));a?(e.form.addField({type:"Invisible",name:"property/connection-name",value:""}),e.form.addField({type:"Invisible",name:"property/connection-password",
value:""})):(e.form.addField({name:"property/connection-name",label:i18n("Search Connection DN"),description:i18n("The complete directory name to use when binding to LDAP for searches. If not specified, an anonymous connection is made."),required:!0,type:"Text",textDir:"ltr",placeholder:"cn=admin,dc=mydomain,dc=com",value:e.existingValues.properties["connection-name"]},"_connectionInsertPoint"),e.form.addField({name:"property/connection-password",label:i18n("Search Connection Password"),description:i18n("The password to use when binding to LDAP for searches.  Used with the Search Connection DN field."),
type:"Secure",value:e.existingValues.properties["connection-password"]},"_connectionInsertPoint"))},c=!e.existingValues.properties["connection-name"];e.form.addField({name:"anonymousConnection",type:"Checkbox",value:c,onChange:d,label:i18n("Search Anonymously"),description:i18n("Select if LDAP accepts anonymous queries. If cleared, specify the LDAP directory with the Search Connection DN field, and associated password. Checked by default.")},"_connectionInsertPoint");d(c);this.extraPropertyNames.push("anonymousConnection");
this.extraPropertyNames.push("connection-password");this.extraPropertyNames.push("connection-name");e.form.addField({name:"searchTypeLabel",type:"Label",label:"",value:i18n("Specify how to search LDAP. (See documentation for examples.)")});this.extraPropertyNames.push("searchTypeLabel");e.form.addField({name:"_searchInsertPoint",type:"Invisible"});this.extraPropertyNames.push("_searchInsertPoint");var d=function(a){e.form.hasField("property/user-base")&&(e.form.removeField("property/user-base"),e.form.removeField("property/user-search"),
e.form.removeField("property/user-search-subtree"));e.form.hasField("property/user-pattern")&&e.form.removeField("property/user-pattern");"searchPattern"===a?(e.form.addField({type:"Invisible",name:"property/user-base",value:""}),e.form.addField({type:"Invisible",name:"property/user-search",value:""}),e.form.addField({type:"Invisible",name:"property/user-search-subtree",value:""}),e.form.addField({name:"property/user-pattern",label:i18n("User DN Pattern"),description:i18n("When you search a single directory, the name is substituted in place of {0} in the pattern, for example, cn={0},ou=employees,dc=yourcompany,dc=com."),
required:!0,type:"Text",textDir:"ltr",placeholder:"cn={0},ou=employees,dc=mydomain,dc=com",value:e.existingValues.properties["user-pattern"]},"_searchInsertPoint")):"searchBase"===a&&(e.form.addField({type:"Invisible",name:"property/user-pattern",value:""}),e.form.addField({name:"property/user-base",label:i18n("User Search Base"),description:i18n("When you search multiple directories, specify the starting directory that is used for searches, such as ou=employees,dc=mydomain,dc=com."),required:!0,
type:"Text",textDir:"ltr",placeholder:"ou=employees,dc=mydomain,dc=com",value:e.existingValues.properties["user-base"]},"_searchInsertPoint"),e.form.addField({name:"property/user-search",label:i18n("User Search Filter"),description:i18n("The LDAP filter expression to use when searching for user directory entries. The username is put in place of {0} in the search pattern. If this is an attribute and not part of the user DN, wrap in parentheses. E.g. uid={0} or (sAMAccountName={0})"),type:"Text",textDir:"ltr",
placeholder:"uid={0}",required:!0,value:e.existingValues.properties["user-search"]},"_searchInsertPoint"),e.form.addField({name:"property/user-search-subtree",label:i18n("Search User Subtree"),description:i18n("Search the full subtree for the user, as opposed to a single-level search only covering users directly inside the specified search base."),type:"Checkbox",value:e.existingValues.properties["user-search-subtree"]||!0},"_searchInsertPoint"))},b;e.existingValues.properties["user-base"]?b="searchBase":
e.existingValues.properties["user-pattern"]&&(b="searchPattern");e.form.addField({name:"userSearchType",type:"Radio",label:"",value:b,required:!0,allowedValues:[{label:i18n("LDAP users may exist in many directories; search across LDAP using a criteria."),value:"searchBase"},{label:i18n("LDAP users exist in a single directory; use a pattern to create the DN for users."),value:"searchPattern"}],onChange:d},"_searchInsertPoint");d(b);this.extraPropertyNames.push("user-pattern");this.extraPropertyNames.push("user-base");
this.extraPropertyNames.push("user-search");this.extraPropertyNames.push("user-search-subtree");this.extraPropertyNames.push("userSearchType");e.form.addField({name:"attributesLabel",type:"Label",label:"",value:i18n("Enter the names of attributes in LDAP which contain the following information (optional)")});this.extraPropertyNames.push("attributesLabel");e.form.addField({name:"property/name-attribute",label:i18n("Name Attribute"),description:i18n("The attribute name containing user names."),required:!1,
type:"Text",textDir:"ltr",placeholder:"cn",value:e.existingValues.properties["name-attribute"]});this.extraPropertyNames.push("name-attribute");e.form.addField({name:"property/email-attribute",label:i18n("Email Attribute"),description:i18n("The attribute name containing the users' email."),required:!1,type:"Text",textDir:"ltr",placeholder:i18n("email"),value:e.existingValues.properties["email-attribute"]});this.extraPropertyNames.push("email-attribute")},showInternalFields:function(){this.form.addField({name:"authorizationRealms",
label:i18n("Authorization Realm"),required:!0,type:"TableFilterMultiSelect",url:bootstrap.baseUrl+"security/authorizationRealm",value:this.existingValues.authorizationRealms,allowNone:!1,defaultQuery:{filterFields:"authorizationModuleClassName",filterType_authorizationModuleClassName:"eq",filterValue_authorizationModuleClassName:"com.urbancode.security.authorization.internal.InternalAuthorizationModule"}})},showSSOFields:function(){this.form.addField({name:"authorizationRealms",label:i18n("Authorization Realm"),
required:!0,type:"TableFilterMultiSelect",url:bootstrap.baseUrl+"security/authorizationRealm",value:this.existingValues.authorizationRealms,allowNone:!1,defaultQuery:{filterFields:"authorizationModuleClassName",filterType_authorizationModuleClassName:"ne",filterValue_authorizationModuleClassName:"com.urbancode.security.authorization.ldap.LdapAuthorizationModule"}});this.form.addField({type:"Label",label:"",name:"headersLabel",value:i18n("The SSO authentication integration works by looking for request headers to be set by the SSO mechanism. Please provide the names of headers which contain the necessary information.")});
this.extraPropertyNames.push("headersLabel");this.form.addField({name:"property/user-header",label:i18n("User Header Name"),description:i18n("The name of the header that contains the list of users."),required:!0,type:"Text",textDir:"ltr",placeholder:"HTTP_USERNAME",value:this.existingValues.properties["user-header"]});this.extraPropertyNames.push("user-header");this.form.addField({name:"property/email-header",label:i18n("Email Header Name"),description:i18n("The name of the header that contains the list of user email addresses."),
required:!1,type:"Text",placeholder:"HTTP_EMAIL",value:this.existingValues.properties["email-header"]});this.extraPropertyNames.push("email-header");this.form.addField({name:"property/fullname-header",label:i18n("Full Name Header Name"),description:i18n("The name of the header that contains the user's full name."),required:!1,type:"Text",placeholder:"HTTP_FULLNAME",value:this.existingValues.properties["fullname-header"]});this.extraPropertyNames.push("fullname-header");this.form.addField({name:"property/logout-url",
label:i18n("Logout URL"),description:i18n("The URL where users are redirected after they log out of IBM UrbanCode Deploy."),required:!0,type:"Text",textDir:"ltr",placeholder:"https://www.example.com",value:this.existingValues.properties["logout-url"]});this.extraPropertyNames.push("logout-url")}})})},"deploy/widgets/component/VersionHistory":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/array,dojo/_base/declare,dojo/_base/xhr,dojo/_base/Color,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/on,dojo/has,dojo/mouse,deploy/widgets/Popup,js/webext/widgets/color/Color".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n){return j([m,l],{templateString:'<div class="version-history-calendar"><div class="inlineBlock version-calendar"><div data-dojo-attach-point="keyAttach" class="version-calendar-key"></div><div data-dojo-attach-point="titleAttach" class="version-calendar-title"></div><div data-dojo-attach-point="buttonAttach" class="version-calendar-buttons"></div><div data-dojo-attach-point="headerAttach" class="version-calendar-header"></div><div data-dojo-attach-point="calendarAttach" class="version-calendar-contents"></div><div data-dojo-attach-point="calendarBlocker" class="version-calendar-right-blocker"></div></div></div>',
postCreate:function(){this.dayWidth=3.13;this.versionHeight=26;this.environmentHeight=46;this.environmentsExpandedState={};this.today=this._getBeginningOfDay(new Date);this.showKey();this._createCalendar()},showKey:function(){c.create("div",{className:"version-calendar-key-label inlineBlock",innerHTML:i18n("Key: ")},this.keyAttach);c.create("div",{className:"version-calendar-version current-version inlineBlock",innerHTML:i18n("Environment Inventory for Component")},this.keyAttach)},_createCalendar:function(e){var f=
this;c.empty(this.buttonAttach);c.empty(this.headerAttach);c.empty(this.calendarAttach);this.environmentRows=[];var h=c.create("div",{className:"calendar-control-container"},this.buttonAttach),j=c.create("div",{className:"calendar-button-container"},h);a(j,q.leave,function(){f.down=!1});var k=e||this.today,l=c.create("div",{className:"inlineBlock linkPointer no-double-click-select calendar-arrow back-month",innerHTML:'<div class="inlineBlock arrow back-arrow"></div><div class="inlineBlock arrow back-arrow"></div>',
title:i18n("Move back 1 month")},j);a(l,"mousedown",function(){f._createCalendar(util.shiftMonths(k,-1))});l=c.create("div",{className:"inlineBlock linkPointer no-double-click-select calendar-arrow back-day",innerHTML:'<div class="inlineBlock arrow back-arrow"></div>',title:i18n("Move back 1 day")},j);a(l,"mousedown",function(){f.firstHold=!1;f.down=-1;f._createCalendar(util.shiftDays(k,-1))});a(l,"mouseup",function(){f.down=!1});a(l,q.leave,function(){f.down=!1});l=c.create("div",{className:"inlineBlock linkPointer no-double-click-select calendar-arrow forward-day",
innerHTML:'<div class="inlineBlock arrow forward-arrow"></div>',title:i18n("Move forward 1 day")},j);a(l,"mousedown",function(){f.firstHold=!1;f.down=1;f._createCalendar(util.shiftDays(k,1))});a(l,"mouseup",function(){f.down=!1});a(l,q.leave,function(){f.down=!1});j=c.create("div",{className:"inlineBlock linkPointer no-double-click-select calendar-arrow forward-month",innerHTML:'<div class="inlineBlock arrow forward-arrow"></div><div class="inlineBlock arrow forward-arrow"></div>',title:i18n("Move forward 1 month")},
j);a(j,"mousedown",function(){f._createCalendar(util.shiftMonths(k,1))});h=c.create("a",{className:"inlineBlock linkPointer today-link",innerHTML:i18n("Today"),title:i18n("Bring current day into view")},h);a(h,"click",function(){f._createCalendar(f.today)});h=c.create("div",{className:"no-double-click-select calendar-expander"},this.buttonAttach);j=c.create("a",{className:"inlineBlock linkPointer environment-expander",innerHTML:i18n("Expand All"),title:i18n("Expand All Environment Rows")},h);a(j,
"click",function(){f._expandCollapseAllRows(!0)});h=c.create("a",{className:"inlineBlock linkPointer environment-expander",innerHTML:i18n("Collapse All"),title:i18n("Collapse All Environment Rows")},h);a(h,"click",function(){f._expandCollapseAllRows()});h=util.shiftDays(this.today,-28);j=util.shiftDays(h,32);e&&(h=util.shiftDays(e,-28),j=util.shiftDays(h,32));this.loadEnvironments(h,j);this.showDateHeaders(h,32);if(this.down){h=60;if(!this.firstHold)h=300,this.firstHold=!0;setTimeout(function(){f.down&&
f._createCalendar(util.shiftDays(e,f.down))},h)}window&&a(window,"scroll",function(){try{var a=b.position(f.domNode);a&&22>a.y?d.contains(f.buttonAttach,"calendar-fixed-control")||d.add(f.buttonAttach,"calendar-fixed-control"):d.contains(f.buttonAttach,"calendar-fixed-control")&&d.remove(f.buttonAttach,"calendar-fixed-control")}catch(c){}})},_setCalendarHeight:function(){var a=80;k.forEach(this.environmentRows,function(c){a+=b.getMarginBox(c).h});450>a&&(a=450);this.headerAttach.style.height=a+"px"},
loadEnvironments:function(a,b){var c=this;this.versions?c._showEnvironments(a,b):f.get({url:bootstrap.restUrl+"deploy/application/"+c.application.id+"/versionHistory/"+c.component.id,handleAs:"json",load:function(d){c.versions=d;c._showEnvironments(a,b)}})},_showEnvironments:function(a,b){var c=this;k.forEach(this.versions,function(d){c._createEnvironmentRow(d,a,b)});c._setCalendarHeight()},_createEnvironmentRow:function(b,d,f){var j=this;this.count=0;var l=n.getColorOrConvert(b.color||"#d3d3d3");
!l.standard&&l.fallback&&(l=n.getColor(l.fallback));var m=l.value,l=(new e("#ffffff"===m?"#d3d3d3":m)).toRgb(),o=c.create("div");9>h("ie")?(l=(new e(l)).toHex().substring(1),o=c.create("div",{className:"version-calendar-row",style:{filter:"progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr='#4c"+l+"', endColorstr='#4c"+l+"')"}},j.calendarAttach)):o=c.create("div",{className:"version-calendar-row",style:{background:"rgba("+l+", 0.20)"}},j.calendarAttach);this._setExpandEnvironmentRow(o,
b.id);this.environmentRows.push(o);this.environmentsExpandedState[b.id]||(this.environmentsExpandedState[b.id]="environment-expanded");l=b.name;18<l.length&&(l=l.substring(0,18)+"...");var q=c.create("div",{className:"version-calendar-environment inlineBlock",title:b.name},o);c.create("div",{className:"inlineBlock linkPointer environment-expander"},q);a(q,"click",function(){j._toggleExpandEnvironmentRow(o,b.id)});c.create("div",{className:"inlineBlock linkPointer color-box",style:{backgroundColor:m}},
q);c.create("div",{className:"inlineBlock environment-name",title:b.name,innerHTML:l,style:{color:m,backgroundColor:j.getTextBackgroundColor(m)}},q);k.forEach(b.history,function(a){var b="",c=null;k.forEach(a.history,function(e){var h=new Date(e.start),k=new Date(e.end);if(h<=f&&(k>=d||0===e.end))c?(b="same-version",(new Date(c.start)).getDate()===h.getDate()&&(b+=" same-day")):c=e,j._createVersionBar(d,f,a,e,o,m,b)})})},_toggleExpandEnvironmentRow:function(a,b){this.environmentsExpandedState[b]?
(d.remove(a,"environment-expanded"),d.remove(a,"environment-collapsed"),"environment-expanded"===this.environmentsExpandedState[b]?(this.environmentsExpandedState[b]="environment-collapsed",d.add(a,"environment-collapsed")):(this.environmentsExpandedState[b]="environment-expanded",d.add(a,"environment-expanded"))):d.contains(a,"environment-expanded")?(d.remove(a,"environment-expanded"),d.add(a,"environment-collapsed")):(d.remove(a,"environment-expanded"),d.remove(a,"environment-collapsed"),d.add(a,
"environment-expanded"));this._setCalendarHeight()},_expandCollapseAllRows:function(a){k.forEach(this.environmentRows,function(b){d.remove(b,"environment-expanded");d.remove(b,"environment-collapsed");a?d.add(b,"environment-expanded"):d.add(b,"environment-collapsed")});var b="";for(b in this.environmentsExpandedState)this.environmentsExpandedState.hasOwnProperty(b)&&(this.environmentsExpandedState[b]=a?"environment-expanded":"environment-collapsed");this._setCalendarHeight()},_setExpandEnvironmentRow:function(a,
b){this.environmentsExpandedState[b]?"environment-expanded"===this.environmentsExpandedState[b]?d.add(a,"environment-expanded"):d.add(a,"environment-collapsed"):d.add(a,"environment-expanded")},_createVersionBar:function(a,b,d,e,f,j,k){var l=new Date(e.start),m=this.today;0!==e.end?m=new Date(e.end):k+=" current-version";if(!(m<a||l>b)){a>l&&(l=a);b<m&&(m=b);var l=this._getBeginningOfDay(l),m=this._getBeginningOfDay(m),n=Math.round(Math.abs((l.getTime()-m.getTime())/864E5))+1,a=Math.round(Math.abs((a.getTime()-
l.getTime())/864E5));b<=m&&n--;b=this.getShade(j);m=this.isDarkColor(j);l=null;if(h("safari")||8>h("ie")){l=0;for(c.create("div",{},f);l<a;l++)c.create("div",{className:"inlineBlock",style:{width:this.dayWidth+"%"}},f);l=c.create("div",{className:"inlineBlock version-calendar-version"+(m?" dark-color-environment":"")+" "+k,innerHTML:d.name,style:{marginLeft:"0",width:n*this.dayWidth+"%",backgroundColor:j}},f)}else l=c.create("div",{className:"version-calendar-version"+(m?" dark-color-environment":
"")+" "+k,innerHTML:d.name,style:{marginLeft:a*this.dayWidth+"%",width:n*this.dayWidth+"%",backgroundColor:j}},f);if(9>h("ie"))l.style.outline="1px solid "+("#ffffff"===j?"#D3D3D3":b);d=this._createVersionPopupContainer(d,e);new o({attachPoint:l,contents:d})}},_createVersionPopupContainer:function(a,b){var d=c.create("div",{className:"calendar-popup"});c.create("div",{innerHTML:a.name},d);var e=c.create("div",{},d);c.create("div",{className:"inlineBlock version-date-label",innerHTML:i18n("Start Date:")},
e);c.create("div",{className:"inlineBlock",innerHTML:util.dateOnlyFormat(new Date(b.start),"M/d/yyyy hh:mm a")},e);e=c.create("div",{},d);c.create("div",{className:"inlineBlock version-date-label",innerHTML:i18n("End Date:")},e);var f=i18n("Currently Deployed");0!==b.end&&(f=util.dateOnlyFormat(new Date(b.end),"M/d/yyyy hh:mm a"));c.create("div",{className:"inlineBlock",innerHTML:f},e);return d},showDateHeaders:function(a,b){for(var e=a,f=null,h=0,j="Calendar",k=!1,l,m;h<b;)f="",this.today.getMonth()===
e.getMonth()&&this.today.getDate()===e.getDate()&&this.today.getYear()===e.getYear()?(f=" current-day",k=!0):k&&(f=" tomorrow-day",k=!1),l=c.create("div",{className:"version-date-column inlineBlock"+f},this.headerAttach),c.create("div",{className:"version-date-label",innerHTML:util.dateOnlyFormat(e,"EEE")},l),c.create("div",{className:"version-date-number",innerHTML:e.getDate()},l),f=c.create("div",{className:"version-date-contents"},l),c.create("div",{className:"version-date-number bottom-date-number",
innerHTML:e.getDate()},l),c.create("div",{className:"version-date-label bottom-date-label",innerHTML:util.dateOnlyFormat(e,"EEE")},l),m=!1,j!==util.dateOnlyFormat(e,"MMMM yyyy")&&(m=!0),j=util.dateOnlyFormat(e,"MMMM yyyy"),m&&(m=c.create("div",{className:"version-date-month-header"},l),c.create("div",{className:"version-date-month",innerHTML:j},m),d.add(l,"current-month")),e=new Date(e.getFullYear(),e.getMonth(),e.getDate()+1),h++;if(f)f.style.borderRightWidth="2px"},_getBeginningOfDay:function(a){a.setHours(0);
a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a},isDarkColor:function(a){a=(new e(a)).toRgb();return 0.25<1-(0.25*a[0]+0.6*a[1]+0.1*a[2])/255},getTextBackgroundColor:function(a){var b=(new e(a)).toRgb(),c="";200<(300*b[0]+580*b[1]+110*b[2])/1E3&&(c=this.getTint(a,0.82));return c},getTint:function(a,b){return this._alterColor(a,b||1.2)},getShade:function(a,b){return this._alterColor(a,b||0.6)},_alterColor:function(a,b){var c=(new e(a)).toRgb(),d=[];k.forEach(c,function(a){d.push(b*a)});
return e.fromArray(d).toHex()}})})},"deploy/widgets/environment/EnvironmentEditManager":function(){define("dojo/_base/array,dojo/_base/declare,dojo/on,dojo/dom-construct,js/webext/widgets/TwoPaneListManager,deploy/widgets/environment/EditEnvironment,deploy/widgets/property/PropValues,deploy/widgets/environment/EnvironmentComponentProperties".split(","),function(l,m,k,j,f,e,d,c){return m([f],{postCreate:function(){this.inherited(arguments);this.showList()},showList:function(){var b=this;b.addEntry({id:"basic",
label:i18n("Basic Settings"),action:function(){b.addHeading(i18n("Basic Settings"));b.showBasicSettings()}});b.addEntry({id:"properties",label:i18n("Environment Properties"),action:function(){b.addHeading(i18n("Environment Properties"));b.showProperties()}})},addHeading:function(b){j.create("div",{innerHTML:b,"class":"containerLabel",style:{padding:"10px"}},this.detailAttach)},addDescription:function(b){j.create("div",{innerHTML:b,style:{marginBottom:"10px"}},this.detailAttach)},showBasicSettings:function(){(new e({environment:appState.environment,
application:appState.application,readOnly:!appState.environment.security["Edit Basic Settings"],callback:function(){navBar.setHash("#environment/"+appState.environment.id,!1,!0)}})).placeAt(this.detailAttach)},showProperties:function(){(new d({propSheet:appState.environment.propSheet,readOnly:!appState.environment.security["Manage Properties"]})).placeAt(this.detailAttach);this.addHeading(i18n("Component Environment Properties"));(new c({environment:appState.environment})).placeAt(this.detailAttach)}})})},
"dojo/parser":function(){define("require,./_base/kernel,./_base/lang,./_base/array,./_base/config,./_base/html,./_base/window,./_base/url,./_base/json,./aspect,./date/stamp,./Deferred,./has,./query,./on,./ready".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r){function t(a){var b=a._nameCaseMap,c=a.prototype;if(!b||b._extendCnt<u){var b=a._nameCaseMap={},d;for(d in c)"_"!==d.charAt(0)&&(b[d.toLowerCase()]=d);b._extendCnt=u}return b}function w(a){var b=a.join();if(!x[b]){for(var c=[],d=0,e=a.length;d<
e;d++){var f=a[d];c[c.length]=x[f]=x[f]||k.getObject(f)||~f.indexOf("/")&&l(f)}a=c.shift();x[b]=c.length?a.createSubclass?a.createSubclass(c):a.extend.apply(a,c):a}return x[b]}var u=0;a.after(k,"extend",function(){u++},!0);var x={},v={_clearCache:function(){u++;x={}},_functionFromScript:function(a,b){var c="",d="",e=a.getAttribute(b+"args")||a.getAttribute("args"),f=a.getAttribute("with"),e=(e||"").split(/\s*,\s*/);f&&f.length&&j.forEach(f.split(/\s*,\s*/),function(a){c+="with("+a+"){";d+="}"});return new Function(e,
c+a.innerHTML+d)},instantiate:function(a,b,c){var b=b||{},c=c||{},d=(c.scope||m._scopeName)+"Type",e="data-"+(c.scope||m._scopeName)+"-",f=e+"type",h=e+"mixins",k=[];j.forEach(a,function(a){var c=d in b?b[d]:a.getAttribute(f)||a.getAttribute(d);if(c){var e=a.getAttribute(h),c=e?[c].concat(e.split(/\s*,\s*/)):[c];k.push({node:a,types:c})}});return this._instantiate(k,b,c)},_instantiate:function(a,b,c){a=j.map(a,function(a){var d=a.ctor||w(a.types);if(!d)throw Error("Unable to resolve constructor for: '"+
a.types.join()+"'");return this.construct(d,a.node,b,c,a.scripts,a.inherited)},this);!b._started&&!c.noStart&&j.forEach(a,function(a){"function"===typeof a.startup&&!a._started&&a.startup()});return a},construct:function(d,e,f,l,q,r){var y;var u=d&&d.prototype,l=l||{},x={};l.defaults&&k.mixin(x,l.defaults);r&&k.mixin(x,r);var w;o("dom-attributes-explicit")?w=e.attributes:o("dom-attributes-specified-flag")?w=j.filter(e.attributes,function(a){return a.specified}):(r=(/^input$|^img$/i.test(e.nodeName)?
e:e.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,""),w=j.map(r.split(/\s+/),function(a){var b=a.toLowerCase();return{name:a,value:"LI"==e.nodeName&&"value"==a||"enctype"==b?e.getAttribute(b):e.getAttributeNode(b).value}}));var v=l.scope||m._scopeName,r="data-"+v+"-",M={};"dojo"!==v&&(M[r+"props"]="data-dojo-props",M[r+"type"]="data-dojo-type",M[r+"mixins"]="data-dojo-mixins",M[v+"type"]="dojoType",M[r+"id"]="data-dojo-id");
for(var v=0,I,J=[],U,Q;I=w[v++];){var R=I.name,V=R.toLowerCase();I=I.value;switch(M[V]||V){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":Q=I;break;case "data-dojo-id":case "jsid":U=I;break;case "data-dojo-attach-point":case "dojoattachpoint":x.dojoAttachPoint=I;break;case "data-dojo-attach-event":case "dojoattachevent":x.dojoAttachEvent=I;break;case "class":x["class"]=e.className;break;case "style":x.style=e.style&&e.style.cssText;break;default:if(R in
u||(R=t(d)[V]||R),R in u)switch(typeof u[R]){case "string":x[R]=I;break;case "number":x[R]=I.length?Number(I):NaN;break;case "boolean":x[R]="false"!=I.toLowerCase();break;case "function":x[R]=""===I||-1!=I.search(/[^\w\.]+/i)?new Function(I):k.getObject(I,!1)||new Function(I);J.push(R);break;default:V=u[R],x[R]=V&&"length"in V?I?I.split(/\s*,\s*/):[]:V instanceof Date?""==I?new Date(""):"now"==I?new Date:h.fromISOString(I):V instanceof c?m.baseUrl+I:b.fromJson(I)}else x[R]=I}}for(v=0;v<J.length;v++)w=
J[v].toLowerCase(),e.removeAttribute(w),e[w]=null;if(Q)try{Q=b.fromJson.call(l.propsThis,"{"+Q+"}"),k.mixin(x,Q)}catch(X){throw Error(X.toString()+" in data-dojo-props='"+Q+"'");}k.mixin(x,f);q||(q=d&&(d._noScript||u._noScript)?[]:n("> script[type^='dojo/']",e));f=[];l=[];Q=[];J=[];if(q)for(v=0;v<q.length;v++){var N=q[v];e.removeChild(N);w=N.getAttribute(r+"event")||N.getAttribute("event");M=N.getAttribute(r+"prop");R=N.getAttribute(r+"method");V=N.getAttribute(r+"advice");I=N.getAttribute("type");
N=this._functionFromScript(N,r);w?"dojo/connect"==I?f.push({method:w,func:N}):"dojo/on"==I?J.push({event:w,func:N}):x[w]=N:"dojo/aspect"==I?f.push({method:R,advice:V,func:N}):"dojo/watch"==I?Q.push({prop:M,func:N}):l.push(N)}y=(q=d.markupFactory||u.markupFactory)?q(x,e,d):new d(x,e),d=y;U&&k.setObject(U,d);for(v=0;v<f.length;v++)a[f[v].advice||"after"](d,f[v].method,k.hitch(d,f[v].func),!0);for(v=0;v<l.length;v++)l[v].call(d);for(v=0;v<Q.length;v++)d.watch(Q[v].prop,Q[v].func);for(v=0;v<J.length;v++)s(d,
J[v].event,J[v].func);return d},scan:function(a,b){function c(a){if(!a.inherited){a.inherited={};var b=a.node,d=c(a.parent),b={dir:b.getAttribute("dir")||d.dir,lang:b.getAttribute("lang")||d.lang,textDir:b.getAttribute(r)||d.textDir},e;for(e in b)b[e]&&(a.inherited[e]=b[e])}return a.inherited}var d=[],e=[],f={},h=(b.scope||m._scopeName)+"Type",k="data-"+(b.scope||m._scopeName)+"-",n=k+"type",r=k+"textdir",k=k+"mixins",s=a.firstChild,t=b.inherited;if(!t){var u=function(a,b){return a.getAttribute&&
a.getAttribute(b)||a.parentNode&&u(a.parentNode,b)},t={dir:u(a,"dir"),lang:u(a,"lang"),textDir:u(a,r)},x;for(x in t)t[x]||delete t[x]}for(var t={inherited:t},v,R;;)if(s)if(1!=s.nodeType)s=s.nextSibling;else if(v&&"script"==s.nodeName.toLowerCase())(V=s.getAttribute("type"))&&/^dojo\/\w/i.test(V)&&v.push(s),s=s.nextSibling;else if(R)s=s.nextSibling;else{var V=s.getAttribute(n)||s.getAttribute(h);x=s.firstChild;if(!V&&(!x||3==x.nodeType&&!x.nextSibling))s=s.nextSibling;else{R=null;if(V){var X=s.getAttribute(k);
v=X?[V].concat(X.split(/\s*,\s*/)):[V];try{R=w(v)}catch(N){}R||j.forEach(v,function(a){~a.indexOf("/")&&!f[a]&&(f[a]=!0,e[e.length]=a)});X=R&&!R.prototype._noScript?[]:null;t={types:v,ctor:R,parent:t,node:s,scripts:X};t.inherited=c(t);d.push(t)}else t={node:s,scripts:v,parent:t};s=x;v=X;R=R&&R.prototype.stopParser&&!b.template}}else{if(!t||!t.node)break;s=t.node.nextSibling;R=!1;t=t.parent;v=t.scripts}var T=new q;e.length?(o("dojo-debug-messages")&&console.warn("WARNING: Modules being Auto-Required: "+
e.join(", ")),l(e,function(){T.resolve(j.filter(d,function(a){if(!a.ctor)try{a.ctor=w(a.types)}catch(c){}for(var d=a.parent;d&&!d.types;)d=d.parent;var e=a.ctor&&a.ctor.prototype;a.instantiateChildren=!(e&&e.stopParser&&!b.template);a.instantiate=!d||d.instantiate&&d.instantiateChildren;return a.instantiate}))})):T.resolve(d);return T.promise},_require:function(a){var a=b.fromJson("{"+a.innerHTML+"}"),c=[],d=[],e=new q,f;for(f in a)c.push(f),d.push(a[f]);l(d,function(){for(var a=0;a<c.length;a++)k.setObject(c[a],
arguments[a]);e.resolve(arguments)});return e.promise},_scanAmd:function(a){var b=new q,c=b.promise;b.resolve(!0);var d=this;n("script[type='dojo/require']",a).forEach(function(a){c=c.then(function(){return d._require(a)});a.parentNode.removeChild(a)});return c},parse:function(a,b){var c;!b&&a&&a.rootNode?(b=a,c=b.rootNode):a&&k.isObject(a)&&!("nodeType"in a)?b=a:c=a;c=c?e.byId(c):d.body();var b=b||{},f=b.template?{template:!0}:{},h=[],j=this,l=this._scanAmd(c,b).then(function(){return j.scan(c,b)}).then(function(a){return h=
h.concat(j._instantiate(a,f,b))}).otherwise(function(a){console.error("dojo/parser::parse() error",a);throw a;});k.mixin(h,l);return h}};m.parser=v;f.parseOnLoad&&r(100,v,"parse");return v})},"dojox/widget/TitleGroup":function(){define("dojox/widget/TitleGroup",["dojo","dijit/registry","dijit/_Widget","dijit/TitlePane"],function(l,m,k,j){var k=j.prototype,f=function(){var e=this._dxfindParent&&this._dxfindParent();e&&e.selectChild(this)};k._dxfindParent=function(){var e=this.domNode.parentNode;return e?
(e=m.getEnclosingWidget(e))&&e instanceof dojox.widget.TitleGroup&&e:e};l.connect(k,"_onTitleClick",f);l.connect(k,"_onTitleKey",function(e){(!e||!e.type||!("keypress"==e.type&&e.charOrCode==l.keys.TAB))&&f.apply(this,arguments)});return l.declare("dojox.widget.TitleGroup",dijit._Widget,{"class":"dojoxTitleGroup",addChild:function(e,d){return e.placeAt(this.domNode,d)},removeChild:function(e){this.domNode.removeChild(e.domNode);return e},selectChild:function(e){e&&l.query("> .dijitTitlePane",this.domNode).forEach(function(d){(d=
m.byNode(d))&&d!==e&&d.open&&d.toggle()});return e}})})},"deploy/widgets/deploymentRequest/NoncompliancyByResource":function(){define(["dijit/_TemplatedMixin","dijit/_Widget","dojo/_base/declare","js/webext/widgets/table/TreeTable","deploy/widgets/Formatters"],function(l,m,k,j,f){return k("deploy.widgets.deploymentRequest.NoncompliancyByResource",[m,l],{templateString:'<div class="noncompliancyByResource"><div data-dojo-attach-point="treeAttach"></div></div>',postCreate:function(){this.inherited(arguments);
var e=[{name:i18n("Resource/Component"),formatter:function(d){return d.version?f.componentLinkFormatter(d.version.component):d.security.read?util.getOnClickLink("resource/"+d.id,d.name):d.name.escape()},getRawValue:function(d){return d.name},field:"name"},{name:i18n("Version"),formatter:function(d){if(d.version)return f.versionLinkFormatter(d.version)}},{name:i18n("# Versions Missing"),formatter:function(d){var c;if(void 0===d.version)c=d.children.length;return c}}];this.tree=new j({url:bootstrap.restUrl+
"deploy/environment/"+appState.environment.id+"/noncompliantResources",columns:e,serverSideProcessing:!1,orderField:"name",tableConfigKey:"resourceNoncompliancyList"});this.tree.placeAt(this.treeAttach)},destroy:function(){this.inherited(arguments);this.tree.destroy()}})})},"deploy/widgets/workflow/activity/ActivityCreator":function(){define("dijit/_Widget,dojo/_base/array,dojo/_base/declare,deploy/widgets/workflow/activity/AcquireLockActivity,deploy/widgets/workflow/activity/ApplicationApprovalTaskActivity,deploy/widgets/workflow/activity/ApplicationManualTaskActivity,deploy/widgets/workflow/activity/ApplicationRunComponentProcessActivity,deploy/widgets/workflow/activity/ApplyConfigurationActivity,deploy/widgets/workflow/activity/ComponentApprovalTaskActivity,deploy/widgets/workflow/activity/ComponentManualTaskActivity,deploy/widgets/workflow/activity/ComponentRunComponentProcessActivity,deploy/widgets/workflow/activity/DesiredInventoryActivity,deploy/widgets/workflow/activity/DesiredSnapshotInventoryActivity,deploy/widgets/workflow/activity/EachAgentIteratorActivity,deploy/widgets/workflow/activity/EachVersionComponentActivity,deploy/widgets/workflow/activity/EnvironmentApprovalTaskActivity,deploy/widgets/workflow/activity/FinishActivity,deploy/widgets/workflow/activity/InstallComponentActivity,deploy/widgets/workflow/activity/InstallMultipleComponentsActivity,deploy/widgets/workflow/activity/JoinActivity,deploy/widgets/workflow/activity/ManualTaskActivity,deploy/widgets/workflow/activity/NoteActivity,deploy/widgets/workflow/activity/PluginActivity,deploy/widgets/workflow/activity/ReleaseLockActivity,deploy/widgets/workflow/activity/ResourceInventoryActivity,deploy/widgets/workflow/activity/RollbackComponentActivity,deploy/widgets/workflow/activity/RollbackMultipleComponentsActivity,deploy/widgets/workflow/activity/RunProcessActivity,deploy/widgets/workflow/activity/SetStatusActivity,deploy/widgets/workflow/activity/StartActivity,deploy/widgets/workflow/activity/SwitchActivity,deploy/widgets/workflow/activity/UninstallComponentActivity,deploy/widgets/workflow/activity/UninstallMultipleComponentsActivity,deploy/widgets/workflow/activity/EachTouchedResourceActivity,deploy/widgets/workflow/activity/ResourceDiscoveryActivity,deploy/widgets/workflow/activity/PatternDeploymentActivity,deploy/widgets/workflow/activity/PatternStackExecutionActivity,deploy/widgets/workflow/activity/RunOperationalProcessMultipleActivity".split(","),
function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,s,r,t,w,u,x,v,y,A,z,B,D,G,C,S,K,L,M,I,J,U,Q,R,V){return k("deploy.widgets.workflow.activity.ActivityCreator",[l],{graphEditor:null,postCreate:function(){this.inherited(arguments);if(!this.graphEditor)throw"Unable to create an ActivityCreator without a graphEditor specified.";},addSavedActivity:function(k,l,T,F,E,O){var Y=this,H,P={data:k,initialized:!0,graphEditor:this.graphEditor,parent:F,graphHasChanges:this.graphHasChanges};if(k.copy)P.initialized=!1;if(this.graphEditor&&
this.graphEditor.readOnly)P.readOnly=!0;if("start"===k.type)H=new K(P);else if("finish"===k.type)H=new t(P);else if("acquireLock"===k.type)H=new j(P);else if("releaseLock"===k.type)H=new z(P);else if("setStatus"===k.type)H=new S(P);else if("plugin"===k.type)H=new A(P);else if("addResourceInventory"===k.type||"removeResourceInventory"===k.type)H=new B(P);else if("applicationManualTask"===k.type)H=new e(P);else if("componentManualTask"===k.type)H=new a(P);else if("manualTask"===k.type)H=new v(P);else if("runProcess"===
k.type)H=new C(P);else if("touchedResourceIterator"===k.type)H=new J(P);else if("componentProcess"===k.type){var W=this.graphEditor.component,$=this.graphEditor.componentTemplate;if(this.graphEditor.application)P.uiData={componentProcess:{unfilledProperties:k.unfilledProperties}},H=new d(P);else if(W||$){var ea="componentName";$&&(W=$,ea="componentTemplateName");P.data={componentProcessName:k.componentProcessName,name:k.name,type:k.type,properties:k.properties};P.data[ea]=W.name;H=new h(P)}}else if("switch"===
k.type)H=new L(P);else if("join"===k.type)H=new x(P);else if("note"===k.type)H=new y(P);else if("applicationApprovalTask"===k.type)H=new f(P);else if("componentApprovalIterator"===k.type)H=new b(P);else if("environmentApprovalTask"===k.type)H=new r(P);else if("resourceDiscovery"===k.type)H=new U(P);else if("patternStackExecution"===k.type)H=new R(P);else if("patternDeployment"===k.type)H=new Q(P);else if("addDesiredSnapshotInventory"===k.type||"removeDesiredSnapshotInventory"===k.type)H=new o(P);
else if(k.children&&0<k.children.length)if(W=k.children[0],"addDesiredInventory"===W.type||"removeDesiredInventory"===W.type)H=new q(P);else if("componentEnvironmentIterator"===k.type)if("inventoryVersionDiff"===W.type)H=new w(P);else if("allVersionsIterator"===W.type)H=new s(P);else if("uninstallAllVersionsIterator"===W.type)H=new M(P);else if("uninstallVersionDiff"===W.type)H=new D(P);else if("configurationDiff"===W.type)H=new c(P);else{if("componentProcess"===W.type)P.uiData={componentProcess:W.componentProcess},
W.componentProcess=void 0,H=new d(P)}else"changedResourceIterator"===k.type?(P.uiData={componentProcess:W.componentProcess},W.componentProcess=void 0,H=new d(P)):"multiComponentEnvironmentIterator"===k.type?"changedResourceIterator"===W.type?H=new V(P):(W=W.children[0],"inventoryVersionDiff"===W.type?H=new u(P):"uninstallAllVersionsIterator"===W.type?H=new I(P):"uninstallVersionDiff"===W.type?H=new G(P):"operationalProcessFilter"===W.type&&(H=new V(P))):"eachAgentIterator"===k.type&&(H=new n(P));
if(H)H.createCell(l,T,E,O),H.isContainer&&m.forEach(P.data.children,function(a){Y.addSavedActivity(a,0,0,H.cell)});else if(F&&"graph"===k.type){l=k.startX;void 0===l&&(l=35);k=k.startY;void 0===k&&(k=20);this.addNewActivity({type:"start"},l,k,F);m.forEach(P.data.children,function(a){var b=0,c=0,d,e,f=util.getNamedProperty(P.data.offsets,a.name);if(f)b=f.x,c=f.y,d=f.h,e=f.w;Y.addSavedActivity(a,b,c,F,d,e)});var fa=Y.graphEditor.graph.getModel(),ca=Y.graphEditor.getStartCell(F);m.forEach(P.data.edges,
function(a){var b;b=a.from?fa.filterCells(F.children,function(b){return b.activity&&b.activity.getName()===a.from})[0]:ca;var c;a.to&&(c=fa.filterCells(F.children,function(b){return b.activity&&b.activity.getName()===a.to})[0]);b&&c&&Y.graphEditor.restoreEdge({from:b,to:c,type:a.type,value:a.value})})}},addNewActivity:function(k,l,m,F){var E,F={data:{},graphEditor:this.graphEditor,parent:F};if(this.graphEditor&&this.graphEditor.readOnly)F.readOnly=!0;if(k.plugin)F.data={type:"plugin",name:i18n(k.name),
commandName:k.name,pluginName:k.plugin.name,pluginVersion:k.plugin.versionNumber},E=new A(F);else if("addResourceInventory"===k.type||"removeResourceInventory"===k.type)F.data={type:k.type},E=new B(F);else if("inventoryUpdate"===k.type)E=new q(F);else if("snapshotInventoryUpdate"===k.type)E=new o(F);else if("acquireLock"===k.type)F.data={type:k.type},E=new j(F);else if("releaseLock"===k.type)F.data={type:k.type},E=new z(F);else if("applicationManualTask"===k.type)F.data={type:k.type},E=new e(F);else if("componentManualTask"===
k.type)F.data={type:k.type},E=new a(F);else if("manualTask"===k.type)F.data={type:k.type},E=new v(F);else if("runProcess"===k.type)F.data={type:k.type},E=new C(F);else if("installComponent"===k.type)E=new w(F);else if("uninstallComponent"===k.type)E=new M(F);else if("rollbackComponent"===k.type)E=new D(F);else if("forEachVersionContainer"===k.type)E=new s(F);else if("forEachTouchedResourceContainer"===k.type)E=new J(F);else if("applyConfiguration"===k.type)E=new c(F);else if("installMultipleComponents"===
k.type)E=new u(F);else if("uninstallMultipleComponents"===k.type)E=new I(F);else if("rollbackMultipleComponents"===k.type)E=new G(F);else if("runMultipleOperational"===k.type)E=new V(F);else if("switch"===k.type)F.data={type:k.type},E=new L(F);else if("join"===k.type)F.data={type:k.type},E=new x(F);else if("start"===k.type)F.data={type:k.type},E=new K(F);else if("note"===k.type)F.data={type:k.type},E=new y(F);else if("finish"===k.type)F.data={type:k.type},E=new t(F);else if("setStatus"===k.type)F.data=
{type:k.type},E=new S(F);else if("componentProcess"===k.type)if(this.graphEditor.application)F.data={componentName:k.component.name,children:[{componentName:k.component.name,componentProcessName:k.name}]},F.uiData={componentProcess:{unfilledProperties:k.unfilledProperties}},E=new d(F);else if(this.graphEditor.component)F.data={componentName:this.graphEditor.component.name},E=new h(F);else{if(this.graphEditor.componentTemplate)F.data={componentTemplateName:this.graphEditor.componentTemplate.name},
E=new h(F)}else if("applicationApprovalTask"===k.type)F.data={type:k.type,commentRequired:!1,commentPrompt:""},E=new f(F);else if("componentApprovalIterator"===k.type)F.data={type:k.type,children:[{type:"componentApprovalTask",role:k.role,roleRestrictionData:k.roleRestrictionData,commentRequired:!1,commentPrompt:""}]},E=new b(F);else if("environmentApprovalTask"===k.type)F.data={type:k.type,commentRequired:!1,commentPrompt:""},E=new r(F);else if("multiComponentEnvironmentIterator"===k.type)F.data=
{type:k.type,commentRequired:!1,commentPrompt:""};else if("eachAgentIterator"===k.type)F.data={type:k.type},E=new n(F);else if("resourceDiscovery"===k.type)F.data={name:k.name,type:k.type,commandType:k.commandType,actionType:k.actionType},E=new U(F);else if("patternStackExecution"===k.type)F.data={name:k.name,type:k.type},E=new R(F);else if("patternDeployment"===k.type)F.data={name:k.name,type:k.type},E=new Q(F);if(E)E.createCell(l,m),E.isContainer&&(this.addNewActivity({type:"start"},35,20,E.cell),
this.addNewActivity({type:"finish"},30,300,E.cell)),this.graphHasChanges?this.graphHasChanges():document.hasChanges=!0}})})},"dijit/layout/BorderContainer":function(){define("dijit/layout/BorderContainer","dojo/_base/array,dojo/cookie,dojo/_base/declare,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dojo/_base/event,dojo/keys,dojo/_base/lang,dojo/on,dojo/touch,../_WidgetBase,../_Widget,../_TemplatedMixin,./_LayoutWidget,./utils".split(","),function(l,m,k,j,f,e,d,c,b,a,h,q,o,n,
s,r,t){var w=k("dijit.layout._Splitter",[n,s],{live:!0,templateString:'<div class="dijitSplitter" data-dojo-attach-event="onkeypress:_onKeyPress,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse" tabIndex="0" role="separator"><div class="dijitSplitterThumb"></div></div>',constructor:function(){this._handlers=[]},postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+
"_"+this.region},buildRendering:function(){this.inherited(arguments);j.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));if(this.container.persist){var a=m(this._cookieName);a&&(this.child.domNode.style[this.horizontal?"height":"width"]=a)}},_computeMaxSize:function(){var a=this.horizontal?"h":"w",b=e.getMarginBox(this.child.domNode)[a],c=l.filter(this.container.getChildren(),function(a){return"center"==a.region})[0],a=e.getMarginBox(c.domNode)[a];return Math.min(this.child.maxSize,b+a)},
_startDrag:function(b){if(!this.cover)this.cover=f.place("<div class=dijitSplitterCover></div>",this.child.domNode,"after");j.add(this.cover,"dijitSplitterCoverActive");this.fake&&f.destroy(this.fake);if(!(this._resize=this.live))(this.fake=this.domNode.cloneNode(!0)).removeAttribute("id"),j.add(this.domNode,"dijitSplitterShadow"),f.place(this.fake,this.domNode,"after");j.add(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active");this.fake&&j.remove(this.fake,"dijitSplitterHover dijitSplitter"+
(this.horizontal?"H":"V")+"Hover");var d=this._factor,k=this.horizontal,l=k?"pageY":"pageX",m=b[l],n=this.domNode.style,o=e.getMarginBox(this.child.domNode)[k?"h":"w"],r=this._computeMaxSize(),s=this.child.minSize||20,k=this.region,t="top"==k||"bottom"==k?"top":"left",u=parseInt(n[t],10),w=this._resize,M=a.hitch(this.container,"_layoutChildren",this.child.id),k=this.ownerDocument;this._handlers=this._handlers.concat([h(k,q.move,this._drag=function(a,b){var c=a[l]-m,e=d*c+o,f=Math.max(Math.min(e,r),
s);(w||b)&&M(f);n[t]=c+u+d*(f-e)+"px"}),h(k,"dragstart",c.stop),h(this.ownerDocumentBody,"selectstart",c.stop),h(k,q.release,a.hitch(this,"_stopDrag"))]);c.stop(b)},_onMouse:function(a){a="mouseover"==a.type||"mouseenter"==a.type;j.toggle(this.domNode,"dijitSplitterHover",a);j.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",a)},_stopDrag:function(a){try{this.cover&&j.remove(this.cover,"dijitSplitterCoverActive"),this.fake&&f.destroy(this.fake),j.remove(this.domNode,"dijitSplitterActive dijitSplitter"+
(this.horizontal?"H":"V")+"Active dijitSplitterShadow"),this._drag(a),this._drag(a,!0)}finally{this._cleanupHandlers(),delete this._drag}this.container.persist&&m(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365})},_cleanupHandlers:function(){for(var a;a=this._handlers.pop();)a.remove()},_onKeyPress:function(a){this._resize=!0;var d=this.horizontal,f=1;switch(a.charOrCode){case d?b.UP_ARROW:b.LEFT_ARROW:f*=-1;case d?b.DOWN_ARROW:b.RIGHT_ARROW:break;default:return}d=
e.getMarginSize(this.child.domNode)[d?"h":"w"]+this._factor*f;this.container._layoutChildren(this.child.id,Math.max(Math.min(d,this._computeMaxSize()),this.child.minSize));c.stop(a)},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments)}}),u=k("dijit.layout._Gutter",[n,s],{templateString:'<div class="dijitGutter" role="presentation"></div>',postMixInProperties:function(){this.inherited(arguments);this.horizontal=
/top|bottom/.test(this.region)},buildRendering:function(){this.inherited(arguments);j.add(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"))}}),k=k("dijit.layout.BorderContainer",r,{design:"headline",gutters:!0,liveSplitters:!0,persist:!1,baseClass:"dijitBorderContainer",_splitterClass:w,postMixInProperties:function(){this.gutters||(this.baseClass+="NoGutter");this.inherited(arguments)},startup:function(){this._started||(l.forEach(this.getChildren(),this._setupChild,this),this.inherited(arguments))},
_setupChild:function(b){var c=b.region;if(c){this.inherited(arguments);j.add(b.domNode,this.baseClass+"Pane");var d=this.isLeftToRight();"leading"==c&&(c=d?"left":"right");"trailing"==c&&(c=d?"right":"left");if("center"!=c&&(b.splitter||this.gutters)&&!b._splitterWidget)d=b.splitter?this._splitterClass:u,a.isString(d)&&(d=a.getObject(d)),d=new d({id:b.id+"_splitter",container:this,child:b,region:c,live:this.liveSplitters}),d.isSplitter=!0,b._splitterWidget=d,f.place(d.domNode,b.domNode,"after"),d.startup();
b.region=c}},layout:function(){this._layoutChildren()},addChild:function(a,b){this.inherited(arguments);this._started&&this.layout()},removeChild:function(a){var b=a.region,c=a._splitterWidget;c&&(c.destroy(),delete a._splitterWidget);this.inherited(arguments);this._started&&this._layoutChildren();j.remove(a.domNode,this.baseClass+"Pane");d.set(a.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});d.set(a.domNode,"top"==b||"bottom"==b?"width":"height","auto")},getChildren:function(){return l.filter(this.inherited(arguments),
function(a){return!a.isSplitter})},getSplitter:function(a){return l.filter(this.getChildren(),function(b){return b.region==a})[0]._splitterWidget},resize:function(a,b){if(!this.cs||!this.pe){var c=this.domNode;this.cs=d.getComputedStyle(c);this.pe=e.getPadExtents(c,this.cs);this.pe.r=d.toPixelValue(c,this.cs.paddingRight);this.pe.b=d.toPixelValue(c,this.cs.paddingBottom);d.set(c,"padding","0px")}this.inherited(arguments)},_layoutChildren:function(a,b){if(this._borderBox&&this._borderBox.h){var c=
l.map(this.getChildren(),function(a,b){return{pane:a,weight:["center"==a.region?Infinity:0,a.layoutPriority,("sidebar"==this.design?1:-1)*(/top|bottom/.test(a.region)?1:-1),b]}},this);c.sort(function(a,b){for(var c=a.weight,d=b.weight,e=0;e<c.length;e++)if(c[e]!=d[e])return c[e]-d[e];return 0});var d=[];l.forEach(c,function(a){a=a.pane;d.push(a);a._splitterWidget&&d.push(a._splitterWidget)});t.layoutChildren(this.domNode,{l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h},
d,a,b)}},destroyRecursive:function(){l.forEach(this.getChildren(),function(a){var b=a._splitterWidget;b&&b.destroy();delete a._splitterWidget});this.inherited(arguments)}});k.ChildWidgetProperties={region:"",layoutPriority:0,splitter:!1,minSize:0,maxSize:Infinity};a.extend(o,k.ChildWidgetProperties);k._Splitter=w;k._Gutter=u;return k})},"dijit/form/DataList":function(){define("dijit/form/DataList","dojo/_base/declare,dojo/dom,dojo/_base/lang,dojo/query,dojo/store/Memory,../registry".split(","),function(l,
m,k,j,f,e){function d(c){return{id:c.value,value:c.value,name:k.trim(c.innerText||c.textContent||"")}}return l("dijit.form.DataList",f,{constructor:function(c,b){this.domNode=m.byId(b);k.mixin(this,c);this.id&&e.add(this);this.domNode.style.display="none";this.inherited(arguments,[{data:j("option",this.domNode).map(d)}])},destroy:function(){e.remove(this.id)},fetchSelectedItem:function(){var c=j("> option[selected]",this.domNode)[0]||j("> option",this.domNode)[0];return c&&d(c)}})})},"deploy/widgets/snapshotComparison/SnapshotPropertyComparison":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dijit/form/CheckBox,dojo/_base/declare,dojo/_base/xhr,dojo/dom-class,dojo/dom-construct,js/webext/widgets/table/TreeTable".split(","),
function(l,m,k,j,f,e,d,c){return j([m,l],{templateString:'<div class="snapshotConfiguration">    <div data-dojo-attach-point="checkboxAttach"></div><div data-dojo-attach-point="propertyComparison"></div></div>',postCreate:function(){var b=this;b.table=new c({url:bootstrap.restUrl+"deploy/snapshot/"+this.snapshot1.id+"/compareProperties/"+this.snapshot2.id+"/true",noDataMessage:i18n("No changes found."),serverSideProcessing:!1,tableConfigKey:"snapshotPropertyComparison",columns:[{name:i18n("Property Name"),
field:"name"},{name:this.snapshot1.name,formatter:function(a){var b="";if(a.value)b=a.value;return b}},{name:this.snapshot2.name,formatter:function(a){var b="";if(a.otherValue)b=a.otherValue;return b}}]});b.table.placeAt(b.propertyComparison);(new k({checked:!0,value:"true",onChange:function(a){b.table.url=a?bootstrap.restUrl+"deploy/snapshot/"+b.snapshot1.id+"/compareProperties/"+b.snapshot2.id+"/true":bootstrap.restUrl+"deploy/snapshot/"+b.snapshot1.id+"/compareProperties/"+b.snapshot2.id+"/false";
b.table.refresh()}})).placeAt(b.checkboxAttach);var a=document.createElement("div");e.add(a,"inlineBlock");a.style.position="relative";a.style.top="2px";a.style.left="2px";a.innerHTML=i18n("Only Show Differences");this.checkboxAttach.appendChild(a)}})})},"dojox/calendar/_VerticalScrollBarBase":function(){define("dojox/calendar/_VerticalScrollBarBase","dojo/_base/declare,dojo/_base/event,dojo/_base/lang,dojo/on,dojo/dom-style,dijit/_WidgetBase".split(","),function(l,m,k,j,f,e){return l("dojox.calendar._VerticalScrollBarBase",
e,{value:0,minimum:0,maximum:100,_scrollHandle:null,buildRendering:function(){this.inherited(arguments);this._scrollHandle=j(this.domNode,"scroll",k.hitch(this,function(){this.value=this._getDomScrollerValue();this.onChange(this.value);this.onScroll(this.value)}))},destroy:function(d){this._scrollHandle.remove();this.inherited(arguments)},_getDomScrollerValue:function(){return this.domNode.scrollTop},_setDomScrollerValue:function(d){this.domNode.scrollTop=d},_setValueAttr:function(d){d=Math.min(this.maximum,
d);d=Math.max(this.minimum,d);if(this.value!=d)this.value=d,this.onChange(d),this._setDomScrollerValue(d)},onChange:function(){},onScroll:function(){},_setMinimumAttr:function(d){this.minimum=d=Math.min(d,this.maximum)},_setMaximumAttr:function(d){this.maximum=d=Math.max(d,this.minimum);f.set(this.content,"height",d+"px")}})})},"dijit/_OnDijitClickMixin":function(){define("dijit/_OnDijitClickMixin","dojo/on,dojo/_base/array,dojo/keys,dojo/_base/declare,dojo/has,dojo/_base/unload,dojo/_base/window,./a11yclick".split(","),
function(l,m,k,j,f,e,d,c){l=j("dijit._OnDijitClickMixin",null,{connect:function(b,a,d){return this.inherited(arguments,[b,"ondijitclick"==a?c:a,d])}});l.a11yclick=c;return l})},"dijit/form/_ListBase":function(){define("dijit/form/_ListBase",["dojo/_base/declare","dojo/on","dojo/window"],function(l,m,k){return l("dijit.form._ListBase",null,{selected:null,_listConnect:function(j,f){var e=this;return e.own(m(e.containerNode,m.selector(function(d,c,b){return d.parentNode==b},j),function(d){d.preventDefault();
e[f](d,this)}))},selectFirstNode:function(){for(var j=this.containerNode.firstChild;j&&"none"==j.style.display;)j=j.nextSibling;this._setSelectedAttr(j)},selectLastNode:function(){for(var j=this.containerNode.lastChild;j&&"none"==j.style.display;)j=j.previousSibling;this._setSelectedAttr(j)},selectNextNode:function(){var j=this.selected;if(j){for(j=j.nextSibling;j&&"none"==j.style.display;)j=j.nextSibling;j?this._setSelectedAttr(j):this.selectFirstNode()}else this.selectFirstNode()},selectPreviousNode:function(){var j=
this.selected;if(j){for(j=j.previousSibling;j&&"none"==j.style.display;)j=j.previousSibling;j?this._setSelectedAttr(j):this.selectLastNode()}else this.selectLastNode()},_setSelectedAttr:function(j){if(this.selected!=j){var f=this.selected;if(f)this.onDeselect(f),this.selected=null;if(j)this.selected=j,k.scrollIntoView(j),this.onSelect(j)}else if(j)this.onSelect(j)}})})},"deploy/widgets/status/EditStatus":function(){define(["dijit/_TemplatedMixin","dijit/_Widget","dojo/_base/declare","js/webext/widgets/ColumnForm",
"js/webext/widgets/RestSelect"],function(l,m,k,j,f){return k("deploy.widgets.status.EditStatus",[m,l],{templateString:'<div class="editStatus">  <div data-dojo-attach-point="formAttach"></div></div>',postCreate:function(){this.inherited(arguments);var e=this;this.existingValues={};if(this.status)this.existingValues=this.status;this.form=new j({submitUrl:bootstrap.restUrl+"deploy/status",addData:function(c){if(e.status)c.existingId=e.status.id;c.type=e.type},postSubmit:function(){void 0!==e.callback&&
e.callback()},onCancel:function(){void 0!==e.callback&&e.callback()}});this.form.addField({name:"name",label:i18n("Name"),required:!0,readOnly:!!this.status,type:"Text",value:this.existingValues.name});this.form.addField({name:"description",label:i18n("Description"),type:"Text",value:this.existingValues.description});this.form.addField({name:"color",label:i18n("Color"),type:"ColorPicker",value:this.existingValues.color});this.form.addField({name:"unique",label:i18n("Unique"),type:"Checkbox",description:i18n("When this box is checked, this status can only be used once for any component. For inventory statuses, that means an application of this status will remove it for any other versions in the environment or resource inventory. For version/snapshot statuses, the status can only exist on one version/snapshot at the same time."),
value:this.existingValues.unique});if("version"===this.type||"snapshot"===this.type){var d=new f({restUrl:bootstrap.baseUrl+"security/role",value:this.existingValues?this.existingValues.roleId:null,noneValue:"No roles found"});this.form.addField({name:"roleId",label:i18n("Required Role"),description:i18n("A role which a user must belong to in the component to add this status to a version."),required:!1,widget:d})}this.form.placeAt(this.formAttach)}})})},"dojox/rpc/JsonRest":function(){define("dojox/rpc/JsonRest",
["dojo","dojox","dojox/json/ref","dojox/rpc/Rest"],function(l,m){function k(d,c,b,a){(c=c.ioArgs&&c.ioArgs.xhr&&c.ioArgs.xhr.getResponseHeader("Last-Modified"))&&f._timeStamps&&(f._timeStamps[a]=c);var h=d._schema&&d._schema.hrefProperty;if(h)m.json.ref.refAttribute=h;b=b&&m.json.ref.resolveJson(b,{defaultId:a,index:f._index,timeStamps:c&&f._timeStamps,time:c,idPrefix:d.servicePath.replace(/[^\/]*$/,""),idAttribute:e.getIdAttribute(d),schemas:e.schemas,loader:e._loader,idAsRef:d.idAsRef,assignAbsoluteIds:!0});
m.json.ref.refAttribute="$ref";return b}var j=[],f=m.rpc.Rest,e;e=m.rpc.JsonRest={serviceClass:m.rpc.Rest,conflictDateHeader:"If-Unmodified-Since",commit:function(d){for(var d=d||{},c=[],b={},a=[],h=0;h<j.length;h++){var k=j[h],m=k.object,n=k.old;if((!d.service||!m&&!n||!(m||n).__id.indexOf(d.service.servicePath))&&k.save){delete m.__isDirty;if(m)if(n){var s;if(s=m.__id.match(/(.*)#.*/))m=f._index[s[1]];if(!(m.__id in b)){b[m.__id]=m;if(d.incrementalUpdates&&!s)var r=("function"==typeof d.incrementalUpdates?
d.incrementalUpdates:function(){r={};for(var a in m)if(m.hasOwnProperty(a))m[a]!==n[a]&&(r[a]=m[a]);else if(n.hasOwnProperty(a))return null;return r})(m,n);r?c.push({method:"post",target:m,content:r}):c.push({method:"put",target:m,content:m})}}else s=e.getServiceAndId(m.__id).service,e.getIdAttribute(s)in m&&!d.alwaysPostNewItems?c.push({method:"put",target:m,content:m}):c.push({method:"post",target:{__id:s.servicePath},content:m});else n&&c.push({method:"delete",target:n});a.push(k);j.splice(h--,
1)}}l.connect(d,"onError",function(){if(!1!==d.revertOnError){var b=j;j=a;e.revert();j=b}else l.forEach(a,function(a){e.changing(a.object,!a.object)})});e.sendToServer(c,d);return c},sendToServer:function(d,c){var b=l.xhr,a=d.length,h,j,o,n=this.conflictDateHeader;l.xhr=function(a,c){c.headers=c.headers||{};c.headers.Transaction=d.length-1==h?"commit":"open";n&&o&&(c.headers[n]=o);j&&(c.headers["Content-ID"]="<"+j+">");return b.apply(l,arguments)};for(h=0;h<d.length;h++){var s=d[h];m.rpc.JsonRest._contentId=
s.content&&s.content.__id;var r="post"==s.method;(o="put"==s.method&&f._timeStamps[s.content.__id])&&(f._timeStamps[s.content.__id]=new Date+"");j=r&&m.rpc.JsonRest._contentId;var t=e.getServiceAndId(s.target.__id),r=t.service,t=s.deferred=r[s.method](t.id.replace(/#/,""),m.json.ref.toJson(s.content,!1,r.servicePath,!0));(function(b,e,h){e.addCallback(function(j){try{var l=e.ioArgs.xhr&&e.ioArgs.xhr.getResponseHeader("Location");if(l){var m=l.match(/(^\w+:\/\/)/)&&l.indexOf(h.servicePath),l=0<m?l.substring(m):
(h.servicePath+l).replace(/^(.*\/)?(\w+:\/\/)|[^\/\.]+\/\.\.\/|^.*\/(\/)/,"$2$3");b.__id=l;f._index[l]=b}j=k(h,e,j,b&&b.__id)}catch(n){}--a||c.onComplete&&c.onComplete.call(c.scope,d);return j})})(s.content,t,r);t.addErrback(function(b){a=-1;c.onError.call(c.scope,b)})}l.xhr=b},getDirtyObjects:function(){return j},revert:function(d){for(var c=j.length;0<c;){c--;var b=j[c],a=b.object,b=b.old,e=m.data._getStoreForItem(a||b);if(!d||!a&&!b||!(a||b).__id.indexOf(d.servicePath)){if(a&&b){for(var f in b)if(b.hasOwnProperty(f)&&
a[f]!==b[f]){if(e)e.onSet(a,f,a[f],b[f]);a[f]=b[f]}for(f in a)if(!b.hasOwnProperty(f)){if(e)e.onSet(a,f,a[f]);delete a[f]}}else if(b){if(e)e.onNew(b)}else if(e)e.onDelete(a);delete (a||b).__isDirty;j.splice(c,1)}}},changing:function(d,c){if(d.__id){d.__isDirty=!0;for(var b=0;b<j.length;b++){var a=j[b];if(d==a.object){if(c&&(a.object=!1,!this._saveNotNeeded))a.save=!0;return}}a=d instanceof Array?[]:{};for(b in d)d.hasOwnProperty(b)&&(a[b]=d[b]);j.push({object:!c&&d,old:a,save:!this._saveNotNeeded})}},
deleteObject:function(d){this.changing(d,!0)},getConstructor:function(d,c){if("string"==typeof d){var b=d,d=new m.rpc.Rest(d,!0);this.registerService(d,b,c)}if(d._constructor)return d._constructor;d._constructor=function(a){function b(a){if(a){b(a["extends"]);n=a.properties;for(var d in n){var e=n[d];e&&"object"==typeof e&&"default"in e&&(c[d]=e["default"])}}a&&a.prototype&&a.prototype.initialize&&(s=!0,a.prototype.initialize.apply(c,k))}var c=this,k=arguments,n,s;b(d._schema);!s&&a&&"object"==typeof a&&
l.mixin(c,a);var r=e.getIdAttribute(d);f._index[this.__id=this.__clientId=d.servicePath+(this[r]||Math.random().toString(16).substring(2,14)+"@"+(m.rpc.Client&&m.rpc.Client.clientId||"client"))]=this;m.json.schema&&n&&m.json.schema.mustBeValid(m.json.schema.validate(this,d._schema));j.push({object:this,save:!0})};return l.mixin(d._constructor,d._schema,{load:d})},fetch:function(d){d=e.getServiceAndId(d);return this.byId(d.service,d.id)},getIdAttribute:function(d){var d=d._schema,c;if(d&&!(c=d._idAttr))for(var b in d.properties)if(d.properties[b].identity||
"self"==d.properties[b].link)d._idAttr=c=b;return c||"id"},getServiceAndId:function(d){var c="",b;for(b in e.services)d.substring(0,b.length)==b&&b.length>=c.length&&(c=b);if(c)return{service:e.services[c],id:d.substring(c.length)};d=d.match(/^(.*\/)([^\/]*)$/);return{service:new e.serviceClass(d[1],!0),id:d[2]}},services:{},schemas:{},registerService:function(d,c,b){c=d.servicePath=c||d.servicePath;d._schema=e.schemas[c]=b||d._schema||{};e.services[c]=d},byId:function(d,c){var b,a=f._index[(d.servicePath||
"")+c];return a&&!a._loadObject?(b=new l.Deferred,b.callback(a),b):this.query(d,c)},query:function(d,c,b){var a=d(c,b);a.addCallback(function(e){return e.nodeType&&e.cloneNode?e:k(d,a,e,"string"!=typeof c||b&&(b.start||b.count)?void 0:c)});return a},_loader:function(d){var c=e.getServiceAndId(this.__id),b=this;e.query(c.service,c.id).addBoth(function(a){a==b?(delete a.$ref,delete a._loadObject):b._loadObject=function(b){b(a)};d(a)})},isDirty:function(d,c){return!d?c?l.some(j,function(b){return m.data._getStoreForItem(b.object||
b.old)==c}):!!j.length:d.__isDirty}};return m.rpc.JsonRest})},"deploy/widgets/vc/VCUtil":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/on","js/webext/widgets/GenericConfirm","js/webext/widgets/Alert"],function(l,m,k,j,f){return l([],{encodeVersionedPath:function(e){return e?encodeURIComponent(e.replace(/\//g,"&")).replace(/%2F/g,"/"):e},generateVersionControls:function(e,d){var c=m.create("div",{});if(1<e.version){var b=m.create("a",{href:"#"+d(e.version-1)},c);m.create("div",
{className:"arrow_backwards inlineBlock"},b)}else m.create("div",{className:"arrow_backwards_grey inlineBlock"},c);m.create("span",{innerHTML:"&nbsp;&nbsp;&nbsp;"},c);if(e.version<e.versionCount){b=m.create("a",{href:"#"+d(e.version+1)},c);m.create("span",{innerHTML:"&nbsp;&nbsp;"},c);var a=m.create("a",{href:"#"+d(e.versionCount)},c);m.create("div",{className:"arrow_forward inlineBlock"},b);m.create("div",{className:"arrow_fastForward inlineBlock"},a);if(!e.security||e.security["Edit Basic Settings"])b=
m.create("div",{style:{paddingTop:"5px"}},c),b=m.create("a",{"class":"linkPointer",innerHTML:i18n("Reset Latest to This Version")},b),k(b,"click",function(){new j({message:i18n("Are you sure you want to reset to version %s?",e.version),action:function(){dojo.xhrPut({url:bootstrap.restUrl+"vc/persistent/"+util.vc.encodeVersionedPath(e.path)+"."+e.version+"/setAsLatest",load:function(){navBar.setHash(d(e.versionCount+1),!1,!0)},error:function(a){new f({message:i18n("Error: %s",util.escape(a.responseText))})}})}})})}else m.create("div",
{className:"arrow_forward_grey inlineBlock"},c),m.create("span",{innerHTML:"&nbsp;&nbsp;"},c),m.create("div",{className:"arrow_fastForward_grey inlineBlock"},c);return c}})})},"deploy/widgets/settings/SettingsIndex":function(){define("dijit/_TemplatedMixin,dijit/_Widget,dojo/_base/xhr,dojo/_base/fx,dojo/_base/declare,dojo/dom-construct,dojo/dom-class,dojo/on,deploy/widgets/log/LiveLogViewer,deploy/widgets/settings/CleanupProgressBar,js/webext/widgets/Link".split(","),function(l,m,k,j,f,e,d,c,b,a,
h){return f("deploy.widgets.settings.SettingsIndex",[m,l],{templateString:'<div class="settings-index">  <div data-dojo-attach-point="settingsAttach"></div></div>',postCreate:function(){this.inherited(arguments);var a=this;(function(){var b=e.create("div",{className:"category inline-block"},a.settingsAttach),b=e.create("div",{className:"category-wrapper"},b),c=e.create("div",{className:"category-label"},b);e.create("div",{className:"inline-block",innerHTML:i18n("Automation")},c);b=e.create("div",
{className:"category-links"},b);b.appendChild(a.createLink("#automation/automationPlugins",i18n("Automation Plugins"),"automated-plugins"));b.appendChild(a.createLink("#automation/sourceConfigPlugins",i18n("Source Configuration Plugins"),"source-config-plugins"));b.appendChild(a.createLink("#automation/runningSourceConfigs",i18n("Running Version Imports"),"running-source-configs"));b.appendChild(a.createLink("#automation/locks",i18n("Locks"),"locks"));b.appendChild(a.createLink("#automation/blueprintdesignerIntegrations",
i18n("Blueprint Designer Integrations"),"blueprint-designer-integrations"));b.appendChild(a.createLink("#automation/postProcessingScripts",i18n("Post Processing Scripts"),"post-processing-scripts"));b.appendChild(a.createLink("#automation/statuses",i18n("Statuses"),"statuses"))})();config.data.permissions[security.system.manageSecurity]&&function(){e.create("div",{className:"category-divider inline-block"},a.settingsAttach);var b=e.create("div",{className:"category inline-block"},a.settingsAttach),
b=e.create("div",{className:"category-wrapper"},b),c=e.create("div",{className:"category-label"},b);e.create("div",{className:"inline-block",innerHTML:i18n("Security")},c);c=e.create("div",{className:"category-links"},b);c.appendChild(a.createLink("#security/keys",i18n("API Keys And Certificates"),"key-configuration"));c.appendChild(a.createLink("#security/authentication",i18n("Authentication (Users)"),"authentication"));c.appendChild(a.createLink("#security/authorization",i18n("Authorization (Groups)"),
"authorization"));c.appendChild(a.createLink("#security/teams",i18n("Teams"),"teams"));c.appendChild(a.createLink("#security/tokens",i18n("Tokens"),"tokens"));c.appendChild(a.createLink("#security/roles",i18n("Role Configuration"),"role-configuration"));c.appendChild(a.createLink("#security/types",i18n("Type Configuration"),"type-configuration"));b.appendChild(c);d.add(a.domNode,"all-settings")}();(function(){e.create("div",{className:"category-divider inline-block"},a.settingsAttach);var b=e.create("div",
{className:"category inline-block"},a.settingsAttach),b=e.create("div",{className:"category-wrapper"},b),d=e.create("div",{className:"category-label"},b);e.create("div",{className:"inline-block",innerHTML:i18n("System")},d);d=e.create("div",{className:"category-links"},b);d.appendChild(a.createLink("#system/logging",i18n("Logging"),"logging"));d.appendChild(a.createLink("#system/network",i18n("Network"),"network"));d.appendChild(a.createLink("#system/notification",i18n("Notification Schemes"),"notification-schemes"));
var f=e.create("div",{"class":"link-container"},d),j=new h({label:'<div class="settings-icon output-log-icon"></div><div class="inner-link-text">'+i18n("Output Log")+"</div>"});c(j,"click",function(){a.showLogViewer(bootstrap.restUrl+"logView/serverOut",i18n("Output Log"))});j.placeAt(f);util.createDownloadAnchor({href:bootstrap.restUrl+"logView/serverOut?fileDownload=true",className:"output-log-download-link"},f).innerHTML=i18n("(Download)");d.appendChild(a.createLink("#system/auditLog",i18n("Audit Log"),
"audit-log"));f=a.createLink("#diagnostics",i18n("Diagnostics"),"diagnostics");util.createDownloadAnchor({href:bootstrap.restUrl+"system/configuration/diagnosticsFile",className:"output-log-download-link",innerHTML:i18n("(Download)")},f);d.appendChild(f);d.appendChild(a.createLink("#system/patches",i18n("Patches"),"patches"));d.appendChild(a.createLink("#system/properties",i18n("Properties"),"properties"));d.appendChild(a.createLink("#system/artifactRepo",i18n("CodeStation"),"artifact-repo"));d.appendChild(a.createLink("#system/settings",
i18n("System Settings"),"system-settings-item"));b.appendChild(d)})();this.addProgressBar()},showLogViewer:function(a,c){(new b({url:a,title:c,autoRefresh:!1})).show()},createLink:function(a,b,c){var d=e.create("div",{className:"link-container"}),a=e.create("a",{href:a},d);c&&e.create("div",{className:"settings-icon "+c+"-icon"},a);e.create("div",{className:"inner-link-text",innerHTML:b},a);return d},addProgressBar:function(){this._cleanupProgressBar=new a({show:function(){j.animateProperty({node:this.progressBar,
properties:{bottom:0},duration:800}).play()},hide:function(){j.animateProperty({node:this.progressBar,properties:{bottom:-60},duration:800}).play()}});this._cleanupProgressBar.placeAt(this.settingsAttach);this._cleanupProgressBar.showProgress()}})})},"*now":function(l){l(['dojo/i18n!*preload*dojo/nls/dojo*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});
(function(){var l=this.require;l({cache:{}});!l.async&&l(["dojo"]);l.boot&&l.apply(null,l.boot)})();